/*! For license information please see main.466434ff.js.LICENSE.txt */
!function(){var e={9881:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},4384:function(e){var t=.1,n="function"===typeof Float32Array;function r(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function a(e){return 3*e}function s(e,t,n){return((r(t,n)*e+i(t,n))*e+a(t))*e}function o(e,t,n){return 3*r(t,n)*e*e+2*i(t,n)*e+a(t)}function l(e){return e}e.exports=function(e,r,i,a){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&i===a)return l;for(var u=n?new Float32Array(11):new Array(11),c=0;c<11;++c)u[c]=s(c*t,e,i);function h(n){for(var r=0,a=1;10!==a&&u[a]<=n;++a)r+=t;--a;var l=r+(n-u[a])/(u[a+1]-u[a])*t,c=o(l,e,i);return c>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var a=o(t,n,r);if(0===a)return t;t-=(s(t,n,r)-e)/a}return t}(n,l,e,i):0===c?l:function(e,t,n,r,i){var a,o,l=0;do{(a=s(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++l<10);return o}(n,r,r+t,e,i)}return function(e){return 0===e?0:1===e?1:s(h(e),r,a)}}},6123:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},658:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",a="minute",s="hour",o="day",l="week",u="month",c="quarter",h="year",f="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,u),a=n-i<0,s=t.clone().add(r+(a?-1:1),u);return+(-(r+(n-i)/(a?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:h,w:l,d:o,D:f,h:s,m:a,s:i,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",_={};_[b]=m;var x=function(e){return e instanceof T},w=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();_[a]&&(i=a),n&&(_[a]=n,i=a);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var o=t.name;_[o]=t,i=o}return!r&&i&&(b=i),i||!r&&b},k=function(e,t){if(x(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},M=y;M.l=w,M.i=x,M.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function m(e){this.$L=w(e.locale,null,!0),this.parse(e)}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(M.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return M},g.isValid=function(){return!(this.$d.toString()===d)},g.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return k(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<k(e)},g.$g=function(e,t,n){return M.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!M.u(t)||t,c=M.p(e),d=function(e,t){var i=M.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(o)},p=function(e,t){return M.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case h:return r?d(1,0):d(31,11);case u:return r?d(1,m):d(0,m+1);case l:var b=this.$locale().weekStart||0,_=(v<b?v+7:v)-b;return d(r?g-_:g+(6-_),m);case o:case f:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case a:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,l=M.p(e),c="set"+(this.$u?"UTC":""),d=(n={},n[o]=c+"Date",n[f]=c+"Date",n[u]=c+"Month",n[h]=c+"FullYear",n[s]=c+"Hours",n[a]=c+"Minutes",n[i]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],p=l===o?this.$D+(t-this.$W):t;if(l===u||l===h){var v=this.clone().set(f,1);v.$d[d](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[M.p(e)]()},g.add=function(r,c){var f,d=this;r=Number(r);var p=M.p(c),v=function(e){var t=k(d);return M.w(t.date(t.date()+Math.round(e*r)),d)};if(p===u)return this.set(u,this.$M+r);if(p===h)return this.set(h,this.$y+r);if(p===o)return v(1);if(p===l)return v(7);var m=(f={},f[a]=t,f[s]=n,f[i]=e,f)[p]||1,g=this.$d.getTime()+r*m;return M.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=M.z(this),a=this.$H,s=this.$m,o=this.$M,l=n.weekdays,u=n.months,c=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},h=function(e){return M.s(a%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:M.s(o+1,2,"0"),MMM:c(n.monthsShort,o,u,3),MMMM:c(u,o),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,l,2),ddd:c(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:M.s(a,2,"0"),h:h(1),hh:h(2),a:f(a,s,!0),A:f(a,s,!1),m:String(s),mm:M.s(s,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(e,t){return t||p[e]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,f,d){var p,v=M.p(f),m=k(r),g=(m.utcOffset()-this.utcOffset())*t,y=this-m,b=M.m(this,m);return b=(p={},p[h]=b/12,p[u]=b,p[c]=b/3,p[l]=(y-g)/6048e5,p[o]=(y-g)/864e5,p[s]=y/n,p[a]=y/t,p[i]=y/e,p)[v]||y,d?b:M.a(b)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return _[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return M.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),S=T.prototype;return k.prototype=S,[["$ms",r],["$s",i],["$m",a],["$H",s],["$W",o],["$M",u],["$y",h],["$D",f]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,T,k),e.$i=!0),k},k.locale=w,k.isDayjs=x,k.unix=function(e){return k(1e3*e)},k.en=_[b],k.Ls=_,k.p={},k}()},8041:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,a,s,u;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"===typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=a[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var u=l.length,c=p(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,s;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9165:function(e,t,n){"use strict";var r=n(4704).default;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,a,s;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(a=i;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;var o,l=r(t.entries());try{for(l.s();!(o=l.n()).done;)if(a=o.value,!n.has(a[0]))return!1}catch(p){l.e(p)}finally{l.f()}var u,c=r(t.entries());try{for(c.s();!(u=c.n()).done;)if(!e((a=u.value)[1],n.get(a[0])))return!1}catch(p){c.e(p)}finally{c.f()}return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;var h,f=r(t.entries());try{for(f.s();!(h=f.n()).done;)if(a=h.value,!n.has(a[0]))return!1}catch(p){f.e(p)}finally{f.f()}return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((i=t.length)!=n.length)return!1;for(a=i;0!==a--;)if(t[a]!==n[a])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=i;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,s[a]))return!1;for(a=i;0!==a--;){var d=s[a];if(!e(t[d],n[d]))return!1}return!0}return t!==t&&n!==n}},9434:function(e,t,n){"use strict";var r=n(4704).default;function i(e){if(this.words=[],null!=(a=e)&&void 0!==a[Symbol.iterator]){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.add(i)}}catch(s){n.e(s)}finally{n.f()}}var a}i.prototype.add=function(e){this.resize(e),this.words[e>>>5]|=1<<e},i.prototype.flip=function(e){this.resize(e),this.words[e>>>5]^=1<<e},i.prototype.clear=function(){this.words=[]},i.prototype.remove=function(e){this.resize(e),this.words[e>>>5]&=~(1<<e)},i.prototype.isEmpty=function(e){for(var t=this.words.length,n=0;n<t;n++)if(0!==this.words[n])return!1;return!0},i.prototype.has=function(e){return 0!==(this.words[e>>>5]&1<<e)},i.prototype.checkedAdd=function(e){this.resize(e);var t=this.words[e>>>5],n=t|1<<e;return this.words[e>>>5]=n,(n^t)>>>e},i.prototype.trim=function(e){for(var t=this.words.length;t>0&&0===this.words[t-1];)t--;this.words=this.words.slice(0,t)},i.prototype.resize=function(e){for(var t=e+32>>>5,n=this.words.length;n<t;n++)this.words[n]=0},i.prototype.hammingWeight=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},i.prototype.hammingWeight4=function(e,t,n,r){return 16843009*((e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(n=(n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135))>>>24},i.prototype.size=function(){for(var e=0,t=this.words.length,n=this.words,r=0;r<t;r++)e+=this.hammingWeight(n[r]);return e},i.prototype.array=function(){for(var e=new Array(this.size()),t=0,n=this.words.length,r=0;r<n;++r)for(var i=this.words[r];0!=i;){var a=i&-i;e[t++]=(r<<5)+this.hammingWeight(a-1|0),i^=a}return e},i.prototype.forEach=function(e){for(var t=this.words.length,n=0;n<t;++n)for(var r=this.words[n];0!=r;){var i=r&-r;e((n<<5)+this.hammingWeight(i-1|0)),r^=i}},i.prototype.clone=function(){var e=Object.create(i.prototype);return e.words=this.words.slice(),e},i.prototype.intersects=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n<t;++n)if(0!==(this.words[n]&e.words[n]))return!0;return!1},i.prototype.intersection=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n+7<t;n+=8)this.words[n]&=e.words[n],this.words[n+1]&=e.words[n+1],this.words[n+2]&=e.words[n+2],this.words[n+3]&=e.words[n+3],this.words[n+4]&=e.words[n+4],this.words[n+5]&=e.words[n+5],this.words[n+6]&=e.words[n+6],this.words[n+7]&=e.words[n+7];for(;n<t;++n)this.words[n]&=e.words[n];var r=this.words.length;for(n=t;n<r;++n)this.words[n]=0;return this},i.prototype.intersection_size=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0,r=0;r<t;++r)n+=this.hammingWeight(this.words[r]&e.words[r]);return n},i.prototype.new_intersection=function(e){var t=Object.create(i.prototype),n=Math.min(this.words.length,e.words.length);t.words=new Array(n);for(var r=n,a=0;a+7<r;a+=8)t.words[a]=this.words[a]&e.words[a],t.words[a+1]=this.words[a+1]&e.words[a+1],t.words[a+2]=this.words[a+2]&e.words[a+2],t.words[a+3]=this.words[a+3]&e.words[a+3],t.words[a+4]=this.words[a+4]&e.words[a+4],t.words[a+5]=this.words[a+5]&e.words[a+5],t.words[a+6]=this.words[a+6]&e.words[a+6],t.words[a+7]=this.words[a+7]&e.words[a+7];for(;a<r;++a)t.words[a]=this.words[a]&e.words[a];return t},i.prototype.equals=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n<t;++n)if(this.words[n]!=e.words[n])return!1;if(this.words.length<e.words.length){var r=e.words.length;for(n=this.words.length;n<r;++n)if(0!=e.words[n])return!1}else if(e.words.length<this.words.length)for(r=this.words.length,n=e.words.length;n<r;++n)if(0!=this.words[n])return!1;return!0},i.prototype.difference=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n+7<t;n+=8)this.words[n]&=~e.words[n],this.words[n+1]&=~e.words[n+1],this.words[n+2]&=~e.words[n+2],this.words[n+3]&=~e.words[n+3],this.words[n+4]&=~e.words[n+4],this.words[n+5]&=~e.words[n+5],this.words[n+6]&=~e.words[n+6],this.words[n+7]&=~e.words[n+7];for(;n<t;++n)this.words[n]&=~e.words[n];return this},i.prototype.difference_size=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0,r=0;r<t;++r)n+=this.hammingWeight(this.words[r]&~e.words[r]);for(var i=this.words.length;r<i;++r)n+=this.hammingWeight(this.words[r]);return n},i.prototype.toString=function(){return"{"+this.array().join(",")+"}"},i.prototype.union=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n+7<t;n+=8)this.words[n]|=e.words[n],this.words[n+1]|=e.words[n+1],this.words[n+2]|=e.words[n+2],this.words[n+3]|=e.words[n+3],this.words[n+4]|=e.words[n+4],this.words[n+5]|=e.words[n+5],this.words[n+6]|=e.words[n+6],this.words[n+7]|=e.words[n+7];for(;n<t;++n)this.words[n]|=e.words[n];if(this.words.length<e.words.length){this.resize((e.words.length<<5)-1);var r=e.words.length;for(n=t;n<r;++n)this.words[n]=e.words[n]}return this},i.prototype.new_union=function(e){var t=Object.create(i.prototype),n=Math.max(this.words.length,e.words.length);t.words=new Array(n);for(var r=Math.min(this.words.length,e.words.length),a=0;a+7<r;a+=8)t.words[a]=this.words[a]|e.words[a],t.words[a+1]=this.words[a+1]|e.words[a+1],t.words[a+2]=this.words[a+2]|e.words[a+2],t.words[a+3]=this.words[a+3]|e.words[a+3],t.words[a+4]=this.words[a+4]|e.words[a+4],t.words[a+5]=this.words[a+5]|e.words[a+5],t.words[a+6]=this.words[a+6]|e.words[a+6],t.words[a+7]=this.words[a+7]|e.words[a+7];for(;a<r;++a)t.words[a]=this.words[a]|e.words[a];var s=this.words.length;for(a=r;a<s;++a)t.words[a]=this.words[a];var o=e.words.length;for(a=r;a<o;++a)t.words[a]=e.words[a];return t},i.prototype.new_difference=function(e){return this.clone().difference(e)},i.prototype.union_size=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0,r=0;r<t;++r)n+=this.hammingWeight(this.words[r]|e.words[r]);if(this.words.length<e.words.length){var i=e.words.length;for(r=this.words.length;r<i;++r)n+=this.hammingWeight(0|e.words[r])}else for(i=this.words.length,r=e.words.length;r<i;++r)n+=this.hammingWeight(0|this.words[r]);return n},e.exports=i},1281:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Archetype=void 0;var s=a(n(9434)),o=r((function e(t){i(this,e),this.componentBits=new s.default,this.componentBitsInitialized=!1,this.componentTypes=t}));t.Archetype=o},3713:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var a=r((function e(){i(this,e)}));t.Component=a},9179:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentMapper=void 0;var a=function(){function e(){r(this,e),this.data=[]}return i(e,[{key:"add",value:function(e,t){this.data[e]=t}},{key:"get",value:function(e){return this.data[e]}},{key:"remove",value:function(e){delete this.data[e]}}]),e}();t.ComponentMapper=a},1218:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default,s=n(1588).default,o=n(3808).default,l=n(1655).default,u=n(6389).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EntityIteratingSystem=void 0;var h=n(4905),f=c(n(9434)),d=function(e){l(n,e);var t=u(n);function n(e){var r;return i(this,n),(r=t.call(this)).componentBits=new f.default,r.types=e,r}return a(n,[{key:"setWorld",value:function(e){s(o(n.prototype),"setWorld",this).call(this,e);var t,i=r(this.types);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.componentBits.add(e.getComponentIndex(a))}}catch(l){i.e(l)}finally{i.f()}}},{key:"process",value:function(){this.begin(),this.world.getEntities(this.componentBits,this.processEntity.bind(this)),this.end()}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),n}(h.System);t.EntityIteratingSystem=d},2645:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EntitySystem=void 0;var o=function(e){a(n,e);var t=s(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).entities=[],e}return i(n,[{key:"process",value:function(){this.entities.length=0,this.begin(),this.world.getEntities(this.componentBits,this.processEntity.bind(this)),this.processEntities(this.entities),this.end()}},{key:"processEntity",value:function(e){this.entities.push(e)}}]),n}(n(1218).EntityIteratingSystem);t.EntitySystem=o},6310:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Inject=void 0,t.Inject=function(e){return function(t,n){var r=t.constructor;r.hasOwnProperty("__inject__")||(r.__inject__={}),r.__inject__[n]=e}}},1185:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InjectMapper=void 0,t.InjectMapper=function(e){return function(t,n){var r=t.constructor;r.hasOwnProperty("__injectMapper__")||(r.__injectMapper__={}),r.__injectMapper__[n]=e}}},4905:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.System=void 0;var a=function(){function e(){r(this,e)}return i(e,[{key:"setWorld",value:function(e){this.world=e}},{key:"initialized",value:function(){}},{key:"dispose",value:function(){}}]),e}();t.System=a},8293:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(9434)),l=n(9179),u=function(){function e(){i(this,e),this.index=0,this.mappers={},this.componentBitsMap=[],this.componentIndices=new Map,this.currentComponentIndex=0,this.activeSystems=[],this.passiveSystems=[],this.injectionRegistry={},this.delta=0}return a(e,[{key:"getNewId",value:function(){return this.index++}},{key:"createEntity",value:function(){return this.getNewId()}},{key:"getComponentBits",value:function(e){return this.componentBitsMap[e]||(this.componentBitsMap[e]=new o.default),this.componentBitsMap[e]}},{key:"getMapper",value:function(e){var t=this.getComponentIndex(e);return this.getMapperByIndex(t)}},{key:"getMapperByIndex",value:function(e){return this.mappers[e]||(this.mappers[e]=new l.ComponentMapper),this.mappers[e]}},{key:"getComponentIndex",value:function(e){var t=this.componentIndices.get(e);return void 0===t&&(t=this.currentComponentIndex++,this.componentIndices.set(e,t)),t}},{key:"createEntityByArchetype",value:function(e){var t=this,n=this.getNewId();return e.componentTypes.forEach((function(r){var i=new r;e.componentBitsInitialized||e.componentBits.add(t.getComponentIndex(r)),t.addComponent(n,i,!1)})),this.componentBitsMap[n]=e.componentBits,n}},{key:"addComponent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getComponentIndex(t.constructor),i=this.getMapperByIndex(r);return i.add(e,t),n&&this.getComponentBits(e).add(r),t}},{key:"getComponent",value:function(e,t){return this.getMapper(t).get(e)}},{key:"getEntities",value:function(e,t){for(var n=0;n<this.componentBitsMap.length;n++)if(this.componentBitsMap[n]){var r=this.componentBitsMap[n];e.union_size(r)===r.size()&&t(n)}}},{key:"addSystem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?this.activeSystems.push(e):this.passiveSystems.push(e),e.setWorld(this),this.injectMapper(e),this.inject(e),e.initialized()}},{key:"injectMapper",value:function(e){var t=e.constructor.__injectMapper__||{};for(var n in t){var r=t[n];e[n]=this.getMapper(r)}}},{key:"register",value:function(e,t){this.injectionRegistry[e]=t}},{key:"inject",value:function(e){var t=e.constructor.__inject__||{};for(var n in t){var r=t[n];e[n]=this.injectionRegistry[r]}}},{key:"dispose",value:function(){var e,t=r(this.activeSystems);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(a){t.e(a)}finally{t.f()}var n,i=r(this.passiveSystems);try{for(i.s();!(n=i.n()).done;){n.value.dispose()}}catch(a){i.e(a)}finally{i.f()}}},{key:"setDelta",value:function(e){this.delta=e}},{key:"processActiveSystem",value:function(){var e,t=r(this.activeSystems);try{for(t.s();!(e=t.n()).done;){e.value.process()}}catch(n){t.e(n)}finally{t.f()}}},{key:"processPassiveSystem",value:function(){var e,t=r(this.passiveSystems);try{for(t.s();!(e=t.n()).done;){e.value.process()}}catch(n){t.e(n)}finally{t.f()}}},{key:"deleteEntity",value:function(e){for(var t in this.mappers)this.mappers[t].remove(e);delete this.componentBitsMap[e]}},{key:"isEntityActive",value:function(e){return!!this.componentBitsMap[e]}}]),e}();t.default=u},9997:function(e,t,n){"use strict";var r=n(8293);Object.defineProperty(t,"q3",{enumerable:!0,get:function(){return r.default}});var i=n(1281);var a=n(3713);var s=n(9179);var o=n(1218);var l=n(2645);var u=n(4905);Object.defineProperty(t,"xP",{enumerable:!0,get:function(){return u.System}});var c=n(1185);var h=n(6310);Object.defineProperty(t,"tB",{enumerable:!0,get:function(){return h.Inject}})},951:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonRenderer=void 0;var a=n(6914),s=n(2955),o=n(6160),l=r((function e(t,n,r){i(this,e),this.vertices=t,this.numVertices=n,this.numFloats=r})),u=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i(this,e),this.premultipliedAlpha=!1,this.tempColor=new a.Color,this.tempColor2=new a.Color,this.vertexSize=8,this.twoColorTint=!1,this.renderable=new l([],0,0),this.clipper=new a.SkeletonClipping,this.temp=new s.Vector2,this.temp2=new s.Vector2,this.temp3=new a.Color,this.temp4=new a.Color,this.twoColorTint=n,n&&(this.vertexSize+=4),this.vertices=a.Utils.newFloatArray(1024*this.vertexSize)}return r(e,[{key:"draw",value:function(t,n){var r,i,s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,c=this.clipper,h=this.premultipliedAlpha,f=this.twoColorTint,d=null,p=this.renderable,v=n.drawOrder,m=n.color,g=f?12:8,y=!1;-1===l&&(y=!0);for(var b=0,_=v.length;b<_;b++){var x=c.isClipping()?2:g,w=v[b];if(w.bone.active)if(l>=0&&l===w.data.index&&(y=!0),y){u>=0&&u===w.data.index&&(y=!1);var k=w.getAttachment(),M=void 0;if(k instanceof a.RegionAttachment){var T=k;p.vertices=this.vertices,p.numVertices=4,p.numFloats=x<<2,T.computeWorldVertices(w,p.vertices,0,x),i=e.QUAD_TRIANGLES,r=T.uvs,M=T.region.renderObject.page.texture,s=T.color}else{if(!(k instanceof a.MeshAttachment)){if(k instanceof a.ClippingAttachment){var S=k;c.clipStart(w,S);continue}c.clipEndWithSlot(w);continue}var A=k;p.vertices=this.vertices,p.numVertices=A.worldVerticesLength>>1,p.numFloats=p.numVertices*x,p.numFloats>p.vertices.length&&(p.vertices=this.vertices=a.Utils.newFloatArray(p.numFloats)),A.computeWorldVertices(w,0,A.worldVerticesLength,p.vertices,0,x),i=A.triangles,M=A.region.renderObject.page.texture,r=A.uvs,s=A.color}if(M){var E=w.color,L=this.tempColor;L.r=m.r*E.r*s.r,L.g=m.g*E.g*s.g,L.b=m.b*E.b*s.b,L.a=m.a*E.a*s.a,h&&(L.r*=L.a,L.g*=L.a,L.b*=L.a);var C=this.tempColor2;w.darkColor?(h?(C.r=w.darkColor.r*L.a,C.g=w.darkColor.g*L.a,C.b=w.darkColor.b*L.a):C.setFromColor(w.darkColor),C.a=h?1:0):C.set(0,0,0,1);var O=w.data.blendMode;if(O!==d&&(d=O,t.setBlendMode(o.WebGLBlendModeConverter.getSourceColorGLBlendMode(d,h),o.WebGLBlendModeConverter.getSourceAlphaGLBlendMode(d),o.WebGLBlendModeConverter.getDestGLBlendMode(d))),c.isClipping()){c.clipTriangles(p.vertices,p.numFloats,i,i.length,r,L,C,f);var P=new Float32Array(c.clippedVertices),I=c.clippedTriangles;t.drawVertices(M,P,I)}else{var N=p.vertices;if(f)for(var R=2,F=0,B=p.numFloats;R<B;R+=g,F+=2)N[R]=L.r,N[R+1]=L.g,N[R+2]=L.b,N[R+3]=L.a,N[R+4]=r[F],N[R+5]=r[F+1],N[R+6]=C.r,N[R+7]=C.g,N[R+8]=C.b,N[R+9]=C.a;else for(var D=2,j=0,U=p.numFloats;D<U;D+=g,j+=2)N[D]=L.r,N[D+1]=L.g,N[D+2]=L.b,N[D+3]=L.a,N[D+4]=r[j],N[D+5]=r[j+1];var V=p.vertices.subarray(0,p.numFloats);t.drawVertices(M,V,i)}}c.clipEndWithSlot(w)}else c.clipEndWithSlot(w);else c.clipEndWithSlot(w)}c.clipEnd()}}]),e}();t.SkeletonRenderer=u,u.QUAD_TRIANGLES=[0,1,2,2,3,0]},2246:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpineAssetManager=void 0;var o=n(6914),l=n(2955),u=function(e){a(n,e);var t=s(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o.Downloader;return i(this,n),t.call(this,(function(t){return new l.Texture(e,t)}),r,a)}return r(n)}(o.AssetManagerBase);t.SpineAssetManager=u},6160:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBlendModeConverter=void 0;var a=n(6914),s=770,o=771,l=function(){function e(){r(this,e)}return i(e,null,[{key:"getDestGLBlendMode",value:function(e){switch(e){case a.BlendMode.Normal:return o;case a.BlendMode.Additive:return 1;case a.BlendMode.Multiply:case a.BlendMode.Screen:return o;default:throw new Error("Unknown blend mode: "+e)}}},{key:"getSourceColorGLBlendMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case a.BlendMode.Normal:case a.BlendMode.Additive:return t?1:s;case a.BlendMode.Multiply:return 774;case a.BlendMode.Screen:return 1;default:throw new Error("Unknown blend mode: "+e)}}},{key:"getSourceAlphaGLBlendMode",value:function(e){switch(e){case a.BlendMode.Normal:case a.BlendMode.Additive:return 1;case a.BlendMode.Multiply:return o;case a.BlendMode.Screen:return 769;default:throw new Error("Unknown blend mode: "+e)}}}]),e}();t.WebGLBlendModeConverter=l},2474:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(951),t),i(n(6914),t),i(n(2246),t),i(n(6160),t)},9889:function(e,t,n){"use strict";var r=n(1655).default,i=n(6389).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceTimeline=t.PathConstraintMixTimeline=t.PathConstraintSpacingTimeline=t.PathConstraintPositionTimeline=t.TransformConstraintTimeline=t.IkConstraintTimeline=t.DrawOrderTimeline=t.EventTimeline=t.DeformTimeline=t.AttachmentTimeline=t.RGB2Timeline=t.RGBA2Timeline=t.AlphaTimeline=t.RGBTimeline=t.RGBATimeline=t.ShearYTimeline=t.ShearXTimeline=t.ShearTimeline=t.ScaleYTimeline=t.ScaleXTimeline=t.ScaleTimeline=t.TranslateYTimeline=t.TranslateXTimeline=t.TranslateTimeline=t.RotateTimeline=t.CurveTimeline2=t.CurveTimeline1=t.CurveTimeline=t.Timeline=t.MixDirection=t.MixBlend=t.Animation=void 0;var o,l,u=n(353),c=n(4153),h=n(6436),f=function(){function e(t,n,r){if(a(this,e),this.timelines=[],this.timelineIds=new c.StringSet,!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(n),this.duration=r}return s(e,[{key:"setTimelines",value:function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var t=0;t<e.length;t++)this.timelineIds.addAll(e[t].getPropertyIds())}},{key:"hasTimeline",value:function(e){for(var t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1}},{key:"apply",value:function(e,t,n,r,i,a,s,o){if(!e)throw new Error("skeleton cannot be null.");r&&0!==this.duration&&(n%=this.duration,t>0&&(t%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(e,t,n,i,a,s,o)}}]),e}();t.Animation=f,function(e){e[e.setup=0]="setup",e[e.first=1]="first",e[e.replace=2]="replace",e[e.add=3]="add"}(o=t.MixBlend||(t.MixBlend={})),function(e){e[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut"}(l=t.MixDirection||(t.MixDirection={}));var d=0,p=1,v=2,m=3,g=4,y=5,b=6,_=7,x=8,w=9,k=10,M=11,T=12,S=13,A=14,E=15,L=16,C=17,O=18,P=19,I=function(){function e(t,n){a(this,e),this.propertyIds=n,this.frames=c.Utils.newFloatArray(t*this.getFrameEntries())}return s(e,[{key:"getPropertyIds",value:function(){return this.propertyIds}},{key:"getFrameEntries",value:function(){return 1}},{key:"getFrameCount",value:function(){return this.frames.length/this.getFrameEntries()}},{key:"getDuration",value:function(){return this.frames[this.frames.length-this.getFrameEntries()]}}],[{key:"search1",value:function(e,t){for(var n=e.length,r=1;r<n;r++)if(e[r]>t)return r-1;return n-1}},{key:"search",value:function(e,t,n){for(var r=e.length,i=n;i<r;i+=n)if(e[i]>t)return i-n;return r-n}}]),e}();t.Timeline=I;var N=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,i)).curves=c.Utils.newFloatArray(e+18*r),s.curves[e-1]=1,s}return s(n,[{key:"setLinear",value:function(e){this.curves[e]=0}},{key:"setStepped",value:function(e){this.curves[e]=1}},{key:"shrink",value:function(e){var t=this.getFrameCount()+18*e;if(this.curves.length>t){var n=c.Utils.newFloatArray(t);c.Utils.arrayCopy(this.curves,0,n,0,t),this.curves=n}}},{key:"setBezier",value:function(e,t,n,r,i,a,s,o,l,u,c){var h=this.curves,f=this.getFrameCount()+18*e;0===n&&(h[t]=2+f);for(var d=.03*(r-2*a+o),p=.03*(i-2*s+l),v=.006*(3*(a-o)-r+u),m=.006*(3*(s-l)-i+c),g=2*d+v,y=2*p+m,b=.3*(a-r)+d+.16666667*v,_=.3*(s-i)+p+.16666667*m,x=r+b,w=i+_,k=f+18;f<k;f+=2)h[f]=x,h[f+1]=w,b+=g,_+=y,g+=v,y+=m,x+=b,w+=_}},{key:"getBezierValue",value:function(e,t,n,r){var i=this.curves;if(i[r]>e){var a=this.frames[t],s=this.frames[t+n];return s+(e-a)/(i[r]-a)*(i[r+1]-s)}var o=r+18;for(r+=2;r<o;r+=2)if(i[r]>=e){var l=i[r-2],u=i[r-1];return u+(e-l)/(i[r]-l)*(i[r+1]-u)}t+=this.getFrameEntries();var c=i[o-2],h=i[o-1];return h+(e-c)/(this.frames[t]-c)*(this.frames[t+n]-h)}}]),n}(I);t.CurveTimeline=N;var R=function(e){r(n,e);var t=i(n);function n(e,r,i){return a(this,n),t.call(this,e,r,[i])}return s(n,[{key:"getFrameEntries",value:function(){return 2}},{key:"setFrame",value:function(e,t,n){e<<=1,this.frames[e]=t,this.frames[e+1]=n}},{key:"getCurveValue",value:function(e){for(var t=this.frames,n=t.length-2,r=2;r<=n;r+=2)if(t[r]>e){n=r-2;break}var i=this.curves[n>>1];switch(i){case 0:var a=t[n],s=t[n+1];return s+(e-a)/(t[n+2]-a)*(t[n+2+1]-s);case 1:return t[n+1]}return this.getBezierValue(e,n,1,i-2)}}]),n}(N);t.CurveTimeline1=R;var F=function(e){r(n,e);var t=i(n);function n(e,r,i,s){return a(this,n),t.call(this,e,r,[i,s])}return s(n,[{key:"getFrameEntries",value:function(){return 3}},{key:"setFrame",value:function(e,t,n,r){e*=3,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r}}]),n}(N);t.CurveTimeline2=F;var B=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,d+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.rotation=l.data.rotation);case o.first:l.rotation+=(l.data.rotation-l.rotation)*i}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.rotation=l.data.rotation+u*i;break;case o.first:case o.replace:u+=l.data.rotation-l.rotation;case o.add:l.rotation+=u*i}}}}]),n}(R);t.RotateTimeline=B;var D=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,p+"|"+i,v+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(n<u[0])switch(a){case o.setup:return l.x=l.data.x,void(l.y=l.data.y);case o.first:l.x+=(l.data.x-l.x)*i,l.y+=(l.data.y-l.y)*i}else{var c=0,h=0,f=I.search(u,n,3),d=this.curves[f/3];switch(d){case 0:var p=u[f];c=u[f+1],h=u[f+2];var v=(n-p)/(u[f+3]-p);c+=(u[f+3+1]-c)*v,h+=(u[f+3+2]-h)*v;break;case 1:c=u[f+1],h=u[f+2];break;default:c=this.getBezierValue(n,f,1,d-2),h=this.getBezierValue(n,f,2,d+18-2)}switch(a){case o.setup:l.x=l.data.x+c*i,l.y=l.data.y+h*i;break;case o.first:case o.replace:l.x+=(l.data.x+c-l.x)*i,l.y+=(l.data.y+h-l.y)*i;break;case o.add:l.x+=c*i,l.y+=h*i}}}}}]),n}(F);t.TranslateTimeline=D;var j=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,p+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.x=l.data.x);case o.first:l.x+=(l.data.x-l.x)*i}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.x=l.data.x+u*i;break;case o.first:case o.replace:l.x+=(l.data.x+u-l.x)*i;break;case o.add:l.x+=u*i}}}}]),n}(R);t.TranslateXTimeline=j;var U=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,v+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.y=l.data.y);case o.first:l.y+=(l.data.y-l.y)*i}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.y=l.data.y+u*i;break;case o.first:case o.replace:l.y+=(l.data.y+u-l.y)*i;break;case o.add:l.y+=u*i}}}}]),n}(R);t.TranslateYTimeline=U;var V=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,m+"|"+i,g+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var u=e.bones[this.boneIndex];if(u.active){var h=this.frames;if(n<h[0])switch(a){case o.setup:return u.scaleX=u.data.scaleX,void(u.scaleY=u.data.scaleY);case o.first:u.scaleX+=(u.data.scaleX-u.scaleX)*i,u.scaleY+=(u.data.scaleY-u.scaleY)*i}else{var f,d,p=I.search(h,n,3),v=this.curves[p/3];switch(v){case 0:var m=h[p];f=h[p+1],d=h[p+2];var g=(n-m)/(h[p+3]-m);f+=(h[p+3+1]-f)*g,d+=(h[p+3+2]-d)*g;break;case 1:f=h[p+1],d=h[p+2];break;default:f=this.getBezierValue(n,p,1,v-2),d=this.getBezierValue(n,p,2,v+18-2)}if(f*=u.data.scaleX,d*=u.data.scaleY,1===i)a===o.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=d-u.data.scaleY):(u.scaleX=f,u.scaleY=d);else{var y=0,b=0;if(s===l.mixOut)switch(a){case o.setup:y=u.data.scaleX,b=u.data.scaleY,u.scaleX=y+(Math.abs(f)*c.MathUtils.signum(y)-y)*i,u.scaleY=b+(Math.abs(d)*c.MathUtils.signum(b)-b)*i;break;case o.first:case o.replace:y=u.scaleX,b=u.scaleY,u.scaleX=y+(Math.abs(f)*c.MathUtils.signum(y)-y)*i,u.scaleY=b+(Math.abs(d)*c.MathUtils.signum(b)-b)*i;break;case o.add:u.scaleX+=(f-u.data.scaleX)*i,u.scaleY+=(d-u.data.scaleY)*i}else switch(a){case o.setup:y=Math.abs(u.data.scaleX)*c.MathUtils.signum(f),b=Math.abs(u.data.scaleY)*c.MathUtils.signum(d),u.scaleX=y+(f-y)*i,u.scaleY=b+(d-b)*i;break;case o.first:case o.replace:y=Math.abs(u.scaleX)*c.MathUtils.signum(f),b=Math.abs(u.scaleY)*c.MathUtils.signum(d),u.scaleX=y+(f-y)*i,u.scaleY=b+(d-b)*i;break;case o.add:u.scaleX+=(f-u.data.scaleX)*i,u.scaleY+=(d-u.data.scaleY)*i}}}}}}]),n}(F);t.ScaleTimeline=V;var G=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,m+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var u=e.bones[this.boneIndex];if(u.active)if(n<this.frames[0])switch(a){case o.setup:return void(u.scaleX=u.data.scaleX);case o.first:u.scaleX+=(u.data.scaleX-u.scaleX)*i}else{var h=this.getCurveValue(n)*u.data.scaleX;if(1===i)a===o.add?u.scaleX+=h-u.data.scaleX:u.scaleX=h;else{var f=0;if(s===l.mixOut)switch(a){case o.setup:f=u.data.scaleX,u.scaleX=f+(Math.abs(h)*c.MathUtils.signum(f)-f)*i;break;case o.first:case o.replace:f=u.scaleX,u.scaleX=f+(Math.abs(h)*c.MathUtils.signum(f)-f)*i;break;case o.add:u.scaleX+=(h-u.data.scaleX)*i}else switch(a){case o.setup:f=Math.abs(u.data.scaleX)*c.MathUtils.signum(h),u.scaleX=f+(h-f)*i;break;case o.first:case o.replace:f=Math.abs(u.scaleX)*c.MathUtils.signum(h),u.scaleX=f+(h-f)*i;break;case o.add:u.scaleX+=(h-u.data.scaleX)*i}}}}}]),n}(R);t.ScaleXTimeline=G;var z=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,g+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var u=e.bones[this.boneIndex];if(u.active)if(n<this.frames[0])switch(a){case o.setup:return void(u.scaleY=u.data.scaleY);case o.first:u.scaleY+=(u.data.scaleY-u.scaleY)*i}else{var h=this.getCurveValue(n)*u.data.scaleY;if(1===i)a===o.add?u.scaleY+=h-u.data.scaleY:u.scaleY=h;else{var f=0;if(s===l.mixOut)switch(a){case o.setup:f=u.data.scaleY,u.scaleY=f+(Math.abs(h)*c.MathUtils.signum(f)-f)*i;break;case o.first:case o.replace:f=u.scaleY,u.scaleY=f+(Math.abs(h)*c.MathUtils.signum(f)-f)*i;break;case o.add:u.scaleY+=(h-u.data.scaleY)*i}else switch(a){case o.setup:f=Math.abs(u.data.scaleY)*c.MathUtils.signum(h),u.scaleY=f+(h-f)*i;break;case o.first:case o.replace:f=Math.abs(u.scaleY)*c.MathUtils.signum(h),u.scaleY=f+(h-f)*i;break;case o.add:u.scaleY+=(h-u.data.scaleY)*i}}}}}]),n}(R);t.ScaleYTimeline=z;var W=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,y+"|"+i,b+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(n<u[0])switch(a){case o.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case o.first:l.shearX+=(l.data.shearX-l.shearX)*i,l.shearY+=(l.data.shearY-l.shearY)*i}else{var c=0,h=0,f=I.search(u,n,3),d=this.curves[f/3];switch(d){case 0:var p=u[f];c=u[f+1],h=u[f+2];var v=(n-p)/(u[f+3]-p);c+=(u[f+3+1]-c)*v,h+=(u[f+3+2]-h)*v;break;case 1:c=u[f+1],h=u[f+2];break;default:c=this.getBezierValue(n,f,1,d-2),h=this.getBezierValue(n,f,2,d+18-2)}switch(a){case o.setup:l.shearX=l.data.shearX+c*i,l.shearY=l.data.shearY+h*i;break;case o.first:case o.replace:l.shearX+=(l.data.shearX+c-l.shearX)*i,l.shearY+=(l.data.shearY+h-l.shearY)*i;break;case o.add:l.shearX+=c*i,l.shearY+=h*i}}}}}]),n}(F);t.ShearTimeline=W;var H=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,y+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.shearX=l.data.shearX);case o.first:l.shearX+=(l.data.shearX-l.shearX)*i}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.shearX=l.data.shearX+u*i;break;case o.first:case o.replace:l.shearX+=(l.data.shearX+u-l.shearX)*i;break;case o.add:l.shearX+=u*i}}}}]),n}(R);t.ShearXTimeline=H;var Y=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,b+"|"+i)).boneIndex=0,s.boneIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.shearY=l.data.shearY);case o.first:l.shearY+=(l.data.shearY-l.shearY)*i}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.shearY=l.data.shearY+u*i;break;case o.first:case o.replace:l.shearY+=(l.data.shearY+u-l.shearY)*i;break;case o.add:l.shearY+=u*i}}}}]),n}(R);t.ShearYTimeline=Y;var X=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,[_+"|"+i,x+"|"+i])).slotIndex=0,s.slotIndex=i,s}return s(n,[{key:"getFrameEntries",value:function(){return 5}},{key:"setFrame",value:function(e,t,n,r,i,a){e*=5,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=a}},{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(n<u[0]){var h=l.data.color;switch(a){case o.setup:return void c.setFromColor(h);case o.first:c.add((h.r-c.r)*i,(h.g-c.g)*i,(h.b-c.b)*i,(h.a-c.a)*i)}}else{var f=0,d=0,p=0,v=0,m=I.search(u,n,5),g=this.curves[m/5];switch(g){case 0:var y=u[m];f=u[m+1],d=u[m+2],p=u[m+3],v=u[m+4];var b=(n-y)/(u[m+5]-y);f+=(u[m+5+1]-f)*b,d+=(u[m+5+2]-d)*b,p+=(u[m+5+3]-p)*b,v+=(u[m+5+4]-v)*b;break;case 1:f=u[m+1],d=u[m+2],p=u[m+3],v=u[m+4];break;default:f=this.getBezierValue(n,m,1,g-2),d=this.getBezierValue(n,m,2,g+18-2),p=this.getBezierValue(n,m,3,g+36-2),v=this.getBezierValue(n,m,4,g+54-2)}1===i?c.set(f,d,p,v):(a===o.setup&&c.setFromColor(l.data.color),c.add((f-c.r)*i,(d-c.g)*i,(p-c.b)*i,(v-c.a)*i))}}}}]),n}(N);t.RGBATimeline=X;var q=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,[_+"|"+i])).slotIndex=0,s.slotIndex=i,s}return s(n,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(e,t,n,r,i){e<<=2,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i}},{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(n<u[0]){var h=l.data.color;switch(a){case o.setup:return c.r=h.r,c.g=h.g,void(c.b=h.b);case o.first:c.r+=(h.r-c.r)*i,c.g+=(h.g-c.g)*i,c.b+=(h.b-c.b)*i}}else{var f=0,d=0,p=0,v=I.search(u,n,4),m=this.curves[v>>2];switch(m){case 0:var g=u[v];f=u[v+1],d=u[v+2],p=u[v+3];var y=(n-g)/(u[v+4]-g);f+=(u[v+4+1]-f)*y,d+=(u[v+4+2]-d)*y,p+=(u[v+4+3]-p)*y;break;case 1:f=u[v+1],d=u[v+2],p=u[v+3];break;default:f=this.getBezierValue(n,v,1,m-2),d=this.getBezierValue(n,v,2,m+18-2),p=this.getBezierValue(n,v,3,m+36-2)}if(1===i)c.r=f,c.g=d,c.b=p;else{if(a===o.setup){var b=l.data.color;c.r=b.r,c.g=b.g,c.b=b.b}c.r+=(f-c.r)*i,c.g+=(d-c.g)*i,c.b+=(p-c.b)*i}}}}}]),n}(N);t.RGBTimeline=q;var $=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,x+"|"+i)).slotIndex=0,s.slotIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(n<this.frames[0]){var c=l.data.color;switch(a){case o.setup:return void(u.a=c.a);case o.first:u.a+=(c.a-u.a)*i}}else{var h=this.getCurveValue(n);1===i?u.a=h:(a===o.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*i)}}}}]),n}(R);t.AlphaTimeline=$;var K=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,[_+"|"+i,x+"|"+i,w+"|"+i])).slotIndex=0,s.slotIndex=i,s}return s(n,[{key:"getFrameEntries",value:function(){return 8}},{key:"setFrame",value:function(e,t,n,r,i,a,s,o,l){e<<=3,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=a,this.frames[e+5]=s,this.frames[e+6]=o,this.frames[e+7]=l}},{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,h=l.darkColor;if(n<u[0]){var f=l.data.color,d=l.data.darkColor;switch(a){case o.setup:return c.setFromColor(f),h.r=d.r,h.g=d.g,void(h.b=d.b);case o.first:c.add((f.r-c.r)*i,(f.g-c.g)*i,(f.b-c.b)*i,(f.a-c.a)*i),h.r+=(d.r-h.r)*i,h.g+=(d.g-h.g)*i,h.b+=(d.b-h.b)*i}}else{var p=0,v=0,m=0,g=0,y=0,b=0,_=0,x=I.search(u,n,8),w=this.curves[x>>3];switch(w){case 0:var k=u[x];p=u[x+1],v=u[x+2],m=u[x+3],g=u[x+4],y=u[x+5],b=u[x+6],_=u[x+7];var M=(n-k)/(u[x+8]-k);p+=(u[x+8+1]-p)*M,v+=(u[x+8+2]-v)*M,m+=(u[x+8+3]-m)*M,g+=(u[x+8+4]-g)*M,y+=(u[x+8+5]-y)*M,b+=(u[x+8+6]-b)*M,_+=(u[x+8+7]-_)*M;break;case 1:p=u[x+1],v=u[x+2],m=u[x+3],g=u[x+4],y=u[x+5],b=u[x+6],_=u[x+7];break;default:p=this.getBezierValue(n,x,1,w-2),v=this.getBezierValue(n,x,2,w+18-2),m=this.getBezierValue(n,x,3,w+36-2),g=this.getBezierValue(n,x,4,w+54-2),y=this.getBezierValue(n,x,5,w+72-2),b=this.getBezierValue(n,x,6,w+90-2),_=this.getBezierValue(n,x,7,w+108-2)}if(1===i)c.set(p,v,m,g),h.r=y,h.g=b,h.b=_;else{if(a===o.setup){c.setFromColor(l.data.color);var T=l.data.darkColor;h.r=T.r,h.g=T.g,h.b=T.b}c.add((p-c.r)*i,(v-c.g)*i,(m-c.b)*i,(g-c.a)*i),h.r+=(y-h.r)*i,h.g+=(b-h.g)*i,h.b+=(_-h.b)*i}}}}}]),n}(N);t.RGBA2Timeline=K;var Q=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,[_+"|"+i,w+"|"+i])).slotIndex=0,s.slotIndex=i,s}return s(n,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(e,t,n,r,i,a,s,o){e*=7,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=a,this.frames[e+5]=s,this.frames[e+6]=o}},{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,h=l.darkColor;if(n<u[0]){var f=l.data.color,d=l.data.darkColor;switch(a){case o.setup:return c.r=f.r,c.g=f.g,c.b=f.b,h.r=d.r,h.g=d.g,void(h.b=d.b);case o.first:c.r+=(f.r-c.r)*i,c.g+=(f.g-c.g)*i,c.b+=(f.b-c.b)*i,h.r+=(d.r-h.r)*i,h.g+=(d.g-h.g)*i,h.b+=(d.b-h.b)*i}}else{var p=0,v=0,m=0,g=0,y=0,b=0,_=I.search(u,n,7),x=this.curves[_/7];switch(x){case 0:var w=u[_];p=u[_+1],v=u[_+2],m=u[_+3],g=u[_+4],y=u[_+5],b=u[_+6];var k=(n-w)/(u[_+7]-w);p+=(u[_+7+1]-p)*k,v+=(u[_+7+2]-v)*k,m+=(u[_+7+3]-m)*k,g+=(u[_+7+4]-g)*k,y+=(u[_+7+5]-y)*k,b+=(u[_+7+6]-b)*k;break;case 1:p=u[_+1],v=u[_+2],m=u[_+3],g=u[_+4],y=u[_+5],b=u[_+6];break;default:p=this.getBezierValue(n,_,1,x-2),v=this.getBezierValue(n,_,2,x+18-2),m=this.getBezierValue(n,_,3,x+36-2),g=this.getBezierValue(n,_,4,x+54-2),y=this.getBezierValue(n,_,5,x+72-2),b=this.getBezierValue(n,_,6,x+90-2)}if(1===i)c.r=p,c.g=v,c.b=m,h.r=g,h.g=y,h.b=b;else{if(a===o.setup){var M=l.data.color,T=l.data.darkColor;c.r=M.r,c.g=M.g,c.b=M.b,h.r=T.r,h.g=T.g,h.b=T.b}c.r+=(p-c.r)*i,c.g+=(v-c.g)*i,c.b+=(m-c.b)*i,h.r+=(g-h.r)*i,h.g+=(y-h.g)*i,h.b+=(b-h.b)*i}}}}}]),n}(N);t.RGB2Timeline=Q;var Z=function(e){r(n,e);var t=i(n);function n(e,r){var i;return a(this,n),(i=t.call(this,e,[k+"|"+r])).slotIndex=0,i.slotIndex=r,i.attachmentNames=new Array(e),i}return s(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,s){var u=e.slots[this.slotIndex];u.bone.active&&(s!==l.mixOut?n<this.frames[0]?a!==o.setup&&a!==o.first||this.setAttachment(e,u,u.data.attachmentName):this.setAttachment(e,u,this.attachmentNames[I.search1(this.frames,n)]):a===o.setup&&this.setAttachment(e,u,u.data.attachmentName))}},{key:"setAttachment",value:function(e,t,n){t.setAttachment(n?e.getAttachment(this.slotIndex,n):null)}}]),n}(I);t.AttachmentTimeline=Z;var J=function(e){r(n,e);var t=i(n);function n(e,r,i,s){var o;return a(this,n),(o=t.call(this,e,r,[M+"|"+i+"|"+s.id])).slotIndex=0,o.slotIndex=i,o.attachment=s,o.vertices=new Array(e),o}return s(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.vertices[e]=n}},{key:"setBezier",value:function(e,t,n,r,i,a,s,o,l,u,c){var h=this.curves,f=this.getFrameCount()+18*e;0===n&&(h[t]=2+f);for(var d=.03*(r-2*a+o),p=.03*l-.06*s,v=.006*(3*(a-o)-r+u),m=.018*(s-l+.33333333),g=2*d+v,y=2*p+m,b=.3*(a-r)+d+.16666667*v,_=.3*s+p+.16666667*m,x=r+b,w=_,k=f+18;f<k;f+=2)h[f]=x,h[f+1]=w,b+=g,_+=y,g+=v,y+=m,x+=b,w+=_}},{key:"getCurvePercent",value:function(e,t){var n=this.curves,r=n[t];switch(r){case 0:var i=this.frames[t];return(e-i)/(this.frames[t+this.getFrameEntries()]-i);case 1:return 0}if(n[r-=2]>e){var a=this.frames[t];return n[r+1]*(e-a)/(n[r]-a)}var s=r+18;for(r+=2;r<s;r+=2)if(n[r]>=e){var o=n[r-2],l=n[r-1];return l+(e-o)/(n[r]-o)*(n[r+1]-l)}var u=n[s-2],c=n[s-1];return c+(1-c)*(e-u)/(this.frames[t+this.getFrameEntries()]-u)}},{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var h=l.getAttachment();if(h&&h instanceof u.VertexAttachment&&h.timelineAttachment===this.attachment){var f=l.deform;0===f.length&&(a=o.setup);var d=this.vertices,p=d[0].length,v=this.frames;if(n<v[0])switch(a){case o.setup:return void(f.length=0);case o.first:if(1===i)return void(f.length=0);f.length=p;var m=h;if(m.bones){i=1-i;for(y=0;y<p;y++)f[y]*=i}else for(var g=m.vertices,y=0;y<p;y++)f[y]+=(g[y]-f[y])*i}else if(f.length=p,n>=v[v.length-1]){var b=d[v.length-1];if(1===i)if(a===o.add){var _=h;if(_.bones)for(var x=0;x<p;x++)f[x]+=b[x];else for(var w=_.vertices,k=0;k<p;k++)f[k]+=b[k]-w[k]}else c.Utils.arrayCopy(b,0,f,0,p);else switch(a){case o.setup:var M=h;if(M.bones)for(var T=0;T<p;T++)f[T]=b[T]*i;else for(var S=M.vertices,A=0;A<p;A++){var E=S[A];f[A]=E+(b[A]-E)*i}break;case o.first:case o.replace:for(var L=0;L<p;L++)f[L]+=(b[L]-f[L])*i;break;case o.add:var C=h;if(C.bones)for(var O=0;O<p;O++)f[O]+=b[O]*i;else for(var P=C.vertices,N=0;N<p;N++)f[N]+=(b[N]-P[N])*i}}else{var R=I.search1(v,n),F=this.getCurvePercent(n,R),B=d[R],D=d[R+1];if(1===i)if(a===o.add){var j=h;if(j.bones)for(var U=0;U<p;U++){var V=B[U];f[U]+=V+(D[U]-V)*F}else for(var G=j.vertices,z=0;z<p;z++){var W=B[z];f[z]+=W+(D[z]-W)*F-G[z]}}else for(var H=0;H<p;H++){var Y=B[H];f[H]=Y+(D[H]-Y)*F}else switch(a){case o.setup:var X=h;if(X.bones)for(var q=0;q<p;q++){var $=B[q];f[q]=($+(D[q]-$)*F)*i}else for(var K=X.vertices,Q=0;Q<p;Q++){var Z=B[Q],J=K[Q];f[Q]=J+(Z+(D[Q]-Z)*F-J)*i}break;case o.first:case o.replace:for(var ee=0;ee<p;ee++){var te=B[ee];f[ee]+=(te+(D[ee]-te)*F-f[ee])*i}break;case o.add:var ne=h;if(ne.bones)for(var re=0;re<p;re++){var ie=B[re];f[re]+=(ie+(D[re]-ie)*F)*i}else for(var ae=ne.vertices,se=0;se<p;se++){var oe=B[se];f[se]+=(oe+(D[se]-oe)*F-ae[se])*i}}}}}}}]),n}(N);t.DeformTimeline=J;var ee=function(e){r(n,e);var t=i(n);function n(e){var r;return a(this,n),(r=t.call(this,e,n.propertyIds)).events=new Array(e),r}return s(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t){this.frames[e]=t.time,this.events[e]=t}},{key:"apply",value:function(e,t,n,r,i,a,s){if(r){var o=this.frames,l=this.frames.length;if(t>n)this.apply(e,t,Number.MAX_VALUE,r,i,a,s),t=-1;else if(t>=o[l-1])return;if(!(n<o[0])){var u=0;if(t<o[0])u=0;else for(var c=o[u=I.search1(o,t)+1];u>0&&o[u-1]===c;)u--;for(;u<l&&n>=o[u];u++)r.push(this.events[u])}}}}]),n}(I);t.EventTimeline=ee,ee.propertyIds=[""+T];var te=function(e){r(n,e);var t=i(n);function n(e){var r;return a(this,n),(r=t.call(this,e,n.propertyIds)).drawOrders=new Array(e),r}return s(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,s){if(s!==l.mixOut)if(n<this.frames[0])a!==o.setup&&a!==o.first||c.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var u=I.search1(this.frames,n),h=this.drawOrders[u];if(h)for(var f=e.drawOrder,d=e.slots,p=0,v=h.length;p<v;p++)f[p]=d[h[p]];else c.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}else a===o.setup&&c.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}}]),n}(I);t.DrawOrderTimeline=te,te.propertyIds=[""+S];var ne=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,[A+"|"+i])).ikConstraintIndex=0,s.ikConstraintIndex=i,s}return s(n,[{key:"getFrameEntries",value:function(){return 6}},{key:"setFrame",value:function(e,t,n,r,i,a,s){e*=6,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=a?1:0,this.frames[e+5]=s?1:0}},{key:"apply",value:function(e,t,n,r,i,a,s){var u=e.ikConstraints[this.ikConstraintIndex];if(u.active){var c=this.frames;if(n<c[0])switch(a){case o.setup:return u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,void(u.stretch=u.data.stretch);case o.first:u.mix+=(u.data.mix-u.mix)*i,u.softness+=(u.data.softness-u.softness)*i,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}else{var h=0,f=0,d=I.search(c,n,6),p=this.curves[d/6];switch(p){case 0:var v=c[d];h=c[d+1],f=c[d+2];var m=(n-v)/(c[d+6]-v);h+=(c[d+6+1]-h)*m,f+=(c[d+6+2]-f)*m;break;case 1:h=c[d+1],f=c[d+2];break;default:h=this.getBezierValue(n,d,1,p-2),f=this.getBezierValue(n,d,2,p+18-2)}a===o.setup?(u.mix=u.data.mix+(h-u.data.mix)*i,u.softness=u.data.softness+(f-u.data.softness)*i,s===l.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=c[d+3],u.compress=0!==c[d+4],u.stretch=0!==c[d+5])):(u.mix+=(h-u.mix)*i,u.softness+=(f-u.softness)*i,s===l.mixIn&&(u.bendDirection=c[d+3],u.compress=0!==c[d+4],u.stretch=0!==c[d+5]))}}}}]),n}(N);t.IkConstraintTimeline=ne;var re=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,[E+"|"+i])).transformConstraintIndex=0,s.transformConstraintIndex=i,s}return s(n,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(e,t,n,r,i,a,s,o){var l=this.frames;l[e*=7]=t,l[e+1]=n,l[e+2]=r,l[e+3]=i,l[e+4]=a,l[e+5]=s,l[e+6]=o}},{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(n<u[0]){var c=l.data;switch(a){case o.setup:return l.mixRotate=c.mixRotate,l.mixX=c.mixX,l.mixY=c.mixY,l.mixScaleX=c.mixScaleX,l.mixScaleY=c.mixScaleY,void(l.mixShearY=c.mixShearY);case o.first:l.mixRotate+=(c.mixRotate-l.mixRotate)*i,l.mixX+=(c.mixX-l.mixX)*i,l.mixY+=(c.mixY-l.mixY)*i,l.mixScaleX+=(c.mixScaleX-l.mixScaleX)*i,l.mixScaleY+=(c.mixScaleY-l.mixScaleY)*i,l.mixShearY+=(c.mixShearY-l.mixShearY)*i}}else{var h,f,d,p,v,m,g=I.search(u,n,7),y=this.curves[g/7];switch(y){case 0:var b=u[g];h=u[g+1],f=u[g+2],d=u[g+3],p=u[g+4],v=u[g+5],m=u[g+6];var _=(n-b)/(u[g+7]-b);h+=(u[g+7+1]-h)*_,f+=(u[g+7+2]-f)*_,d+=(u[g+7+3]-d)*_,p+=(u[g+7+4]-p)*_,v+=(u[g+7+5]-v)*_,m+=(u[g+7+6]-m)*_;break;case 1:h=u[g+1],f=u[g+2],d=u[g+3],p=u[g+4],v=u[g+5],m=u[g+6];break;default:h=this.getBezierValue(n,g,1,y-2),f=this.getBezierValue(n,g,2,y+18-2),d=this.getBezierValue(n,g,3,y+36-2),p=this.getBezierValue(n,g,4,y+54-2),v=this.getBezierValue(n,g,5,y+72-2),m=this.getBezierValue(n,g,6,y+90-2)}if(a===o.setup){var x=l.data;l.mixRotate=x.mixRotate+(h-x.mixRotate)*i,l.mixX=x.mixX+(f-x.mixX)*i,l.mixY=x.mixY+(d-x.mixY)*i,l.mixScaleX=x.mixScaleX+(p-x.mixScaleX)*i,l.mixScaleY=x.mixScaleY+(v-x.mixScaleY)*i,l.mixShearY=x.mixShearY+(m-x.mixShearY)*i}else l.mixRotate+=(h-l.mixRotate)*i,l.mixX+=(f-l.mixX)*i,l.mixY+=(d-l.mixY)*i,l.mixScaleX+=(p-l.mixScaleX)*i,l.mixScaleY+=(v-l.mixScaleY)*i,l.mixShearY+=(m-l.mixShearY)*i}}}}]),n}(N);t.TransformConstraintTimeline=re;var ie=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,L+"|"+i)).pathConstraintIndex=0,s.pathConstraintIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.position=l.data.position);case o.first:l.position+=(l.data.position-l.position)*i}else{var u=this.getCurveValue(n);a===o.setup?l.position=l.data.position+(u-l.data.position)*i:l.position+=(u-l.position)*i}}}]),n}(R);t.PathConstraintPositionTimeline=ie;var ae=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,C+"|"+i)).pathConstraintIndex=0,s.pathConstraintIndex=i,s}return s(n,[{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.spacing=l.data.spacing);case o.first:l.spacing+=(l.data.spacing-l.spacing)*i}else{var u=this.getCurveValue(n);a===o.setup?l.spacing=l.data.spacing+(u-l.data.spacing)*i:l.spacing+=(u-l.spacing)*i}}}]),n}(R);t.PathConstraintSpacingTimeline=ae;var se=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,r,[O+"|"+i])).pathConstraintIndex=0,s.pathConstraintIndex=i,s}return s(n,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(e,t,n,r,i){var a=this.frames;a[e<<=2]=t,a[e+1]=n,a[e+2]=r,a[e+3]=i}},{key:"apply",value:function(e,t,n,r,i,a,s){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(n<u[0])switch(a){case o.setup:return l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,void(l.mixY=l.data.mixY);case o.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*i,l.mixX+=(l.data.mixX-l.mixX)*i,l.mixY+=(l.data.mixY-l.mixY)*i}else{var c,h,f,d=I.search(u,n,4),p=this.curves[d>>2];switch(p){case 0:var v=u[d];c=u[d+1],h=u[d+2],f=u[d+3];var m=(n-v)/(u[d+4]-v);c+=(u[d+4+1]-c)*m,h+=(u[d+4+2]-h)*m,f+=(u[d+4+3]-f)*m;break;case 1:c=u[d+1],h=u[d+2],f=u[d+3];break;default:c=this.getBezierValue(n,d,1,p-2),h=this.getBezierValue(n,d,2,p+18-2),f=this.getBezierValue(n,d,3,p+36-2)}if(a===o.setup){var g=l.data;l.mixRotate=g.mixRotate+(c-g.mixRotate)*i,l.mixX=g.mixX+(h-g.mixX)*i,l.mixY=g.mixY+(f-g.mixY)*i}else l.mixRotate+=(c-l.mixRotate)*i,l.mixX+=(h-l.mixX)*i,l.mixY+=(f-l.mixY)*i}}}}]),n}(N);t.PathConstraintMixTimeline=se;var oe=function(e){r(n,e);var t=i(n);function n(e,r,i){var s;return a(this,n),(s=t.call(this,e,[P+"|"+r+"|"+i.sequence.id])).slotIndex=r,s.attachment=i,s}return s(n,[{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"getSlotIndex",value:function(){return this.slotIndex}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setFrame",value:function(e,t,r,i,a){var s=this.frames;s[e*=n.ENTRIES]=t,s[e+n.MODE]=r|i<<4,s[e+n.DELAY]=a}},{key:"apply",value:function(e,t,r,i,a,s,l){var c=e.slots[this.slotIndex];if(c.bone.active){var f=c.attachment,d=this.attachment;if(f===d||f instanceof u.VertexAttachment&&f.timelineAttachment===d){var p=this.frames;if(r<p[0])s!==o.setup&&s!==o.first||(c.sequenceIndex=-1);else{var v=I.search(p,r,n.ENTRIES),m=p[v],g=p[v+n.MODE],y=p[v+n.DELAY];if(this.attachment.sequence){var b=g>>4,_=this.attachment.sequence.regions.length,x=h.SequenceModeValues[15&g];if(x!==h.SequenceMode.hold)switch(b+=(r-m)/y+1e-5|0,x){case h.SequenceMode.once:b=Math.min(_-1,b);break;case h.SequenceMode.loop:b%=_;break;case h.SequenceMode.pingpong:var w=(_<<1)-2;(b=0===w?0:b%w)>=_&&(b=w-b);break;case h.SequenceMode.onceReverse:b=Math.max(_-1-b,0);break;case h.SequenceMode.loopReverse:b=_-1-b%_;break;case h.SequenceMode.pingpongReverse:var k=(_<<1)-2;(b=0===k?0:(b+_-1)%k)>=_&&(b=k-b)}c.sequenceIndex=b}}}}}}]),n}(I);t.SequenceTimeline=oe,oe.ENTRIES=3,oe.MODE=1,oe.DELAY=2},1700:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT=t.SETUP=t.HOLD_MIX=t.HOLD_FIRST=t.HOLD_SUBSEQUENT=t.FIRST=t.SUBSEQUENT=t.AnimationStateAdapter=t.EventType=t.EventQueue=t.TrackEntry=t.AnimationState=void 0;var a=n(9889),s=n(4153),o=function(){function e(t){r(this,e),this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new c(this),this.propertyIDs=new s.StringSet,this.animationsChanged=!1,this.trackEntryPool=new s.Pool((function(){return new l})),this.data=t}return i(e,[{key:"update",value:function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var a=e*i.timeScale;if(i.delay>0){if(i.delay-=a,i.delay>0)continue;a=-i.delay,i.delay=0}var s=i.next;if(s){var o=i.trackLast-s.delay;if(o>=0){for(s.delay=0,s.trackTime+=0===i.timeScale?0:(o/i.timeScale+e)*s.timeScale,i.trackTime+=a,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&!i.mixingFrom){t[n]=null,this.queue.end(i),this.clearNext(i);continue}if(i.mixingFrom&&this.updateMixingFrom(i,e)){var l=i.mixingFrom;for(i.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=a}}this.queue.drain()}},{key:"updateMixingFrom",value:function(e,t){var n=e.mixingFrom;if(!n)return!0;var r=this.updateMixingFrom(n,t);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?(0!==n.totalAlpha&&0!==e.mixDuration||(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=t*n.timeScale,e.mixTime+=t,!1)}},{key:"apply",value:function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,r=this.tracks,i=!1,o=0,l=r.length;o<l;o++){var u=r[o];if(u&&!(u.delay>0)){i=!0;var c=0===o?a.MixBlend.first:u.mixBlend,h=u.alpha;u.mixingFrom?h*=this.applyMixingFrom(u,e,c):u.trackTime>=u.trackEnd&&!u.next&&(h=0);var f=u.animationLast,d=u.getAnimationTime(),p=d,v=n;u.reverse&&(p=u.animation.duration-p,v=null);var m=u.animation.timelines,g=m.length;if(0===o&&1===h||c===a.MixBlend.add)for(var y=0;y<g;y++){s.Utils.webkit602BugfixHelper(h,c);var b=m[y];b instanceof a.AttachmentTimeline?this.applyAttachmentTimeline(b,e,p,c,!0):b.apply(e,f,p,v,h,c,a.MixDirection.mixIn)}else{var _=u.timelineMode,x=u.shortestRotation,w=!x&&u.timelinesRotation.length!==g<<1;w&&(u.timelinesRotation.length=g<<1);for(var k=0;k<g;k++){var M=m[k],T=_[k]===t.SUBSEQUENT?c:a.MixBlend.setup;!x&&M instanceof a.RotateTimeline?this.applyRotateTimeline(M,e,p,h,T,u.timelinesRotation,k<<1,w):M instanceof a.AttachmentTimeline?this.applyAttachmentTimeline(M,e,p,c,!0):(s.Utils.webkit602BugfixHelper(h,c),M.apply(e,f,p,v,h,T,a.MixDirection.mixIn))}}this.queueEvents(u,d),n.length=0,u.nextAnimationLast=d,u.nextTrackLast=u.trackTime}}for(var S=this.unkeyedState+t.SETUP,A=e.slots,E=0,L=e.slots.length;E<L;E++){var C=A[E];if(C.attachmentState===S){var O=C.data.attachmentName;C.setAttachment(O?e.getAttachment(C.data.index,O):null)}}return this.unkeyedState+=2,this.queue.drain(),i}},{key:"applyMixingFrom",value:function(e,n,r){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,n,r);var o=0;0===e.mixDuration?(o=1,r===a.MixBlend.first&&(r=a.MixBlend.setup)):((o=e.mixTime/e.mixDuration)>1&&(o=1),r!==a.MixBlend.first&&(r=i.mixBlend));var l=o<i.attachmentThreshold,u=o<i.drawOrderThreshold,c=i.animation.timelines,h=c.length,f=i.alpha*e.interruptAlpha,d=f*(1-o),p=i.animationLast,v=i.getAnimationTime(),m=v,g=null;if(i.reverse?m=i.animation.duration-m:o<i.eventThreshold&&(g=this.events),r===a.MixBlend.add)for(var y=0;y<h;y++)c[y].apply(n,p,m,g,d,r,a.MixDirection.mixOut);else{var b=i.timelineMode,_=i.timelineHoldMix,x=i.shortestRotation,w=!x&&i.timelinesRotation.length!==h<<1;w&&(i.timelinesRotation.length=h<<1),i.totalAlpha=0;for(var k=0;k<h;k++){var M=c[k],T=a.MixDirection.mixOut,S=void 0,A=0;switch(b[k]){case t.SUBSEQUENT:if(!u&&M instanceof a.DrawOrderTimeline)continue;S=r,A=d;break;case t.FIRST:S=a.MixBlend.setup,A=d;break;case t.HOLD_SUBSEQUENT:S=r,A=f;break;case t.HOLD_FIRST:S=a.MixBlend.setup,A=f;break;default:S=a.MixBlend.setup;var E=_[k];A=f*Math.max(0,1-E.mixTime/E.mixDuration)}i.totalAlpha+=A,!x&&M instanceof a.RotateTimeline?this.applyRotateTimeline(M,n,m,A,S,i.timelinesRotation,k<<1,w):M instanceof a.AttachmentTimeline?this.applyAttachmentTimeline(M,n,m,S,l):(s.Utils.webkit602BugfixHelper(A,r),u&&M instanceof a.DrawOrderTimeline&&S===a.MixBlend.setup&&(T=a.MixDirection.mixIn),M.apply(n,p,m,g,A,S,T))}}return e.mixDuration>0&&this.queueEvents(i,v),this.events.length=0,i.nextAnimationLast=v,i.nextTrackLast=i.trackTime,o}},{key:"applyAttachmentTimeline",value:function(e,n,r,i,s){var o=n.slots[e.slotIndex];o.bone.active&&(r<e.frames[0]?i!==a.MixBlend.setup&&i!==a.MixBlend.first||this.setAttachment(n,o,o.data.attachmentName,s):this.setAttachment(n,o,e.attachmentNames[a.Timeline.search1(e.frames,r)],s),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP))}},{key:"setAttachment",value:function(e,n,r,i){n.setAttachment(r?e.getAttachment(n.data.index,r):null),i&&(n.attachmentState=this.unkeyedState+t.CURRENT)}},{key:"applyRotateTimeline",value:function(e,t,n,r,i,o,l,u){if(u&&(o[l]=0),1!==r){var c=t.bones[e.boneIndex];if(c.active){var h=0,f=0;if(n<e.frames[0])switch(i){case a.MixBlend.setup:c.rotation=c.data.rotation;default:return;case a.MixBlend.first:h=c.rotation,f=c.data.rotation}else h=i===a.MixBlend.setup?c.data.rotation:c.rotation,f=c.data.rotation+e.getCurveValue(n);var d=0,p=f-h;if(0===(p-=360*(16384-(16384.499999999996-p/360|0))))d=o[l];else{var v=0,m=0;u?(v=0,m=p):(v=o[l],m=o[l+1]);var g=p>0,y=v>=0;s.MathUtils.signum(m)!==s.MathUtils.signum(p)&&Math.abs(m)<=90&&(Math.abs(v)>180&&(v+=360*s.MathUtils.signum(v)),y=g),d=p+v-v%360,y!==g&&(d+=360*s.MathUtils.signum(v)),o[l]=d}o[l+1]=p,c.rotation=h+d*r}}else e.apply(t,0,n,null,1,i,a.MixDirection.mixIn)}},{key:"queueEvents",value:function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,a=e.trackLast%i,s=this.events,o=0,l=s.length;o<l;o++){var u=s[o];if(u.time<a)break;u.time>r||this.queue.event(e,u)}for((e.loop?0===i||a>e.trackTime%i:t>=r&&e.animationLast<r)&&this.queue.complete(e);o<l;o++){var c=s[o];c.time<n||this.queue.event(e,c)}}},{key:"clearTracks",value:function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()}},{key:"clearTrack",value:function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(t){this.queue.end(t),this.clearNext(t);for(var n=t;;){var r=n.mixingFrom;if(!r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(e,t,n){var r=this.expandToIndex(e);this.tracks[e]=t,t.previous=null,r&&(n&&this.queue.interrupt(r),t.mixingFrom=r,r.mixingTo=t,t.mixTime=0,r.mixingFrom&&r.mixDuration>0&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)}},{key:"setAnimation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.data.skeletonData.findAnimation(t);if(!r)throw new Error("Animation not found: "+t);return this.setAnimationWith(e,r,n)}},{key:"setAnimationWith",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(e);i&&(-1===i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,r=!1):this.clearNext(i));var a=this.trackEntry(e,t,n,i);return this.setCurrent(e,a,r),this.queue.drain(),a}},{key:"addAnimation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.data.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: "+t);return this.addAnimationWith(e,i,n,r)}},{key:"addAnimationWith",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t)throw new Error("animation cannot be null.");var i=this.expandToIndex(e);if(i)for(;i.next;)i=i.next;var a=this.trackEntry(e,t,n,i);return i?(i.next=a,a.previous=i,r<=0&&(r+=i.getTrackComplete()-a.mixDuration)):(this.setCurrent(e,a,!0),this.queue.drain()),a.delay=r,a}},{key:"setEmptyAnimation",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.setAnimationWith(t,e.emptyAnimation(),!1);return r.mixDuration=n,r.trackEnd=n,r}},{key:"addEmptyAnimation",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.addAnimationWith(t,e.emptyAnimation(),!1,r);return r<=0&&(i.delay+=i.mixDuration-n),i.mixDuration=n,i.trackEnd=n,i}},{key:"setEmptyAnimations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()}},{key:"expandToIndex",value:function(e){return e<this.tracks.length?this.tracks[e]:(s.Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)}},{key:"trackEntry",value:function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.reset(),i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.reverse=!1,i.shortestRotation=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.mixTime=0,i.mixDuration=r?this.data.getMix(r.animation,t):0,i.interruptAlpha=1,i.totalAlpha=0,i.mixBlend=a.MixBlend.replace,i}},{key:"clearNext",value:function(e){for(var t=e.next;t;)this.queue.dispose(t),t=t.next;e.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,t=0,n=e.length;t<n;t++){var r=e[t];if(r){for(;r.mixingFrom;)r=r.mixingFrom;do{r.mixingTo&&r.mixBlend===a.MixBlend.add||this.computeHold(r),r=r.mixingTo}while(r)}}}},{key:"computeHold",value:function(e){var n=e.mixingTo,r=e.animation.timelines,i=e.animation.timelines.length,s=e.timelineMode;s.length=i;var o=e.timelineHoldMix;o.length=0;var l=this.propertyIDs;if(n&&n.holdPrevious)for(var u=0;u<i;u++)s[u]=l.addAll(r[u].getPropertyIds())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;else e:for(var c=0;c<i;c++){var h=r[c],f=h.getPropertyIds();if(l.addAll(f))if(!n||h instanceof a.AttachmentTimeline||h instanceof a.DrawOrderTimeline||h instanceof a.EventTimeline||!n.animation.hasTimeline(f))s[c]=t.FIRST;else{for(var d=n.mixingTo;d;d=d.mixingTo)if(!d.animation.hasTimeline(f)){if(e.mixDuration>0){s[c]=t.HOLD_MIX,o[c]=d;continue e}break}s[c]=t.HOLD_FIRST}else s[c]=t.SUBSEQUENT}}},{key:"getCurrent",value:function(e){return e>=this.tracks.length?null:this.tracks[e]}},{key:"addListener",value:function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}}],[{key:"emptyAnimation",value:function(){return e._emptyAnimation}}]),e}();t.AnimationState=o,o._emptyAnimation=new a.Animation("<empty>",[],0);var l=function(){function e(){r(this,e),this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=a.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return i(e,[{key:"reset",value:function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var e=this.animationEnd-this.animationStart;return 0===e?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(e){this.animationLast=e,this.nextAnimationLast=e}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"getTrackComplete",value:function(){var e=this.animationEnd-this.animationStart;if(0!==e){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime}}]),e}();t.TrackEntry=l;var u,c=function(){function e(t){r(this,e),this.objects=[],this.drainDisabled=!1,this.animState=t}return i(e,[{key:"start",value:function(e){this.objects.push(u.start),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(e){this.objects.push(u.interrupt),this.objects.push(e)}},{key:"end",value:function(e){this.objects.push(u.end),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"dispose",value:function(e){this.objects.push(u.dispose),this.objects.push(e)}},{key:"complete",value:function(e){this.objects.push(u.complete),this.objects.push(e)}},{key:"event",value:function(e,t){this.objects.push(u.event),this.objects.push(e),this.objects.push(t)}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case u.start:i.listener&&i.listener.start&&i.listener.start(i);for(var a=0;a<t.length;a++){var s=t[a];s.start&&s.start(i)}break;case u.interrupt:i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(var o=0;o<t.length;o++){var l=t[o];l.interrupt&&l.interrupt(i)}break;case u.end:i.listener&&i.listener.end&&i.listener.end(i);for(var c=0;c<t.length;c++){var h=t[c];h.end&&h.end(i)}case u.dispose:i.listener&&i.listener.dispose&&i.listener.dispose(i);for(var f=0;f<t.length;f++){var d=t[f];d.dispose&&d.dispose(i)}this.animState.trackEntryPool.free(i);break;case u.complete:i.listener&&i.listener.complete&&i.listener.complete(i);for(var p=0;p<t.length;p++){var v=t[p];v.complete&&v.complete(i)}break;case u.event:var m=e[2+n++];i.listener&&i.listener.event&&i.listener.event(i,m);for(var g=0;g<t.length;g++){var y=t[g];y.event&&y.event(i,m)}}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}]),e}();t.EventQueue=c,function(e){e[e.start=0]="start",e[e.interrupt=1]="interrupt",e[e.end=2]="end",e[e.dispose=3]="dispose",e[e.complete=4]="complete",e[e.event=5]="event"}(u=t.EventType||(t.EventType={}));var h=function(){function e(){r(this,e)}return i(e,[{key:"start",value:function(e){}},{key:"interrupt",value:function(e){}},{key:"end",value:function(e){}},{key:"dispose",value:function(e){}},{key:"complete",value:function(e){}},{key:"event",value:function(e,t){}}]),e}();t.AnimationStateAdapter=h,t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2},1657:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationStateData=void 0;var a=function(){function e(t){if(r(this,e),this.animationToMixTime={},this.defaultMix=0,!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return i(e,[{key:"setMix",value:function(e,t,n){var r=this.skeletonData.findAnimation(e);if(!r)throw new Error("Animation not found: "+e);var i=this.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: "+t);this.setMixWith(r,i,n)}},{key:"setMixWith",value:function(e,t,n){if(!e)throw new Error("from cannot be null.");if(!t)throw new Error("to cannot be null.");var r=e.name+"."+t.name;this.animationToMixTime[r]=n}},{key:"getMix",value:function(e,t){var n=e.name+"."+t.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r}}]),e}();t.AnimationStateData=a},2957:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Downloader=t.AssetManagerBase=void 0;var s=n(3416),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new l;i(this,e),this.pathPrefix="",this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=t,this.pathPrefix=n,this.downloader=r}return a(e,[{key:"start",value:function(e){return this.toLoad++,this.pathPrefix+e}},{key:"success",value:function(e,t,n){this.toLoad--,this.loaded++,this.assets[t]=n,e&&e(t,n)}},{key:"error",value:function(e,t,n){this.toLoad--,this.loaded++,this.errors[t]=n,e&&e(t,n)}},{key:"loadAll",value:function(){var e=this;return new Promise((function(t,n){requestAnimationFrame((function r(){e.isLoadingComplete()?e.hasErrors()?n(e.errors):t(e):requestAnimationFrame(r)}))}))}},{key:"setRawDataURI",value:function(e,t){this.downloader.rawDataUris[this.pathPrefix+e]=t}},{key:"loadBinary",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e=this.start(e),this.downloader.downloadBinary(e,(function(r){t.success(n,e,r)}),(function(n,i){t.error(r,e,"Couldn't load binary ".concat(e,": status ").concat(n,", ").concat(i))}))}},{key:"loadText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e=this.start(e),this.downloader.downloadText(e,(function(r){t.success(n,e,r)}),(function(n,i){t.error(r,e,"Couldn't load text ".concat(e,": status ").concat(n,", ").concat(i))}))}},{key:"loadJson",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e=this.start(e),this.downloader.downloadJson(e,(function(r){t.success(n,e,r)}),(function(n,i){t.error(r,e,"Couldn't load JSON ".concat(e,": status ").concat(n,", ").concat(i))}))}},{key:"loadTexture",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e=this.start(e);var i=!("undefined"===typeof window||"undefined"===typeof navigator||!window.document),a=!i;if(a)fetch(e,{mode:"cors"}).then((function(n){return n.ok?n.blob():(t.error(r,e,"Couldn't load image: ".concat(e)),null)})).then((function(e){return e?createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"}):null})).then((function(r){r&&t.success(n,e,t.textureLoader(r))}));else{var s=new Image;s.crossOrigin="anonymous",s.onload=function(){t.success(n,e,t.textureLoader(s))},s.onerror=function(){t.error(r,e,"Couldn't load image: ".concat(e))},this.downloader.rawDataUris[e]&&(e=this.downloader.rawDataUris[e]),s.src=e}}},{key:"loadTextureAtlas",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3?arguments[3]:void 0,o=e.lastIndexOf("/"),l=o>=0?e.substring(0,o+1):"";e=this.start(e),this.downloader.downloadText(e,(function(o){try{!function(){var u,c=new s.TextureAtlas(o),h=c.pages.length,f=!1,d=r(c.pages);try{var p=function(){var r=u.value;t.loadTexture(a?a[r.name]:l+r.name,(function(i,a){f||(r.setTexture(a),0===--h&&t.success(n,e,c))}),(function(n,r){f||t.error(i,e,"Couldn't load texture atlas ".concat(e," page image: ").concat(n)),f=!0}))};for(d.s();!(u=d.n()).done;)p()}catch(v){d.e(v)}finally{d.f()}}()}catch(u){t.error(i,e,"Couldn't parse texture atlas ".concat(e,": ").concat(u.message))}}),(function(n,r){t.error(i,e,"Couldn't load texture atlas ".concat(e,": status ").concat(n,", ").concat(r))}))}},{key:"get",value:function(e){return this.assets[this.pathPrefix+e]}},{key:"require",value:function(e){e=this.pathPrefix+e;var t=this.assets[e];if(t)return t;var n=this.errors[e];throw Error("Asset not found: "+e+(n?"\n"+n:""))}},{key:"remove",value:function(e){e=this.pathPrefix+e;var t=this.assets[e];return t.dispose&&t.dispose(),delete this.assets[e],t}},{key:"removeAll",value:function(){for(var e in this.assets){var t=this.assets[e];t.dispose&&t.dispose()}this.assets={}}},{key:"isLoadingComplete",value:function(){return 0===this.toLoad}},{key:"getToLoad",value:function(){return this.toLoad}},{key:"getLoaded",value:function(){return this.loaded}},{key:"dispose",value:function(){this.removeAll()}},{key:"hasErrors",value:function(){return Object.keys(this.errors).length>0}},{key:"getErrors",value:function(){return this.errors}}]),e}();t.AssetManagerBase=o;var l=function(){function e(){i(this,e),this.callbacks={},this.rawDataUris={}}return a(e,[{key:"dataUriToString",value:function(e){if(!e.startsWith("data:"))throw new Error("Not a data URI.");var t=e.indexOf("base64,");return-1!==t?(t+="base64,".length,atob(e.substr(t))):e.substr(e.indexOf(",")+1)}},{key:"base64ToUint8Array",value:function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}},{key:"dataUriToUint8Array",value:function(e){if(!e.startsWith("data:"))throw new Error("Not a data URI.");var t=e.indexOf("base64,");if(-1===t)throw new Error("Not a binary data URI.");return t+="base64,".length,this.base64ToUint8Array(e.substr(t))}},{key:"downloadText",value:function(e,t,n){var r=this;if(!this.start(e,t,n))if(this.rawDataUris[e])try{var i=this.rawDataUris[e];this.finish(e,200,this.dataUriToString(i))}catch(o){this.finish(e,400,JSON.stringify(o))}else{var a=new XMLHttpRequest;a.overrideMimeType("text/html"),a.open("GET",e,!0);var s=function(){r.finish(e,a.status,a.responseText)};a.onload=s,a.onerror=s,a.send()}}},{key:"downloadJson",value:function(e,t,n){this.downloadText(e,(function(e){t(JSON.parse(e))}),n)}},{key:"downloadBinary",value:function(e,t,n){var r=this;if(!this.start(e,t,n))if(this.rawDataUris[e])try{var i=this.rawDataUris[e];this.finish(e,200,this.dataUriToUint8Array(i))}catch(o){this.finish(e,400,JSON.stringify(o))}else{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer";var s=function(){r.finish(e,a.status,a.response)};a.onload=function(){200===a.status||0===a.status?r.finish(e,200,new Uint8Array(a.response)):s()},a.onerror=s,a.send()}}},{key:"start",value:function(e,t,n){var r=this.callbacks[e];try{if(r)return!0;this.callbacks[e]=r=[]}finally{r.push(t,n)}}},{key:"finish",value:function(e,t,n){var r=this.callbacks[e];delete this.callbacks[e];for(var i=200===t||0===t?[n]:[t,n],a=i.length-1,s=r.length;a<s;a+=2)r[a].apply(null,i)}}]),e}();t.Downloader=l},3006:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AtlasAttachmentLoader=void 0;var a=n(9374),s=n(2024),o=n(8582),l=n(397),u=n(630),c=n(7045),h=function(){function e(t){r(this,e),this.atlas=t}return i(e,[{key:"loadSequence",value:function(e,t,n){for(var r=n.regions,i=0,a=r.length;i<a;i++){var s=n.getPath(t,i),o=this.atlas.findRegion(s);if(null===o)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");r[i]=o,r[i].renderObject=r[i]}}},{key:"newRegionAttachment",value:function(e,t,n,r){var i=new c.RegionAttachment(t,n);if(null!==r)this.loadSequence(t,n,r);else{var a=this.atlas.findRegion(n);if(!a)throw new Error("Region not found in atlas: "+n+" (region attachment: "+t+")");a.renderObject=a,i.region=a}return i}},{key:"newMeshAttachment",value:function(e,t,n,r){var i=new o.MeshAttachment(t,n);if(null!==r)this.loadSequence(t,n,r);else{var a=this.atlas.findRegion(n);if(!a)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+t+")");a.renderObject=a,i.region=a}return i}},{key:"newBoundingBoxAttachment",value:function(e,t){return new a.BoundingBoxAttachment(t)}},{key:"newPathAttachment",value:function(e,t){return new l.PathAttachment(t)}},{key:"newPointAttachment",value:function(e,t){return new u.PointAttachment(t)}},{key:"newClippingAttachment",value:function(e,t){return new s.ClippingAttachment(t)}}]),e}();t.AtlasAttachmentLoader=h},1362:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Bone=void 0;var a=n(196),s=n(4153),o=function(){function e(t,n,i){if(r(this,e),this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=n,this.parent=i,this.setToSetupPose()}return i(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(e,t,n,r,i,o,l){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=o,this.ashearY=l;var u=this.parent;if(!u){var c=this.skeleton,h=n+90+l,f=c.scaleX,d=c.scaleY;return this.a=s.MathUtils.cosDeg(n+o)*r*f,this.b=s.MathUtils.cosDeg(h)*i*f,this.c=s.MathUtils.sinDeg(n+o)*r*d,this.d=s.MathUtils.sinDeg(h)*i*d,this.worldX=e*f+c.x,void(this.worldY=t*d+c.y)}var p=u.a,v=u.b,m=u.c,g=u.d;switch(this.worldX=p*e+v*t+u.worldX,this.worldY=m*e+g*t+u.worldY,this.data.transformMode){case a.TransformMode.Normal:var y=n+90+l,b=s.MathUtils.cosDeg(n+o)*r,_=s.MathUtils.cosDeg(y)*i,x=s.MathUtils.sinDeg(n+o)*r,w=s.MathUtils.sinDeg(y)*i;return this.a=p*b+v*x,this.b=p*_+v*w,this.c=m*b+g*x,void(this.d=m*_+g*w);case a.TransformMode.OnlyTranslation:var k=n+90+l;this.a=s.MathUtils.cosDeg(n+o)*r,this.b=s.MathUtils.cosDeg(k)*i,this.c=s.MathUtils.sinDeg(n+o)*r,this.d=s.MathUtils.sinDeg(k)*i;break;case a.TransformMode.NoRotationOrReflection:var M=p*p+m*m,T=0;M>1e-4?(M=Math.abs(p*g-v*m)/M,p/=this.skeleton.scaleX,v=(m/=this.skeleton.scaleY)*M,g=p*M,T=Math.atan2(m,p)*s.MathUtils.radDeg):(p=0,m=0,T=90-Math.atan2(g,v)*s.MathUtils.radDeg);var S=n+o-T,A=n+l-T+90,E=s.MathUtils.cosDeg(S)*r,L=s.MathUtils.cosDeg(A)*i,C=s.MathUtils.sinDeg(S)*r,O=s.MathUtils.sinDeg(A)*i;this.a=p*E-v*C,this.b=p*L-v*O,this.c=m*E+g*C,this.d=m*L+g*O;break;case a.TransformMode.NoScale:case a.TransformMode.NoScaleOrReflection:var P=s.MathUtils.cosDeg(n),I=s.MathUtils.sinDeg(n),N=(p*P+v*I)/this.skeleton.scaleX,R=(m*P+g*I)/this.skeleton.scaleY,F=Math.sqrt(N*N+R*R);F>1e-5&&(F=1/F),N*=F,R*=F,F=Math.sqrt(N*N+R*R),this.data.transformMode===a.TransformMode.NoScale&&p*g-v*m<0!==(this.skeleton.scaleX<0!==this.skeleton.scaleY<0)&&(F=-F);var B=Math.PI/2+Math.atan2(R,N),D=Math.cos(B)*F,j=Math.sin(B)*F,U=s.MathUtils.cosDeg(o)*r,V=s.MathUtils.cosDeg(90+l)*i,G=s.MathUtils.sinDeg(o)*r,z=s.MathUtils.sinDeg(90+l)*i;this.a=N*U+D*G,this.b=N*V+D*z,this.c=R*U+j*G,this.d=R*V+j*z}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}},{key:"setToSetupPose",value:function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.c,this.a)*s.MathUtils.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.d,this.b)*s.MathUtils.radDeg}},{key:"getWorldScaleX",value:function(){return Math.sqrt(this.a*this.a+this.c*this.c)}},{key:"getWorldScaleY",value:function(){return Math.sqrt(this.b*this.b+this.d*this.d)}},{key:"updateAppliedTransform",value:function(){var e=this.parent;if(!e)return this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*s.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*s.MathUtils.radDeg);var t=e.a,n=e.b,r=e.c,i=e.d,a=1/(t*i-n*r),o=this.worldX-e.worldX,l=this.worldY-e.worldY;this.ax=o*i*a-l*n*a,this.ay=l*t*a-o*r*a;var u=a*i,c=a*t,h=a*n,f=a*r,d=u*this.a-h*this.c,p=u*this.b-h*this.d,v=c*this.c-f*this.a,m=c*this.d-f*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(d*d+v*v),this.ascaleX>1e-4){var g=d*m-p*v;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(d*p+v*m,g)*s.MathUtils.radDeg,this.arotation=Math.atan2(v,d)*s.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(p*p+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,p)*s.MathUtils.radDeg}},{key:"worldToLocal",value:function(e){var t=1/(this.a*this.d-this.b*this.c),n=e.x-this.worldX,r=e.y-this.worldY;return e.x=n*this.d*t-r*this.b*t,e.y=r*this.a*t-n*this.c*t,e}},{key:"localToWorld",value:function(e){var t=e.x,n=e.y;return e.x=t*this.a+n*this.b+this.worldX,e.y=t*this.c+n*this.d+this.worldY,e}},{key:"worldToLocalRotation",value:function(e){var t=s.MathUtils.sinDeg(e),n=s.MathUtils.cosDeg(e);return Math.atan2(this.a*t-this.c*n,this.d*n-this.b*t)*s.MathUtils.radDeg+this.rotation-this.shearX}},{key:"localToWorldRotation",value:function(e){e-=this.rotation-this.shearX;var t=s.MathUtils.sinDeg(e),n=s.MathUtils.cosDeg(e);return Math.atan2(n*this.c+t*this.d,n*this.a+t*this.b)*s.MathUtils.radDeg}},{key:"rotateWorld",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d,a=s.MathUtils.cosDeg(e),o=s.MathUtils.sinDeg(e);this.a=a*t-o*r,this.b=a*n-o*i,this.c=o*t+a*r,this.d=o*n+a*i}}]),e}();t.Bone=o},196:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TransformMode=t.BoneData=void 0;var a,s=n(4153),o=r((function e(t,n,r){if(i(this,e),this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=a.Normal,this.skinRequired=!1,this.color=new s.Color,t<0)throw new Error("index must be >= 0.");if(!n)throw new Error("name cannot be null.");this.index=t,this.name=n,this.parent=r}));t.BoneData=o,function(e){e[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection"}(a=t.TransformMode||(t.TransformMode={}))},5221:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConstraintData=void 0;var a=r((function e(t,n,r){i(this,e),this.name=t,this.order=n,this.skinRequired=r}));t.ConstraintData=a},300:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var a=r((function e(t,n){if(i(this,e),this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!n)throw new Error("data cannot be null.");this.time=t,this.data=n}));t.Event=a},4013:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EventData=void 0;var a=r((function e(t){i(this,e),this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=t}));t.EventData=a},7111:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IkConstraint=void 0;var a=n(196),s=n(4153),o=function(){function e(t,n){if(r(this,e),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var i=0;i<t.bones.length;i++){var a=n.findBone(t.bones[i].name);if(!a)throw new Error("Couldn't find bone ".concat(t.bones[i].name));this.bones.push(a)}var s=n.findBone(t.target.name);if(!s)throw new Error("Couldn't find bone ".concat(t.target.name));this.target=s}return i(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){if(0!==this.mix){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}}},{key:"apply1",value:function(e,t,n,r,i,o,l){var u=e.parent;if(!u)throw new Error("IK bone must have parent.");var c=u.a,h=u.b,f=u.c,d=u.d,p=-e.ashearX-e.arotation,v=0,m=0;switch(e.data.transformMode){case a.TransformMode.OnlyTranslation:v=t-e.worldX,m=n-e.worldY;break;case a.TransformMode.NoRotationOrReflection:var g=Math.abs(c*d-h*f)/(c*c+f*f),y=c/e.skeleton.scaleX,b=f/e.skeleton.scaleY;h=-b*g*e.skeleton.scaleX,d=y*g*e.skeleton.scaleY,p+=Math.atan2(b,y)*s.MathUtils.radDeg;default:var _=t-u.worldX,x=n-u.worldY,w=c*d-h*f;v=(_*d-x*h)/w-e.ax,m=(x*c-_*f)/w-e.ay}p+=Math.atan2(m,v)*s.MathUtils.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var k=e.ascaleX,M=e.ascaleY;if(r||i){switch(e.data.transformMode){case a.TransformMode.NoScale:case a.TransformMode.NoScaleOrReflection:v=t-e.worldX,m=n-e.worldY}var T=e.data.length*k,S=Math.sqrt(v*v+m*m);if(r&&S<T||i&&S>T&&T>1e-4){var A=(S/T-1)*l+1;k*=A,o&&(M*=A)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*l,k,M,e.ashearX,e.ashearY)}},{key:"apply2",value:function(e,t,n,r,i,a,o,l,u){var c=e.ax,h=e.ay,f=e.ascaleX,d=e.ascaleY,p=f,v=d,m=t.ascaleX,g=0,y=0,b=0;f<0?(f=-f,g=180,b=-1):(g=0,b=1),d<0&&(d=-d,b=-b),m<0?(m=-m,y=180):y=0;var _=t.ax,x=0,w=0,k=0,M=e.a,T=e.b,S=e.c,A=e.d,E=Math.abs(f-d)<=1e-4;!E||a?(x=0,w=M*_+e.worldX,k=S*_+e.worldY):(w=M*_+T*(x=t.ay)+e.worldX,k=S*_+A*x+e.worldY);var L=e.parent;if(!L)throw new Error("IK parent must itself have a parent.");M=L.a,T=L.b,S=L.c;var C,O,P=1/(M*(A=L.d)-T*S),I=w-L.worldX,N=k-L.worldY,R=(I*A-N*T)*P-c,F=(N*M-I*S)*P-h,B=Math.sqrt(R*R+F*F),D=t.data.length*m;if(B<1e-4)return this.apply1(e,n,r,!1,a,!1,u),void t.updateWorldTransformWith(_,x,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);var j=((I=n-L.worldX)*A-(N=r-L.worldY)*T)*P-c,U=(N*M-I*S)*P-h,V=j*j+U*U;if(0!==l){l*=f*(m+1)*.5;var G=Math.sqrt(V),z=G-B-D*f+l;if(z>0){var W=Math.min(1,z/(2*l))-1;V=(j-=(W=(z-l*(1-W*W))/G)*j)*j+(U-=W*U)*U}}e:if(E){var H=(V-B*B-(D*=f)*D)/(2*B*D);H<-1?(H=-1,O=Math.PI*i):H>1?(H=1,O=0,a&&(p*=M=(Math.sqrt(V)/(B+D)-1)*u+1,o&&(v*=M))):O=Math.acos(H)*i,M=B+D*H,T=D*Math.sin(O),C=Math.atan2(U*M-j*T,j*M+U*T)}else{var Y=(M=f*D)*M,X=(T=d*D)*T,q=Math.atan2(U,j),$=-2*X*B,K=X-Y;if((A=$*$-4*K*(S=X*B*B+Y*V-Y*X))>=0){var Q=Math.sqrt(A);$<0&&(Q=-Q);var Z=(Q=.5*-($+Q))/K,J=S/Q,ee=Math.abs(Z)<Math.abs(J)?Z:J;if(ee*ee<=V){N=Math.sqrt(V-ee*ee)*i,C=q-Math.atan2(N,ee),O=Math.atan2(N/d,(ee-B)/f);break e}}var te=s.MathUtils.PI,ne=B-M,re=ne*ne,ie=0,ae=0,se=B+M,oe=se*se,le=0;(S=-M*B/(Y-X))>=-1&&S<=1&&(S=Math.acos(S),(A=(I=M*Math.cos(S)+B)*I+(N=T*Math.sin(S))*N)<re&&(te=S,re=A,ne=I,ie=N),A>oe&&(ae=S,oe=A,se=I,le=N)),V<=.5*(re+oe)?(C=q-Math.atan2(ie*i,ne),O=te*i):(C=q-Math.atan2(le*i,se),O=ae*i)}var ue=Math.atan2(x,_)*b,ce=e.arotation;(C=(C-ue)*s.MathUtils.radDeg+g-ce)>180?C-=360:C<-180&&(C+=360),e.updateWorldTransformWith(c,h,ce+C*u,p,v,0,0),ce=t.arotation,(O=((O+ue)*s.MathUtils.radDeg-t.ashearX)*b+y-ce)>180?O-=360:O<-180&&(O+=360),t.updateWorldTransformWith(_,x,ce+O*u,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}}]),e}();t.IkConstraint=o},8155:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IkConstraintData=void 0;var o=function(e){a(n,e);var t=s(n);function n(e){var i;return r(this,n),(i=t.call(this,e,0,!1)).bones=new Array,i._target=null,i.bendDirection=1,i.compress=!1,i.stretch=!1,i.uniform=!1,i.mix=1,i.softness=0,i}return i(n,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(e){this._target=e}}]),n}(n(5221).ConstraintData);t.IkConstraintData=o},3093:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PathConstraint=void 0;var a=n(397),s=n(9841),o=n(4153),l=function(){function e(t,n){if(r(this,e),this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var i=0,a=t.bones.length;i<a;i++){var s=n.findBone(t.bones[i].name);if(!s)throw new Error("Couldn't find bone ".concat(t.bones[i].name,"."));this.bones.push(s)}var o=n.findSlot(t.target.name);if(!o)throw new Error("Couldn't find target bone ".concat(t.target.name));this.target=o,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}return i(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){var t=this.target.getAttachment();if(t instanceof a.PathAttachment){var n=this.mixRotate,r=this.mixX,i=this.mixY;if(0!==n||0!==r||0!==i){var l=this.data,u=l.rotateMode===s.RotateMode.Tangent,c=l.rotateMode===s.RotateMode.ChainScale,h=this.bones,f=h.length,d=u?f:f+1,p=o.Utils.setArraySize(this.spaces,d),v=c?this.lengths=o.Utils.setArraySize(this.lengths,f):[],m=this.spacing;switch(l.spacingMode){case s.SpacingMode.Percent:if(c)for(var g=0,y=d-1;g<y;g++){var b=h[g],_=b.data.length;if(_<e.epsilon)v[g]=0;else{var x=_*b.a,w=_*b.c;v[g]=Math.sqrt(x*x+w*w)}}o.Utils.arrayFill(p,1,d,m);break;case s.SpacingMode.Proportional:for(var k=0,M=0,T=d-1;M<T;){var S=h[M],A=S.data.length;if(A<e.epsilon)c&&(v[M]=0),p[++M]=m;else{var E=A*S.a,L=A*S.c,C=Math.sqrt(E*E+L*L);c&&(v[M]=C),p[++M]=C,k+=C}}if(k>0){k=d/k*m;for(var O=1;O<d;O++)p[O]*=k}break;default:for(var P=l.spacingMode===s.SpacingMode.Length,I=0,N=d-1;I<N;){var R=h[I],F=R.data.length;if(F<e.epsilon)c&&(v[I]=0),p[++I]=m;else{var B=F*R.a,D=F*R.c,j=Math.sqrt(B*B+D*D);c&&(v[I]=j),p[++I]=(P?F+m:m)*j/F}}}var U=this.computeWorldPositions(t,d,u),V=U[0],G=U[1],z=l.offsetRotation,W=!1;if(0===z)W=l.rotateMode===s.RotateMode.Chain;else{W=!1;var H=this.target.bone;z*=H.a*H.d-H.b*H.c>0?o.MathUtils.degRad:-o.MathUtils.degRad}for(var Y=0,X=3;Y<f;Y++,X+=3){var q=h[Y];q.worldX+=(V-q.worldX)*r,q.worldY+=(G-q.worldY)*i;var $=U[X],K=U[X+1],Q=$-V,Z=K-G;if(c){var J=v[Y];if(0!==J){var ee=(Math.sqrt(Q*Q+Z*Z)/J-1)*n+1;q.a*=ee,q.c*=ee}}if(V=$,G=K,n>0){var te=q.a,ne=q.b,re=q.c,ie=q.d,ae=0,se=0,oe=0;if(ae=u?U[X-1]:0===p[Y+1]?U[X+2]:Math.atan2(Z,Q),ae-=Math.atan2(re,te),W){se=Math.cos(ae),oe=Math.sin(ae);var le=q.data.length;V+=(le*(se*te-oe*re)-Q)*n,G+=(le*(oe*te+se*re)-Z)*n}else ae+=z;ae>o.MathUtils.PI?ae-=o.MathUtils.PI2:ae<-o.MathUtils.PI&&(ae+=o.MathUtils.PI2),ae*=n,se=Math.cos(ae),oe=Math.sin(ae),q.a=se*te-oe*re,q.b=se*ne-oe*ie,q.c=oe*te+se*re,q.d=oe*ne+se*ie}q.updateAppliedTransform()}}}}},{key:"computeWorldPositions",value:function(t,n,r){var i=this.target,a=this.position,l=this.spaces,u=o.Utils.setArraySize(this.positions,3*n+2),c=this.world,h=t.closed,f=t.worldVerticesLength,d=f/6,p=e.NONE;if(!t.constantSpeed){var v,m=t.lengths,g=m[d-=h?1:2];switch(this.data.positionMode===s.PositionMode.Percent&&(a*=g),this.data.spacingMode){case s.SpacingMode.Percent:v=g;break;case s.SpacingMode.Proportional:v=g/n;break;default:v=1}c=o.Utils.setArraySize(this.world,8);for(var y=0,b=0,_=0;y<n;y++,b+=3){var x=l[y]*v,w=a+=x;if(h)(w%=g)<0&&(w+=g),_=0;else{if(w<0){p!==e.BEFORE&&(p=e.BEFORE,t.computeWorldVertices(i,2,4,c,0,2)),this.addBeforePosition(w,c,0,u,b);continue}if(w>g){p!==e.AFTER&&(p=e.AFTER,t.computeWorldVertices(i,f-6,4,c,0,2)),this.addAfterPosition(w-g,c,0,u,b);continue}}for(;;_++){var k=m[_];if(!(w>k)){if(0===_)w/=k;else{var M=m[_-1];w=(w-M)/(k-M)}break}}_!==p&&(p=_,h&&_===d?(t.computeWorldVertices(i,f-4,4,c,0,2),t.computeWorldVertices(i,0,4,c,4,2)):t.computeWorldVertices(i,6*_+2,8,c,0,2)),this.addCurvePosition(w,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],u,b,r||y>0&&0===x)}return u}h?(f+=2,c=o.Utils.setArraySize(this.world,f),t.computeWorldVertices(i,2,f-4,c,0,2),t.computeWorldVertices(i,0,2,c,f-4,2),c[f-2]=c[0],c[f-1]=c[1]):(d--,f-=4,c=o.Utils.setArraySize(this.world,f),t.computeWorldVertices(i,2,f,c,0,2));for(var T,S=o.Utils.setArraySize(this.curves,d),A=0,E=c[0],L=c[1],C=0,O=0,P=0,I=0,N=0,R=0,F=0,B=0,D=0,j=0,U=0,V=0,G=0,z=0,W=0,H=2;W<d;W++,H+=6)C=c[H],O=c[H+1],P=c[H+2],I=c[H+3],U=2*(F=.1875*(E-2*C+P))+(D=.09375*(3*(C-P)-E+(N=c[H+4]))),V=2*(B=.1875*(L-2*O+I))+(j=.09375*(3*(O-I)-L+(R=c[H+5]))),G=.75*(C-E)+F+.16666667*D,z=.75*(O-L)+B+.16666667*j,A+=Math.sqrt(G*G+z*z),G+=U,z+=V,U+=D,V+=j,A+=Math.sqrt(G*G+z*z),G+=U,z+=V,A+=Math.sqrt(G*G+z*z),G+=U+D,z+=V+j,A+=Math.sqrt(G*G+z*z),S[W]=A,E=N,L=R;switch(this.data.positionMode===s.PositionMode.Percent&&(a*=A),this.data.spacingMode){case s.SpacingMode.Percent:T=A;break;case s.SpacingMode.Proportional:T=A/n;break;default:T=1}for(var Y=this.segments,X=0,q=0,$=0,K=0,Q=0;q<n;q++,$+=3){var Z=l[q]*T,J=a+=Z;if(h)(J%=A)<0&&(J+=A),K=0;else{if(J<0){this.addBeforePosition(J,c,0,u,$);continue}if(J>A){this.addAfterPosition(J-A,c,f-4,u,$);continue}}for(;;K++){var ee=S[K];if(!(J>ee)){if(0===K)J/=ee;else{var te=S[K-1];J=(J-te)/(ee-te)}break}}if(K!==p){p=K;var ne=6*K;for(E=c[ne],L=c[ne+1],C=c[ne+2],O=c[ne+3],P=c[ne+4],I=c[ne+5],U=2*(F=.03*(E-2*C+P))+(D=.006*(3*(C-P)-E+(N=c[ne+6]))),V=2*(B=.03*(L-2*O+I))+(j=.006*(3*(O-I)-L+(R=c[ne+7]))),G=.3*(C-E)+F+.16666667*D,z=.3*(O-L)+B+.16666667*j,X=Math.sqrt(G*G+z*z),Y[0]=X,ne=1;ne<8;ne++)G+=U,z+=V,U+=D,V+=j,X+=Math.sqrt(G*G+z*z),Y[ne]=X;G+=U,z+=V,X+=Math.sqrt(G*G+z*z),Y[8]=X,G+=U+D,z+=V+j,X+=Math.sqrt(G*G+z*z),Y[9]=X,Q=0}for(J*=X;;Q++){var re=Y[Q];if(!(J>re)){if(0===Q)J/=re;else{var ie=Y[Q-1];J=Q+(J-ie)/(re-ie)}break}}this.addCurvePosition(.1*J,E,L,C,O,P,I,N,R,u,$,r||q>0&&0===Z)}return u}},{key:"addBeforePosition",value:function(e,t,n,r,i){var a=t[n],s=t[n+1],o=t[n+2]-a,l=t[n+3]-s,u=Math.atan2(l,o);r[i]=a+e*Math.cos(u),r[i+1]=s+e*Math.sin(u),r[i+2]=u}},{key:"addAfterPosition",value:function(e,t,n,r,i){var a=t[n+2],s=t[n+3],o=a-t[n],l=s-t[n+1],u=Math.atan2(l,o);r[i]=a+e*Math.cos(u),r[i+1]=s+e*Math.sin(u),r[i+2]=u}},{key:"addCurvePosition",value:function(e,t,n,r,i,a,s,o,l,u,c,h){if(0===e||isNaN(e))return u[c]=t,u[c+1]=n,void(u[c+2]=Math.atan2(i-n,r-t));var f=e*e,d=f*e,p=1-e,v=p*p,m=v*p,g=p*e,y=3*g,b=p*y,_=y*e,x=t*m+r*b+a*_+o*d,w=n*m+i*b+s*_+l*d;u[c]=x,u[c+1]=w,h&&(u[c+2]=e<.001?Math.atan2(i-n,r-t):Math.atan2(w-(n*v+i*g*2+s*f),x-(t*v+r*g*2+a*f)))}}]),e}();t.PathConstraint=l,l.NONE=-1,l.BEFORE=-2,l.AFTER=-3,l.epsilon=1e-5},9841:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RotateMode=t.SpacingMode=t.PositionMode=t.PathConstraintData=void 0;var o,l,u,c=function(e){a(n,e);var t=s(n);function n(e){var i;return r(this,n),(i=t.call(this,e,0,!1)).bones=new Array,i._target=null,i.positionMode=o.Fixed,i.spacingMode=l.Fixed,i.rotateMode=u.Chain,i.offsetRotation=0,i.position=0,i.spacing=0,i.mixRotate=0,i.mixX=0,i.mixY=0,i}return i(n,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(e){this._target=e}}]),n}(n(5221).ConstraintData);t.PathConstraintData=c,function(e){e[e.Fixed=0]="Fixed",e[e.Percent=1]="Percent"}(o=t.PositionMode||(t.PositionMode={})),function(e){e[e.Length=0]="Length",e[e.Fixed=1]="Fixed",e[e.Percent=2]="Percent",e[e.Proportional=3]="Proportional"}(l=t.SpacingMode||(t.SpacingMode={})),function(e){e[e.Tangent=0]="Tangent",e[e.Chain=1]="Chain",e[e.ChainScale=2]="ChainScale"}(u=t.RotateMode||(t.RotateMode={}))},9965:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Skeleton=void 0;var a=n(2955),s=n(8582),o=n(397),l=n(7045),u=n(1362),c=n(7111),h=n(3093),f=n(3356),d=n(4672),p=n(4153),v=function(){function e(t){if(r(this,e),this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var i=t.bones[n],a=void 0;if(i.parent){var s=this.bones[i.parent.index];a=new u.Bone(i,this,s),s.children.push(a)}else a=new u.Bone(i,this,null);this.bones.push(a)}this.slots=new Array,this.drawOrder=new Array;for(var o=0;o<t.slots.length;o++){var l=t.slots[o],v=this.bones[l.boneData.index],m=new f.Slot(l,v);this.slots.push(m),this.drawOrder.push(m)}this.ikConstraints=new Array;for(var g=0;g<t.ikConstraints.length;g++){var y=t.ikConstraints[g];this.ikConstraints.push(new c.IkConstraint(y,this))}this.transformConstraints=new Array;for(var b=0;b<t.transformConstraints.length;b++){var _=t.transformConstraints[b];this.transformConstraints.push(new d.TransformConstraint(_,this))}this.pathConstraints=new Array;for(var x=0;x<t.pathConstraints.length;x++){var w=t.pathConstraints[x];this.pathConstraints.push(new h.PathConstraint(w,this))}this.color=new p.Color(1,1,1,1),this.updateCache()}return i(e,[{key:"updateCache",value:function(){var e=this._updateCache;e.length=0;for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin)for(var a=this.skin.bones,s=0,o=this.skin.bones.length;s<o;s++){var l=this.bones[a[s].index];do{l.sorted=!1,l.active=!0,l=l.parent}while(l)}var u=this.ikConstraints,c=this.transformConstraints,h=this.pathConstraints,f=u.length,d=c.length,p=h.length,v=f+d+p;e:for(var m=0;m<v;m++){for(var g=0;g<f;g++){var y=u[g];if(y.data.order===m){this.sortIkConstraint(y);continue e}}for(var b=0;b<d;b++){var _=c[b];if(_.data.order===m){this.sortTransformConstraint(_);continue e}}for(var x=0;x<p;x++){var w=h[x];if(w.data.order===m){this.sortPathConstraint(w);continue e}}}for(var k=0,M=t.length;k<M;k++)this.sortBone(t[k])}},{key:"sortIkConstraint",value:function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&p.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target;this.sortBone(t);var n=e.bones,r=n[0];if(this.sortBone(r),1===n.length)this._updateCache.push(e),this.sortReset(r.children);else{var i=n[n.length-1];this.sortBone(i),this._updateCache.push(e),this.sortReset(r.children),i.sorted=!0}}}},{key:"sortPathConstraint",value:function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&p.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target,n=t.data.index,r=t.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),this.data.defaultSkin&&this.data.defaultSkin!==this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,a=this.data.skins.length;i<a;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);var s=t.getAttachment();s instanceof o.PathAttachment&&this.sortPathConstraintAttachmentWith(s,r);for(var l=e.bones,u=l.length,c=0;c<u;c++)this.sortBone(l[c]);this._updateCache.push(e);for(var h=0;h<u;h++)this.sortReset(l[h].children);for(var f=0;f<u;f++)l[f].sorted=!0}}},{key:"sortTransformConstraint",value:function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&p.Utils.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),this.sortBone(i)}else for(var a=0;a<n;a++)this.sortBone(t[a]);this._updateCache.push(e);for(var s=0;s<n;s++)this.sortReset(t[s].children);for(var o=0;o<n;o++)t[o].sorted=!0}}},{key:"sortPathConstraintAttachment",value:function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)}},{key:"sortPathConstraintAttachmentWith",value:function(e,t){if(e instanceof o.PathAttachment){var n=e.bones;if(n)for(var r=this.bones,i=0,a=n.length;i<a;){var s=n[i++];for(s+=i;i<s;)this.sortBone(r[n[i++]])}else this.sortBone(t)}}},{key:"sortBone",value:function(e){if(e&&!e.sorted){var t=e.parent;t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}}},{key:"sortReset",value:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}}},{key:"updateWorldTransform",value:function(){for(var e=this.bones,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY}for(var i=this._updateCache,a=0,s=i.length;a<s;a++)i[a].update()}},{key:"updateWorldTransformWith",value:function(e){var t=this.getRootBone();if(!t)throw new Error("Root bone must not be null.");var n=e.a,r=e.b,i=e.c,a=e.d;t.worldX=n*this.x+r*this.y+e.worldX,t.worldY=i*this.x+a*this.y+e.worldY;var s=t.rotation+90+t.shearY,o=p.MathUtils.cosDeg(t.rotation+t.shearX)*t.scaleX,l=p.MathUtils.cosDeg(s)*t.scaleY,u=p.MathUtils.sinDeg(t.rotation+t.shearX)*t.scaleX,c=p.MathUtils.sinDeg(s)*t.scaleY;t.a=(n*o+r*u)*this.scaleX,t.b=(n*l+r*c)*this.scaleX,t.c=(i*o+a*u)*this.scaleY,t.d=(i*l+a*c)*this.scaleY;for(var h=this._updateCache,f=0,d=h.length;f<d;f++){var v=h[f];v!==t&&v.update()}}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,i=0,a=r.length;i<a;i++){var s=r[i];s.mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}for(var o=this.transformConstraints,l=0,u=o.length;l<u;l++){var c=o[l],h=c.data;c.mixRotate=h.mixRotate,c.mixX=h.mixX,c.mixY=h.mixY,c.mixScaleX=h.mixScaleX,c.mixScaleY=h.mixScaleY,c.mixShearY=h.mixShearY}for(var f=this.pathConstraints,d=0,p=f.length;d<p;d++){var v=f[d],m=v.data;v.position=m.position,v.spacing=m.spacing,v.mixRotate=m.mixRotate,v.mixX=m.mixX,v.mixY=m.mixY}}},{key:"setSlotsToSetupPose",value:function(){var e=this.slots;p.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()}},{key:"getRootBone",value:function(){return 0===this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name===e)return i}return null}},{key:"findSlot",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name===e)return i}return null}},{key:"setSkinByName",value:function(e){var t=this.data.findSkin(e);if(!t)throw new Error("Skin not found: "+e);this.setSkin(t)}},{key:"setSkin",value:function(e){if(e!==this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],a=i.data.attachmentName;if(a){var s=e.getAttachment(n,a);s&&i.setAttachment(s)}}this.skin=e,this.updateCache()}}},{key:"getAttachmentByName",value:function(e,t){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name ".concat(e));return this.getAttachment(n.index,t)}},{key:"getAttachment",value:function(e,t){if(!t)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,t);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null}},{key:"setAttachment",value:function(e,t){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var a=n[r];if(a.data.name===e){var s=null;if(t&&!(s=this.getAttachment(r,t)))throw new Error("Attachment not found: "+t+", for slot: "+e);return void a.setAttachment(s)}}throw new Error("Slot not found: "+e)}},{key:"findIkConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name===e)return i}return null}},{key:"findTransformConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name===e)return i}return null}},{key:"findPathConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name===e)return i}return null}},{key:"getBoundsRect",value:function(){var e=new a.Vector2,t=new a.Vector2;return this.getBounds(e,t),{x:e.x,y:e.y,width:t.x,height:t.y}}},{key:"getBounds",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array(2);if(!e)throw new Error("offset cannot be null.");if(!t)throw new Error("size cannot be null.");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=0,h=r.length;c<h;c++){var f=r[c];if(f.bone.active){var d=0,v=null,m=f.getAttachment();if(m instanceof l.RegionAttachment)d=8,v=p.Utils.setArraySize(n,d,0),m.computeWorldVertices(f,v,0,2);else if(m instanceof s.MeshAttachment){var g=m;d=g.worldVerticesLength,v=p.Utils.setArraySize(n,d,0),g.computeWorldVertices(f,0,d,v,0,2)}if(v)for(var y=0,b=v.length;y<b;y+=2){var _=v[y],x=v[y+1];i=Math.min(i,_),a=Math.min(a,x),o=Math.max(o,_),u=Math.max(u,x)}}}e.set(i,a),t.set(o-i,u-a)}}]),e}();t.Skeleton=v},2411:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryInput=t.SkeletonBinary=void 0;var a,s=n(9889),o=n(6436),l=n(196),u=n(300),c=n(4013),h=n(8155),f=n(9841),d=n(2032),p=n(3099),v=n(3605),m=n(7841),g=n(4153),y=r((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,e),this.bones=t,this.vertices=n}));function b(e,t,n){for(var r=e.readFloat(),i=e.readFloat()*n,a=0,s=0,o=t.getFrameCount()-1;t.setFrame(a,r,i),a!==o;a++){var l=e.readFloat(),u=e.readFloat()*n;switch(e.readByte()){case w:t.setStepped(a);break;case k:x(e,t,s++,a,0,r,l,i,u,n)}r=l,i=u}return t}function _(e,t,n){for(var r=e.readFloat(),i=e.readFloat()*n,a=e.readFloat()*n,s=0,o=0,l=t.getFrameCount()-1;t.setFrame(s,r,i,a),s!==l;s++){var u=e.readFloat(),c=e.readFloat()*n,h=e.readFloat()*n;switch(e.readByte()){case w:t.setStepped(s);break;case k:x(e,t,o++,s,0,r,u,i,c,n),x(e,t,o++,s,1,r,u,a,h,n)}r=u,i=c,a=h}return t}function x(e,t,n,r,i,a,s,o,l,u){t.setBezier(n,r,i,a,o,e.readFloat(),e.readFloat()*u,e.readFloat(),e.readFloat()*u,s,l)}!function(e){e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"}(a||(a={}));var w=1,k=2,M=function(){function e(t){i(this,e),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return r(e,[{key:"readSkeletonData",value:function(e){var t=this.scale,n=new d.SkeletonData;n.name="";var r=new T(e),i=r.readInt32(),a=r.readInt32();n.hash=0===a&&0===i?null:a.toString(16)+i.toString(16),n.version=r.readString(),n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat();var s=r.readBoolean();s&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString());var o=0;o=r.readInt(!0);for(var u=0;u<o;u++){var p=r.readString();if(!p)throw new Error("String in string table must not be null.");r.strings.push(p)}o=r.readInt(!0);for(var y=0;y<o;y++){var b=r.readString();if(!b)throw new Error("Bone name must not be null.");var _=0===y?null:n.bones[r.readInt(!0)],x=new l.BoneData(y,b,_);x.rotation=r.readFloat(),x.x=r.readFloat()*t,x.y=r.readFloat()*t,x.scaleX=r.readFloat(),x.scaleY=r.readFloat(),x.shearX=r.readFloat(),x.shearY=r.readFloat(),x.length=r.readFloat()*t,x.transformMode=r.readInt(!0),x.skinRequired=r.readBoolean(),s&&g.Color.rgba8888ToColor(x.color,r.readInt32()),n.bones.push(x)}o=r.readInt(!0);for(var w=0;w<o;w++){var k=r.readString();if(!k)throw new Error("Slot name must not be null.");var M=n.bones[r.readInt(!0)],S=new v.SlotData(w,k,M);g.Color.rgba8888ToColor(S.color,r.readInt32());var A=r.readInt32();-1!==A&&g.Color.rgb888ToColor(S.darkColor=new g.Color,A),S.attachmentName=r.readStringRef(),S.blendMode=r.readInt(!0),n.slots.push(S)}o=r.readInt(!0);for(var E,L=0;L<o;L++){var C=r.readString();if(!C)throw new Error("IK constraint data name must not be null.");var O=new h.IkConstraintData(C);O.order=r.readInt(!0),O.skinRequired=r.readBoolean(),E=r.readInt(!0);for(var P=0;P<E;P++)O.bones.push(n.bones[r.readInt(!0)]);O.target=n.bones[r.readInt(!0)],O.mix=r.readFloat(),O.softness=r.readFloat()*t,O.bendDirection=r.readByte(),O.compress=r.readBoolean(),O.stretch=r.readBoolean(),O.uniform=r.readBoolean(),n.ikConstraints.push(O)}o=r.readInt(!0);for(var I,N=0;N<o;N++){var R=r.readString();if(!R)throw new Error("Transform constraint data name must not be null.");var F=new m.TransformConstraintData(R);F.order=r.readInt(!0),F.skinRequired=r.readBoolean(),I=r.readInt(!0);for(var B=0;B<I;B++)F.bones.push(n.bones[r.readInt(!0)]);F.target=n.bones[r.readInt(!0)],F.local=r.readBoolean(),F.relative=r.readBoolean(),F.offsetRotation=r.readFloat(),F.offsetX=r.readFloat()*t,F.offsetY=r.readFloat()*t,F.offsetScaleX=r.readFloat(),F.offsetScaleY=r.readFloat(),F.offsetShearY=r.readFloat(),F.mixRotate=r.readFloat(),F.mixX=r.readFloat(),F.mixY=r.readFloat(),F.mixScaleX=r.readFloat(),F.mixScaleY=r.readFloat(),F.mixShearY=r.readFloat(),n.transformConstraints.push(F)}o=r.readInt(!0);for(var D,j=0;j<o;j++){var U=r.readString();if(!U)throw new Error("Path constraint data name must not be null.");var V=new f.PathConstraintData(U);V.order=r.readInt(!0),V.skinRequired=r.readBoolean(),D=r.readInt(!0);for(var G=0;G<D;G++)V.bones.push(n.bones[r.readInt(!0)]);V.target=n.slots[r.readInt(!0)],V.positionMode=r.readInt(!0),V.spacingMode=r.readInt(!0),V.rotateMode=r.readInt(!0),V.offsetRotation=r.readFloat(),V.position=r.readFloat(),V.positionMode===f.PositionMode.Fixed&&(V.position*=t),V.spacing=r.readFloat(),V.spacingMode!==f.SpacingMode.Length&&V.spacingMode!==f.SpacingMode.Fixed||(V.spacing*=t),V.mixRotate=r.readFloat(),V.mixX=r.readFloat(),V.mixY=r.readFloat(),n.pathConstraints.push(V)}var z=this.readSkin(r,n,!0,s);z&&(n.defaultSkin=z,n.skins.push(z));var W=n.skins.length;for(g.Utils.setArraySize(n.skins,o=W+r.readInt(!0));W<o;W++){var H=this.readSkin(r,n,!1,s);if(!H)throw new Error("readSkin() should not have returned null.");n.skins[W]=H}o=this.linkedMeshes.length;for(var Y=0;Y<o;Y++){var X=this.linkedMeshes[Y],q=X.skin?n.findSkin(X.skin):n.defaultSkin;if(!q)throw new Error("Not skin found for linked mesh.");if(!X.parent)throw new Error("Linked mesh parent must not be null");var $=q.getAttachment(X.slotIndex,X.parent);if(!$)throw new Error("Parent mesh not found: ".concat(X.parent));X.mesh.timelineAttachment=X.inheritTimeline?$:X.mesh,X.mesh.setParentMesh($),null!==X.mesh.region&&X.mesh.updateRegion()}this.linkedMeshes.length=0,o=r.readInt(!0);for(var K=0;K<o;K++){var Q=r.readStringRef();if(!Q)throw new Error;var Z=new c.EventData(Q);Z.intValue=r.readInt(!1),Z.floatValue=r.readFloat(),Z.stringValue=r.readString(),Z.audioPath=r.readString(),Z.audioPath&&(Z.volume=r.readFloat(),Z.balance=r.readFloat()),n.events.push(Z)}o=r.readInt(!0);for(var J=0;J<o;J++){var ee=r.readString();if(!ee)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(r,ee,n))}return n}},{key:"readSkin",value:function(e,t,n,r){var i=null,a=0;if(n){if(0===(a=e.readInt(!0)))return null;i=new p.Skin("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");(i=new p.Skin(s)).bones.length=e.readInt(!0);for(var o=0,l=i.bones.length;o<l;o++)i.bones[o]=t.bones[e.readInt(!0)];for(var u=0,c=e.readInt(!0);u<c;u++)i.constraints.push(t.ikConstraints[e.readInt(!0)]);for(var h=0,f=e.readInt(!0);h<f;h++)i.constraints.push(t.transformConstraints[e.readInt(!0)]);for(var d=0,v=e.readInt(!0);d<v;d++)i.constraints.push(t.pathConstraints[e.readInt(!0)]);a=e.readInt(!0)}for(var m=0;m<a;m++)for(var g=e.readInt(!0),y=0,b=e.readInt(!0);y<b;y++){var _=e.readStringRef();if(!_)throw new Error("Attachment name must not be null");var x=this.readAttachment(e,t,i,g,_,r);x&&i.setAttachment(g,_,x)}return i}},{key:"readAttachment",value:function(e,t,n,r,i,s){var o=this.scale,l=e.readStringRef();switch(l||(l=i),e.readByte()){case a.Region:var u=e.readStringRef(),c=e.readFloat(),h=e.readFloat(),f=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),m=e.readFloat(),y=e.readInt32(),b=this.readSequence(e);u||(u=l);var _=this.attachmentLoader.newRegionAttachment(n,l,u,b);return _?(_.path=u,_.x=h*o,_.y=f*o,_.scaleX=d,_.scaleY=p,_.rotation=c,_.width=v*o,_.height=m*o,g.Color.rgba8888ToColor(_.color,y),_.sequence=b,null===b&&_.updateRegion(),_):null;case a.BoundingBox:var x=e.readInt(!0),w=this.readVertices(e,x),k=s?e.readInt32():0,M=this.attachmentLoader.newBoundingBoxAttachment(n,l);return M?(M.worldVerticesLength=x<<1,M.vertices=w.vertices,M.bones=w.bones,s&&g.Color.rgba8888ToColor(M.color,k),M):null;case a.Mesh:var T=e.readStringRef(),A=e.readInt32(),E=e.readInt(!0),L=this.readFloatArray(e,E<<1,1),C=this.readShortArray(e),O=this.readVertices(e,E),P=e.readInt(!0),I=this.readSequence(e),N=[],R=0,F=0;s&&(N=this.readShortArray(e),R=e.readFloat(),F=e.readFloat()),T||(T=l);var B=this.attachmentLoader.newMeshAttachment(n,l,T,I);return B?(B.path=T,g.Color.rgba8888ToColor(B.color,A),B.bones=O.bones,B.vertices=O.vertices,B.worldVerticesLength=E<<1,B.triangles=C,B.regionUVs=L,null===I&&B.updateRegion(),B.hullLength=P<<1,B.sequence=I,s&&(B.edges=N,B.width=R*o,B.height=F*o),B):null;case a.LinkedMesh:var D=e.readStringRef(),j=e.readInt32(),U=e.readStringRef(),V=e.readStringRef(),G=e.readBoolean(),z=this.readSequence(e),W=0,H=0;s&&(W=e.readFloat(),H=e.readFloat()),D||(D=l);var Y=this.attachmentLoader.newMeshAttachment(n,l,D,z);return Y?(Y.path=D,g.Color.rgba8888ToColor(Y.color,j),Y.sequence=z,s&&(Y.width=W*o,Y.height=H*o),this.linkedMeshes.push(new S(Y,U,r,V,G)),Y):null;case a.Path:for(var X=e.readBoolean(),q=e.readBoolean(),$=e.readInt(!0),K=this.readVertices(e,$),Q=g.Utils.newArray($/3,0),Z=0,J=Q.length;Z<J;Z++)Q[Z]=e.readFloat()*o;var ee=s?e.readInt32():0,te=this.attachmentLoader.newPathAttachment(n,l);return te?(te.closed=X,te.constantSpeed=q,te.worldVerticesLength=$<<1,te.vertices=K.vertices,te.bones=K.bones,te.lengths=Q,s&&g.Color.rgba8888ToColor(te.color,ee),te):null;case a.Point:var ne=e.readFloat(),re=e.readFloat(),ie=e.readFloat(),ae=s?e.readInt32():0,se=this.attachmentLoader.newPointAttachment(n,l);return se?(se.x=re*o,se.y=ie*o,se.rotation=ne,s&&g.Color.rgba8888ToColor(se.color,ae),se):null;case a.Clipping:var oe=e.readInt(!0),le=e.readInt(!0),ue=this.readVertices(e,le),ce=s?e.readInt32():0,he=this.attachmentLoader.newClippingAttachment(n,l);return he?(he.endSlot=t.slots[oe],he.worldVerticesLength=le<<1,he.vertices=ue.vertices,he.bones=ue.bones,s&&g.Color.rgba8888ToColor(he.color,ce),he):null}return null}},{key:"readSequence",value:function(e){if(!e.readBoolean())return null;var t=new o.Sequence(e.readInt(!0));return t.start=e.readInt(!0),t.digits=e.readInt(!0),t.setupIndex=e.readInt(!0),t}},{key:"readVertices",value:function(e,t){var n=this.scale,r=t<<1,i=new y;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,r,n),i;for(var a=new Array,s=new Array,o=0;o<t;o++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),a.push(e.readFloat()*n),a.push(e.readFloat()*n),a.push(e.readFloat())}return i.vertices=g.Utils.toFloatArray(a),i.bones=s,i}},{key:"readFloatArray",value:function(e,t,n){var r=new Array(t);if(1===n)for(var i=0;i<t;i++)r[i]=e.readFloat();else for(var a=0;a<t;a++)r[a]=e.readFloat()*n;return r}},{key:"readShortArray",value:function(e){for(var t=e.readInt(!0),n=new Array(t),r=0;r<t;r++)n[r]=e.readShort();return n}},{key:"readAnimation",value:function(e,t,n){e.readInt(!0);for(var r=new Array,i=this.scale,a=(new g.Color,new g.Color,0),l=e.readInt(!0);a<l;a++)for(var c=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0),m=v-1;switch(p){case 0:for(var y=new s.AttachmentTimeline(v,c),M=0;M<v;M++)y.setFrame(M,e.readFloat(),e.readStringRef());r.push(y);break;case 1:for(var T=e.readInt(!0),S=new s.RGBATimeline(v,T,c),A=e.readFloat(),E=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,P=0,I=0;S.setFrame(P,A,E,L,C,O),P!==m;P++){var N=e.readFloat(),R=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255;switch(e.readByte()){case w:S.setStepped(P);break;case k:x(e,S,I++,P,0,A,N,E,R,1),x(e,S,I++,P,1,A,N,L,F,1),x(e,S,I++,P,2,A,N,C,B,1),x(e,S,I++,P,3,A,N,O,D,1)}A=N,E=R,L=F,C=B,O=D}r.push(S);break;case 2:for(var j=e.readInt(!0),U=new s.RGBTimeline(v,j,c),V=e.readFloat(),G=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255,H=0,Y=0;U.setFrame(H,V,G,z,W),H!==m;H++){var X=e.readFloat(),q=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,K=e.readUnsignedByte()/255;switch(e.readByte()){case w:U.setStepped(H);break;case k:x(e,U,Y++,H,0,V,X,G,q,1),x(e,U,Y++,H,1,V,X,z,$,1),x(e,U,Y++,H,2,V,X,W,K,1)}V=X,G=q,z=$,W=K}r.push(U);break;case 3:for(var Q=e.readInt(!0),Z=new s.RGBA2Timeline(v,Q,c),J=e.readFloat(),ee=e.readUnsignedByte()/255,te=e.readUnsignedByte()/255,ne=e.readUnsignedByte()/255,re=e.readUnsignedByte()/255,ie=e.readUnsignedByte()/255,ae=e.readUnsignedByte()/255,se=e.readUnsignedByte()/255,oe=0,le=0;Z.setFrame(oe,J,ee,te,ne,re,ie,ae,se),oe!==m;oe++){var ue=e.readFloat(),ce=e.readUnsignedByte()/255,he=e.readUnsignedByte()/255,fe=e.readUnsignedByte()/255,de=e.readUnsignedByte()/255,pe=e.readUnsignedByte()/255,ve=e.readUnsignedByte()/255,me=e.readUnsignedByte()/255;switch(e.readByte()){case w:Z.setStepped(oe);break;case k:x(e,Z,le++,oe,0,J,ue,ee,ce,1),x(e,Z,le++,oe,1,J,ue,te,he,1),x(e,Z,le++,oe,2,J,ue,ne,fe,1),x(e,Z,le++,oe,3,J,ue,re,de,1),x(e,Z,le++,oe,4,J,ue,ie,pe,1),x(e,Z,le++,oe,5,J,ue,ae,ve,1),x(e,Z,le++,oe,6,J,ue,se,me,1)}J=ue,ee=ce,te=he,ne=fe,re=de,ie=pe,ae=ve,se=me}r.push(Z);break;case 4:for(var ge=e.readInt(!0),ye=new s.RGB2Timeline(v,ge,c),be=e.readFloat(),_e=e.readUnsignedByte()/255,xe=e.readUnsignedByte()/255,we=e.readUnsignedByte()/255,ke=e.readUnsignedByte()/255,Me=e.readUnsignedByte()/255,Te=e.readUnsignedByte()/255,Se=0,Ae=0;ye.setFrame(Se,be,_e,xe,we,ke,Me,Te),Se!==m;Se++){var Ee=e.readFloat(),Le=e.readUnsignedByte()/255,Ce=e.readUnsignedByte()/255,Oe=e.readUnsignedByte()/255,Pe=e.readUnsignedByte()/255,Ie=e.readUnsignedByte()/255,Ne=e.readUnsignedByte()/255;switch(e.readByte()){case w:ye.setStepped(Se);break;case k:x(e,ye,Ae++,Se,0,be,Ee,_e,Le,1),x(e,ye,Ae++,Se,1,be,Ee,xe,Ce,1),x(e,ye,Ae++,Se,2,be,Ee,we,Oe,1),x(e,ye,Ae++,Se,3,be,Ee,ke,Pe,1),x(e,ye,Ae++,Se,4,be,Ee,Me,Ie,1),x(e,ye,Ae++,Se,5,be,Ee,Te,Ne,1)}be=Ee,_e=Le,xe=Ce,we=Oe,ke=Pe,Me=Ie,Te=Ne}r.push(ye);break;case 5:for(var Re=new s.AlphaTimeline(v,e.readInt(!0),c),Fe=e.readFloat(),Be=e.readUnsignedByte()/255,De=0,je=0;Re.setFrame(De,Fe,Be),De!==m;De++){var Ue=e.readFloat(),Ve=e.readUnsignedByte()/255;switch(e.readByte()){case w:Re.setStepped(De);break;case k:x(e,Re,je++,De,0,Fe,Ue,Be,Ve,1)}Fe=Ue,Be=Ve}r.push(Re)}}for(var Ge=0,ze=e.readInt(!0);Ge<ze;Ge++)for(var We=e.readInt(!0),He=0,Ye=e.readInt(!0);He<Ye;He++){var Xe=e.readByte(),qe=e.readInt(!0),$e=e.readInt(!0);switch(Xe){case 0:r.push(b(e,new s.RotateTimeline(qe,$e,We),1));break;case 1:r.push(_(e,new s.TranslateTimeline(qe,$e,We),i));break;case 2:r.push(b(e,new s.TranslateXTimeline(qe,$e,We),i));break;case 3:r.push(b(e,new s.TranslateYTimeline(qe,$e,We),i));break;case 4:r.push(_(e,new s.ScaleTimeline(qe,$e,We),1));break;case 5:r.push(b(e,new s.ScaleXTimeline(qe,$e,We),1));break;case 6:r.push(b(e,new s.ScaleYTimeline(qe,$e,We),1));break;case 7:r.push(_(e,new s.ShearTimeline(qe,$e,We),1));break;case 8:r.push(b(e,new s.ShearXTimeline(qe,$e,We),1));break;case 9:r.push(b(e,new s.ShearYTimeline(qe,$e,We),1))}}for(var Ke=0,Qe=e.readInt(!0);Ke<Qe;Ke++){for(var Ze=e.readInt(!0),Je=e.readInt(!0),et=Je-1,tt=new s.IkConstraintTimeline(Je,e.readInt(!0),Ze),nt=e.readFloat(),rt=e.readFloat(),it=e.readFloat()*i,at=0,st=0;tt.setFrame(at,nt,rt,it,e.readByte(),e.readBoolean(),e.readBoolean()),at!==et;at++){var ot=e.readFloat(),lt=e.readFloat(),ut=e.readFloat()*i;switch(e.readByte()){case w:tt.setStepped(at);break;case k:x(e,tt,st++,at,0,nt,ot,rt,lt,1),x(e,tt,st++,at,1,nt,ot,it,ut,i)}nt=ot,rt=lt,it=ut}r.push(tt)}for(var ct=0,ht=e.readInt(!0);ct<ht;ct++){for(var ft=e.readInt(!0),dt=e.readInt(!0),pt=dt-1,vt=new s.TransformConstraintTimeline(dt,e.readInt(!0),ft),mt=e.readFloat(),gt=e.readFloat(),yt=e.readFloat(),bt=e.readFloat(),_t=e.readFloat(),xt=e.readFloat(),wt=e.readFloat(),kt=0,Mt=0;vt.setFrame(kt,mt,gt,yt,bt,_t,xt,wt),kt!==pt;kt++){var Tt=e.readFloat(),St=e.readFloat(),At=e.readFloat(),Et=e.readFloat(),Lt=e.readFloat(),Ct=e.readFloat(),Ot=e.readFloat();switch(e.readByte()){case w:vt.setStepped(kt);break;case k:x(e,vt,Mt++,kt,0,mt,Tt,gt,St,1),x(e,vt,Mt++,kt,1,mt,Tt,yt,At,1),x(e,vt,Mt++,kt,2,mt,Tt,bt,Et,1),x(e,vt,Mt++,kt,3,mt,Tt,_t,Lt,1),x(e,vt,Mt++,kt,4,mt,Tt,xt,Ct,1),x(e,vt,Mt++,kt,5,mt,Tt,wt,Ot,1)}mt=Tt,gt=St,yt=At,bt=Et,_t=Lt,xt=Ct,wt=Ot}r.push(vt)}for(var Pt=0,It=e.readInt(!0);Pt<It;Pt++)for(var Nt=e.readInt(!0),Rt=n.pathConstraints[Nt],Ft=0,Bt=e.readInt(!0);Ft<Bt;Ft++)switch(e.readByte()){case 0:r.push(b(e,new s.PathConstraintPositionTimeline(e.readInt(!0),e.readInt(!0),Nt),Rt.positionMode===f.PositionMode.Fixed?i:1));break;case 1:r.push(b(e,new s.PathConstraintSpacingTimeline(e.readInt(!0),e.readInt(!0),Nt),Rt.spacingMode===f.SpacingMode.Length||Rt.spacingMode===f.SpacingMode.Fixed?i:1));break;case 2:for(var Dt=new s.PathConstraintMixTimeline(e.readInt(!0),e.readInt(!0),Nt),jt=e.readFloat(),Ut=e.readFloat(),Vt=e.readFloat(),Gt=e.readFloat(),zt=0,Wt=0,Ht=Dt.getFrameCount()-1;Dt.setFrame(zt,jt,Ut,Vt,Gt),zt!==Ht;zt++){var Yt=e.readFloat(),Xt=e.readFloat(),qt=e.readFloat(),$t=e.readFloat();switch(e.readByte()){case w:Dt.setStepped(zt);break;case k:x(e,Dt,Wt++,zt,0,jt,Yt,Ut,Xt,1),x(e,Dt,Wt++,zt,1,jt,Yt,Vt,qt,1),x(e,Dt,Wt++,zt,2,jt,Yt,Gt,$t,1)}jt=Yt,Ut=Xt,Vt=qt,Gt=$t}r.push(Dt)}for(var Kt=0,Qt=e.readInt(!0);Kt<Qt;Kt++)for(var Zt=n.skins[e.readInt(!0)],Jt=0,en=e.readInt(!0);Jt<en;Jt++)for(var tn=e.readInt(!0),nn=0,rn=e.readInt(!0);nn<rn;nn++){var an=e.readStringRef();if(!an)throw new Error("attachmentName must not be null.");var sn=Zt.getAttachment(tn,an),on=e.readByte(),ln=e.readInt(!0),un=ln-1;switch(on){case 0:for(var cn=sn,hn=cn.bones,fn=cn.vertices,dn=hn?fn.length/3*2:fn.length,pn=e.readInt(!0),vn=new s.DeformTimeline(ln,pn,tn,cn),mn=e.readFloat(),gn=0,yn=0;;gn++){var bn=void 0,_n=e.readInt(!0);if(0===_n)bn=hn?g.Utils.newFloatArray(dn):fn;else{bn=g.Utils.newFloatArray(dn);var xn=e.readInt(!0);if(_n+=xn,1===i)for(var wn=xn;wn<_n;wn++)bn[wn]=e.readFloat();else for(var kn=xn;kn<_n;kn++)bn[kn]=e.readFloat()*i;if(!hn)for(var Mn=0,Tn=bn.length;Mn<Tn;Mn++)bn[Mn]+=fn[Mn]}if(vn.setFrame(gn,mn,bn),gn===un)break;var Sn=e.readFloat();switch(e.readByte()){case w:vn.setStepped(gn);break;case k:x(e,vn,yn++,gn,0,mn,Sn,0,1,1)}mn=Sn}r.push(vn);break;case 1:for(var An=new s.SequenceTimeline(ln,tn,sn),En=0;En<ln;En++){var Ln=e.readFloat(),Cn=e.readInt32();An.setFrame(En,Ln,o.SequenceModeValues[15&Cn],Cn>>4,e.readFloat())}r.push(An)}}var On=e.readInt(!0);if(On>0){for(var Pn=new s.DrawOrderTimeline(On),In=n.slots.length,Nn=0;Nn<On;Nn++){for(var Rn=e.readFloat(),Fn=e.readInt(!0),Bn=g.Utils.newArray(In,0),Dn=In-1;Dn>=0;Dn--)Bn[Dn]=-1;for(var jn=g.Utils.newArray(In-Fn,0),Un=0,Vn=0,Gn=0;Gn<Fn;Gn++){for(var zn=e.readInt(!0);Un!==zn;)jn[Vn++]=Un++;Bn[Un+e.readInt(!0)]=Un++}for(;Un<In;)jn[Vn++]=Un++;for(var Wn=In-1;Wn>=0;Wn--)-1===Bn[Wn]&&(Bn[Wn]=jn[--Vn]);Pn.setFrame(Nn,Rn,Bn)}r.push(Pn)}var Hn=e.readInt(!0);if(Hn>0){for(var Yn=new s.EventTimeline(Hn),Xn=0;Xn<Hn;Xn++){var qn=e.readFloat(),$n=n.events[e.readInt(!0)],Kn=new u.Event(qn,$n);Kn.intValue=e.readInt(!1),Kn.floatValue=e.readFloat(),Kn.stringValue=e.readBoolean()?e.readString():$n.stringValue,Kn.data.audioPath&&(Kn.volume=e.readFloat(),Kn.balance=e.readFloat()),Yn.setFrame(Xn,Kn)}r.push(Yn)}for(var Qn=0,Zn=0,Jn=r.length;Zn<Jn;Zn++)Qn=Math.max(Qn,r[Zn].getDuration());return new s.Animation(t,r,Qn)}}]),e}();t.SkeletonBinary=M;var T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new DataView(t.buffer);i(this,e),this.strings=n,this.index=r,this.buffer=a}return r(e,[{key:"readByte",value:function(){return this.buffer.getInt8(this.index++)}},{key:"readUnsignedByte",value:function(){return this.buffer.getUint8(this.index++)}},{key:"readShort",value:function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e}},{key:"readInt32",value:function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e}},{key:"readInt",value:function(e){var t=this.readByte(),n=127&t;return 0!==(128&t)&&(n|=(127&(t=this.readByte()))<<7,0!==(128&t)&&(n|=(127&(t=this.readByte()))<<14,0!==(128&t)&&(n|=(127&(t=this.readByte()))<<21,0!==(128&t)&&(n|=(127&(t=this.readByte()))<<28)))),e?n:n>>>1^-(1&n)}},{key:"readStringRef",value:function(){var e=this.readInt(!0);return 0===e?null:this.strings[e-1]}},{key:"readString",value:function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var t="",n=0;n<e;){var r=this.readUnsignedByte();switch(r>>4){case 12:case 13:t+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:t+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:t+=String.fromCharCode(r),n++}}return t}},{key:"readFloat",value:function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e}},{key:"readBoolean",value:function(){return 0!==this.readByte()}}]),e}();t.BinaryInput=T;var S=r((function e(t,n,r,a,s){i(this,e),this.mesh=t,this.skin=n,this.slotIndex=r,this.parent=a,this.inheritTimeline=s}))},1164:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonBounds=void 0;var a=n(9374),s=n(4153),o=function(){function e(){r(this,e),this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new s.Pool((function(){return s.Utils.newFloatArray(16)}))}return i(e,[{key:"update",value:function(e,t){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,r=this.polygons,i=this.polygonPool,o=e.slots,l=o.length;n.length=0,i.freeAll(r),r.length=0;for(var u=0;u<l;u++){var c=o[u];if(c.bone.active){var h=c.getAttachment();if(h instanceof a.BoundingBoxAttachment){var f=h;n.push(f);var d=i.obtain();d.length!==f.worldVerticesLength&&(d=s.Utils.newFloatArray(f.worldVerticesLength)),r.push(d),f.computeWorldVertices(c,0,f.worldVerticesLength,d,0,2)}}}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}},{key:"aabbCompute",value:function(){for(var e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,a=0,s=i.length;a<s;a++)for(var o=i[a],l=o,u=0,c=o.length;u<c;u+=2){var h=l[u],f=l[u+1];e=Math.min(e,h),t=Math.min(t,f),n=Math.max(n,h),r=Math.max(r,f)}this.minX=e,this.minY=t,this.maxX=n,this.maxY=r}},{key:"aabbContainsPoint",value:function(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY}},{key:"aabbIntersectsSegment",value:function(e,t,n,r){var i=this.minX,a=this.minY,s=this.maxX,o=this.maxY;if(e<=i&&n<=i||t<=a&&r<=a||e>=s&&n>=s||t>=o&&r>=o)return!1;var l=(r-t)/(n-e),u=l*(i-e)+t;if(u>a&&u<o)return!0;if((u=l*(s-e)+t)>a&&u<o)return!0;var c=(a-t)/l+e;return c>i&&c<s||(c=(o-t)/l+e)>i&&c<s}},{key:"aabbIntersectsSkeleton",value:function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY}},{key:"containsPoint",value:function(e,t){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],e,t))return this.boundingBoxes[r];return null}},{key:"containsPointPolygon",value:function(e,t,n){for(var r=e,i=e.length,a=i-2,s=!1,o=0;o<i;o+=2){var l=r[o+1],u=r[a+1];if(l<n&&u>=n||u<n&&l>=n){var c=r[o];c+(n-l)/(u-l)*(r[a]-c)<t&&(s=!s)}a=o}return s}},{key:"intersectsSegment",value:function(e,t,n,r){for(var i=this.polygons,a=0,s=i.length;a<s;a++)if(this.intersectsSegmentPolygon(i[a],e,t,n,r))return this.boundingBoxes[a];return null}},{key:"intersectsSegmentPolygon",value:function(e,t,n,r,i){for(var a=e,s=e.length,o=t-r,l=n-i,u=t*i-n*r,c=a[s-2],h=a[s-1],f=0;f<s;f+=2){var d=a[f],p=a[f+1],v=c*p-h*d,m=c-d,g=h-p,y=o*g-l*m,b=(u*m-o*v)/y;if((b>=c&&b<=d||b>=d&&b<=c)&&(b>=t&&b<=r||b>=r&&b<=t)){var _=(u*g-l*v)/y;if((_>=h&&_<=p||_>=p&&_<=h)&&(_>=n&&_<=i||_>=i&&_<=n))return!0}c=d,h=p}return!1}},{key:"getPolygon",value:function(e){if(!e)throw new Error("boundingBox cannot be null.");var t=this.boundingBoxes.indexOf(e);return-1===t?null:this.polygons[t]}},{key:"getWidth",value:function(){return this.maxX-this.minX}},{key:"getHeight",value:function(){return this.maxY-this.minY}}]),e}();t.SkeletonBounds=o},3461:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonClipping=void 0;var a=n(9438),s=n(4153),o=function(){function e(){r(this,e),this.triangulator=new a.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array,this.clipAttachment=null,this.clippingPolygons=null}return i(e,[{key:"clipStart",value:function(t,n){if(this.clipAttachment)return 0;this.clipAttachment=n;var r=n.worldVerticesLength,i=s.Utils.setArraySize(this.clippingPolygon,r);n.computeWorldVertices(t,0,r,i,0,2);var a=this.clippingPolygon;e.makeClockwise(a);for(var o=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a)),l=0,u=o.length;l<u;l++){var c=o[l];e.makeClockwise(c),c.push(c[0]),c.push(c[1])}return o.length}},{key:"clipEndWithSlot",value:function(e){this.clipAttachment&&this.clipAttachment.endSlot===e.data&&this.clipEnd()}},{key:"clipEnd",value:function(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}},{key:"isClipping",value:function(){return null!==this.clipAttachment}},{key:"clipTriangles",value:function(e,t,n,r,i,a,o,l){var u=this.clipOutput,c=this.clippedVertices,h=this.clippedTriangles,f=this.clippingPolygons,d=f.length,p=l?12:8,v=0;c.length=0,h.length=0;e:for(var m=0;m<r;m+=3)for(var g=n[m]<<1,y=e[g],b=e[g+1],_=i[g],x=i[g+1],w=e[g=n[m+1]<<1],k=e[g+1],M=i[g],T=i[g+1],S=e[g=n[m+2]<<1],A=e[g+1],E=i[g],L=i[g+1],C=0;C<d;C++){var O=c.length;if(!this.clip(y,b,w,k,S,A,f[C],u)){var P=s.Utils.setArraySize(c,O+3*p);P[O]=y,P[O+1]=b,P[O+2]=a.r,P[O+3]=a.g,P[O+4]=a.b,P[O+5]=a.a,l?(P[O+6]=_,P[O+7]=x,P[O+8]=o.r,P[O+9]=o.g,P[O+10]=o.b,P[O+11]=o.a,P[O+12]=w,P[O+13]=k,P[O+14]=a.r,P[O+15]=a.g,P[O+16]=a.b,P[O+17]=a.a,P[O+18]=M,P[O+19]=T,P[O+20]=o.r,P[O+21]=o.g,P[O+22]=o.b,P[O+23]=o.a,P[O+24]=S,P[O+25]=A,P[O+26]=a.r,P[O+27]=a.g,P[O+28]=a.b,P[O+29]=a.a,P[O+30]=E,P[O+31]=L,P[O+32]=o.r,P[O+33]=o.g,P[O+34]=o.b,P[O+35]=o.a):(P[O+6]=_,P[O+7]=x,P[O+8]=w,P[O+9]=k,P[O+10]=a.r,P[O+11]=a.g,P[O+12]=a.b,P[O+13]=a.a,P[O+14]=M,P[O+15]=T,P[O+16]=S,P[O+17]=A,P[O+18]=a.r,P[O+19]=a.g,P[O+20]=a.b,P[O+21]=a.a,P[O+22]=E,P[O+23]=L),O=h.length;var I=s.Utils.setArraySize(h,O+3);I[O]=v,I[O+1]=v+1,I[O+2]=v+2,v+=3;continue e}var N=u.length;if(0!==N){for(var R=k-A,F=S-w,B=y-S,D=A-b,j=1/(R*B+F*(b-A)),U=N>>1,V=this.clipOutput,G=s.Utils.setArraySize(c,O+U*p),z=0;z<N;z+=2){var W=V[z],H=V[z+1];G[O]=W,G[O+1]=H,G[O+2]=a.r,G[O+3]=a.g,G[O+4]=a.b,G[O+5]=a.a;var Y=W-S,X=H-A,q=(R*Y+F*X)*j,$=(D*Y+B*X)*j,K=1-q-$;G[O+6]=_*q+M*$+E*K,G[O+7]=x*q+T*$+L*K,l&&(G[O+8]=o.r,G[O+9]=o.g,G[O+10]=o.b,G[O+11]=o.a),O+=p}O=h.length;var Q=s.Utils.setArraySize(h,O+3*(U-2));U--;for(var Z=1;Z<U;Z++)Q[O]=v,Q[O+1]=v+Z,Q[O+2]=v+Z+1,O+=3;v+=U+1}}}},{key:"clip",value:function(e,t,n,r,i,a,s,o){var l,u=o,c=!1;s.length%4>=2?(l=o,o=this.scratch):l=this.scratch,l.length=0,l.push(e),l.push(t),l.push(n),l.push(r),l.push(i),l.push(a),l.push(e),l.push(t),o.length=0;for(var h=s,f=s.length-4,d=0;;d+=2){for(var p=h[d],v=h[d+1],m=h[d+2],g=h[d+3],y=p-m,b=v-g,_=l,x=l.length-2,w=o.length,k=0;k<x;k+=2){var M=_[k],T=_[k+1],S=_[k+2],A=_[k+3],E=y*(A-g)-b*(S-m)>0;if(y*(T-g)-b*(M-m)>0){if(E){o.push(S),o.push(A);continue}var L=A-T,C=S-M,O=L*(m-p)-C*(g-v);if(Math.abs(O)>1e-6){var P=(C*(v-T)-L*(p-M))/O;o.push(p+(m-p)*P),o.push(v+(g-v)*P)}else o.push(p),o.push(v)}else if(E){var I=A-T,N=S-M,R=I*(m-p)-N*(g-v);if(Math.abs(R)>1e-6){var F=(N*(v-T)-I*(p-M))/R;o.push(p+(m-p)*F),o.push(v+(g-v)*F)}else o.push(p),o.push(v);o.push(S),o.push(A)}c=!0}if(w===o.length)return u.length=0,!0;if(o.push(o[0]),o.push(o[1]),d===f)break;var B=o;(o=l).length=0,l=B}if(u!==o){u.length=0;for(var D=0,j=o.length-2;D<j;D++)u[D]=o[D]}else u.length=u.length-2;return c}}],[{key:"makeClockwise",value:function(e){for(var t=e,n=e.length,r=t[n-2]*t[1]-t[0]*t[n-1],i=0,a=0,s=0,o=0,l=n-3;o<l;o+=2)i=t[o],a=t[o+1],s=t[o+2],r+=i*t[o+3]-s*a;if(!(r<0))for(var u=0,c=n-2,h=n>>1;u<h;u+=2){var f=t[u],d=t[u+1],p=c-u;t[u]=t[p],t[u+1]=t[p+1],t[p]=f,t[p+1]=d}}}]),e}();t.SkeletonClipping=o},2032:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonData=void 0;var a=function(){function e(){r(this,e),this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return i(e,[{key:"findBone",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name===e)return i}return null}},{key:"findSlot",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name===e)return i}return null}},{key:"findSkin",value:function(e){if(!e)throw new Error("skinName cannot be null.");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name===e)return i}return null}},{key:"findEvent",value:function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name===e)return i}return null}},{key:"findAnimation",value:function(e){if(!e)throw new Error("animationName cannot be null.");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name===e)return i}return null}},{key:"findIkConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name===e)return i}return null}},{key:"findTransformConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name===e)return i}return null}},{key:"findPathConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name===e)return i}return null}}]),e}();t.SkeletonData=a},6859:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonJson=void 0;var a=n(9889),s=n(196),o=n(4013),l=n(300),u=n(8155),c=n(9841),h=n(2032),f=n(3099),d=n(3605),p=n(7841),v=n(4153),m=n(6436),g=n(9889),y=function(){function e(t){r(this,e),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return i(e,[{key:"readSkeletonData",value:function(e){var t=this.scale,n=new h.SkeletonData,r="string"===typeof e?JSON.parse(e):e,i=r.skeleton;if(i&&(n.hash=i.hash,n.version=i.spine,n.x=i.x,n.y=i.y,n.width=i.width,n.height=i.height,n.fps=i.fps,n.imagesPath=i.images),r.bones)for(var a=0;a<r.bones.length;a++){var l=r.bones[a],m=null,g=k(l,"parent",null);g&&(m=n.findBone(g));var y=new s.BoneData(n.bones.length,l.name,m);y.length=k(l,"length",0)*t,y.x=k(l,"x",0)*t,y.y=k(l,"y",0)*t,y.rotation=k(l,"rotation",0),y.scaleX=k(l,"scaleX",1),y.scaleY=k(l,"scaleY",1),y.shearX=k(l,"shearX",0),y.shearY=k(l,"shearY",0),y.transformMode=v.Utils.enumValue(s.TransformMode,k(l,"transform","Normal")),y.skinRequired=k(l,"skin",!1);var b=k(l,"color",null);b&&y.color.setFromString(b),n.bones.push(y)}if(r.slots)for(var _=0;_<r.slots.length;_++){var x=r.slots[_],w=n.findBone(x.bone);if(!w)throw new Error("Couldn't find bone ".concat(x.bone," for slot ").concat(x.name));var M=new d.SlotData(n.slots.length,x.name,w),T=k(x,"color",null);T&&M.color.setFromString(T);var S=k(x,"dark",null);S&&(M.darkColor=v.Color.fromString(S)),M.attachmentName=k(x,"attachment",null),M.blendMode=v.Utils.enumValue(d.BlendMode,k(x,"blend","normal")),n.slots.push(M)}if(r.ik)for(var A=0;A<r.ik.length;A++){var E=r.ik[A],L=new u.IkConstraintData(E.name);L.order=k(E,"order",0),L.skinRequired=k(E,"skin",!1);for(var C=0;C<E.bones.length;C++){var O=n.findBone(E.bones[C]);if(!O)throw new Error("Couldn't find bone ".concat(E.bones[C]," for IK constraint ").concat(E.name,"."));L.bones.push(O)}var P=n.findBone(E.target);if(!P)throw new Error("Couldn't find target bone ".concat(E.target," for IK constraint ").concat(E.name,"."));L.target=P,L.mix=k(E,"mix",1),L.softness=k(E,"softness",0)*t,L.bendDirection=k(E,"bendPositive",!0)?1:-1,L.compress=k(E,"compress",!1),L.stretch=k(E,"stretch",!1),L.uniform=k(E,"uniform",!1),n.ikConstraints.push(L)}if(r.transform)for(var I=0;I<r.transform.length;I++){var N=r.transform[I],R=new p.TransformConstraintData(N.name);R.order=k(N,"order",0),R.skinRequired=k(N,"skin",!1);for(var F=0;F<N.bones.length;F++){var B=N.bones[F],D=n.findBone(B);if(!D)throw new Error("Couldn't find bone ".concat(B," for transform constraint ").concat(N.name,"."));R.bones.push(D)}var j=N.target,U=n.findBone(j);if(!U)throw new Error("Couldn't find target bone ".concat(j," for transform constraint ").concat(N.name,"."));R.target=U,R.local=k(N,"local",!1),R.relative=k(N,"relative",!1),R.offsetRotation=k(N,"rotation",0),R.offsetX=k(N,"x",0)*t,R.offsetY=k(N,"y",0)*t,R.offsetScaleX=k(N,"scaleX",0),R.offsetScaleY=k(N,"scaleY",0),R.offsetShearY=k(N,"shearY",0),R.mixRotate=k(N,"mixRotate",1),R.mixX=k(N,"mixX",1),R.mixY=k(N,"mixY",R.mixX),R.mixScaleX=k(N,"mixScaleX",1),R.mixScaleY=k(N,"mixScaleY",R.mixScaleX),R.mixShearY=k(N,"mixShearY",1),n.transformConstraints.push(R)}if(r.path)for(var V=0;V<r.path.length;V++){var G=r.path[V],z=new c.PathConstraintData(G.name);z.order=k(G,"order",0),z.skinRequired=k(G,"skin",!1);for(var W=0;W<G.bones.length;W++){var H=G.bones[W],Y=n.findBone(H);if(!Y)throw new Error("Couldn't find bone ".concat(H," for path constraint ").concat(G.name,"."));z.bones.push(Y)}var X=G.target,q=n.findSlot(X);if(!q)throw new Error("Couldn't find target slot ".concat(X," for path constraint ").concat(G.name,"."));z.target=q,z.positionMode=v.Utils.enumValue(c.PositionMode,k(G,"positionMode","Percent")),z.spacingMode=v.Utils.enumValue(c.SpacingMode,k(G,"spacingMode","Length")),z.rotateMode=v.Utils.enumValue(c.RotateMode,k(G,"rotateMode","Tangent")),z.offsetRotation=k(G,"rotation",0),z.position=k(G,"position",0),z.positionMode===c.PositionMode.Fixed&&(z.position*=t),z.spacing=k(G,"spacing",0),z.spacingMode!==c.SpacingMode.Length&&z.spacingMode!==c.SpacingMode.Fixed||(z.spacing*=t),z.mixRotate=k(G,"mixRotate",1),z.mixX=k(G,"mixX",1),z.mixY=k(G,"mixY",z.mixX),n.pathConstraints.push(z)}if(r.skins)for(var $=0;$<r.skins.length;$++){var K=r.skins[$],Q=new f.Skin(K.name);if(K.bones)for(var Z=0;Z<K.bones.length;Z++){var J=K.bones[Z],ee=n.findBone(J);if(!ee)throw new Error("Couldn't find bone ".concat(J," for skin ").concat(K.name,"."));Q.bones.push(ee)}if(K.ik)for(var te=0;te<K.ik.length;te++){var ne=K.ik[te],re=n.findIkConstraint(ne);if(!re)throw new Error("Couldn't find IK constraint ".concat(ne," for skin ").concat(K.name,"."));Q.constraints.push(re)}if(K.transform)for(var ie=0;ie<K.transform.length;ie++){var ae=K.transform[ie],se=n.findTransformConstraint(ae);if(!se)throw new Error("Couldn't find transform constraint ".concat(ae," for skin ").concat(K.name,"."));Q.constraints.push(se)}if(K.path)for(var oe=0;oe<K.path.length;oe++){var le=K.path[oe],ue=n.findPathConstraint(le);if(!ue)throw new Error("Couldn't find path constraint ".concat(le," for skin ").concat(K.name,"."));Q.constraints.push(ue)}for(var ce in K.attachments){var he=n.findSlot(ce);if(!he)throw new Error("Couldn't find slot ".concat(ce," for skin ").concat(K.name,"."));var fe=K.attachments[ce];for(var de in fe){var pe=this.readAttachment(fe[de],Q,he.index,de,n);pe&&Q.setAttachment(he.index,de,pe)}}n.skins.push(Q),"default"===Q.name&&(n.defaultSkin=Q)}for(var ve=0,me=this.linkedMeshes.length;ve<me;ve++){var ge=this.linkedMeshes[ve],ye=ge.skin?n.findSkin(ge.skin):n.defaultSkin;if(!ye)throw new Error("Skin not found: ".concat(ge.skin));var be=ye.getAttachment(ge.slotIndex,ge.parent);if(!be)throw new Error("Parent mesh not found: ".concat(ge.parent));ge.mesh.timelineAttachment=ge.inheritTimeline?be:ge.mesh,ge.mesh.setParentMesh(be),null!==ge.mesh.region&&ge.mesh.updateRegion()}if(this.linkedMeshes.length=0,r.events)for(var _e in r.events){var xe=r.events[_e],we=new o.EventData(_e);we.intValue=k(xe,"int",0),we.floatValue=k(xe,"float",0),we.stringValue=k(xe,"string",""),we.audioPath=k(xe,"audio",null),we.audioPath&&(we.volume=k(xe,"volume",1),we.balance=k(xe,"balance",0)),n.events.push(we)}if(r.animations)for(var ke in r.animations){var Me=r.animations[ke];this.readAnimation(Me,ke,n)}return n}},{key:"readAttachment",value:function(e,t,n,r,i){var a=this.scale;switch(r=k(e,"name",r),k(e,"type","region")){case"region":var s=k(e,"path",r),o=this.readSequence(k(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(t,r,s,o);if(!l)return null;l.path=s,l.x=k(e,"x",0)*a,l.y=k(e,"y",0)*a,l.scaleX=k(e,"scaleX",1),l.scaleY=k(e,"scaleY",1),l.rotation=k(e,"rotation",0),l.width=e.width*a,l.height=e.height*a,l.sequence=o;var u=k(e,"color",null);return u&&l.color.setFromString(u),null!==l.region&&l.updateRegion(),l;case"boundingbox":var c=this.attachmentLoader.newBoundingBoxAttachment(t,r);if(!c)return null;this.readVertices(e,c,e.vertexCount<<1);var h=k(e,"color",null);return h&&c.color.setFromString(h),c;case"mesh":case"linkedmesh":var f=k(e,"path",r),d=this.readSequence(k(e,"sequence",null)),p=this.attachmentLoader.newMeshAttachment(t,r,f,d);if(!p)return null;p.path=f;var m=k(e,"color",null);m&&p.color.setFromString(m),p.width=k(e,"width",0)*a,p.height=k(e,"height",0)*a,p.sequence=d;var g=k(e,"parent",null);if(g)return this.linkedMeshes.push(new b(p,k(e,"skin",null),n,g,k(e,"timelines",!0))),p;var y=e.uvs;return this.readVertices(e,p,y.length),p.triangles=e.triangles,p.regionUVs=y,null!==p.region&&p.updateRegion(),p.edges=k(e,"edges",null),p.hullLength=2*k(e,"hull",0),p;case"path":var _=this.attachmentLoader.newPathAttachment(t,r);if(!_)return null;_.closed=k(e,"closed",!1),_.constantSpeed=k(e,"constantSpeed",!0);var x=e.vertexCount;this.readVertices(e,_,x<<1);for(var w=v.Utils.newArray(x/3,0),M=0;M<e.lengths.length;M++)w[M]=e.lengths[M]*a;_.lengths=w;var T=k(e,"color",null);return T&&_.color.setFromString(T),_;case"point":var S=this.attachmentLoader.newPointAttachment(t,r);if(!S)return null;S.x=k(e,"x",0)*a,S.y=k(e,"y",0)*a,S.rotation=k(e,"rotation",0);var A=k(e,"color",null);return A&&S.color.setFromString(A),S;case"clipping":var E=this.attachmentLoader.newClippingAttachment(t,r);if(!E)return null;var L=k(e,"end",null);L&&(E.endSlot=i.findSlot(L));var C=e.vertexCount;this.readVertices(e,E,C<<1);var O=k(e,"color",null);return O&&E.color.setFromString(O),E}return null}},{key:"readSequence",value:function(e){if(null===e)return null;var t=new m.Sequence(k(e,"count",0));return t.start=k(e,"start",1),t.digits=k(e,"digits",0),t.setupIndex=k(e,"setup",0),t}},{key:"readVertices",value:function(e,t,n){var r=this.scale;t.worldVerticesLength=n;var i=e.vertices;if(n!==i.length){for(var a=new Array,s=new Array,o=0,l=i.length;o<l;){var u=i[o++];s.push(u);for(var c=o+4*u;o<c;o+=4)s.push(i[o]),a.push(i[o+1]*r),a.push(i[o+2]*r),a.push(i[o+3])}t.bones=s,t.vertices=v.Utils.toFloatArray(a)}else{var h=v.Utils.toFloatArray(i);if(1!==r)for(var f=0,d=i.length;f<d;f++)h[f]*=r;t.vertices=h}}},{key:"readAnimation",value:function(e,t,n){var r=this.scale,i=new Array;if(e.slots)for(var s in e.slots){var o=e.slots[s],u=n.findSlot(s);if(!u)throw new Error("Slot not found: "+s);var h=u.index;for(var f in o){var d=o[f];if(d){var p=d.length;if("attachment"===f){for(var y=new a.AttachmentTimeline(p,h),b=0;b<p;b++){var M=d[b];y.setFrame(b,k(M,"time",0),k(M,"name",null))}i.push(y)}else if("rgba"===f){for(var T=new a.RGBATimeline(p,p<<2,h),S=d[0],A=k(S,"time",0),E=v.Color.fromString(S.color),L=0,C=0;;L++){T.setFrame(L,A,E.r,E.g,E.b,E.a);var O=d[L+1];if(!O){T.shrink(C);break}var P=k(O,"time",0),I=v.Color.fromString(O.color),N=S.curve;N&&(C=w(N,T,C,L,0,A,P,E.r,I.r,1),C=w(N,T,C,L,1,A,P,E.g,I.g,1),C=w(N,T,C,L,2,A,P,E.b,I.b,1),C=w(N,T,C,L,3,A,P,E.a,I.a,1)),A=P,E=I,S=O}i.push(T)}else if("rgb"===f){for(var R=new a.RGBTimeline(p,3*p,h),F=d[0],B=k(F,"time",0),D=v.Color.fromString(F.color),j=0,U=0;;j++){R.setFrame(j,B,D.r,D.g,D.b);var V=d[j+1];if(!V){R.shrink(U);break}var G=k(V,"time",0),z=v.Color.fromString(V.color),W=F.curve;W&&(U=w(W,R,U,j,0,B,G,D.r,z.r,1),U=w(W,R,U,j,1,B,G,D.g,z.g,1),U=w(W,R,U,j,2,B,G,D.b,z.b,1)),B=G,D=z,F=V}i.push(R)}else if("alpha"===f)i.push(_(d,new a.AlphaTimeline(p,p,h),0,1));else if("rgba2"===f){for(var H=new a.RGBA2Timeline(p,7*p,h),Y=d[0],X=k(Y,"time",0),q=v.Color.fromString(Y.light),$=v.Color.fromString(Y.dark),K=0,Q=0;;K++){H.setFrame(K,X,q.r,q.g,q.b,q.a,$.r,$.g,$.b);var Z=d[K+1];if(!Z){H.shrink(Q);break}var J=k(Z,"time",0),ee=v.Color.fromString(Z.light),te=v.Color.fromString(Z.dark),ne=Y.curve;ne&&(Q=w(ne,H,Q,K,0,X,J,q.r,ee.r,1),Q=w(ne,H,Q,K,1,X,J,q.g,ee.g,1),Q=w(ne,H,Q,K,2,X,J,q.b,ee.b,1),Q=w(ne,H,Q,K,3,X,J,q.a,ee.a,1),Q=w(ne,H,Q,K,4,X,J,$.r,te.r,1),Q=w(ne,H,Q,K,5,X,J,$.g,te.g,1),Q=w(ne,H,Q,K,6,X,J,$.b,te.b,1)),X=J,q=ee,$=te,Y=Z}i.push(H)}else if("rgb2"===f){for(var re=new a.RGB2Timeline(p,6*p,h),ie=d[0],ae=k(ie,"time",0),se=v.Color.fromString(ie.light),oe=v.Color.fromString(ie.dark),le=0,ue=0;;le++){re.setFrame(le,ae,se.r,se.g,se.b,oe.r,oe.g,oe.b);var ce=d[le+1];if(!ce){re.shrink(ue);break}var he=k(ce,"time",0),fe=v.Color.fromString(ce.light),de=v.Color.fromString(ce.dark),pe=ie.curve;pe&&(ue=w(pe,re,ue,le,0,ae,he,se.r,fe.r,1),ue=w(pe,re,ue,le,1,ae,he,se.g,fe.g,1),ue=w(pe,re,ue,le,2,ae,he,se.b,fe.b,1),ue=w(pe,re,ue,le,3,ae,he,oe.r,de.r,1),ue=w(pe,re,ue,le,4,ae,he,oe.g,de.g,1),ue=w(pe,re,ue,le,5,ae,he,oe.b,de.b,1)),ae=he,se=fe,oe=de,ie=ce}i.push(re)}}}}if(e.bones)for(var ve in e.bones){var me=e.bones[ve],ge=n.findBone(ve);if(!ge)throw new Error("Bone not found: "+ve);var ye=ge.index;for(var be in me){var _e=me[be],xe=_e.length;if(0!==xe)if("rotate"===be)i.push(_(_e,new a.RotateTimeline(xe,xe,ye),0,1));else if("translate"===be){var we=new a.TranslateTimeline(xe,xe<<1,ye);i.push(x(_e,we,"x","y",0,r))}else if("translatex"===be){var ke=new a.TranslateXTimeline(xe,xe,ye);i.push(_(_e,ke,0,r))}else if("translatey"===be){var Me=new a.TranslateYTimeline(xe,xe,ye);i.push(_(_e,Me,0,r))}else if("scale"===be){var Te=new a.ScaleTimeline(xe,xe<<1,ye);i.push(x(_e,Te,"x","y",1,1))}else if("scalex"===be){var Se=new a.ScaleXTimeline(xe,xe,ye);i.push(_(_e,Se,1,1))}else if("scaley"===be){var Ae=new a.ScaleYTimeline(xe,xe,ye);i.push(_(_e,Ae,1,1))}else if("shear"===be){var Ee=new a.ShearTimeline(xe,xe<<1,ye);i.push(x(_e,Ee,"x","y",0,1))}else if("shearx"===be){var Le=new a.ShearXTimeline(xe,xe,ye);i.push(_(_e,Le,0,1))}else if("sheary"===be){var Ce=new a.ShearYTimeline(xe,xe,ye);i.push(_(_e,Ce,0,1))}}}if(e.ik)for(var Oe in e.ik){var Pe=e.ik[Oe],Ie=Pe[0];if(Ie){var Ne=n.findIkConstraint(Oe);if(!Ne)throw new Error("IK Constraint not found: "+Oe);for(var Re=n.ikConstraints.indexOf(Ne),Fe=new a.IkConstraintTimeline(Pe.length,Pe.length<<1,Re),Be=k(Ie,"time",0),De=k(Ie,"mix",1),je=k(Ie,"softness",0)*r,Ue=0,Ve=0;;Ue++){Fe.setFrame(Ue,Be,De,je,k(Ie,"bendPositive",!0)?1:-1,k(Ie,"compress",!1),k(Ie,"stretch",!1));var Ge=Pe[Ue+1];if(!Ge){Fe.shrink(Ve);break}var ze=k(Ge,"time",0),We=k(Ge,"mix",1),He=k(Ge,"softness",0)*r,Ye=Ie.curve;Ye&&(Ve=w(Ye,Fe,Ve,Ue,0,Be,ze,De,We,1),Ve=w(Ye,Fe,Ve,Ue,1,Be,ze,je,He,r)),Be=ze,De=We,je=He,Ie=Ge}i.push(Fe)}}if(e.transform)for(var Xe in e.transform){var qe=e.transform[Xe],$e=qe[0];if($e){var Ke=n.findTransformConstraint(Xe);if(!Ke)throw new Error("Transform constraint not found: "+Xe);for(var Qe=n.transformConstraints.indexOf(Ke),Ze=new a.TransformConstraintTimeline(qe.length,6*qe.length,Qe),Je=k($e,"time",0),et=k($e,"mixRotate",1),tt=k($e,"mixX",1),nt=k($e,"mixY",tt),rt=k($e,"mixScaleX",1),it=k($e,"mixScaleY",rt),at=k($e,"mixShearY",1),st=0,ot=0;;st++){Ze.setFrame(st,Je,et,tt,nt,rt,it,at);var lt=qe[st+1];if(!lt){Ze.shrink(ot);break}var ut=k(lt,"time",0),ct=k(lt,"mixRotate",1),ht=k(lt,"mixX",1),ft=k(lt,"mixY",ht),dt=k(lt,"mixScaleX",1),pt=k(lt,"mixScaleY",dt),vt=k(lt,"mixShearY",1),mt=$e.curve;mt&&(ot=w(mt,Ze,ot,st,0,Je,ut,et,ct,1),ot=w(mt,Ze,ot,st,1,Je,ut,tt,ht,1),ot=w(mt,Ze,ot,st,2,Je,ut,nt,ft,1),ot=w(mt,Ze,ot,st,3,Je,ut,rt,dt,1),ot=w(mt,Ze,ot,st,4,Je,ut,it,pt,1),ot=w(mt,Ze,ot,st,5,Je,ut,at,vt,1)),Je=ut,et=ct,tt=ht,nt=ft,rt=dt,it=pt,rt=dt,$e=lt}i.push(Ze)}}if(e.path)for(var gt in e.path){var yt=e.path[gt],bt=n.findPathConstraint(gt);if(!bt)throw new Error("Path constraint not found: "+gt);var _t=n.pathConstraints.indexOf(bt);for(var xt in yt){var wt=yt[xt],kt=wt[0];if(kt){var Mt=wt.length;if("position"===xt){var Tt=new a.PathConstraintPositionTimeline(Mt,Mt,_t);i.push(_(wt,Tt,0,bt.positionMode===c.PositionMode.Fixed?r:1))}else if("spacing"===xt){var St=new a.PathConstraintSpacingTimeline(Mt,Mt,_t);i.push(_(wt,St,0,bt.spacingMode===c.SpacingMode.Length||bt.spacingMode===c.SpacingMode.Fixed?r:1))}else if("mix"===xt){for(var At=new a.PathConstraintMixTimeline(Mt,3*Mt,_t),Et=k(kt,"time",0),Lt=k(kt,"mixRotate",1),Ct=k(kt,"mixX",1),Ot=k(kt,"mixY",Ct),Pt=0,It=0;;Pt++){At.setFrame(Pt,Et,Lt,Ct,Ot);var Nt=wt[Pt+1];if(!Nt){At.shrink(It);break}var Rt=k(Nt,"time",0),Ft=k(Nt,"mixRotate",1),Bt=k(Nt,"mixX",1),Dt=k(Nt,"mixY",Bt),jt=kt.curve;jt&&(It=w(jt,At,It,Pt,0,Et,Rt,Lt,Ft,1),It=w(jt,At,It,Pt,1,Et,Rt,Ct,Bt,1),It=w(jt,At,It,Pt,2,Et,Rt,Ot,Dt,1)),Et=Rt,Lt=Ft,Ct=Bt,Ot=Dt,kt=Nt}i.push(At)}}}}if(e.attachments)for(var Ut in e.attachments){var Vt=e.attachments[Ut],Gt=n.findSkin(Ut);if(!Gt)throw new Error("Skin not found: "+Ut);for(var zt in Vt){var Wt=Vt[zt],Ht=n.findSlot(zt);if(!Ht)throw new Error("Slot not found: "+zt);var Yt=Ht.index;for(var Xt in Wt){var qt=Wt[Xt],$t=Gt.getAttachment(Yt,Xt);for(var Kt in qt){var Qt=qt[Kt],Zt=Qt[0];if(Zt)if("deform"===Kt){for(var Jt=$t.bones,en=$t.vertices,tn=Jt?en.length/3*2:en.length,nn=new a.DeformTimeline(Qt.length,Qt.length,Yt,$t),rn=k(Zt,"time",0),an=0,sn=0;;an++){var on=void 0,ln=k(Zt,"vertices",null);if(ln){on=v.Utils.newFloatArray(tn);var un=k(Zt,"offset",0);if(v.Utils.arrayCopy(ln,0,on,un,ln.length),1!==r)for(var cn=un,hn=cn+ln.length;cn<hn;cn++)on[cn]*=r;if(!Jt)for(var fn=0;fn<tn;fn++)on[fn]+=en[fn]}else on=Jt?v.Utils.newFloatArray(tn):en;nn.setFrame(an,rn,on);var dn=Qt[an+1];if(!dn){nn.shrink(sn);break}var pn=k(dn,"time",0),vn=Zt.curve;vn&&(sn=w(vn,nn,sn,an,0,rn,pn,0,1,1)),rn=pn,Zt=dn}i.push(nn)}else if("sequence"===Kt){for(var mn=new g.SequenceTimeline(Qt.length,Yt,$t),gn=0,yn=0;yn<Qt.length;yn++){var bn=k(Zt,"delay",gn),_n=k(Zt,"time",0),xn=m.SequenceMode[k(Zt,"mode","hold")],wn=k(Zt,"index",0);mn.setFrame(yn,_n,xn,wn,bn),gn=bn,Zt=Qt[yn+1]}i.push(mn)}}}}}if(e.drawOrder){for(var kn=new a.DrawOrderTimeline(e.drawOrder.length),Mn=n.slots.length,Tn=0,Sn=0;Sn<e.drawOrder.length;Sn++,Tn++){var An=e.drawOrder[Sn],En=null,Ln=k(An,"offsets",null);if(Ln){En=v.Utils.newArray(Mn,-1);for(var Cn=v.Utils.newArray(Mn-Ln.length,0),On=0,Pn=0,In=0;In<Ln.length;In++){var Nn=Ln[In],Rn=n.findSlot(Nn.slot);if(!Rn)throw new Error("Slot not found: "+Rn);for(var Fn=Rn.index;On!==Fn;)Cn[Pn++]=On++;En[On+Nn.offset]=On++}for(;On<Mn;)Cn[Pn++]=On++;for(var Bn=Mn-1;Bn>=0;Bn--)-1===En[Bn]&&(En[Bn]=Cn[--Pn])}kn.setFrame(Tn,k(An,"time",0),En)}i.push(kn)}if(e.events){for(var Dn=new a.EventTimeline(e.events.length),jn=0,Un=0;Un<e.events.length;Un++,jn++){var Vn=e.events[Un],Gn=n.findEvent(Vn.name);if(!Gn)throw new Error("Event not found: "+Vn.name);var zn=new l.Event(v.Utils.toSinglePrecision(k(Vn,"time",0)),Gn);zn.intValue=k(Vn,"int",Gn.intValue),zn.floatValue=k(Vn,"float",Gn.floatValue),zn.stringValue=k(Vn,"string",Gn.stringValue),zn.data.audioPath&&(zn.volume=k(Vn,"volume",1),zn.balance=k(Vn,"balance",0)),Dn.setFrame(jn,zn)}i.push(Dn)}for(var Wn=0,Hn=0,Yn=i.length;Hn<Yn;Hn++)Wn=Math.max(Wn,i[Hn].getDuration());n.animations.push(new a.Animation(t,i,Wn))}}]),e}();t.SkeletonJson=y;var b=i((function e(t,n,i,a,s){r(this,e),this.mesh=t,this.skin=n,this.slotIndex=i,this.parent=a,this.inheritTimeline=s}));function _(e,t,n,r){for(var i=e[0],a=k(i,"time",0),s=k(i,"value",n)*r,o=0,l=0;;l++){t.setFrame(l,a,s);var u=e[l+1];if(!u)return t.shrink(o),t;var c=k(u,"time",0),h=k(u,"value",n)*r;i.curve&&(o=w(i.curve,t,o,l,0,a,c,s,h,r)),a=c,s=h,i=u}}function x(e,t,n,r,i,a){for(var s=e[0],o=k(s,"time",0),l=k(s,n,i)*a,u=k(s,r,i)*a,c=0,h=0;;h++){t.setFrame(h,o,l,u);var f=e[h+1];if(!f)return t.shrink(c),t;var d=k(f,"time",0),p=k(f,n,i)*a,v=k(f,r,i)*a,m=s.curve;m&&(c=w(m,t,c,h,0,o,d,l,p,a),c=w(m,t,c,h,1,o,d,u,v,a)),o=d,l=p,u=v,s=f}}function w(e,t,n,r,i,a,s,o,l,u){if("stepped"===e)return t.setStepped(r),n;var c=i<<2,h=e[c],f=e[c+1]*u,d=e[c+2],p=e[c+3]*u;return t.setBezier(n,r,i,a,o,h,f,d,p,s,l),n+1}function k(e,t,n){return void 0!==e[t]?e[t]:n}},3099:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Skin=t.SkinEntry=void 0;var a=n(8582),s=r((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;i(this,e),this.slotIndex=t,this.name=n,this.attachment=r}));t.SkinEntry=s;var o=function(){function e(t){if(i(this,e),this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}return r(e,[{key:"setAttachment",value:function(e,t,n){if(!n)throw new Error("attachment cannot be null.");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n}},{key:"addSkin",value:function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]===n){r=!0;break}r||this.bones.push(n)}for(var a=0;a<e.constraints.length;a++){for(var s=e.constraints[a],o=!1,l=0;l<this.constraints.length;l++)if(this.constraints[l]===s){o=!0;break}o||this.constraints.push(s)}for(var u=e.getAttachments(),c=0;c<u.length;c++){var h=u[c];this.setAttachment(h.slotIndex,h.name,h.attachment)}}},{key:"copySkin",value:function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]===n){r=!0;break}r||this.bones.push(n)}for(var s=0;s<e.constraints.length;s++){for(var o=e.constraints[s],l=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]===o){l=!0;break}l||this.constraints.push(o)}for(var c=e.getAttachments(),h=0;h<c.length;h++){var f=c[h];f.attachment&&(f.attachment instanceof a.MeshAttachment?(f.attachment=f.attachment.newLinkedMesh(),this.setAttachment(f.slotIndex,f.name,f.attachment)):(f.attachment=f.attachment.copy(),this.setAttachment(f.slotIndex,f.name,f.attachment)))}}},{key:"getAttachment",value:function(e,t){var n=this.attachments[e];return n?n[t]:null}},{key:"removeAttachment",value:function(e,t){var n=this.attachments[e];n&&delete n[t]}},{key:"getAttachments",value:function(){for(var e=new Array,t=0;t<this.attachments.length;t++){var n=this.attachments[t];if(n)for(var r in n){var i=n[r];i&&e.push(new s(t,r,i))}}return e}},{key:"getAttachmentsForSlot",value:function(e,t){var n=this.attachments[e];if(n)for(var r in n){var i=n[r];i&&t.push(new s(e,r,i))}}},{key:"clear",value:function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}},{key:"attachAll",value:function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],a=i.getAttachment();if(a&&n<t.attachments.length){var s=t.attachments[n];for(var o in s){if(a===s[o]){var l=this.getAttachment(n,o);l&&i.setAttachment(l);break}}}n++}}}]),e}();t.Skin=o},3356:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Slot=void 0;var a=n(353),s=n(4153),o=function(){function e(t,n){if(r(this,e),this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!t)throw new Error("data cannot be null.");if(!n)throw new Error("bone cannot be null.");this.data=t,this.bone=n,this.color=new s.Color,this.darkColor=t.darkColor?new s.Color:null,this.setToSetupPose()}return i(e,[{key:"getSkeleton",value:function(){return this.bone.skeleton}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(e){this.attachment!==e&&(e instanceof a.VertexAttachment&&this.attachment instanceof a.VertexAttachment&&e.timelineAttachment===this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}]),e}();t.Slot=o},3605:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SlotData=t.BlendMode=void 0;var a,s=n(4153);!function(e){e[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"}(a=t.BlendMode||(t.BlendMode={}));var o=r((function e(t,n,r){if(i(this,e),this.index=0,this.color=new s.Color(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=a.Normal,t<0)throw new Error("index must be >= 0.");if(!n)throw new Error("name cannot be null.");if(!r)throw new Error("boneData cannot be null.");this.index=t,this.name=n,this.boneData=r}));t.SlotData=o},3416:function(e,t,n){"use strict";var r=n(1655).default,i=n(6389).default,a=n(4704).default,s=n(6690).default,o=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAtlasRegion=t.TextureAtlasPage=t.TextureAtlas=void 0;var l=n(2955),u=n(9760),c=n(4153),h=function(){function e(t){s(this,e),this.pages=new Array,this.regions=new Array;for(var n=new f(t),r=new Array(4),i={size:function(e){e.width=parseInt(r[1]),e.height=parseInt(r[2])},format:function(){},filter:function(e){e.minFilter=c.Utils.enumValue(l.TextureFilter,r[1]),e.magFilter=c.Utils.enumValue(l.TextureFilter,r[2])},repeat:function(e){-1!==r[1].indexOf("x")&&(e.uWrap=l.TextureWrap.Repeat),-1!==r[1].indexOf("y")&&(e.vWrap=l.TextureWrap.Repeat)},pma:function(e){e.pma="true"===r[1]}},a={xy:function(e){e.x=parseInt(r[1]),e.y=parseInt(r[2])},size:function(e){e.width=parseInt(r[1]),e.height=parseInt(r[2])},bounds:function(e){e.x=parseInt(r[1]),e.y=parseInt(r[2]),e.width=parseInt(r[3]),e.height=parseInt(r[4])},offset:function(e){e.offsetX=parseInt(r[1]),e.offsetY=parseInt(r[2])},orig:function(e){e.originalWidth=parseInt(r[1]),e.originalHeight=parseInt(r[2])},offsets:function(e){e.offsetX=parseInt(r[1]),e.offsetY=parseInt(r[2]),e.originalWidth=parseInt(r[3]),e.originalHeight=parseInt(r[4])},rotate:function(e){var t=r[1];"true"===t?e.degrees=90:"false"!==t&&(e.degrees=parseInt(t))},index:function(e){e.index=parseInt(r[1])}},o=n.readLine();o&&0===o.trim().length;)o=n.readLine();for(;o&&0!==o.trim().length&&0!==n.readEntry(r,o);)o=n.readLine();for(var u=null,h=null,v=null;null!==o;)if(0===o.trim().length)u=null,o=n.readLine();else if(u){for(var m=new p(u,o);;){var g=n.readEntry(r,o=n.readLine());if(0===g)break;var y=a[r[0]];if(y)y(m);else{h||(h=[]),v||(v=[]),h.push(r[0]);for(var b=[],_=0;_<g;_++)b.push(parseInt(r[_+1]));v.push(b)}}0===m.originalWidth&&0===m.originalHeight&&(m.originalWidth=m.width,m.originalHeight=m.height),h&&h.length>0&&v&&v.length>0&&(m.names=h,m.values=v,h=null,v=null),m.u=m.x/u.width,m.v=m.y/u.height,90===m.degrees?(m.u2=(m.x+m.height)/u.width,m.v2=(m.y+m.width)/u.height):(m.u2=(m.x+m.width)/u.width,m.v2=(m.y+m.height)/u.height),this.regions.push(m)}else{for(u=new d(o.trim());0!==n.readEntry(r,o=n.readLine());){var x=i[r[0]];x&&x(u)}this.pages.push(u)}}return o(e,[{key:"findRegion",value:function(e){for(var t=0;t<this.regions.length;t++)if(this.regions[t].name===e)return this.regions[t];return null}},{key:"setTextures",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=a(this.pages);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.setTexture(e.get(n+i.name))}}catch(s){r.e(s)}finally{r.f()}}},{key:"dispose",value:function(){for(var e,t=0;t<this.pages.length;t++)null===(e=this.pages[t].texture)||void 0===e||e.dispose()}}]),e}();t.TextureAtlas=h;var f=function(){function e(t){s(this,e),this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return o(e,[{key:"readLine",value:function(){return this.index>=this.lines.length?null:this.lines[this.index++]}},{key:"readEntry",value:function(e,t){if(!t)return 0;if(0===(t=t.trim()).length)return 0;var n=t.indexOf(":");if(-1===n)return 0;e[0]=t.substr(0,n).trim();for(var r=1,i=n+1;;r++){var a=t.indexOf(",",i);if(-1===a)return e[r]=t.substr(i).trim(),r;if(e[r]=t.substr(i,a-i).trim(),i=a+1,4===r)return 4}}}]),e}(),d=function(){function e(t){s(this,e),this.minFilter=l.TextureFilter.Nearest,this.magFilter=l.TextureFilter.Nearest,this.uWrap=l.TextureWrap.ClampToEdge,this.vWrap=l.TextureWrap.ClampToEdge,this.texture=null,this.width=0,this.height=0,this.pma=!1,this.name=t}return o(e,[{key:"setTexture",value:function(e){this.texture=e,e.setFilters(this.minFilter,this.magFilter),e.setWraps(this.uWrap,this.vWrap)}}]),e}();t.TextureAtlasPage=d;var p=function(e){r(n,e);var t=i(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).x=0,i.y=0,i.offsetX=0,i.offsetY=0,i.originalWidth=0,i.originalHeight=0,i.index=0,i.degrees=0,i.names=null,i.values=null,i.page=e,i.name=r,i}return o(n)}(u.TextureRegion);t.TextureAtlasRegion=p},9760:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureRegion=void 0;var a=r((function e(){i(this,e),this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.degrees=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}));t.TextureRegion=a},4672:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TransformConstraint=void 0;var a=n(4153),s=function(){function e(t,n){if(r(this,e),this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new a.Vector2,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(var i=0;i<t.bones.length;i++){var s=n.findBone(t.bones[i].name);if(!s)throw new Error("Couldn't find bone ".concat(t.bones[i].name,"."));this.bones.push(s)}var o=n.findBone(t.target.name);if(!o)throw new Error("Couldn't find target bone ".concat(t.target.name,"."));this.target=o}return i(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){0===this.mixRotate&&0===this.mixX&&0===this.mixY&&0===this.mixScaleX&&0===this.mixScaleX&&0===this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}},{key:"applyAbsoluteWorld",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,s=this.mixShearY,o=0!==t||0!==n,l=this.target,u=l.a,c=l.b,h=l.c,f=l.d,d=u*f-c*h>0?a.MathUtils.degRad:-a.MathUtils.degRad,p=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,g=0,y=m.length;g<y;g++){var b=m[g];if(0!==e){var _=b.a,x=b.b,w=b.c,k=b.d,M=Math.atan2(h,u)-Math.atan2(w,_)+p;M>a.MathUtils.PI?M-=a.MathUtils.PI2:M<-a.MathUtils.PI&&(M+=a.MathUtils.PI2),M*=e;var T=Math.cos(M),S=Math.sin(M);b.a=T*_-S*w,b.b=T*x-S*k,b.c=S*_+T*w,b.d=S*x+T*k}if(o){var A=this.temp;l.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),b.worldX+=(A.x-b.worldX)*t,b.worldY+=(A.y-b.worldY)*n}if(0!==r){var E=Math.sqrt(b.a*b.a+b.c*b.c);0!==E&&(E=(E+(Math.sqrt(u*u+h*h)-E+this.data.offsetScaleX)*r)/E),b.a*=E,b.c*=E}if(0!==i){var L=Math.sqrt(b.b*b.b+b.d*b.d);0!==L&&(L=(L+(Math.sqrt(c*c+f*f)-L+this.data.offsetScaleY)*i)/L),b.b*=L,b.d*=L}if(s>0){var C=b.b,O=b.d,P=Math.atan2(O,C),I=Math.atan2(f,c)-Math.atan2(h,u)-(P-Math.atan2(b.c,b.a));I>a.MathUtils.PI?I-=a.MathUtils.PI2:I<-a.MathUtils.PI&&(I+=a.MathUtils.PI2),I=P+(I+v)*s;var N=Math.sqrt(C*C+O*O);b.b=Math.cos(I)*N,b.d=Math.sin(I)*N}b.updateAppliedTransform()}}},{key:"applyRelativeWorld",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,s=this.mixShearY,o=0!==t||0!==n,l=this.target,u=l.a,c=l.b,h=l.c,f=l.d,d=u*f-c*h>0?a.MathUtils.degRad:-a.MathUtils.degRad,p=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,g=0,y=m.length;g<y;g++){var b=m[g];if(0!==e){var _=b.a,x=b.b,w=b.c,k=b.d,M=Math.atan2(h,u)+p;M>a.MathUtils.PI?M-=a.MathUtils.PI2:M<-a.MathUtils.PI&&(M+=a.MathUtils.PI2),M*=e;var T=Math.cos(M),S=Math.sin(M);b.a=T*_-S*w,b.b=T*x-S*k,b.c=S*_+T*w,b.d=S*x+T*k}if(o){var A=this.temp;l.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),b.worldX+=A.x*t,b.worldY+=A.y*n}if(0!==r){var E=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*r+1;b.a*=E,b.c*=E}if(0!==i){var L=(Math.sqrt(c*c+f*f)-1+this.data.offsetScaleY)*i+1;b.b*=L,b.d*=L}if(s>0){var C=Math.atan2(f,c)-Math.atan2(h,u);C>a.MathUtils.PI?C-=a.MathUtils.PI2:C<-a.MathUtils.PI&&(C+=a.MathUtils.PI2);var O=b.b,P=b.d;C=Math.atan2(P,O)+(C-a.MathUtils.PI/2+v)*s;var I=Math.sqrt(O*O+P*P);b.b=Math.cos(C)*I,b.d=Math.sin(C)*I}b.updateAppliedTransform()}}},{key:"applyAbsoluteLocal",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,s=this.target,o=this.bones,l=0,u=o.length;l<u;l++){var c=o[l],h=c.arotation;if(0!==e){var f=s.arotation-h+this.data.offsetRotation;h+=(f-=360*(16384-(16384.499999999996-f/360|0)))*e}var d=c.ax,p=c.ay;d+=(s.ax-d+this.data.offsetX)*t,p+=(s.ay-p+this.data.offsetY)*n;var v=c.ascaleX,m=c.ascaleY;0!==r&&0!==v&&(v=(v+(s.ascaleX-v+this.data.offsetScaleX)*r)/v),0!==i&&0!==m&&(m=(m+(s.ascaleY-m+this.data.offsetScaleY)*i)/m);var g=c.ashearY;if(0!==a){var y=s.ashearY-g+this.data.offsetShearY;g+=(y-=360*(16384-(16384.499999999996-y/360|0)))*a}c.updateWorldTransformWith(d,p,h,v,m,c.ashearX,g)}}},{key:"applyRelativeLocal",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,s=this.target,o=this.bones,l=0,u=o.length;l<u;l++){var c=o[l],h=c.arotation+(s.arotation+this.data.offsetRotation)*e,f=c.ax+(s.ax+this.data.offsetX)*t,d=c.ay+(s.ay+this.data.offsetY)*n,p=c.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*r+1),v=c.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*i+1),m=c.ashearY+(s.ashearY+this.data.offsetShearY)*a;c.updateWorldTransformWith(f,d,h,p,v,c.ashearX,m)}}}]),e}();t.TransformConstraint=s},7841:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TransformConstraintData=void 0;var o=function(e){a(n,e);var t=s(n);function n(e){var i;return r(this,n),(i=t.call(this,e,0,!1)).bones=new Array,i._target=null,i.mixRotate=0,i.mixX=0,i.mixY=0,i.mixScaleX=0,i.mixScaleY=0,i.mixShearY=0,i.offsetRotation=0,i.offsetX=0,i.offsetY=0,i.offsetScaleX=0,i.offsetScaleY=0,i.offsetShearY=0,i.relative=!1,i.local=!1,i}return i(n,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(e){this._target=e}}]),n}(n(5221).ConstraintData);t.TransformConstraintData=o},9438:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Triangulator=void 0;var a=n(4153),s=function(){function e(){r(this,e),this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new a.Pool((function(){return new Array})),this.polygonIndicesPool=new a.Pool((function(){return new Array}))}return i(e,[{key:"triangulate",value:function(t){var n=t,r=t.length>>1,i=this.indicesArray;i.length=0;for(var a=0;a<r;a++)i[a]=a;var s=this.isConcaveArray;s.length=0;for(var o=0,l=r;o<l;++o)s[o]=e.isConcave(o,r,n,i);var u=this.triangles;for(u.length=0;r>3;){for(var c=r-1,h=0,f=1;;){e:if(!s[h]){for(var d=i[c]<<1,p=i[h]<<1,v=i[f]<<1,m=n[d],g=n[d+1],y=n[p],b=n[p+1],_=n[v],x=n[v+1],w=(f+1)%r;w!==c;w=(w+1)%r)if(s[w]){var k=i[w]<<1,M=n[k],T=n[k+1];if(e.positiveArea(_,x,m,g,M,T)&&e.positiveArea(m,g,y,b,M,T)&&e.positiveArea(y,b,_,x,M,T))break e}break}if(0===f){do{if(!s[h])break;h--}while(h>0);break}c=h,h=f,f=(f+1)%r}u.push(i[(r+h-1)%r]),u.push(i[h]),u.push(i[(h+1)%r]),i.splice(h,1),s.splice(h,1);var S=(--r+h-1)%r,A=h===r?0:h;s[S]=e.isConcave(S,r,n,i),s[A]=e.isConcave(A,r,n,i)}return 3===r&&(u.push(i[2]),u.push(i[0]),u.push(i[1])),u}},{key:"decompose",value:function(t,n){var r=t,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var s=this.polygonIndicesPool.obtain();s.length=0;var o=this.polygonPool.obtain();o.length=0;for(var l=-1,u=0,c=0,h=n.length;c<h;c+=3){var f=n[c]<<1,d=n[c+1]<<1,p=n[c+2]<<1,v=r[f],m=r[f+1],g=r[d],y=r[d+1],b=r[p],_=r[p+1],x=!1;if(l===f){var w=o.length-4,k=e.winding(o[w],o[w+1],o[w+2],o[w+3],b,_),M=e.winding(b,_,o[0],o[1],o[2],o[3]);k===u&&M===u&&(o.push(b),o.push(_),s.push(p),x=!0)}x||(o.length>0?(i.push(o),a.push(s)):(this.polygonPool.free(o),this.polygonIndicesPool.free(s)),(o=this.polygonPool.obtain()).length=0,o.push(v),o.push(m),o.push(g),o.push(y),o.push(b),o.push(_),(s=this.polygonIndicesPool.obtain()).length=0,s.push(f),s.push(d),s.push(p),u=e.winding(v,m,g,y,b,_),l=f)}o.length>0&&(i.push(o),a.push(s));for(var T=0,S=i.length;T<S;T++)if(0!==(s=a[T]).length)for(var A=s[0],E=s[s.length-1],L=(o=i[T]).length-4,C=o[L],O=o[L+1],P=o[L+2],I=o[L+3],N=o[0],R=o[1],F=o[2],B=o[3],D=e.winding(C,O,P,I,N,R),j=0;j<S;j++)if(j!==T){var U=a[j];if(3===U.length){var V=U[0],G=U[1],z=U[2],W=i[j],H=W[W.length-2],Y=W[W.length-1];if(V===A&&G===E){var X=e.winding(C,O,P,I,H,Y),q=e.winding(H,Y,N,R,F,B);X===D&&q===D&&(W.length=0,U.length=0,o.push(H),o.push(Y),s.push(z),C=P,O=I,P=H,I=Y,j=0)}}}for(var $=i.length-1;$>=0;$--)0===(o=i[$]).length&&(i.splice($,1),this.polygonPool.free(o),s=a[$],a.splice($,1),this.polygonIndicesPool.free(s));return i}}],[{key:"isConcave",value:function(e,t,n,r){var i=r[(t+e-1)%t]<<1,a=r[e]<<1,s=r[(e+1)%t]<<1;return!this.positiveArea(n[i],n[i+1],n[a],n[a+1],n[s],n[s+1])}},{key:"positiveArea",value:function(e,t,n,r,i,a){return e*(a-r)+n*(t-a)+i*(r-t)>=0}},{key:"winding",value:function(e,t,n,r,i,a){var s=n-e,o=r-t;return i*o-a*s+s*t-e*o>=0?1:-1}}]),e}();t.Triangulator=s},5681:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4153:function(e,t,n){"use strict";var r=n(1655).default,i=n(6389).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WindowedMean=t.TimeKeeper=t.Vector2=t.Pool=t.DebugUtils=t.Utils=t.PowOut=t.Pow=t.Interpolation=t.MathUtils=t.Color=t.StringSet=t.IntSet=void 0;var o=function(){function e(){a(this,e),this.array=new Array}return s(e,[{key:"add",value:function(e){var t=this.contains(e);return this.array[0|e]=0|e,!t}},{key:"contains",value:function(e){return void 0!==this.array[0|e]}},{key:"remove",value:function(e){this.array[0|e]=void 0}},{key:"clear",value:function(){this.array.length=0}}]),e}();t.IntSet=o;var l=function(){function e(){a(this,e),this.entries={},this.size=0}return s(e,[{key:"add",value:function(e){var t=this.entries[e];return this.entries[e]=!0,!t&&(this.size++,!0)}},{key:"addAll",value:function(e){for(var t=this.size,n=0,r=e.length;n<r;n++)this.add(e[n]);return t!==this.size}},{key:"contains",value:function(e){return this.entries[e]}},{key:"clear",value:function(){this.entries={},this.size=0}}]),e}();t.StringSet=l;var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(this,e),this.r=t,this.g=n,this.b=r,this.a=i}return s(e,[{key:"set",value:function(e,t,n,r){return this.r=e,this.g=t,this.b=n,this.a=r,this.clamp()}},{key:"setFromColor",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}},{key:"setFromString",value:function(e){return e="#"===e.charAt(0)?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=8!==e.length?1:parseInt(e.substr(6,2),16)/255,this}},{key:"add",value:function(e,t,n,r){return this.r+=e,this.g+=t,this.b+=n,this.a+=r,this.clamp()}},{key:"clamp",value:function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}}],[{key:"rgba8888ToColor",value:function(e,t){e.r=((4278190080&t)>>>24)/255,e.g=((16711680&t)>>>16)/255,e.b=((65280&t)>>>8)/255,e.a=(255&t)/255}},{key:"rgb888ToColor",value:function(e,t){e.r=((16711680&t)>>>16)/255,e.g=((65280&t)>>>8)/255,e.b=(255&t)/255}},{key:"fromString",value:function(t){return(new e).setFromString(t)}}]),e}();t.Color=u,u.WHITE=new u(1,1,1,1),u.RED=new u(1,0,0,1),u.GREEN=new u(0,1,0,1),u.BLUE=new u(0,0,1,1),u.MAGENTA=new u(1,0,1,1);var c=function(){function e(){a(this,e)}return s(e,null,[{key:"clamp",value:function(e,t,n){return e<t?t:e>n?n:e}},{key:"cosDeg",value:function(t){return Math.cos(t*e.degRad)}},{key:"sinDeg",value:function(t){return Math.sin(t*e.degRad)}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}},{key:"toInt",value:function(e){return e>0?Math.floor(e):Math.ceil(e)}},{key:"cbrt",value:function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}},{key:"randomTriangular",value:function(t,n){return e.randomTriangularWith(t,n,.5*(t+n))}},{key:"randomTriangularWith",value:function(e,t,n){var r=Math.random(),i=t-e;return r<=(n-e)/i?e+Math.sqrt(r*i*(n-e)):t-Math.sqrt((1-r)*i*(t-n))}},{key:"isPowerOfTwo",value:function(e){return e&&0===(e&e-1)}}]),e}();t.MathUtils=c,c.PI=3.1415927,c.PI2=2*c.PI,c.radiansToDegrees=180/c.PI,c.radDeg=c.radiansToDegrees,c.degreesToRadians=c.PI/180,c.degRad=c.degreesToRadians;var h=function(){function e(){a(this,e)}return s(e,[{key:"apply",value:function(e,t,n){return e+(t-e)*this.applyInternal(n)}}]),e}();t.Interpolation=h;var f=function(e){r(n,e);var t=i(n);function n(e){var r;return a(this,n),(r=t.call(this)).power=2,r.power=e,r}return s(n,[{key:"applyInternal",value:function(e){return e<=.5?Math.pow(2*e,this.power)/2:Math.pow(2*(e-1),this.power)/(this.power%2===0?-2:2)+1}}]),n}(h);t.Pow=f;var d=function(e){r(n,e);var t=i(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"applyInternal",value:function(e){return Math.pow(e-1,this.power)*(this.power%2===0?-1:1)+1}}]),n}(f);t.PowOut=d;var p=function(){function e(){a(this,e)}return s(e,null,[{key:"arrayCopy",value:function(e,t,n,r,i){for(var a=t,s=r;a<t+i;a++,s++)n[s]=e[a]}},{key:"arrayFill",value:function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}},{key:"setArraySize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.length;if(r===t)return e;if(e.length=t,r<t)for(var i=r;i<t;i++)e[i]=n;return e}},{key:"ensureArrayCapacity",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.length>=n?t:e.setArraySize(t,n,r)}},{key:"newArray",value:function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}},{key:"newFloatArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var n=new Array(t),r=0;r<n.length;r++)n[r]=0;return n}},{key:"newShortArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var n=new Array(t),r=0;r<n.length;r++)n[r]=0;return n}},{key:"toFloatArray",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}},{key:"toSinglePrecision",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}},{key:"webkit602BugfixHelper",value:function(e,t){}},{key:"contains",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}},{key:"enumValue",value:function(e,t){return e[t[0].toUpperCase()+t.slice(1)]}}]),e}();t.Utils=p,p.SUPPORTS_TYPED_ARRAYS="undefined"!==typeof Float32Array;var v=function(){function e(){a(this,e)}return s(e,null,[{key:"logBones",value:function(e){for(var t=0;t<e.bones.length;t++){var n=e.bones[t];console.log(n.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.worldX+", "+n.worldY)}}}]),e}();t.DebugUtils=v;var m=function(){function e(t){a(this,e),this.items=new Array,this.instantiator=t}return s(e,[{key:"obtain",value:function(){return this.items.length>0?this.items.pop():this.instantiator()}},{key:"free",value:function(e){e.reset&&e.reset(),this.items.push(e)}},{key:"freeAll",value:function(e){for(var t=0;t<e.length;t++)this.free(e[t])}},{key:"clear",value:function(){this.items.length=0}}]),e}();t.Pool=m;var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a(this,e),this.x=t,this.y=n}return s(e,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}},{key:"normalize",value:function(){var e=this.length();return 0!==e&&(this.x/=e,this.y/=e),this}}]),e}();t.Vector2=g;var y=function(){function e(){a(this,e),this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return s(e,[{key:"update",value:function(){var e=Date.now()/1e3;this.delta=e-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=e,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}]),e}();t.TimeKeeper=y;var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;a(this,e),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return s(e,[{key:"hasEnoughData",value:function(){return this.addedValues>=this.values.length}},{key:"addValue",value:function(e){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=e,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}},{key:"getMean",value:function(){if(this.hasEnoughData()){if(this.dirty){for(var e=0,t=0;t<this.values.length;t++)e+=this.values[t];this.mean=e/this.values.length,this.dirty=!1}return this.mean}return 0}}]),e}();t.WindowedMean=b},353:function(e,t,n){"use strict";var r=n(6115).default,i=n(1655).default,a=n(6389).default,s=n(9728).default,o=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexAttachment=t.Attachment=void 0;var l=n(4153),u=s((function e(t){if(o(this,e),!t)throw new Error("name cannot be null.");this.name=t}));t.Attachment=u;var c=function(e){i(n,e);var t=a(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).id=n.nextID++,e.bones=null,e.vertices=[],e.worldVerticesLength=0,e.timelineAttachment=r(e),e}return s(n,[{key:"computeWorldVertices",value:function(e,t,n,r,i,a){n=i+(n>>1)*a;var s=e.bone.skeleton,o=e.deform,l=this.vertices,u=this.bones;if(u){for(var c=0,h=0,f=0;f<t;f+=2){var d=u[c];c+=d+1,h+=d}var p=s.bones;if(0===o.length)for(var v=i,m=3*h;v<n;v+=a){var g=0,y=0,b=u[c++];for(b+=c;c<b;c++,m+=3){var _=p[u[c]],x=l[m],w=l[m+1],k=l[m+2];g+=(x*_.a+w*_.b+_.worldX)*k,y+=(x*_.c+w*_.d+_.worldY)*k}r[v]=g,r[v+1]=y}else for(var M=o,T=i,S=3*h,A=h<<1;T<n;T+=a){var E=0,L=0,C=u[c++];for(C+=c;c<C;c++,S+=3,A+=2){var O=p[u[c]],P=l[S]+M[A],I=l[S+1]+M[A+1],N=l[S+2];E+=(P*O.a+I*O.b+O.worldX)*N,L+=(P*O.c+I*O.d+O.worldY)*N}r[T]=E,r[T+1]=L}}else{o.length>0&&(l=o);for(var R=e.bone,F=R.worldX,B=R.worldY,D=R.a,j=R.b,U=R.c,V=R.d,G=t,z=i;z<n;G+=2,z+=a){var W=l[G],H=l[G+1];r[z]=W*D+H*j+F,r[z+1]=W*U+H*V+B}}}},{key:"copyTo",value:function(e){this.bones?(e.bones=new Array(this.bones.length),l.Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,this.vertices&&(e.vertices=l.Utils.newFloatArray(this.vertices.length),l.Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)),e.worldVerticesLength=this.worldVerticesLength,e.timelineAttachment=this.timelineAttachment}}]),n}(u);t.VertexAttachment=c,c.nextID=0},5500:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9374:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BoundingBoxAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).color=new o.Color(1,1,1,1),e}return i(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e}}]),n}(n(353).VertexAttachment);t.BoundingBoxAttachment=l},2024:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ClippingAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).endSlot=null,e.color=new o.Color(.2275,.2275,.8078,1),e}return i(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e}}]),n}(n(353).VertexAttachment);t.ClippingAttachment=l},8582:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1588).default,s=n(3808).default,o=n(1655).default,l=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MeshAttachment=void 0;var u=n(3416),c=n(4153),h=function(e){o(n,e);var t=l(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).region=null,a.regionUVs=[],a.uvs=[],a.triangles=[],a.color=new c.Color(1,1,1,1),a.width=0,a.height=0,a.hullLength=0,a.edges=[],a.parentMesh=null,a.sequence=null,a.tempColor=new c.Color(0,0,0,0),a.path=i,a}return i(n,[{key:"updateRegion",value:function(){if(!this.region)throw new Error("Region not set.");var e=this.regionUVs;this.uvs&&this.uvs.length===e.length||(this.uvs=c.Utils.newFloatArray(e.length));var t=this.uvs,n=this.uvs.length,r=this.region.u,i=this.region.v,a=0,s=0;if(this.region instanceof u.TextureAtlasRegion){var o=this.region,l=o.page.texture.getImage(),h=l.width,f=l.height;switch(o.degrees){case 90:r-=(o.originalHeight-o.offsetY-o.height)/h,i-=(o.originalWidth-o.offsetX-o.width)/f,a=o.originalHeight/h,s=o.originalWidth/f;for(var d=0;d<n;d+=2)t[d]=r+e[d+1]*a,t[d+1]=i+(1-e[d])*s;return;case 180:r-=(o.originalWidth-o.offsetX-o.width)/h,i-=o.offsetY/f,a=o.originalWidth/h,s=o.originalHeight/f;for(var p=0;p<n;p+=2)t[p]=r+(1-e[p])*a,t[p+1]=i+(1-e[p+1])*s;return;case 270:r-=o.offsetY/h,i-=o.offsetX/f,a=o.originalHeight/h,s=o.originalWidth/f;for(var v=0;v<n;v+=2)t[v]=r+(1-e[v+1])*a,t[v+1]=i+e[v]*s;return}r-=o.offsetX/h,i-=(o.originalHeight-o.offsetY-o.height)/f,a=o.originalWidth/h,s=o.originalHeight/f}else this.region?(a=this.region.u2-r,s=this.region.v2-i):(r=i=0,a=s=1);for(var m=0;m<n;m+=2)t[m]=r+e[m]*a,t[m+1]=i+e[m+1]*s}},{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(e){this.parentMesh=e,e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}},{key:"copy",value:function(){if(this.parentMesh)return this.newLinkedMesh();var e=new n(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Array(this.regionUVs.length),c.Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.uvs=new Array(this.uvs.length),c.Utils.arrayCopy(this.uvs,0,e.uvs,0,this.uvs.length),e.triangles=new Array(this.triangles.length),c.Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,e.sequence=null!==this.sequence?this.sequence.copy():null,this.edges&&(e.edges=new Array(this.edges.length),c.Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e}},{key:"computeWorldVertices",value:function(e,t,r,i,o,l){null!==this.sequence&&this.sequence.apply(e,this),a(s(n.prototype),"computeWorldVertices",this).call(this,e,t,r,i,o,l)}},{key:"newLinkedMesh",value:function(){var e=new n(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),e.timelineAttachment=this.timelineAttachment,e.setParentMesh(this.parentMesh?this.parentMesh:this),null!==e.region&&e.updateRegion(),e}}]),n}(n(353).VertexAttachment);t.MeshAttachment=h},397:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PathAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).lengths=[],e.closed=!1,e.constantSpeed=!1,e.color=new o.Color(1,1,1,1),e}return i(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),o.Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=this.closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e}}]),n}(n(353).VertexAttachment);t.PathAttachment=l},630:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PointAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).x=0,e.y=0,e.rotation=0,e.color=new o.Color(.38,.94,0,1),e}return i(n,[{key:"computeWorldPosition",value:function(e,t){return t.x=this.x*e.a+this.y*e.b+e.worldX,t.y=this.x*e.c+this.y*e.d+e.worldY,t}},{key:"computeWorldRotation",value:function(e){var t=o.MathUtils.cosDeg(this.rotation),n=o.MathUtils.sinDeg(this.rotation),r=t*e.a+n*e.b,i=t*e.c+n*e.d;return Math.atan2(i,r)*o.MathUtils.radDeg}},{key:"copy",value:function(){var e=new n(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e}}]),n}(n(353).VertexAttachment);t.PointAttachment=l},7045:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RegionAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).x=0,a.y=0,a.scaleX=1,a.scaleY=1,a.rotation=0,a.width=0,a.height=0,a.color=new o.Color(1,1,1,1),a.rendererObject=null,a.region=null,a.sequence=null,a.offset=o.Utils.newFloatArray(8),a.uvs=o.Utils.newFloatArray(8),a.tempColor=new o.Color(1,1,1,1),a.path=i,a}return i(n,[{key:"updateRegion",value:function(){if(!this.region)throw new Error("Region not set.");var e=this.region,t=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*n,a=r+this.region.width*t,s=i+this.region.height*n,o=this.rotation*Math.PI/180,l=Math.cos(o),u=Math.sin(o),c=this.x,h=this.y,f=r*l+c,d=r*u,p=i*l+h,v=i*u,m=a*l+c,g=a*u,y=s*l+h,b=s*u,_=this.offset;_[0]=f-v,_[1]=p+d,_[2]=f-b,_[3]=y+d,_[4]=m-b,_[5]=y+g,_[6]=m-v,_[7]=p+g;var x=this.uvs;90===e.degrees?(x[2]=e.u,x[3]=e.v2,x[4]=e.u,x[5]=e.v,x[6]=e.u2,x[7]=e.v,x[0]=e.u2,x[1]=e.v2):(x[0]=e.u,x[1]=e.v2,x[2]=e.u,x[3]=e.v,x[4]=e.u2,x[5]=e.v,x[6]=e.u2,x[7]=e.v2)}},{key:"computeWorldVertices",value:function(e,t,n,r){null!==this.sequence&&this.sequence.apply(e,this);var i=e.bone,a=this.offset,s=i.worldX,o=i.worldY,l=i.a,u=i.b,c=i.c,h=i.d,f=0,d=0;f=a[0],d=a[1],t[n]=f*l+d*u+s,t[n+1]=f*c+d*h+o,n+=r,f=a[2],d=a[3],t[n]=f*l+d*u+s,t[n+1]=f*c+d*h+o,n+=r,f=a[4],d=a[5],t[n]=f*l+d*u+s,t[n+1]=f*c+d*h+o,n+=r,f=a[6],d=a[7],t[n]=f*l+d*u+s,t[n+1]=f*c+d*h+o}},{key:"copy",value:function(){var e=new n(this.name,this.path);return e.region=this.region,e.rendererObject=this.rendererObject,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,o.Utils.arrayCopy(this.uvs,0,e.uvs,0,8),o.Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e.sequence=null!==this.sequence?this.sequence.copy():null,e}}]),n}(n(353).Attachment);t.RegionAttachment=l,l.X1=0,l.Y1=1,l.C1R=2,l.C1G=3,l.C1B=4,l.C1A=5,l.U1=6,l.V1=7,l.X2=8,l.Y2=9,l.C2R=10,l.C2G=11,l.C2B=12,l.C2A=13,l.U2=14,l.V2=15,l.X3=16,l.Y3=17,l.C3R=18,l.C3G=19,l.C3B=20,l.C3A=21,l.U3=22,l.V3=23,l.X4=24,l.Y4=25,l.C4R=26,l.C4G=27,l.C4B=28,l.C4A=29,l.U4=30,l.V4=31},6436:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceModeValues=t.SequenceMode=t.Sequence=void 0;var a,s=n(4153),o=function(){function e(t){r(this,e),this.id=e.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(t)}return i(e,[{key:"copy",value:function(){var t=new e(this.regions.length);return s.Utils.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t}},{key:"apply",value:function(e,t){var n=e.sequenceIndex;-1===n&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var r=this.regions[n];t.region!==r&&(t.region=r,t.updateRegion())}},{key:"getPath",value:function(e,t){for(var n=e,r=(this.start+t).toString(),i=this.digits-r.length;i>0;i--)n+="0";return n+=r}}],[{key:"nextID",value:function(){return e._nextID++}}]),e}();t.Sequence=o,o._nextID=0,function(e){e[e.hold=0]="hold",e[e.once=1]="once",e[e.loop=2]="loop",e[e.pingpong=3]="pingpong",e[e.onceReverse=4]="onceReverse",e[e.loopReverse=5]="loopReverse",e[e.pingpongReverse=6]="pingpongReverse"}(a=t.SequenceMode||(t.SequenceMode={})),t.SequenceModeValues=[a.hold,a.once,a.loop,a.pingpong,a.onceReverse,a.loopReverse,a.pingpongReverse]},6914:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9889),t),i(n(1700),t),i(n(1657),t),i(n(3006),t),i(n(1362),t),i(n(196),t),i(n(5221),t),i(n(2957),t),i(n(300),t),i(n(4013),t),i(n(7111),t),i(n(8155),t),i(n(3093),t),i(n(9841),t),i(n(9965),t),i(n(2411),t),i(n(1164),t),i(n(3461),t),i(n(2032),t),i(n(6859),t),i(n(3099),t),i(n(3356),t),i(n(3605),t),i(n(9760),t),i(n(3416),t),i(n(4672),t),i(n(7841),t),i(n(9438),t),i(n(5681),t),i(n(4153),t),i(n(5356),t),i(n(353),t),i(n(5500),t),i(n(9374),t),i(n(2024),t),i(n(8582),t),i(n(397),t),i(n(630),t),i(n(7045),t)},5356:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Math.fround=Math.fround||function(e){if(!(e=Number(e)))return e;var t=e<0?-1:1;t<0&&(e=-e);var n=Math.floor(Math.log(e)/Math.LN2),r=Math.pow(2,Math.max(-126,Math.min(n,127))),i=n<-127?0:1,a=Math.round(8388608*(i-e/r));return n>0&&a<=-8388608?t*(1/0):t*r*(i-a/8388608)}},2695:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultRenderableSorter=void 0;var a=n(7811),s=n(847),o=function(){function e(){r(this,e),this.tmpV1=new a.Vector3,this.tmpV2=new a.Vector3}return i(e,[{key:"sort",value:function(e,t){this.camera=e}},{key:"getTranslation",value:function(e,t,n){return t.isZero()?e.getTranslation(n):e.hasRotationOrScaling()?n.set(t.x,t.y,t.z).multiply(e):e.getTranslation(n).add(t),n}},{key:"compare",value:function(e,t){var n=e.material.has(s.BlendingAttribute.Type)&&e.material.get(s.BlendingAttribute.Type).blended;if(n!==(t.material.has(s.BlendingAttribute.Type)&&t.material.get(s.BlendingAttribute.Type).blended))return n?1:-1;this.getTranslation(e.worldTransform,e.meshPart.center,this.tmpV1),this.getTranslation(t.worldTransform,t.meshPart.center,this.tmpV2);var r=1e3*this.camera.position.dst2(this.tmpV1)-1e3*this.camera.position.dst2(this.tmpV2),i=r<0?-1:r>0?1:0;return n?-i:i}}]),e}();t.DefaultRenderableSorter=o},1341:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultShaderProvider=void 0;var s=n(616),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";i(this,e),this.gl=t,this.shaders=[],this.config=n||new s.Config(r,a)}return a(e,[{key:"dispose",value:function(){}},{key:"getShader",value:function(e){var t=e.shader;if(t&&t.canRender(e))return t;var n,i=r(this.shaders);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.canRender(e))return a}}catch(o){i.e(o)}finally{i.f()}var s=this.createShader(this.gl,e);if(!s.canRender(e))throw new Error("unable to provide a shader for this renderable");return s.init(),this.shaders.push(s),s}},{key:"createShader",value:function(e,t){return new s.DefaultShader(e,t,this.config)}}]),e}();t.DefaultShaderProvider=o},5394:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextureBinder=void 0;var a=n(7139),s=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;r(this,e),this.reuseCount=0,this.bindCount=0,this.currentTexture=0,e.gl=t;var s=Math.min(e.getMaxTextureUnits(),e.MAX_GLES_UNITS);if(a<0&&(a=s-i),i<0||a<0||i+a>s)throw new Error("Illegal arguments");this.method=n,this.offset=i,this.count=a,this.textures=new Array(a),this.unitsLRU=n===e.LRU?new Array(a):null}return i(e,[{key:"begin",value:function(){for(var e=0;e<this.count;e++)this.textures[e]=null,null!=this.unitsLRU&&(this.unitsLRU[e]=e)}},{key:"end",value:function(){e.gl.activeTexture(e.gl.TEXTURE0)}},{key:"bindTexture",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this.reused=!1,this.method){case e.ROUNDROBIN:n=this.offset+this.bindTextureRoundRobin(t);break;case e.LRU:n=this.offset+this.bindTextureLRU(t);break;default:return-1}return this.reused?(this.reuseCount++,r?t.bind(n):e.gl.activeTexture(e.gl.TEXTURE0+n)):this.bindCount++,t.setWraps(a.TextureWrap.Repeat,a.TextureWrap.Repeat),t.setFilters(a.TextureFilter.Linear,a.TextureFilter.Linear),n}},{key:"bindTextureRoundRobin",value:function(e){for(var t=0;t<this.count;t++){var n=(this.currentTexture+t)%this.count;if(this.textures[n]===e)return this.reused=!0,n}return this.currentTexture=(this.currentTexture+1)%this.count,this.textures[this.currentTexture]=e,e.bind(this.offset+this.currentTexture),this.currentTexture}},{key:"bindTextureLRU",value:function(e){var t;for(t=0;t<this.count;t++){var n=this.unitsLRU[t];if(this.textures[n]===e){this.reused=!0;break}if(!this.textures[n])break}t>=this.count&&(t=this.count-1);for(var r=this.unitsLRU[t];t>0;)this.unitsLRU[t]=this.unitsLRU[t-1],t--;return this.unitsLRU[0]=r,this.reused||(this.textures[r]=e,e.bind(this.offset+r)),r}},{key:"getBindCount",value:function(){return this.bindCount}},{key:"getReuseCount",value:function(){return this.reuseCount}},{key:"resetCounts",value:function(){this.bindCount=this.reuseCount=0}}],[{key:"getMaxTextureUnits",value:function(){return this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)}}]),e}();t.DefaultTextureBinder=s,s.ROUNDROBIN=0,s.LRU=1,s.MAX_GLES_UNITS=32},8552:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GL20=void 0;var a=r((function e(){i(this,e)}));t.GL20=a,a.GL_ES_VERSION_2_0=1,a.GL_DEPTH_BUFFER_BIT=256,a.GL_STENCIL_BUFFER_BIT=1024,a.GL_COLOR_BUFFER_BIT=16384,a.GL_FALSE=0,a.GL_TRUE=1,a.GL_POINTS=0,a.GL_LINES=1,a.GL_LINE_LOOP=2,a.GL_LINE_STRIP=3,a.GL_TRIANGLES=4,a.GL_TRIANGLE_STRIP=5,a.GL_TRIANGLE_FAN=6,a.GL_ZERO=0,a.GL_ONE=1,a.GL_SRC_COLOR=768,a.GL_ONE_MINUS_SRC_COLOR=769,a.GL_SRC_ALPHA=770,a.GL_ONE_MINUS_SRC_ALPHA=771,a.GL_DST_ALPHA=772,a.GL_ONE_MINUS_DST_ALPHA=773,a.GL_DST_COLOR=774,a.GL_ONE_MINUS_DST_COLOR=775,a.GL_SRC_ALPHA_SATURATE=776,a.GL_FUNC_ADD=32774,a.GL_BLEND_EQUATION=32777,a.GL_BLEND_EQUATION_RGB=32777,a.GL_BLEND_EQUATION_ALPHA=34877,a.GL_FUNC_SUBTRACT=32778,a.GL_FUNC_REVERSE_SUBTRACT=32779,a.GL_BLEND_DST_RGB=32968,a.GL_BLEND_SRC_RGB=32969,a.GL_BLEND_DST_ALPHA=32970,a.GL_BLEND_SRC_ALPHA=32971,a.GL_CONSTANT_COLOR=32769,a.GL_ONE_MINUS_CONSTANT_COLOR=32770,a.GL_CONSTANT_ALPHA=32771,a.GL_ONE_MINUS_CONSTANT_ALPHA=32772,a.GL_BLEND_COLOR=32773,a.GL_ARRAY_BUFFER=34962,a.GL_ELEMENT_ARRAY_BUFFER=34963,a.GL_ARRAY_BUFFER_BINDING=34964,a.GL_ELEMENT_ARRAY_BUFFER_BINDING=34965,a.GL_STREAM_DRAW=35040,a.GL_STATIC_DRAW=35044,a.GL_DYNAMIC_DRAW=35048,a.GL_BUFFER_SIZE=34660,a.GL_BUFFER_USAGE=34661,a.GL_CURRENT_VERTEX_ATTRIB=34342,a.GL_FRONT=1028,a.GL_BACK=1029,a.GL_FRONT_AND_BACK=1032,a.GL_TEXTURE_2D=3553,a.GL_CULL_FACE=2884,a.GL_BLEND=3042,a.GL_DITHER=3024,a.GL_STENCIL_TEST=2960,a.GL_DEPTH_TEST=2929,a.GL_SCISSOR_TEST=3089,a.GL_POLYGON_OFFSET_FILL=32823,a.GL_SAMPLE_ALPHA_TO_COVERAGE=32926,a.GL_SAMPLE_COVERAGE=32928,a.GL_NO_ERROR=0,a.GL_INVALID_ENUM=1280,a.GL_INVALID_VALUE=1281,a.GL_INVALID_OPERATION=1282,a.GL_OUT_OF_MEMORY=1285,a.GL_CW=2304,a.GL_CCW=2305,a.GL_LINE_WIDTH=2849,a.GL_ALIASED_POINT_SIZE_RANGE=33901,a.GL_ALIASED_LINE_WIDTH_RANGE=33902,a.GL_CULL_FACE_MODE=2885,a.GL_FRONT_FACE=2886,a.GL_DEPTH_RANGE=2928,a.GL_DEPTH_WRITEMASK=2930,a.GL_DEPTH_CLEAR_VALUE=2931,a.GL_DEPTH_FUNC=2932,a.GL_STENCIL_CLEAR_VALUE=2961,a.GL_STENCIL_FUNC=2962,a.GL_STENCIL_FAIL=2964,a.GL_STENCIL_PASS_DEPTH_FAIL=2965,a.GL_STENCIL_PASS_DEPTH_PASS=2966,a.GL_STENCIL_REF=2967,a.GL_STENCIL_VALUE_MASK=2963,a.GL_STENCIL_WRITEMASK=2968,a.GL_STENCIL_BACK_FUNC=34816,a.GL_STENCIL_BACK_FAIL=34817,a.GL_STENCIL_BACK_PASS_DEPTH_FAIL=34818,a.GL_STENCIL_BACK_PASS_DEPTH_PASS=34819,a.GL_STENCIL_BACK_REF=36003,a.GL_STENCIL_BACK_VALUE_MASK=36004,a.GL_STENCIL_BACK_WRITEMASK=36005,a.GL_VIEWPORT=2978,a.GL_SCISSOR_BOX=3088,a.GL_COLOR_CLEAR_VALUE=3106,a.GL_COLOR_WRITEMASK=3107,a.GL_UNPACK_ALIGNMENT=3317,a.GL_PACK_ALIGNMENT=3333,a.GL_MAX_TEXTURE_SIZE=3379,a.GL_MAX_TEXTURE_UNITS=34018,a.GL_MAX_VIEWPORT_DIMS=3386,a.GL_SUBPIXEL_BITS=3408,a.GL_RED_BITS=3410,a.GL_GREEN_BITS=3411,a.GL_BLUE_BITS=3412,a.GL_ALPHA_BITS=3413,a.GL_DEPTH_BITS=3414,a.GL_STENCIL_BITS=3415,a.GL_POLYGON_OFFSET_UNITS=10752,a.GL_POLYGON_OFFSET_FACTOR=32824,a.GL_TEXTURE_BINDING_2D=32873,a.GL_SAMPLE_BUFFERS=32936,a.GL_SAMPLES=32937,a.GL_SAMPLE_COVERAGE_VALUE=32938,a.GL_SAMPLE_COVERAGE_INVERT=32939,a.GL_NUM_COMPRESSED_TEXTURE_FORMATS=34466,a.GL_COMPRESSED_TEXTURE_FORMATS=34467,a.GL_DONT_CARE=4352,a.GL_FASTEST=4353,a.GL_NICEST=4354,a.GL_GENERATE_MIPMAP=33169,a.GL_GENERATE_MIPMAP_HINT=33170,a.GL_BYTE=5120,a.GL_UNSIGNED_BYTE=5121,a.GL_SHORT=5122,a.GL_UNSIGNED_SHORT=5123,a.GL_INT=5124,a.GL_UNSIGNED_INT=5125,a.GL_FLOAT=5126,a.GL_FIXED=5132,a.GL_DEPTH_COMPONENT=6402,a.GL_ALPHA=6406,a.GL_RGB=6407,a.GL_RGBA=6408,a.GL_LUMINANCE=6409,a.GL_LUMINANCE_ALPHA=6410,a.GL_UNSIGNED_SHORT_4_4_4_4=32819,a.GL_UNSIGNED_SHORT_5_5_5_1=32820,a.GL_UNSIGNED_SHORT_5_6_5=33635,a.GL_FRAGMENT_SHADER=35632,a.GL_VERTEX_SHADER=35633,a.GL_MAX_VERTEX_ATTRIBS=34921,a.GL_MAX_VERTEX_UNIFORM_VECTORS=36347,a.GL_MAX_VARYING_VECTORS=36348,a.GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,a.GL_MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,a.GL_MAX_TEXTURE_IMAGE_UNITS=34930,a.GL_MAX_FRAGMENT_UNIFORM_VECTORS=36349,a.GL_SHADER_TYPE=35663,a.GL_DELETE_STATUS=35712,a.GL_LINK_STATUS=35714,a.GL_VALIDATE_STATUS=35715,a.GL_ATTACHED_SHADERS=35717,a.GL_ACTIVE_UNIFORMS=35718,a.GL_ACTIVE_UNIFORM_MAX_LENGTH=35719,a.GL_ACTIVE_ATTRIBUTES=35721,a.GL_ACTIVE_ATTRIBUTE_MAX_LENGTH=35722,a.GL_SHADING_LANGUAGE_VERSION=35724,a.GL_CURRENT_PROGRAM=35725,a.GL_NEVER=512,a.GL_LESS=513,a.GL_EQUAL=514,a.GL_LEQUAL=515,a.GL_GREATER=516,a.GL_NOTEQUAL=517,a.GL_GEQUAL=518,a.GL_ALWAYS=519,a.GL_KEEP=7680,a.GL_REPLACE=7681,a.GL_INCR=7682,a.GL_DECR=7683,a.GL_INVERT=5386,a.GL_INCR_WRAP=34055,a.GL_DECR_WRAP=34056,a.GL_VENDOR=7936,a.GL_RENDERER=7937,a.GL_VERSION=7938,a.GL_EXTENSIONS=7939,a.GL_NEAREST=9728,a.GL_LINEAR=9729,a.GL_NEAREST_MIPMAP_NEAREST=9984,a.GL_LINEAR_MIPMAP_NEAREST=9985,a.GL_NEAREST_MIPMAP_LINEAR=9986,a.GL_LINEAR_MIPMAP_LINEAR=9987,a.GL_TEXTURE_MAG_FILTER=10240,a.GL_TEXTURE_MIN_FILTER=10241,a.GL_TEXTURE_WRAP_S=10242,a.GL_TEXTURE_WRAP_T=10243,a.GL_TEXTURE=5890,a.GL_TEXTURE_CUBE_MAP=34067,a.GL_TEXTURE_BINDING_CUBE_MAP=34068,a.GL_TEXTURE_CUBE_MAP_POSITIVE_X=34069,a.GL_TEXTURE_CUBE_MAP_NEGATIVE_X=34070,a.GL_TEXTURE_CUBE_MAP_POSITIVE_Y=34071,a.GL_TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,a.GL_TEXTURE_CUBE_MAP_POSITIVE_Z=34073,a.GL_TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,a.GL_MAX_CUBE_MAP_TEXTURE_SIZE=34076,a.GL_TEXTURE0=33984,a.GL_TEXTURE1=33985,a.GL_TEXTURE2=33986,a.GL_TEXTURE3=33987,a.GL_TEXTURE4=33988,a.GL_TEXTURE5=33989,a.GL_TEXTURE6=33990,a.GL_TEXTURE7=33991,a.GL_TEXTURE8=33992,a.GL_TEXTURE9=33993,a.GL_TEXTURE10=33994,a.GL_TEXTURE11=33995,a.GL_TEXTURE12=33996,a.GL_TEXTURE13=33997,a.GL_TEXTURE14=33998,a.GL_TEXTURE15=33999,a.GL_TEXTURE16=34e3,a.GL_TEXTURE17=34001,a.GL_TEXTURE18=34002,a.GL_TEXTURE19=34003,a.GL_TEXTURE20=34004,a.GL_TEXTURE21=34005,a.GL_TEXTURE22=34006,a.GL_TEXTURE23=34007,a.GL_TEXTURE24=34008,a.GL_TEXTURE25=34009,a.GL_TEXTURE26=34010,a.GL_TEXTURE27=34011,a.GL_TEXTURE28=34012,a.GL_TEXTURE29=34013,a.GL_TEXTURE30=34014,a.GL_TEXTURE31=34015,a.GL_ACTIVE_TEXTURE=34016,a.GL_REPEAT=10497,a.GL_CLAMP_TO_EDGE=33071,a.GL_MIRRORED_REPEAT=33648,a.GL_FLOAT_VEC2=35664,a.GL_FLOAT_VEC3=35665,a.GL_FLOAT_VEC4=35666,a.GL_INT_VEC2=35667,a.GL_INT_VEC3=35668,a.GL_INT_VEC4=35669,a.GL_BOOL=35670,a.GL_BOOL_VEC2=35671,a.GL_BOOL_VEC3=35672,a.GL_BOOL_VEC4=35673,a.GL_FLOAT_MAT2=35674,a.GL_FLOAT_MAT3=35675,a.GL_FLOAT_MAT4=35676,a.GL_SAMPLER_2D=35678,a.GL_SAMPLER_CUBE=35680,a.GL_VERTEX_ATTRIB_ARRAY_ENABLED=34338,a.GL_VERTEX_ATTRIB_ARRAY_SIZE=34339,a.GL_VERTEX_ATTRIB_ARRAY_STRIDE=34340,a.GL_VERTEX_ATTRIB_ARRAY_TYPE=34341,a.GL_VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,a.GL_VERTEX_ATTRIB_ARRAY_POINTER=34373,a.GL_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,a.GL_IMPLEMENTATION_COLOR_READ_TYPE=35738,a.GL_IMPLEMENTATION_COLOR_READ_FORMAT=35739,a.GL_COMPILE_STATUS=35713,a.GL_INFO_LOG_LENGTH=35716,a.GL_SHADER_SOURCE_LENGTH=35720,a.GL_SHADER_COMPILER=36346,a.GL_SHADER_BINARY_FORMATS=36344,a.GL_NUM_SHADER_BINARY_FORMATS=36345,a.GL_LOW_FLOAT=36336,a.GL_MEDIUM_FLOAT=36337,a.GL_HIGH_FLOAT=36338,a.GL_LOW_INT=36339,a.GL_MEDIUM_INT=36340,a.GL_HIGH_INT=36341,a.GL_FRAMEBUFFER=36160,a.GL_RENDERBUFFER=36161,a.GL_RGBA4=32854,a.GL_RGB5_A1=32855,a.GL_RGB565=36194,a.GL_DEPTH_COMPONENT16=33189,a.GL_STENCIL_INDEX=6401,a.GL_STENCIL_INDEX8=36168,a.GL_RENDERBUFFER_WIDTH=36162,a.GL_RENDERBUFFER_HEIGHT=36163,a.GL_RENDERBUFFER_INTERNAL_FORMAT=36164,a.GL_RENDERBUFFER_RED_SIZE=36176,a.GL_RENDERBUFFER_GREEN_SIZE=36177,a.GL_RENDERBUFFER_BLUE_SIZE=36178,a.GL_RENDERBUFFER_ALPHA_SIZE=36179,a.GL_RENDERBUFFER_DEPTH_SIZE=36180,a.GL_RENDERBUFFER_STENCIL_SIZE=36181,a.GL_FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,a.GL_FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,a.GL_FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,a.GL_FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,a.GL_COLOR_ATTACHMENT0=36064,a.GL_DEPTH_ATTACHMENT=36096,a.GL_STENCIL_ATTACHMENT=36128,a.GL_NONE=0,a.GL_FRAMEBUFFER_COMPLETE=36053,a.GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,a.GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,a.GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,a.GL_FRAMEBUFFER_UNSUPPORTED=36061,a.GL_FRAMEBUFFER_BINDING=36006,a.GL_RENDERBUFFER_BINDING=36007,a.GL_MAX_RENDERBUFFER_SIZE=34024,a.GL_INVALID_FRAMEBUFFER_OPERATION=1286,a.GL_VERTEX_PROGRAM_POINT_SIZE=34370,a.GL_COVERAGE_BUFFER_BIT_NV=32768,a.GL_TEXTURE_MAX_ANISOTROPY_EXT=34046,a.GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047},4023:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default,s=n(1588).default,o=n(3808).default,l=n(1655).default,u=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var c=function(e){l(n,e);var t=u(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i(this,n),(e=t.call(this)).id=r||"mtl"+ ++n.counter,e}return a(n,[{key:"equals",value:function(e){return e&&(e===this||e.id===this.id&&s(o(n.prototype),"equals",this).call(this,e))}},{key:"copy",value:function(){var e=new n;e.id=this.id;var t,i=r(this.attributes);try{for(i.s();!(t=i.n()).done;){var a=t.value;e.set(a.copy())}}catch(s){i.e(s)}finally{i.f()}return e}}]),n}(n(2802).Attributes);t.Material=c,c.counter=0},5766:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Mesh3D=t.VertexDataType=void 0;var a=n(5477),s=n(2283),o=n(7811),l=n(8633),u=n(427),c=n(8552),h=n(5223),f=n(9131);!function(e){e[e.VertexArray=0]="VertexArray",e[e.VertexBufferObject=1]="VertexBufferObject",e[e.VertexBufferObjectSubData=2]="VertexBufferObjectSubData",e[e.VertexBufferObjectWithVAO=3]="VertexBufferObjectWithVAO"}(t.VertexDataType||(t.VertexDataType={}));var d=function(){function e(t,n,i,a,s,l){r(this,e),this.gl=t,this.autoBind=!0,this.isInstanced=!1,this.tmpV=new o.Vector3,this.vertices=this.makeVertexBuffer(n,a,l),this.indices=new h.IndexBufferObject(t,s,i),this.isVertexArray=!1,e.addManagedMesh(this)}return i(e,[{key:"Mesh",value:function(t,n,r){this.vertices=t,this.indices=n,this.isVertexArray=r,e.addManagedMesh(this)}},{key:"makeVertexBuffer",value:function(e,t,n){return new f.VertexBufferObject(this.gl,e,t,n)}},{key:"setVertices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return n<0&&(n=e.length),this.vertices.setVertices(e,t,e.length),this}},{key:"updateVertices",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return r<0&&(r=t.length),this.vertices.updateVertices(e,t,n,r),this}},{key:"getVertices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.getNumVertices()*this.getVertexSize()/4;if(-1===n&&(n=i-t)>e.length-r&&(n=e.length-r),t<0||n<=0||t+n>i||r<0||r>=e.length)throw new Error("index out of bound");if(e.length-r<n)throw new Error("not enough room in vertices array, has "+e.length+" floats, needs "+n);for(var a=this.vertices.getBuffer(),s=t;s<n;s++)e[s]=a.at(s-t+r);return e}},{key:"setIndices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return this.indices.setIndices(e,t,n),this}},{key:"getIndices",value:function(e,t,n,r){var i=this.getNumIndices();if(t<0&&(t=i-e),e<0||e>=i||e+t>i)throw new Error("Invalid range specified, offset: "+e+", count: "+t+", max: "+i);if(n.length-r<t)throw new Error("not enough room in indices array, has "+n.length+" shorts, needs "+t);for(var a=this.indices.getBuffer(),s=e;s<t;s++)n[s]=a.at(s-e+r)}},{key:"getNumIndices",value:function(){return this.indices.getNumIndices()}},{key:"getNumVertices",value:function(){return this.vertices.getNumVertices()}},{key:"getMaxVertices",value:function(){return this.vertices.getNumMaxVertices()}},{key:"getMaxIndices",value:function(){return this.indices.getNumMaxIndices()}},{key:"getVertexSize",value:function(){return this.vertices.getAttributes().vertexSize}},{key:"setAutoBind",value:function(e){this.autoBind=e}},{key:"bind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.vertices.bind(e,t),this.indices.getNumIndices()>0&&this.indices.bind()}},{key:"unbind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.vertices.unbind(e,t),this.indices.getNumIndices()>0&&this.indices.unbind()}},{key:"render",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.autoBind;if(r<0&&(r=this.indices.getNumMaxIndices()>0?this.getNumIndices():this.getNumVertices()),0!==r){if(i&&this.bind(e),this.isVertexArray)this.indices.getNumIndices()>0?this.gl.drawElements(t,r,c.GL20.GL_UNSIGNED_SHORT,2*n):this.gl.drawArrays(t,n,r);else if(this.indices.getNumIndices()>0){if(r+n>this.indices.getNumMaxIndices())throw new Error("Mesh attempting to access memory outside of the index buffer (count: "+r+", offset: "+n+", max: "+this.indices.getNumMaxIndices()+")");this.gl.drawElements(t,r,c.GL20.GL_UNSIGNED_SHORT,2*n)}else this.gl.drawArrays(t,n,r);i&&this.unbind(e)}}},{key:"dispose",value:function(){var t=e.meshes.indexOf(this);t>-1&&e.meshes.splice(t,1),this.vertices.dispose(),this.indices.dispose()}},{key:"getVertexAttribute",value:function(e){for(var t=this.vertices.getAttributes(),n=t.size(),r=0;r<n;r++)if(t.get(r).usage===e)return t.get(r);return null}},{key:"getVertexAttributes",value:function(){return this.vertices.getAttributes()}},{key:"getVerticesBuffer",value:function(){return this.vertices.getBuffer()}},{key:"calculateBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=new a.BoundingBox);var t=this.getNumVertices();if(0===t)throw new Error("No vertices defined");var n=this.vertices.getBuffer();e.inf();var r=this.getVertexAttribute(l.Usage.Position),i=r.offset/4,s=this.vertices.getAttributes().vertexSize/4,o=i;switch(r.numComponents){case 1:for(var u=0;u<t;u++)e.ext(n[o],0,0),o+=s;break;case 2:for(var c=0;c<t;c++)e.ext(n[o],n[o+1],0),o+=s;break;case 3:for(var h=0;h<t;h++)e.ext(n[o],n[o+1],n[o+2]),o+=s}}},{key:"extendBoundingBox",value:function(e,t,n,r){var i=this.getNumIndices(),a=this.getNumVertices(),s=0===i?a:i;if(t<0||n<1||t+n>s)throw new Error("Invalid part specified ( offset="+t+", count="+n+", max="+s+" )");var o=this.vertices.getBuffer(),u=this.indices.getBuffer(),c=this.getVertexAttribute(l.Usage.Position),h=c.offset/4,f=this.vertices.getAttributes().vertexSize/4,d=t+n;switch(c.numComponents){case 1:if(i>0)for(var p=t;p<d;p++){var v=(65535&u[p])*f+h;this.tmpV.set(o[v],0,0),r&&this.tmpV.multiply(r),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}else for(var m=t;m<d;m++){var g=m*f+h;this.tmpV.set(o[g],0,0),r&&this.tmpV.multiply(r),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}break;case 2:if(i>0)for(var y=t;y<d;y++){var b=(65535&u[y])*f+h;this.tmpV.set(o[b],o[b+1],0),r&&this.tmpV.multiply(r),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}else for(var _=t;_<d;_++){var x=_*f+h;this.tmpV.set(o[x],o[x+1],0),r&&this.tmpV.multiply(r),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}break;case 3:if(i>0)for(var w=t;w<d;w++){var k=(65535&u[w])*f+h;this.tmpV.set(o[k],o[k+1],o[k+2]),r&&this.tmpV.multiply(r),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}else for(var M=t;M<d;M++){var T=M*f+h;this.tmpV.set(o[T],o[T+1],o[T+2]),r&&this.tmpV.multiply(r),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}}return e}},{key:"calculateRadiusSquared",value:function(e,t,n,r,i,a){var s=this.getNumIndices();if(r<0||i<1||r+i>s)throw new Error("Not enough indices");var u=this.vertices.getBuffer(),c=this.indices.getBuffer(),h=this.getVertexAttribute(l.Usage.Position),f=h.offset/4,d=this.vertices.getAttributes().vertexSize/4,p=r+i,v=0;switch(h.numComponents){case 1:for(var m=r;m<p;m++){var g=(65535&c[m])*d+f;this.tmpV.set(u[g],0,0),a&&this.tmpV.multiply(a);var y=this.tmpV.sub(new o.Vector3(e,t,n)).length2();y>v&&(v=y)}break;case 2:for(var b=r;b<p;b++){var _=(65535&c[b])*d+f;this.tmpV.set(u[b],u[_+1],0),a&&this.tmpV.multiply(a);var x=this.tmpV.sub(new o.Vector3(e,t,n)).length2();x>v&&(v=x)}break;case 3:for(var w=r;w<p;w++){var k=(65535&c[w])*d+f;this.tmpV.set(u[w],u[k+1],u[k+2]),a&&this.tmpV.multiply(a);var M=this.tmpV.sub(new o.Vector3(e,t,n)).length2();M>v&&(v=M)}}return v}},{key:"calculateRadius",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getNumIndices(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return Math.sqrt(this.calculateRadiusSquared(e,t,n,r,i,a))}},{key:"getIndicesBuffer",value:function(){return this.indices.getBuffer()}},{key:"scale",value:function(e,t,n){var r=this.getVertexAttribute(l.Usage.Position),i=r.offset/4,a=r.numComponents,s=this.getNumVertices(),o=this.getVertexSize()/4,u=new Array(s*o);this.getVertices(u);var c=i;switch(a){case 1:for(var h=0;h<s;h++)u[c]*=e,c+=o;break;case 2:for(var f=0;f<s;f++)u[c]*=e,u[c+1]*=t,c+=o;break;case 3:for(var d=0;d<s;d++)u[c]*=e,u[c+1]*=t,u[c+2]*=n,c+=o}this.setVertices(u)}},{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getNumIndices(),i=this.getVertexAttribute(l.Usage.Position),a=i.offset/4,s=this.getVertexSize()/4,o=i.numComponents,u=new Array(r*s);this.getVertices(u,n*s,r*s),e.transform(t,u,s,a,o,0,r),this.updateVertices(n*s,u)}},{key:"transformUV",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getNumVertices(),i=this.getVertexAttribute(l.Usage.TextureCoordinates),a=i.offset/4,s=this.getVertexSize()/4,o=this.getNumVertices(),u=new Array(o*s);this.getVertices(u,0,u.length),e.transformUV(t,u,s,a,n,r),this.setVertices(u,0,u.length)}},{key:"copy",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.getVertexSize()/4,a=this.getNumVertices(),s=new Array(a*i);this.getVertices(s,0,s.length);var o=null,l=null,c=0;if(r){for(var h=0,f=0,d=0;d<r.length;d++)this.getVertexAttribute(r[d])&&(h+=this.getVertexAttribute(r[d]).numComponents,f++);if(h>0){l=new Array(f),o=new Array(h);for(var p=-1,v=-1,m=0;m<r.length;m++){var g=this.getVertexAttribute(r[m]);if(g){for(var y=0;y<g.numComponents;y++)o[++p]=g.offset+y;l[++v]=g.copy(),c+=g.numComponents}}}}if(!o){o=new Array(i);for(var b=0;b<i;b++)o[b]=b;c=i}var _,x=this.getNumIndices(),w=null;if(x>0&&(w=new Array(x),this.getIndices(0,-1,w,0),n||c!==i)){for(var k=new Array(s.length),M=0,T=0;T<x;T++){var S=w[T]*i,A=-1;if(n)for(var E=0;E<M&&A<0;E++){for(var L=E*c,C=!0,O=0;O<o.length&&C;O++)k[L+O]!==s[S+o[O]]&&(C=!1);C&&(A=E)}if(A>0)w[T]=A;else{for(var P=M*c,I=0;I<o.length;I++)k[P+I]=s[S+o[I]];w[T]=M,M++}}s=k,a=M}return(_=new e(this.gl,t,t,a,w?w.length:0,l?new u.VertexAttributes(l):this.getVertexAttributes())).setVertices(s,0,a*c),w&&_.setIndices(w),_}}],[{key:"addManagedMesh",value:function(t){e.meshes||(e.meshes=new Array),e.meshes.push(t)}},{key:"invalidateAllMeshes",value:function(){if(e.meshes)for(var t=0;t<e.meshes.length;t++)e.meshes[t].vertices.invalidate(),e.meshes[t].indices.invalidate()}},{key:"clearAllMeshes",value:function(){e.meshes.length=0}},{key:"transform",value:function(e,t,n,r,i,a,s){if(r<0||i<1||r+i>n)throw new Error;if(a<0||s<1||(a+s)*n>t.length)throw new Error("start = "+a+", count = "+s+", vertexSize = "+n+", length = "+t.length);var l=new o.Vector3,u=r+a*n;switch(i){case 1:for(var c=0;c<s;c++)l.set(t[u],0,0).multiply(e),t[u]=l.x,u+=n;break;case 2:for(var h=0;h<s;h++)l.set(t[u],t[u+1],0).multiply(e),t[u]=l.x,t[u+1]=l.y,u+=n;break;case 3:for(var f=0;f<s;f++)l.set(t[u],t[u+1],t[u+2]).multiply(e),t[u]=l.x,t[u+1]=l.y,t[u+2]=l.z,u+=n}}},{key:"transformUV",value:function(e,t,n,r,i,a){if(i<0||a<1||(i+a)*n>t.length)throw new Error("start = "+i+", count = "+a+", vertexSize = "+n+", length = "+t.length);for(var o=new s.Vector2,l=r+i*n,u=0;u<a;u++)o.set(t[l],t[l+1]).mul(e),t[l]=o.x,t[l+1]=o.y,l+=n}}]),e}();t.Mesh3D=d,d.meshes=[]},7893:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1588).default,s=n(3808).default,o=n(1655).default,l=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBatch=void 0;var u=n(8606),c=n(2695),h=n(1341),f=n(5394),d=n(2289),p=n(5596),v=function(e){o(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"obtain",value:function(){var e=a(s(n.prototype),"obtain",this).call(this);return e.environment=null,e.material=null,e.meshPart.set("",null,0,0,0),e.shader=null,e}}]),n}(u.FlushablePool),m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e),this.camera=null,this.renderablesPool=new v((function(){return new d.Renderable})),this.renderables=[],this.context=null,this.shaderProvider=null,this.sorter=null,this.sorter=i||new c.DefaultRenderableSorter,this.ownContext=!n,this.context=n||new p.RenderContext(new f.DefaultTextureBinder(t,f.DefaultTextureBinder.LRU,1)),this.shaderProvider=this.shaderProvider?this.shaderProvider:new h.DefaultShaderProvider(t)}return i(e,[{key:"dispose",value:function(){this.shaderProvider.dispose()}},{key:"begin",value:function(e){if(this.camera)throw new Error("Call end() first.");this.camera=e,this.ownContext&&this.context.begin()}},{key:"setCamera",value:function(e){if(!this.camera)throw new Error("Call begin() first.");this.renderables.length>0&&this.flush(),this.camera=e}},{key:"getCamera",value:function(){return this.camera}},{key:"ownsRenderContext",value:function(){return this.ownContext}},{key:"getRenderContext",value:function(){return this.context}},{key:"getRenderableSorter",value:function(){return this.sorter}},{key:"flush",value:function(){this.sorter.sort(this.camera,this.renderables);for(var e=null,t=0;t<this.renderables.length;t++){var n=this.renderables[t];e!==n.shader&&(e&&e.end(),(e=n.shader).begin(this.camera,this.context)),e.render(n)}e&&e.end(),this.renderablesPool.flush(),this.renderables.length=0}},{key:"end",value:function(){this.flush(),this.ownContext&&this.context.end(),this.camera=null}},{key:"renderWithRenderable",value:function(e){e.shader=this.shaderProvider.getShader(e),this.renderables.push(e)}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.renderables.length;e.getRenderables(this.renderables,this.renderablesPool);for(var r=n;r<this.renderables.length;r++){var i=this.renderables[r];t&&(i.environment=t),i.shader=this.shaderProvider.getShader(i)}}}]),e}();t.ModelBatch=m},5920:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelInstance=void 0;var s=n(4995),o=n(8235),l=n(1960),u=n(5388),c=n(5904),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.materials=[],this.nodes=[],this.animations=[],this.model=t,this.transform=n||new s.Matrix4,r?this.copyNodes(t.nodes,r):this.copyNodes(t.nodes),this.copyAnimations(t.animations,e.defaultShareKeyframes),this.calculateTransforms()}return a(e,[{key:"copyNodes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,i=e.length;n<i;++n){var a=e[n];if(t){var s,o=r(t);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l===a.id){this.nodes.push(a.copy());break}}}catch(u){o.e(u)}finally{o.f()}}else this.nodes.push(a.copy())}this.invalidate()}},{key:"invalidateNode",value:function(e){for(var t=this,n=function(n,r){var i=e.parts[n],a=i.invBoneBindTransforms;if(a)for(var s=0;s<a.size;++s)a.keys[s]=t.getNode(a.keys[s].id);if(!t.materials.includes(i.material)){var o=t.materials.findIndex((function(e){return e.id===i.material.id}));o<0?t.materials.push(i.material=i.material.copy()):i.material=t.materials[o]}},r=0,i=e.parts.length;r<i;++r)n(r);for(var a=0,s=e.getChildCount();a<s;++a)this.invalidateNode(e.getChildByIndex(a))}},{key:"getNode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l.Node.getNode(this.nodes,e,t,n)}},{key:"invalidate",value:function(){for(var e=0,t=this.nodes.length;e<t;++e)this.invalidateNode(this.nodes[e])}},{key:"copyAnimations",value:function(e,t){var n,i=r(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.copyAnimation(a,t)}}catch(s){i.e(s)}finally{i.f()}}},{key:"copyAnimation",value:function(e,t){var n=new o.Animation3D;n.id=e.id,n.duration=e.duration;var i,a=r(e.nodeAnimations);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=this.getNode(s.node.id);if(l){var h=new u.NodeAnimation;if(h.node=l,t)h.translation=s.translation,h.rotation=s.rotation,h.scaling=s.scaling;else{if(s.translation){h.translation=new Array;var f,d=r(s.translation);try{for(d.s();!(f=d.n()).done;){var p=f.value;h.translation.push(new c.NodeKeyframe(p.keytime,p.value))}}catch(x){d.e(x)}finally{d.f()}}if(s.rotation){h.rotation=new Array;var v,m=r(s.rotation);try{for(m.s();!(v=m.n()).done;){var g=v.value;h.rotation.push(new c.NodeKeyframe(g.keytime,g.value))}}catch(x){m.e(x)}finally{m.f()}}if(s.scaling){h.scaling=new Array;var y,b=r(s.scaling);try{for(b.s();!(y=b.n()).done;){var _=y.value;h.scaling.push(new c.NodeKeyframe(_.keytime,_.value))}}catch(x){b.e(x)}finally{b.f()}}}(h.translation||h.rotation||h.scaling)&&n.nodeAnimations.push(h)}}}catch(x){a.e(x)}finally{a.f()}n.nodeAnimations.length>0&&this.animations.push(n)}},{key:"getRenderable",value:function(e,t,n){return n.setRenderable(e),!n.bones&&this.transform?e.worldTransform.set(this.transform.values).multiply(t.globalTransform):this.transform?e.worldTransform.set(this.transform.values):e.worldTransform.idt(),e}},{key:"getRenderables",value:function(e,t){var n,i=r(this.nodes);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.getRenderablesWithNode(a,e,t)}}catch(s){i.e(s)}finally{i.f()}}},{key:"getRenderablesWithNode",value:function(e,t,n){if(e.parts.length>0){var i,a=r(e.parts);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.enabled&&t.push(this.getRenderable(n.obtain(),e,s))}}catch(c){a.e(c)}finally{a.f()}}var o,l=r(e.getChildren());try{for(l.s();!(o=l.n()).done;){var u=o.value;this.getRenderablesWithNode(u,t,n)}}catch(c){l.e(c)}finally{l.f()}}},{key:"calculateTransforms",value:function(){for(var e=this.nodes.length,t=0;t<e;t++)this.nodes[t].calculateTransforms(!0);for(var n=0;n<e;n++)this.nodes[n].calculateBoneTransforms(!0)}},{key:"calculateBoundingBox",value:function(e){return e.inf(),this.extendBoundingBox(e)}},{key:"extendBoundingBox",value:function(e){for(var t=this.nodes.length,n=0;n<t;n++)this.nodes[n].extendBoundingBox(e);return e}},{key:"getAnimation",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.animations.length;if(n){for(var i=0;i<r;i++)if((t=this.animations[i]).id.toUpperCase()===e.toUpperCase())return t}else for(var a=0;a<r;a++)if((t=this.animations[a]).id===e)return t;return null}},{key:"getMaterial",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.materials.length;if(n){for(var i=0;i<r;i++)if((t=this.materials[i]).id.toUpperCase()===e.toUpperCase())return t}else for(var a=0;a<r;a++)if((t=this.materials[a]).id===e)return t;return null}}]),e}();t.ModelInstance=h,h.defaultShareKeyframes=!0},2596:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PerspectiveCamera=void 0;var a=n(4995),s=n(7811),o=n(4178),l=function(){function e(t,n,i){r(this,e),this.far=100,this.near=1,this.fieldOfView=67,this.viewportWidth=0,this.viewportHeight=0,this.up=new s.Vector3(0,1,0),this.position=new s.Vector3(0,0,0),this.direction=new s.Vector3(0,0,-1),this.view=new a.Matrix4,this.combined=new a.Matrix4,this.projection=new a.Matrix4,this.invProjectionView=new a.Matrix4,this.frustum=new o.Frustum,this.tmp=new s.Vector3,this.tmpVec=new s.Vector3,this.fieldOfView=t,this.viewportWidth=n,this.viewportHeight=i,this.update()}return i(e,[{key:"update",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.viewportWidth/this.viewportHeight;this.projection.projection(Math.abs(this.near),Math.abs(this.far),this.fieldOfView,t),this.tmp.set(this.position.x,this.position.y,this.position.z),this.tmp.add(this.direction),this.view.setToLookAt(this.position,this.tmp,this.up),this.combined.set(this.projection.values),this.combined.multiply(this.view),e&&(this.invProjectionView.set(this.combined.values),this.invProjectionView.invert(),this.frustum.update(this.invProjectionView))}},{key:"lookAt",value:function(e,t,n){if(this.tmpVec.set(e,t,n).sub(this.position).normalize(),!this.tmpVec.isZero()){var r=this.tmpVec.dot(this.up);Math.abs(r-1)<1e-9?this.up.set(this.direction.x,this.direction.y,this.direction.z).scale(-1):Math.abs(r+1)<1e-9&&this.up.set(this.direction.x,this.direction.y,this.direction.z),this.direction.set(this.tmpVec.x,this.tmpVec.y,this.tmpVec.z),this.normalizeUp()}}},{key:"normalizeUp",value:function(){this.tmpVec.set(this.direction.x,this.direction.y,this.direction.z).cross(this.up),this.up.set(this.tmpVec.x,this.tmpVec.y,this.tmpVec.z).cross(this.direction).normalize()}},{key:"translate",value:function(e){this.position.add(e)}},{key:"rotate",value:function(e,t){this.direction.rotate(e,t),this.up.rotate(e,t)}},{key:"rotateAround",value:function(e,t,n){this.tmpVec.set(e.x,e.y,e.z),this.tmpVec.sub(this.position),this.translate(this.tmpVec),this.rotate(t,n),this.tmpVec.rotate(t,n),this.translate(new s.Vector3(-this.tmpVec.x,-this.tmpVec.y,-this.tmpVec.z)),this.update()}}]),e}();t.PerspectiveCamera=l},5596:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RenderContext=void 0;var a=n(5394),s=function(){function e(t){r(this,e),this.textureBinder=t,this.gl=a.DefaultTextureBinder.gl}return i(e,[{key:"begin",value:function(){this.gl.disable(this.gl.DEPTH_TEST),this.depthFunc=0,this.gl.depthMask(!0),this.depthMask=!0,this.gl.disable(this.gl.BLEND),this.blending=!1,this.gl.disable(this.gl.CULL_FACE),this.cullFace=this.blendSFactor=this.blendDFactor=0,this.textureBinder.begin()}},{key:"end",value:function(){0!==this.depthFunc&&this.gl.disable(this.gl.DEPTH_TEST),this.depthMask||this.gl.depthMask(!0),this.blending&&this.gl.disable(this.gl.BLEND),this.cullFace>0&&this.gl.disable(this.gl.CULL_FACE),this.textureBinder.end()}},{key:"setDepthMask",value:function(e){this.depthMask!==e&&this.gl.depthMask(this.depthMask=e)}},{key:"setDepthTest",value:function(e,t,n){var r=0!==this.depthFunc,i=0!==e;this.depthFunc!==e&&(this.depthFunc=e,i?(this.gl.enable(this.gl.DEPTH_TEST),this.gl.depthFunc(e)):this.gl.disable(this.gl.DEPTH_TEST)),i&&(r&&this.depthFunc===e||this.gl.depthFunc(this.depthFunc=e),r&&this.depthRangeNear===t&&this.depthRangeFar===n||this.gl.depthRange(this.depthRangeNear=t,this.depthRangeFar=n))}},{key:"setBlending",value:function(e,t,n){e!==this.blending&&(this.blending=e,e?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND)),!e||this.blendSFactor===t&&this.blendDFactor===n||(this.gl.blendFunc(t,n),this.blendSFactor=t,this.blendDFactor=n)}},{key:"setCullFace",value:function(e){e!==this.cullFace&&(this.cullFace=e,e===this.gl.FRONT||e===this.gl.BACK||e===this.gl.FRONT_AND_BACK?(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(e)):this.gl.disable(this.gl.CULL_FACE))}}]),e}();t.RenderContext=s},2289:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Renderable=void 0;var a=n(4995),s=n(3627),o=function(){function e(){r(this,e),this.worldTransform=new a.Matrix4,this.meshPart=new s.MeshPart,this.bones=null}return i(e,[{key:"set",value:function(e){return this.worldTransform.set(e.worldTransform.values),this.material=e.material,this.meshPart.setByMeshPart(e.meshPart),this.bones=e.bones,this.environment=e.environment,this.shader=e.shader,this}}]),e}();t.Renderable=o},557:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;var a=function(){function e(){r(this,e)}return i(e,[{key:"setType",value:function(e){this.type=e,this.typeBit=this.numberOfTrailingZeros(e)}},{key:"hashCode",value:function(){return 7489*this.typeBit}},{key:"equals",value:function(e){return!!e&&(e===this||!!e&&(this.type===e.type&&e.hashCode()===this.hashCode()))}},{key:"numberOfTrailingZeros",value:function(e){var t,n;if(0===e)return 64;var r=63;return 0!==(n=e)?(r-=32,t=n):t=e>>>32,0!==(n=t<<16)&&(r-=16,t=n),0!==(n=t<<8)&&(r-=8,t=n),0!==(n=t<<4)&&(r-=4,t=n),0!==(n=t<<2)&&(r-=2,t=n),r-(t<<1>>>31)}},{key:"toString",value:function(){return e.getAttributeAlias(this.type)}},{key:"copy",value:function(){return new e}}],[{key:"getAttributeType",value:function(t){for(var n=0;n<e.types.length;n++)if(e.types[n]===t)return 1<<n;return 0}},{key:"getAttributeAlias",value:function(t){for(var n=-1;0!==t&&++n<63&&0===(t>>n&1););return n>=0&&n<e.types.length?e.types[n]:null}},{key:"register",value:function(t){var n=this.getAttributeType(t);return n>0?n:(e.types.push(t),1<<e.types.length-1)}}]),e}();t.Attribute=a,a.types=[]},2802:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Attributes=void 0;var s=function(){function e(){i(this,e),this.attributes=[],this.sorted=!0}return a(e,[{key:"getMask",value:function(){return this.mask}},{key:"get",value:function(e){var t,n=r(this.attributes);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.type===e)return i}}catch(a){n.e(a)}finally{n.f()}return null}},{key:"getArrayAttribute",value:function(e,t){var n,i=r(this.attributes);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.type===t&&e.push(a)}}catch(s){i.e(s)}finally{i.f()}return e}},{key:"clear",value:function(){this.mask=0,this.attributes=[]}},{key:"size",value:function(){return this.attributes.length}},{key:"enable",value:function(e){this.mask|=e}},{key:"disable",value:function(e){this.mask&=~e}},{key:"set",value:function(e){var t=this.indexOf(e.type);t<0?(this.enable(e.type),this.attributes.push(e),this.sorted=!1):this.attributes[t]=e}},{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.set(i)}}catch(a){n.e(a)}finally{n.f()}}},{key:"has",value:function(e){return 0!==e&&(this.mask&e)===e}},{key:"indexOf",value:function(e){if(this.has(e))for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].type===e)return t;return-1}},{key:"set2Attributes",value:function(e,t){this.set(e),this.set(t)}},{key:"set3Attributes",value:function(e,t,n){this.set(e),this.set(t),this.set(n)}},{key:"set4Attributes",value:function(e,t,n,r){this.set(e),this.set(t),this.set(n),this.set(r)}},{key:"setArrayAttribute",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.set(i)}}catch(a){n.e(a)}finally{n.f()}}},{key:"setAttribute",value:function(e){this.set(e)}},{key:"remove",value:function(e){for(var t=this.attributes.length-1;t>=0;t--){var n=this.attributes[t].type;(e&n)===n&&(this.attributes.splice(t,1),this.disable(n),this.sorted=!1)}}},{key:"compare",value:function(e,t){return e.type-t.type}},{key:"same",value:function(e,t){if(e===this)return!0;if(!e||this.mask!==e.mask)return!1;if(!t)return!0;for(var n=0;n<this.attributes.length;n++)if(!this.attributes[n].equals(e.attributes[n]))return!1;return!0}},{key:"equals",value:function(e){return!!e&&(e===this||this.same(e,!0))}}]),e}();t.Attributes=s},847:function(e,t,n){"use strict";var r,i=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BlendingAttribute=void 0;var l=n(8552),u=function(e){s(n,e);var t=o(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.GL20.GL_SRC_ALPHA,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.GL20.GL_ONE_MINUS_SRC_ALPHA,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return i(this,n),(e=t.call(this)).opacity=1,e.setType(e.type),e.blended=s,e.sourceFunction=r,e.destFunction=a,e.opacity=o,e}return a(n,[{key:"set",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.GL20.GL_SRC_ALPHA,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.GL20.GL_ONE_MINUS_SRC_ALPHA,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.type=n.Type,this.typeBit=this.numberOfTrailingZeros(this.type),this.blended=e,this.sourceFunction=t,this.destFunction=r,this.opacity=i}}],[{key:"is",value:function(e){return(e&this.Type)===e}}]),n}(n(557).Attribute);t.BlendingAttribute=u,r=u,u.Alias="blended",u.Type=r.register(r.Alias)},1733:function(e,t,n){"use strict";var r,i=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ColorAttribute3D=void 0;var l=n(8606),u=function(e){s(n,e);var t=o(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).color=new l.Color,a.setType(e),r&&a.color.set(r.r,r.g,r.b,r.a),a}return a(n,[{key:"copy",value:function(){return new n(this.type,this.color)}}],[{key:"is",value:function(e){return 0!==(e&this.Mask)}},{key:"createAmbient",value:function(e){return new n(n.Ambient,e)}},{key:"createDiffuse",value:function(e){return new n(n.Diffuse,e)}},{key:"createSpecular",value:function(e){return new n(n.Specular,e)}},{key:"createReflection",value:function(e){return new n(n.Reflection,e)}},{key:"createEmissive",value:function(e){return new n(n.Emissive,e)}},{key:"createAmbientLight",value:function(e){return new n(n.AmbientLight,e)}},{key:"createFog",value:function(e){return new n(n.Fog,e)}}]),n}(n(557).Attribute);t.ColorAttribute3D=u,r=u,u.DiffuseAlias="diffuseColor",u.Diffuse=r.register(u.DiffuseAlias),u.SpecularAlias="specularColor",u.Specular=r.register(u.SpecularAlias),u.AmbientAlias="ambientColor",u.Ambient=r.register(u.AmbientAlias),u.EmissiveAlias="emissiveColor",u.Emissive=r.register(u.EmissiveAlias),u.ReflectionAlias="reflectionColor",u.Reflection=r.register(u.ReflectionAlias),u.AmbientLightAlias="ambientLightColor",u.AmbientLight=r.register(u.AmbientLightAlias),u.FogAlias="fogColor",u.Fog=r.register(u.FogAlias),u.Mask=r.Ambient|r.Diffuse|r.Specular|r.Emissive|r.Reflection|r.AmbientLight|r.Fog},9693:function(e,t,n){"use strict";var r,i=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionalLightsAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(){var e;return i(this,n),(e=t.call(this)).setType(n.Type),e.lights=new Array,e}return a(n,[{key:"set",value:function(e){for(var t=0;t<e.lights.length;t++)this.lights[t]=e.lights[t]}},{key:"copy",value:function(){var e=new n;return e.set(this),e}},{key:"compareTo",value:function(e){return this.type!==e.type?this.type<e.type?-1:1:0}}],[{key:"is",value:function(e){return(e&n.Type)===e}}]),n}(n(557).Attribute);t.DirectionalLightsAttribute=l,r=l,l.Alias="directionalLights",l.Type=r.register(l.Alias)},5412:function(e,t,n){"use strict";var r,i=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FloatAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).setType(e),a.value=r,a}return a(n,[{key:"copy",value:function(){return new n(this.type,this.value)}}],[{key:"createShininess",value:function(e){return new n(n.Shininess,e)}},{key:"createAlphaTest",value:function(e){return new n(n.AlphaTest,e)}}]),n}(n(557).Attribute);t.FloatAttribute=l,r=l,l.ShininessAlias="shininess",l.Shininess=r.register(r.ShininessAlias),l.AlphaTestAlias="alphaTest",l.AlphaTest=r.register(l.AlphaTestAlias)},603:function(e,t,n){"use strict";var r,i=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IntAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(this,n),(r=t.call(this)).setType(e),r.value=a,r}return a(n,[{key:"copy",value:function(){return new n(this.type,this.value)}}],[{key:"createCullFace",value:function(e){return new n(n.CullFace,e)}}]),n}(n(557).Attribute);t.IntAttribute=l,r=l,l.CullFaceAlias="cullface",l.CullFace=r.register(l.CullFaceAlias)},4836:function(e,t,n){"use strict";var r,i=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PointLightsAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(){var e;return i(this,n),(e=t.call(this)).setType(n.Type),e.lights=new Array,e}return a(n,[{key:"set",value:function(e){for(var t=0;t<e.lights.length;t++)this.lights[t]=e.lights[t]}},{key:"copy",value:function(){var e=new n;return e.set(this),e}},{key:"compareTo",value:function(e){return this.type!==e.type?this.type<e.type?-1:1:0}}],[{key:"is",value:function(e){return(e&n.Type)===e}}]),n}(n(557).Attribute);t.PointLightsAttribute=l,r=l,l.Alias="pointLights",l.Type=r.register(l.Alias)},1148:function(e,t,n){"use strict";var r,i=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpotLightsAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(){var e;return i(this,n),(e=t.call(this)).setType(n.Type),e.lights=new Array,e}return a(n,[{key:"set",value:function(e){for(var t=0;t<e.lights.length;t++)this.lights[t]=e.lights[t]}},{key:"copy",value:function(){var e=new n;return e.set(this),e}},{key:"compareTo",value:function(e){return this.type!==e.type?this.type<e.type?-1:1:0}}],[{key:"is",value:function(e){return(e&n.Type)===e}}]),n}(n(557).Attribute);t.SpotLightsAttribute=l,r=l,l.Alias="spotLights",l.Type=r.register(l.Alias)},2398:function(e,t,n){"use strict";var r,i=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return i(this,n),(r=t.call(this)).offsetU=0,r.offsetV=0,r.scaleU=1,r.scaleV=1,r.uvIndex=0,r.offsetU=a,r.offsetV=s,r.scaleU=o,r.scaleV=l,r.setType(e),r}return a(n,[{key:"setTextureRegion",value:function(e){this.texture=e.texture,this.offsetU=e.u,this.offsetV=e.v,this.scaleU=e.u2-this.offsetU,this.scaleV=e.v2-this.offsetV}},{key:"setTexture",value:function(e){this.texture=e}},{key:"setOffset",value:function(e,t){this.offsetU=e,this.offsetV=t}},{key:"setScale",value:function(e,t){this.scaleU=e,this.scaleV=t}},{key:"copy",value:function(){var e=new n(this.type);return e.offsetU=this.offsetU,e.offsetV=this.offsetV,e.scaleU=this.scaleU,e.scaleV=this.scaleV,e.uvIndex=this.uvIndex,e.texture=this.texture,e}}],[{key:"is",value:function(e){return 0!==(e&n.Mask)}},{key:"createDiffuse",value:function(e){var t=new n(n.Diffuse);return t.setTextureRegion(e),t}},{key:"createSpecular",value:function(e){var t=new n(n.Specular);return t.setTextureRegion(e),t}},{key:"createNormal",value:function(e){var t=new n(n.Normal);return t.setTextureRegion(e),t}},{key:"createBump",value:function(e){var t=new n(n.Bump);return t.setTextureRegion(e),t}},{key:"createAmbient",value:function(e){var t=new n(n.Ambient);return t.setTextureRegion(e),t}},{key:"createEmissive",value:function(e){var t=new n(n.Emissive);return t.setTextureRegion(e),t}},{key:"createReflection",value:function(e){var t=new n(n.Reflection);return t.setTextureRegion(e),t}}]),n}(n(557).Attribute);t.TextureAttribute=l,r=l,l.DiffuseAlias="diffuseTexture",l.Diffuse=r.register(l.DiffuseAlias),l.SpecularAlias="specularTexture",l.Specular=r.register(l.SpecularAlias),l.BumpAlias="bumpTexture",l.Bump=r.register(l.BumpAlias),l.NormalAlias="normalTexture",l.Normal=r.register(l.NormalAlias),l.AmbientAlias="ambientTexture",l.Ambient=r.register(l.AmbientAlias),l.EmissiveAlias="emissiveTexture",l.Emissive=r.register(l.EmissiveAlias),l.ReflectionAlias="reflectionTexture",l.Reflection=r.register(l.ReflectionAlias),l.Mask=r.Diffuse|r.Specular|r.Bump|r.Normal|r.Ambient|r.Emissive|r.Reflection},8633:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexAttribute3D=t.Usage=void 0;var a=n(1858),s=n(8552),o=r((function e(){i(this,e)}));t.Usage=o,o.Position=1,o.ColorUnpacked=2,o.ColorPacked=4,o.Normal=8,o.TextureCoordinates=16,o.Generic=32,o.BoneWeight=64,o.Tangent=128,o.BiNormal=256;var l=function(){function e(t,n,r,a,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i(this,e),this.usage=t,this.numComponents=n,this.type=r,this.normalized=a,this.alias=s,this.unit=o,this.usageIndex=this.numberOfTrailingZeros(t)}return r(e,[{key:"copy",value:function(){return new e(this.usage,this.numComponents,this.type,this.normalized,this.alias,this.unit)}},{key:"getKey",value:function(){return(this.usageIndex<<8)+(255&this.unit)}},{key:"numberOfTrailingZeros",value:function(e){for(var t=0,n=5;n<=e;n+=5)for(var r=n;r%5===0;)r/=5,t++;return t}},{key:"getSizeInBytes",value:function(){switch(this.type){case s.GL20.GL_FLOAT:case s.GL20.GL_FIXED:return 4*this.numComponents;case s.GL20.GL_UNSIGNED_BYTE:case s.GL20.GL_BYTE:return this.numComponents;case s.GL20.GL_UNSIGNED_SHORT:case s.GL20.GL_SHORT:return 2*this.numComponents}return 0}},{key:"equals",value:function(e){return!!e&&this.usage===e.usage&&this.numComponents===e.numComponents&&this.type===e.type&&this.normalized===e.normalized&&this.alias===e.alias&&this.unit===e.unit}}],[{key:"Position",value:function(){return new e(o.Position,3,s.GL20.GL_FLOAT,!1,a.Shader.POSITION,0)}},{key:"TexCoords",value:function(t){return new e(o.TextureCoordinates,2,s.GL20.GL_FLOAT,!1,a.Shader.TEXCOORDS+t,t)}},{key:"Normal",value:function(){return new e(o.Normal,3,s.GL20.GL_FLOAT,!1,a.Shader.NORMAL)}},{key:"ColorPacked",value:function(){return new e(o.ColorPacked,4,s.GL20.GL_UNSIGNED_BYTE,!0,a.Shader.COLOR)}},{key:"ColorUnpacked",value:function(){return new e(o.ColorUnpacked,4,s.GL20.GL_FLOAT,!1,a.Shader.COLOR)}},{key:"Tangent",value:function(){return new e(o.Tangent,3,s.GL20.GL_FLOAT,!1,a.Shader.TANGENT)}},{key:"Binormal",value:function(){return new e(o.BiNormal,3,s.GL20.GL_FLOAT,!1,a.Shader.BINORMAL)}},{key:"BoneWeight",value:function(t){return new e(o.BoneWeight,2,s.GL20.GL_FLOAT,!1,a.Shader.BONEWEIGHT+t,t)}}]),e}();t.VertexAttribute3D=l},427:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexAttributes=void 0;var s=function(){function e(t){if(i(this,e),this.mask=-1,0===t.length)throw new Error("attributes must be >= 1");for(var n=[],r=0;r<t.length;r++)n[r]=t[r];this.attributes=n,this.vertexSize=this.calculateOffsets()}return a(e,[{key:"getOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.findByUsage(e);return n?n.offset/4:t}},{key:"findByUsage",value:function(e){var t,n=r(this.attributes);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.usage===e)return i}}catch(a){n.e(a)}finally{n.f()}return null}},{key:"calculateOffsets",value:function(){for(var e=0,t=0;t<this.attributes.length;t++)this.attributes[t].offset=e,e+=this.attributes[t].getSizeInBytes();return e}},{key:"size",value:function(){return this.attributes.length}},{key:"get",value:function(e){return this.attributes[e]}},{key:"toString",value:function(){for(var e="[",t=0;t<this.attributes.length;t++)e+="(",e+=this.attributes[t].alias,e+=", ",e+=this.attributes[t].usage,e+=", ",e+=this.attributes[t].numComponents,e+=", ",e+=this.attributes[t].offset,e+=")",e+="\n";return e+="]"}},{key:"equals",value:function(e){if(e===this)return!0;if(this.attributes.length!==e.attributes.length)return!1;for(var t=0;t<this.attributes.length;t++)if(!this.attributes[t].equals(e.attributes[t]))return!1;return!0}},{key:"getMask",value:function(){if(-1===this.mask){for(var e=0,t=0;t<this.attributes.length;t++)e|=this.attributes[t].usage;this.mask=e}return this.mask}},{key:"getMaskWithSizePacked",value:function(){return this.getMask()|this.attributes.length<<32}}]),e}();t.VertexAttributes=s},7316:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(557),t),i(n(2802),t),i(n(847),t),i(n(1733),t),i(n(9693),t),i(n(5412),t),i(n(603),t),i(n(4836),t),i(n(1148),t),i(n(2398),t),i(n(8633),t),i(n(427),t)},7299:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AmbientCubemap=void 0;var a=n(8606),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(r(this,e),t){if(t.length!==e.NUM_VALUES)throw new Error("Incorrect array size");this.data=new Array(t.length),a.Utils.arrayCopy(t,0,this.data,0,this.data.length)}else this.data=new Array(e.NUM_VALUES)}return i(e,[{key:"setData",value:function(e){for(var t=0;t<this.data.length;t++)this.data[t]=e[t];return this}},{key:"setColor",value:function(t,n,r){for(var i=0;i<e.NUM_VALUES;)this.data[i]=t,this.data[i+1]=n,this.data[i+2]=r,i+=3;return this}},{key:"getColor",value:function(e,t){return t*=3,e.set(this.data[t],this.data[t+1],this.data[t+2],1)}},{key:"clear",value:function(){for(var e=0;e<this.data.length;e++)this.data[e]=0;return this}},{key:"clamp",value:function(){for(var t=0;t<this.data.length;t++)this.data[t]=e.clamp(this.data[t]);return this}},{key:"addColor",value:function(e,t,n){for(var r=0;r<this.data.length;)this.data[r++]+=e,this.data[r++]+=t,this.data[r++]+=n;return this}},{key:"add",value:function(e,t,n,r,i,a){var s=r*r,o=i*i,l=a*a,u=s+o+l;if(0===u)return this;var c=e*(u=1/u*(u+1)),h=t*u,f=n*u,d=r>0?0:3;return this.data[d]+=s*c,this.data[d+1]+=s*h,this.data[d+2]+=s*f,d=i>0?6:9,this.data[d]+=o*c,this.data[d+1]+=o*h,this.data[d+2]+=o*f,d=a>0?12:15,this.data[d]+=l*c,this.data[d+1]+=l*h,this.data[d+2]+=l*f,this}},{key:"addWithColorAndDirection",value:function(e,t){return this.add(e.r,e.g,e.b,t.x,t.y,t.z)}},{key:"addWithPointTarget",value:function(e,t,n){return this.add(e.r,e.g,e.b,n.x-t.x,n.y-t.y,n.z-t.z)}},{key:"addWithPointTargetIntensity",value:function(e,t,n,r){var i=r/(1+n.distance(t));return this.add(e.r*i,e.g*i,e.b*i,n.x-t.x,n.y-t.y,n.z-t.z)}},{key:"toString",value:function(){for(var e="",t=0;t<this.data.length;t+=3)e+=this.data[t]+", "+this.data[t+1]+", "+this.data[t+2]+"\n";return e}}],[{key:"clamp",value:function(e){return e<0?0:e>1?1:e}}]),e}();t.AmbientCubemap=s,s.NUM_VALUES=18},5847:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLight=void 0;var a=n(8606),s=function(){function e(){r(this,e),this.color=new a.Color(0,0,0,1)}return i(e,[{key:"setColor",value:function(e,t,n,r){return this.color.set(e,t,n,r),this}}]),e}();t.BaseLight=s},1843:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionalLight=void 0;var o=n(7811),l=function(e){a(n,e);var t=s(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).direction=new o.Vector3,e}return i(n,[{key:"setDirection",value:function(e,t,n){return this.direction.set(e,t,n),this}},{key:"setFrom",value:function(e,t){return e&&this.color.set(e.r,e.g,e.b,e.a),t&&this.direction.setFrom(t).normalize(),this}},{key:"set",value:function(e,t,n,r,i,a){return this.color.set(e,t,n,1),this.direction.set(r,i,a).normalize(),this}},{key:"equals",value:function(e){return!!e&&(e===this||this.color.equals(e.color)&&this.direction.equals(e.direction))}}]),n}(n(5847).BaseLight);t.DirectionalLight=l},8798:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;var l=n(2802),u=n(9693),c=n(4836),h=n(1148),f=n(1843),d=n(1139),p=n(2036),v=function(e){s(n,e);var t=o(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"addLights",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.addLight(i)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"addLight",value:function(e){if(e instanceof f.DirectionalLight)this.addDirectionalLight(e);else if(e instanceof d.PointLight)this.addPointLight(e);else{if(!(e instanceof p.SpotLight))throw new Error("Unknown light type");this.addSpotLight(e)}return this}},{key:"addDirectionalLight",value:function(e){var t=this.get(u.DirectionalLightsAttribute.Type);return t||this.set(t=new u.DirectionalLightsAttribute),t.lights.push(e),this}},{key:"addPointLight",value:function(e){var t=this.get(c.PointLightsAttribute.Type);return t||this.set(t=new c.PointLightsAttribute),t.lights.push(e),this}},{key:"addSpotLight",value:function(e){var t=this.get(h.SpotLightsAttribute.Type);return t||this.set(t=new h.SpotLightsAttribute),t.lights.push(e),this}},{key:"removeLights",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.removeLight(i)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"removeLight",value:function(e){if(e instanceof f.DirectionalLight)this.removeDirectionalLight(e);else if(e instanceof d.PointLight)this.removePointLight(e);else{if(!(e instanceof p.SpotLight))throw new Error("Unknown light type");this.removeSpotLight(e)}return this}},{key:"removeDirectionalLight",value:function(e){if(this.has(u.DirectionalLightsAttribute.Type)){var t=this.get(u.DirectionalLightsAttribute.Type),n=t.lights.indexOf(e,0);n>-1&&t.lights.splice(n,1),0===t.lights.length&&this.remove(u.DirectionalLightsAttribute.Type)}return this}},{key:"removePointLight",value:function(e){if(this.has(c.PointLightsAttribute.Type)){var t=this.get(c.PointLightsAttribute.Type),n=t.lights.indexOf(e,0);n>-1&&t.lights.splice(n,1),0===t.lights.length&&this.remove(c.PointLightsAttribute.Type)}return this}},{key:"removeSpotLight",value:function(e){if(this.has(h.SpotLightsAttribute.Type)){var t=this.get(h.SpotLightsAttribute.Type),n=t.lights.indexOf(e,0);n>-1&&t.lights.splice(n,1),0===t.lights.length&&this.remove(h.SpotLightsAttribute.Type)}return this}}]),n}(l.Attributes);t.Environment=v},1139:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PointLight=void 0;var o=n(7811),l=function(e){a(n,e);var t=s(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).position=new o.Vector3,e}return i(n,[{key:"setPosition",value:function(e,t,n){return this.position.set(e,t,n),this}},{key:"setIntensity",value:function(e){return this.intensity=e,this}},{key:"setFrom",value:function(e){return this.set(e.color,e.position,e.intensity)}},{key:"set",value:function(e,t,n){return e&&this.color.setFromColor(e),t&&this.position.setFrom(t),this.intensity=n,this}},{key:"setFromValue",value:function(e,t,n,r,i,a,s){return this.color.set(e,t,n,1),this.position.set(r,i,a),this.intensity=s,this}},{key:"equals",value:function(e){return!!e&&(e===this||this.color.equals(e.color)&&this.position.equals(e.position)&&this.intensity===e.intensity)}}]),n}(n(5847).BaseLight);t.PointLight=l},2036:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpotLight=void 0;var o=n(8606),l=n(7811),u=function(e){a(n,e);var t=s(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).position=new l.Vector3,e.direction=new l.Vector3,e}return i(n,[{key:"setPosition",value:function(e,t,n){return this.position.set(e,t,n),this}},{key:"setDirection",value:function(e,t,n){return this.direction.set(e,t,n),this}},{key:"setIntensity",value:function(e){return this.intensity=e,this}},{key:"setCutoffAngle",value:function(e){return this.cutoffAngle=e,this}},{key:"setExponent",value:function(e){return this.exponent=e,this}},{key:"set",value:function(e,t,n,r,i,a){return e&&this.color.setFromColor(e),t&&this.position.setFrom(t),n&&this.direction.setFrom(n).normalize(),this.intensity=r,this.cutoffAngle=i,this.exponent=a,this}},{key:"setFromValue",value:function(e,t,n,r,i,a,s,o,l,u,c,h){return this.color.set(e,t,n,1),this.position.set(r,i,a),this.direction.set(s,o,l).normalize(),this.intensity=u,this.cutoffAngle=c,this.exponent=h,this}},{key:"setFrom",value:function(e){return this.set(e.color,e.position,e.direction,e.intensity,e.cutoffAngle,e.exponent)}},{key:"setTarget",value:function(e){return this.direction.set(e.x,e.y,e.z).sub(this.position).normalize(),this}},{key:"equals",value:function(e){return!!e&&(e===this||this.color.equals(e.color)&&this.position.equals(e.position)&&this.direction.equals(e.direction)&&o.MathUtils.isEqual(this.intensity,e.intensity)&&o.MathUtils.isEqual(this.cutoffAngle,e.cutoffAngle)&&o.MathUtils.isEqual(this.exponent,e.exponent))}}]),n}(n(5847).BaseLight);t.SpotLight=u},3954:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7299),t),i(n(5847),t),i(n(1843),t),i(n(8798),t),i(n(1139),t),i(n(2036),t)},6893:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7316),t),i(n(2695),t),i(n(1341),t),i(n(5394),t),i(n(3954),t),i(n(8552),t),i(n(1055),t),i(n(4023),t),i(n(4286),t),i(n(5766),t),i(n(4501),t),i(n(7893),t),i(n(5920),t),i(n(2596),t),i(n(2289),t),i(n(5596),t),i(n(7452),t),i(n(3975),t)},8395:function(e,t,n){"use strict";var r=n(4704).default,i=n(7061).default,a=n(6690).default,s=n(9728).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.G3dModelLoader=void 0;var l=n(4995),u=n(5122),c=n(8606),h=n(2283),f=n(7811),d=n(8633),p=n(8552),v=n(129),m=n(8896),g=n(798),y=n(779),b=n(3710),_=n(4610),x=n(7416),w=n(707),k=n(3309),M=n(9373),T=n(663),S=n(6764),A=function(){function e(){a(this,e),this.tempQ=new u.Quaternion,this.reader=new S.UBJsonReader}return s(e,[{key:"load",value:function(e,t){return o(this,void 0,void 0,i().mark((function n(){var r,a,s,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.split(".").pop(),a="g3db"===r,n.next=4,this.parseModel(t,a);case 4:return s=n.sent,o=new T.Model(e),n.next=8,o.load(s);case 8:return n.abrupt("return",o);case 9:case"end":return n.stop()}}),n,this)})))}},{key:"parseModel",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(this,void 0,void 0,i().mark((function r(){var a,s,o,l,u,c;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.substring(0,t.lastIndexOf("/")),!n){r.next=8;break}return r.next=4,fetch(t).then((function(e){return e.arrayBuffer()}));case 4:o=r.sent,s=this.reader.parse(o),r.next=12;break;case 8:return r.next=10,fetch(t).then((function(e){return e.text()}));case 10:l=r.sent,s=JSON.parse(l);case 12:if(u=new m.ModelData,c=s.version,u.version[0]=c[0],u.version[1]=c[1],u.version[0]===e.VERSION_HI&&u.version[1]===e.VERSION_LO){r.next=18;break}throw new Error("Model version not supported");case 18:return u.id=this.getString(s.id,""),this.parseMeshes(u,s),this.parseMaterials(u,s,a),this.parseNodes(u,s),this.parseAnimations(u,s),r.abrupt("return",u);case 24:case"end":return r.stop()}}),r,this)})))}},{key:"parseMeshes",value:function(e,t){var n=t.meshes;if(void 0!==n){var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var s=i.value,o=new y.ModelMesh,l=this.getString(s.id,"");o.id=l;var u=s.attributes;o.attributes=this.parseAttributes(u),o.vertices=s.vertices;var c,h=s.parts,f=new Array,d=r(h);try{for(d.s();!(c=d.n()).done;){var p=c.value,v=new b.ModelMeshPart,m=this.getString(p.id,null);if(!m)throw new Error("Not id given for mesh part");var g,_=r(f);try{for(_.s();!(g=_.n()).done;){if(g.value.id===m)throw new Error("Mesh part with id '"+m+"' already in defined")}}catch(w){_.e(w)}finally{_.f()}v.id=m;var x=this.getString(p.type,null);if(!x)throw new Error("No primitive type given for mesh part '"+m+"'");v.primitiveType=this.parseType(x),v.indices=p.indices,f.push(v)}}catch(w){d.e(w)}finally{d.f()}o.parts=f,e.meshes.push(o)}}catch(w){a.e(w)}finally{a.f()}}}},{key:"parseType",value:function(e){if("TRIANGLES"===e)return p.GL20.GL_TRIANGLES;if("LINES"===e)return p.GL20.GL_LINES;if("POINTS"===e)return p.GL20.GL_POINTS;if("TRIANGLE_STRIP"===e)return p.GL20.GL_TRIANGLE_STRIP;if("LINE_STRIP"===e)return p.GL20.GL_LINE_STRIP;throw new Error("Unknown primitive type '"+e+"', should be one of triangle, trianglestrip, line, linestrip, lineloop or point")}},{key:"parseAttributes",value:function(e){var t,n=new Array,i=0,a=0,s=r(e);try{for(s.s();!(t=s.n()).done;){var o=t.value;if("POSITION"===o)n.push(d.VertexAttribute3D.Position());else if("NORMAL"===o)n.push(d.VertexAttribute3D.Normal());else if("COLOR"===o)n.push(d.VertexAttribute3D.ColorUnpacked());else{if("COLORPACKED"===o)throw Error("ColorPacked currently not supported");if("TANGENT"===o)n.push(d.VertexAttribute3D.Tangent());else if("BINORMAL"===o)n.push(d.VertexAttribute3D.Binormal());else if(o.startsWith("TEXCOORD"))n.push(d.VertexAttribute3D.TexCoords(i++));else{if(!o.startsWith("BLENDWEIGHT"))throw new Error("Unknown vertex attribute '"+o+"', should be one of position, normal, uv, tangent or binormal");n.push(d.VertexAttribute3D.BoneWeight(a++))}}}}catch(l){s.e(l)}finally{s.f()}return n}},{key:"parseMaterials",value:function(e,t,n){var i=t.materials;if(void 0!==i){var a,s=r(i);try{for(s.s();!(a=s.n()).done;){var o=a.value,l=new g.ModelMaterial,u=this.getString(o.id,null);if(!u)throw new Error("Material needs an id.");l.id=u;var c=o.diffuse;void 0!==c&&(l.diffuse=this.parseColor(c));var h=o.ambient;void 0!==h&&(l.ambient=this.parseColor(h));var f=o.emissive;void 0!==f&&(l.emissive=this.parseColor(f));var d=o.specular;void 0!==d&&(l.specular=this.parseColor(d));var p=o.reflection;void 0!==p&&(l.reflection=this.parseColor(p)),l.shininess=this.getFloat(o.shininess,0),l.opacity=this.getFloat(o.opacity,1);var v=o.textures;if(void 0!==v){var m,y=r(v);try{for(y.s();!(m=y.n()).done;){var b=m.value,_=new M.ModelTexture,x=this.getString(b.id,null);if(!x)throw new Error("Texture has no id.");_.id=x;var w=this.getString(b.filename,null);if(!w)throw new Error("Texture needs filename.");_.fileName=n+(0===n.length||n.endsWith("/")?"":"/")+w,_.uvTranslation=this.readVector2(b.uvTranslation,0,0),_.uvScaling=this.readVector2(b.uvScaling,1,1);var k=this.getString(b.type,null);if(void 0===k)throw new Error("Texture needs type.");_.usage=this.parseTextureUsage(k),void 0===l.textures&&(l.textures=new Array),l.textures.push(_)}}catch(T){y.e(T)}finally{y.f()}}e.materials.push(l)}}catch(T){s.e(T)}finally{s.f()}}}},{key:"parseTextureUsage",value:function(e){return"AMBIENT"===e.toUpperCase()?M.ModelTexture.USAGE_AMBIENT:"BUMP"===e.toUpperCase()?M.ModelTexture.USAGE_BUMP:"DIFFUSE"===e.toUpperCase()?M.ModelTexture.USAGE_DIFFUSE:"EMISSIVE"===e.toUpperCase()?M.ModelTexture.USAGE_EMISSIVE:"NONE"===e.toUpperCase()?M.ModelTexture.USAGE_NONE:"NORMAL"===e.toUpperCase()?M.ModelTexture.USAGE_NORMAL:"REFLECTION"===e.toUpperCase()?M.ModelTexture.USAGE_REFLECTION:"SHININESS"===e.toUpperCase()?M.ModelTexture.USAGE_SHININESS:"SPECULAR"===e.toUpperCase()?M.ModelTexture.USAGE_SPECULAR:"TRANSPARENCY"===e.toUpperCase()?M.ModelTexture.USAGE_TRANSPARENCY:M.ModelTexture.USAGE_UNKNOWN}},{key:"parseColor",value:function(e){if(e.length>=3)return new c.Color(e[0],e[1],e[2],1);throw new Error("Expected Color values <> than three.")}},{key:"readVector2",value:function(e,t,n){if(void 0===e)return new h.Vector2(t,n);if(2===e.length)return new h.Vector2(e[0],e[1]);throw new Error("Expected Vector2 values <> than two.")}},{key:"parseNodes",value:function(e,t){var n=t.nodes;if(void 0!==n){var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;e.nodes.push(this.parseNodesRecursively(s))}}catch(o){a.e(o)}finally{a.f()}}return e.nodes}},{key:"parseNodesRecursively",value:function(e){var t=new _.ModelNode,n=this.getString(e.id,null);if(!n)throw new Error("Node id missing.");t.id=n;var i=e.translation;if(void 0!==i&&3!==i.length)throw new Error("Node translation incomplete");t.translation=void 0===i?null:new f.Vector3(i[0],i[1],i[2]);var a=e.rotation;if(void 0!==a&&4!==a.length)throw new Error("Node rotation incomplete");t.rotation=void 0===a?null:new u.Quaternion(a[0],a[1],a[2],a[3]);var s=e.scale;if(void 0!==s&&3!==s.length)throw new Error("Node scale incomplete");t.scale=void 0===s?null:new f.Vector3(s[0],s[1],s[2]);var o=this.getString(e.mesh,null);o&&(t.meshId=o);var h=e.parts;if(void 0!==h){t.parts=new Array;var d,p=0,v=r(h);try{for(v.s();!(d=v.n()).done;){var m=d.value,g=new k.ModelNodePart,y=this.getString(m.meshpartid,null),b=this.getString(m.materialid,null);if(!y||!b)throw new Error("Node "+n+" part is missing meshPartId or materialId");g.materialId=b,g.meshPartId=y;var x=m.bones;if(void 0!==x){g.bones=new c.ArrayMap;var w,M=r(x);try{for(M.s();!(w=M.n()).done;){var T=w.value,S=this.getString(T.node,null);if(!S)throw new Error("Bone node ID missing");var A=new l.Matrix4,E=T.translation;E&&E.length>=3&&A.translate(E[0],E[1],E[2]),(E=T.rotation)&&E.length>=4&&A.rotate(this.tempQ.set(E[0],E[1],E[2],E[3])),(E=T.scale)&&E.length>=3&&A.scale(E[0],E[1],E[2]),g.bones.set(S,A)}}catch(N){M.e(N)}finally{M.f()}}t.parts[p]=g,p++}}catch(N){v.e(N)}finally{v.f()}}var L=e.children;if(void 0!==L){t.children=new Array;var C,O=0,P=r(L);try{for(P.s();!(C=P.n()).done;){var I=C.value;t.children[O]=this.parseNodesRecursively(I),O++}}catch(N){P.e(N)}finally{P.f()}}return t}},{key:"parseAnimations",value:function(e,t){var n=t.animations;if(n){var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var s=i.value,o=s.bones;if(void 0!==o){var l=new v.ModelAnimation;e.animations.push(l),l.id=s.id;var c,h=r(o);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=new x.ModelNodeAnimation;l.nodeAnimations.push(p),p.nodeId=d.boneId;var m=d.keyframes;if(void 0!==m&&Array.isArray(m)){var g,y=r(m);try{for(y.s();!(g=y.n()).done;){var b=g.value,_=this.getFloat(b.keytime,0)/1e3,k=b.translation;if(void 0!==k&&3===k.length){p.translation||(p.translation=new Array);var M=new w.ModelNodeKeyframe;M.keytime=_,M.value=new f.Vector3(k[0],k[1],k[2]),p.translation.push(M)}var T=b.rotation;if(void 0!==T&&4===T.length){p.rotation||(p.rotation=new Array);var S=new w.ModelNodeKeyframe;S.keytime=_,S.value=new u.Quaternion(T[0],T[1],T[2],T[3]),p.rotation.push(S)}var A=b.scale;if(void 0!==A&&3===A.length){p.scaling||(p.scaling=new Array);var E=new w.ModelNodeKeyframe;E.keytime=_,E.value=new f.Vector3(A[0],A[1],A[2]),p.scaling.push(E)}}}catch(X){y.e(X)}finally{y.f()}}else{var L=d.translation;if(void 0!==L&&Array.isArray(L)){p.translation=new Array;var C,O=r(L);try{for(O.s();!(C=O.n()).done;){var P=C.value,I=new w.ModelNodeKeyframe;p.translation.push(I),I.keytime=this.getFloat(P.keytime,0)/1e3;var N=P.value;void 0!==N&&N.length>=3&&(I.value=new f.Vector3(N[0],N[1],N[2]))}}catch(X){O.e(X)}finally{O.f()}}var R=d.rotation;if(R&&Array.isArray(R)){p.rotation=new Array;var F,B=r(R);try{for(B.s();!(F=B.n()).done;){var D=F.value,j=new w.ModelNodeKeyframe;p.rotation.push(j),j.keytime=this.getFloat(D.keytime,0)/1e3;var U=D.value;void 0!==U&&U.length>=4&&(j.value=new u.Quaternion(U[0],U[1],U[2],U[3]))}}catch(X){B.e(X)}finally{B.f()}}var V=d.scaling;if(V&&Array.isArray(V)){p.scaling=new Array;var G,z=r(V);try{for(z.s();!(G=z.n()).done;){var W=G.value,H=new w.ModelNodeKeyframe;p.scaling.push(H),H.keytime=this.getFloat(W.keytime,0)/1e3;var Y=W.value;void 0!==Y&&Y.length>=3&&(H.value=new f.Vector3(Y[0],Y[1],Y[2]))}}catch(X){z.e(X)}finally{z.f()}}}}}catch(X){h.e(X)}finally{h.f()}}}}catch(X){a.e(X)}finally{a.f()}}}},{key:"getString",value:function(e,t){return void 0!==e?e:t}},{key:"getFloat",value:function(e,t){return void 0!==e?e:t}}]),e}();t.G3dModelLoader=A,A.VERSION_HI=0,A.VERSION_LO=1},7503:function(e,t,n){"use strict";var r=n(4704).default,i=n(7061).default,a=n(9728).default,s=n(6690).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjLoader=t.MtlLoader=t.ObjMaterial=void 0;var l=n(5122),u=n(1858),c=n(8606),h=n(7811),f=n(8633),d=n(8552),p=n(4023),v=n(8896),m=n(798),g=n(779),y=n(3710),b=n(4610),_=n(3309),x=n(9373),w=n(663),k=a((function e(t){s(this,e),this.name=t,this.faces=[],this.numFaces=0,this.mat=new p.Material(""),this.materialName="default"})),M=function(){function e(){s(this,e),this.materialName="default",this.reset()}return a(e,[{key:"build",value:function(){var e=new m.ModelMaterial;return e.id=this.materialName,e.ambient=this.ambientColor?new c.Color(this.ambientColor.r,this.ambientColor.g,this.ambientColor.b,this.ambientColor.a):null,e.diffuse=new c.Color(this.diffuseColor.r,this.diffuseColor.g,this.diffuseColor.b,this.diffuseColor.a),e.specular=new c.Color(this.specularColor.r,this.specularColor.g,this.specularColor.b,this.specularColor.a),e.opacity=this.opacity,e.shininess=this.shininess,this.addTexture(e,this.alphaTexFilename,x.ModelTexture.USAGE_TRANSPARENCY),this.addTexture(e,this.ambientTexFilename,x.ModelTexture.USAGE_AMBIENT),this.addTexture(e,this.diffuseTexFilename,x.ModelTexture.USAGE_DIFFUSE),this.addTexture(e,this.specularTexFilename,x.ModelTexture.USAGE_SPECULAR),this.addTexture(e,this.shininessTexFilename,x.ModelTexture.USAGE_SHININESS),e}},{key:"addTexture",value:function(e,t,n){if(t){var r=new x.ModelTexture;r.usage=n,r.fileName=t,void 0===e.textures&&(e.textures=new Array),e.textures.push(r)}}},{key:"reset",value:function(){this.ambientColor=null,this.diffuseColor=c.Color.WHITE,this.specularColor=c.Color.WHITE,this.opacity=1,this.shininess=0,this.alphaTexFilename=null,this.ambientTexFilename=null,this.diffuseTexFilename=null,this.shininessTexFilename=null,this.specularTexFilename=null}}]),e}();t.ObjMaterial=M;var T=function(){function e(){s(this,e),this.materials=new Array}return a(e,[{key:"load",value:function(e){return o(this,void 0,void 0,i().mark((function t(){var n,r,a,s,o,l,u,c,h,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new M,0!==e.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,fetch(e);case 5:if((s=t.sent).ok){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,s.text();case 10:o=t.sent,l=o.split("\n").map((function(e){return e.trim()})),u=0,t.prev=13;case 14:if(void 0===(n=l[u])){t.next=30;break}if(u++,n.length>0&&"\t"===n.charAt(0)&&(n=n.substring(1).trim()),0!==(r=n.split(" "))[0].length){t.next=22;break}return t.abrupt("continue",14);case 22:if("#"!==r[0].charAt(0)){t.next=26;break}return t.abrupt("continue",14);case 26:"newmtl"===(c=r[0].toLowerCase())?(h=a.build(),this.materials.push(h),r.length>1?(a.materialName=r[1],a.materialName=a.materialName.replace(".","_")):a.materialName="default",a.reset()):"ka"===c?a.ambientColor=this.parseColor(r):"kd"===c?a.diffuseColor=this.parseColor(r):"ks"===c?a.specularColor=this.parseColor(r):"tr"===c||"d"===c?a.opacity=parseFloat(r[1]):"ns"===c?a.shininess=parseFloat(r[1]):"map_d"===c?a.alphaTexFilename=r[1]:"map_ka"===c?a.ambientTexFilename=r[1]:"map_kd"===c?a.diffuseTexFilename=r[1]:"map_ks"===c?a.specularTexFilename=r[1]:"map_ns"===c&&(a.shininessTexFilename=r[1]);case 28:t.next=14;break;case 30:t.next=35;break;case 32:t.prev=32,t.t0=t.catch(13),console.error(t.t0);case 35:return f=a.build(),this.materials.push(f),t.abrupt("return");case 38:case"end":return t.stop()}}),t,this,[[13,32]])})))}},{key:"parseColor",value:function(e){var t=parseFloat(e[1]),n=parseFloat(e[2]),r=parseFloat(e[3]),i=1;return e.length>4&&(i=parseFloat(e[4])),new c.Color(t,n,r,i)}},{key:"getMaterial",value:function(e){var t,n=r(this.materials);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.id===e)return i}}catch(s){n.e(s)}finally{n.f()}var a=new m.ModelMaterial;return a.id=e,a.diffuse=new c.Color(1,1,1,1),this.materials.push(a),a}}]),e}();t.MtlLoader=T;var S=function(){function e(){s(this,e),this.verts=[],this.norms=[],this.uvs=[],this.groups=[]}return a(e,[{key:"load",value:function(e,t){return o(this,void 0,void 0,i().mark((function n(){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadModelData(t);case 2:return r=n.sent,a=new w.Model(e),n.next=6,a.load(r);case 6:return n.abrupt("return",a);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"loadModelData",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o(this,void 0,void 0,i().mark((function r(){var a,s,o,c,p,m,x,w,M,S,A,E,L,C,O,P,I,N,R,F,B,D,j,U,V,G,z,W,H,Y,X,q,$,K,Q,Z,J,ee,te,ne,re,ie;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.logWarning){r.next=2;break}throw Error("Wavefront (OBJ) is not fully supported, consult the documentation for more information");case 2:return c=new T,p=new k("default"),this.groups.push(p),r.next=7,fetch(t);case 7:if((m=r.sent).ok){r.next=10;break}return r.abrupt("return");case 10:return r.next=12,m.text();case 12:x=r.sent,w=x.split("\n").map((function(e){return e.trim()})),M=0,S=0,r.prev=16;case 17:if(void 0===(a=w[M])){r.next=52;break}if(M++,!((s=a.split(" ")).length<1)){r.next=22;break}return r.abrupt("break",52);case 22:if(0!==s[0].length){r.next=26;break}return r.abrupt("continue",17);case 26:if("#"!==(o=s[0].toLowerCase().charAt(0))){r.next=30;break}return r.abrupt("continue",17);case 30:if("v"!==o){r.next=34;break}1===s[0].length?(this.verts.push(parseFloat(s[1])),this.verts.push(parseFloat(s[2])),this.verts.push(parseFloat(s[3]))):"n"===s[0].charAt(1)?(this.norms.push(parseFloat(s[1])),this.norms.push(parseFloat(s[2])),this.norms.push(parseFloat(s[3]))):"t"===s[0].charAt(1)&&(this.uvs.push(parseFloat(s[1])),this.uvs.push(n?1-parseFloat(s[2]):parseFloat(s[2]))),r.next=50;break;case 34:if("f"!==o){r.next=40;break}for(A=void 0,E=p.faces,L=1;L<s.length-2;L--)A=s[1].split("/"),E.push(this.getIndex(A[0],this.verts.length)),A.length>2&&(1===L&&(p.hasNorms=!0),E.push(this.getIndex(A[2],this.norms.length))),A.length>1&&A[1].length>0&&(1===L&&(p.hasUVs=!0),E.push(this.getIndex(A[1],this.uvs.length))),A=s[++L].split("/"),E.push(this.getIndex(A[0],this.verts.length)),A.length>2&&E.push(this.getIndex(A[2],this.norms.length)),A.length>1&&A[1].length>0&&E.push(this.getIndex(A[1],this.uvs.length)),A=s[++L].split("/"),E.push(this.getIndex(A[0],this.verts.length)),A.length>2&&E.push(this.getIndex(A[2],this.norms.length)),A.length>1&&A[1].length>0&&E.push(this.getIndex(A[1],this.uvs.length)),p.numFaces++;r.next=50;break;case 40:if("o"!==o&&"g"!==o){r.next=44;break}p=s.length>1?this.setActiveGroup(s[1]):this.setActiveGroup("default"),r.next=50;break;case 44:if("mtllib"!==s[0]){r.next=49;break}return r.next=47,c.load(s[1]);case 47:r.next=50;break;case 49:"usemtl"===s[0]&&(1===s.length?p.materialName="default":p.materialName=s[1].replace(".","_"));case 50:r.next=17;break;case 52:r.next=57;break;case 54:r.prev=54,r.t0=r.catch(16),console.error(r.t0);case 57:for(C=0;C<this.groups.length;C++)this.groups[C].numFaces<1&&(this.groups.splice(C,1),C--);if(!(this.groups.length<1)){r.next=60;break}return r.abrupt("return",null);case 60:for(O=this.groups.length,P=new v.ModelData,I=0;I<O;I++){for(N=this.groups[I],R=N.faces,F=R.length,B=N.numFaces,D=N.hasNorms,j=N.hasUVs,U=[],V=0,G=0;V<F;)z=3*R[V++],U[G++]=this.verts[z++],U[G++]=this.verts[z++],U[G++]=this.verts[z],D&&(W=3*R[V++],U[G++]=this.norms[W++],U[G++]=this.norms[W++],U[G++]=this.norms[W]),j&&(H=2*R[V++],U[G++]=this.uvs[H++],U[G++]=this.uvs[H]);if(X=[],(Y=3*B>=32767?0:3*B)>0)for(q=0;q<Y;q++)X[q]=q;($=new Array).push(new f.VertexAttribute3D(f.Usage.Position,3,d.GL20.GL_FLOAT,!1,u.Shader.POSITION)),D&&$.push(new f.VertexAttribute3D(f.Usage.Normal,3,d.GL20.GL_FLOAT,!1,u.Shader.NORMAL)),j&&$.push(new f.VertexAttribute3D(f.Usage.TextureCoordinates,2,d.GL20.GL_FLOAT,!1,u.Shader.TEXCOORDS+"0")),K=(++S).toString(),Q="default"===N.name?"node"+K:N.name,Z="default"===N.name?"mesh"+K:N.name,J="default"===N.name?"part"+K:N.name,(ee=new b.ModelNode).id=Q,ee.meshId=Z,ee.scale=new h.Vector3(1,1,1),ee.translation=new h.Vector3,ee.rotation=new l.Quaternion,(te=new _.ModelNodePart).meshPartId=J,te.materialId=N.materialName,ee.parts=[te],(ne=new y.ModelMeshPart).id=J,ne.indices=X,ne.primitiveType=d.GL20.GL_TRIANGLES,(re=new g.ModelMesh).id=Z,re.attributes=$,re.vertices=U,re.parts=[ne],P.nodes.push(ee),P.meshes.push(re),ie=c.getMaterial(N.materialName),P.materials.push(ie)}return this.verts.length>0&&(this.verts.length=0),this.norms.length>0&&(this.norms.length=0),this.uvs.length>0&&(this.uvs.length=0),this.groups.length>0&&(this.groups.length=0),r.abrupt("return",P);case 68:case"end":return r.stop()}}),r,this,[[16,54]])})))}},{key:"setActiveGroup",value:function(e){var t,n=r(this.groups);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.name===e)return i}}catch(s){n.e(s)}finally{n.f()}var a=new k(e);return this.groups.push(a),a}},{key:"getIndex",value:function(e,t){if(!e||0===e.length)return 0;var n=parseInt(e);return n<0?t+n:n-1}}]),e}();t.ObjLoader=S,S.logWarning=!1},6764:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryInput=t.UBJsonReader=void 0;var a=function(){function e(){r(this,e),this.oldFormat=!0}return i(e,[{key:"parse",value:function(e){var t=new s(e),n=t.readByte();return this.parseWithType(t,n)}},{key:"parseWithType",value:function(e,t){if(t==="[".charCodeAt(0))return this.parseArray(e);if(t==="{".charCodeAt(0))return this.parseObject(e);if(t==="Z".charCodeAt(0))return null;if(t==="T".charCodeAt(0))return!0;if(t==="F".charCodeAt(0))return!1;if(t==="B".charCodeAt(0))return this.readUChar(e);if(t==="U".charCodeAt(0))return this.readUChar(e);if(t==="i".charCodeAt(0))return this.oldFormat?e.readShort():e.readByte();if(t==="I".charCodeAt(0))return this.oldFormat?e.readInt(!0):e.readShort();if(t==="l".charCodeAt(0))return e.readInt(!0);if(t==="L".charCodeAt(0))return e.readLong();if(t==="d".charCodeAt(0))return e.readFloat();if(t==="D".charCodeAt(0))return e.readFloat();if(t==="s".charCodeAt(0)||t==="S".charCodeAt(0))return this.parseString(e,t);if(t==="a".charCodeAt(0)||t==="A".charCodeAt(0))return this.parseData(e,t);if(t==="C".charCodeAt(0))return e.readString();throw new Error("Unrecognized data type: "+t)}},{key:"parseObject",value:function(e){var t={},n=e.readByte(),r=0;n==="$".charCodeAt(0)&&(r=e.readByte(),n=e.readByte());var i=-1;if(n==="#".charCodeAt(0)){if((i=this.parseSize(e,e.readByte(),!1,-1))<0)throw new Error("Unrecognized data type: "+n);if(0===i)return t;n=e.readByte()}for(var a=0;n!=="}".charCodeAt(0);){var s=this.parseString(e,n,!0),o=this.parseWithType(e,0===r?e.readByte():r);if(t[s]=o,i>0&&++a>=i)break;n=e.readByte()}return t}},{key:"parseSize",value:function(e,t,n,r){if(t==="i".charCodeAt(0))return this.readUChar(e);if(t==="I".charCodeAt(0))return this.readUShort(e);if(t==="l".charCodeAt(0))return this.readUInt(e);if(t==="L".charCodeAt(0))return e.readLong();if(n){var i=(255&t)<<24;return i|=(255&e.readByte())<<16,i|=(255&e.readByte())<<8,i|=255&e.readByte()}return r}},{key:"parseArray",value:function(e){var t=[],n=e.readByte(),r=0;n==="$".charCodeAt(0)&&(r=e.readByte(),n=e.readByte());var i=-1;if(n==="#".charCodeAt(0)){if((i=this.parseSize(e,e.readByte(),!1,-1))<0)throw new Error("Unrecognized data type "+n);if(0===i)return t;n=0===r?e.readByte():r}for(var a=0;n!=="]".charCodeAt(0);){var s=this.parseWithType(e,n);if(t.push(s),i>0&&++a>=i)break;n=0===r?e.readByte():r}return t}},{key:"parseData",value:function(e,t){for(var n=e.readByte(),r=t==="A".charCodeAt(0)?this.readUInt(e):this.readUChar(e),i=[],a=0;a<r;a++){var s=this.parseWithType(e,n);i.push(s)}return i}},{key:"readUChar",value:function(e){return 255&e.readByte()}},{key:"parseString",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;if(t==="S".charCodeAt(0)?r=this.parseSize(e,e.readByte(),!0,-1):t==="s".charCodeAt(0)?r=this.readUChar(e):n&&(r=this.parseSize(e,t,!1,-1)),r<0)throw new Error("Unrecognized data type: ".concat(t,", string expected"));return r>0?this.readString(e,r):""}},{key:"readUShort",value:function(e){return 65535&e.readShort()}},{key:"readUInt",value:function(e){return 4294967295&e.readInt(!0)}},{key:"readString",value:function(e,t){return e.readStringWithSize(t)}}]),e}();t.UBJsonReader=a;var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new DataView(t);r(this,e),this.strings=n,this.index=i,this.buffer=a}return i(e,[{key:"readByte",value:function(){return this.buffer.getInt8(this.index++)}},{key:"readUnsignedByte",value:function(){return this.buffer.getUint8(this.index++)}},{key:"readShort",value:function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e}},{key:"readInt32",value:function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e}},{key:"readLong",value:function(){var e=this.buffer.getInt32(this.index);return this.index+=8,e}},{key:"readInt",value:function(e){var t=(this.readUnsignedByte()<<24)+(this.readUnsignedByte()<<16)+(this.readUnsignedByte()<<8)+(this.readUnsignedByte()<<0);return e?t:t>>>1^-(1&t)}},{key:"readStringRef",value:function(){var e=this.readInt(!0);return 0===e?null:this.strings[e-1]}},{key:"readStringWithSize",value:function(e){switch(e){case 0:return null;case 1:return""}for(var t="",n=0;n<e;){var r=this.readUnsignedByte();switch(r>>4){case 12:case 13:t+=String.fromCharCode((31&r)<<6|63&this.readUnsignedByte()),n+=2;break;case 14:t+=String.fromCharCode((15&r)<<12|(63&this.readUnsignedByte())<<6|63&this.readUnsignedByte()),n+=3;break;default:t+=String.fromCharCode(r),n++}}return t}},{key:"readString",value:function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var t="",n=0;n<e;){var r=this.readUnsignedByte();switch(r>>4){case 12:case 13:t+=String.fromCharCode((31&r)<<6|63&this.readUnsignedByte()),n+=2;break;case 14:t+=String.fromCharCode((15&r)<<12|(63&this.readUnsignedByte())<<6|63&this.readUnsignedByte()),n+=3;break;default:t+=String.fromCharCode(r),n++}}return t}},{key:"readFloat",value:function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e}},{key:"readBoolean",value:function(){return 0!==this.readByte()}}]),e}();t.BinaryInput=s},1055:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8395),t),i(n(7503),t),i(n(6764),t)},4178:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Frustum=void 0;var s=n(4995),o=n(8606),l=n(7811),u=n(8845),c=function(){function e(){i(this,e),this.planes=new Array(6),this.planePoints=[new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3],this.planePointsArray=new Array(24);for(var t=0;t<6;t++)this.planes[t]=new u.Plane(new l.Vector3,0)}return a(e,[{key:"update",value:function(t){o.Utils.arrayCopy(e.clipSpacePlanePointsArray,0,this.planePointsArray,0,e.clipSpacePlanePointsArray.length),s.Matrix4.prj(t,this.planePointsArray,0,8,3);for(var n=0,r=0;n<8;n++){var i=this.planePoints[n];i.x=this.planePointsArray[r++],i.y=this.planePointsArray[r++],i.z=this.planePointsArray[r++]}this.planes[0].set(this.planePoints[1],this.planePoints[0],this.planePoints[2]),this.planes[1].set(this.planePoints[4],this.planePoints[5],this.planePoints[7]),this.planes[2].set(this.planePoints[0],this.planePoints[4],this.planePoints[3]),this.planes[3].set(this.planePoints[5],this.planePoints[1],this.planePoints[6]),this.planes[4].set(this.planePoints[2],this.planePoints[3],this.planePoints[6]),this.planes[5].set(this.planePoints[4],this.planePoints[0],this.planePoints[1])}},{key:"pointInFrustum",value:function(e){for(var t=0;t<this.planes.length;t++){if(this.planes[t].testPoint(e.x,e.y,e.z)===u.PlaneSide.Back)return!1}return!0}},{key:"sphereInFrustum",value:function(e,t){for(var n=0;n<6;n++)if(this.planes[n].normal.x*e.x+this.planes[n].normal.y*e.y+this.planes[n].normal.z*e.z<-t-this.planes[n].d)return!1;return!0}},{key:"sphereInFrustumWithoutNearFar",value:function(e,t){for(var n=2;n<6;n++)if(this.planes[n].normal.x*e.x+this.planes[n].normal.y*e.y+this.planes[n].normal.z*e.z<-t-this.planes[n].d)return!1;return!0}},{key:"boundsInFrustrum",value:function(e,t){for(var n=0,r=this.planes.length;n<r;n++)if(this.planes[n].testPoint(e.x+t.x/2,e.y+t.y/2,e.z+t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x+t.x/2,e.y+t.y/2,e.z-t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x+t.x/2,e.y-t.y/2,e.z+t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x+t.x/2,e.y-t.y/2,e.z-t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x-t.x/2,e.y+t.y/2,e.z+t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x-t.x/2,e.y+t.y/2,e.z-t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x-t.x/2,e.y-t.y/2,e.z+t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x-t.x/2,e.y-t.y/2,e.z-t.z/2)===u.PlaneSide.Back)return!1;return!0}}]),e}();t.Frustum=c,c.clipSpacePlanePoints=[new l.Vector3(-1,-1,-1),new l.Vector3(1,-1,-1),new l.Vector3(1,1,-1),new l.Vector3(-1,1,-1),new l.Vector3(-1,-1,1),new l.Vector3(1,-1,1),new l.Vector3(1,1,1),new l.Vector3(-1,1,1)],c.clipSpacePlanePointsArray=new Array(24),function(){var e,t=0,n=r(c.clipSpacePlanePoints);try{for(n.s();!(e=n.n()).done;){var i=e.value;c.clipSpacePlanePointsArray[t++]=i.x,c.clipSpacePlanePointsArray[t++]=i.y,c.clipSpacePlanePointsArray[t++]=i.z}}catch(a){n.e(a)}finally{n.f()}}(),c.tmpV=new l.Vector3},8845:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Plane=t.PlaneSide=void 0;var a,s=n(7811);!function(e){e[e.OnPlane=0]="OnPlane",e[e.Back=1]="Back",e[e.Front=2]="Front"}(a=t.PlaneSide||(t.PlaneSide={}));var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.normal=new s.Vector3,this.d=0,t&&(this.normal.setFrom(t).normalize(),this.d=n)}return i(e,[{key:"set",value:function(e,t,n){this.normal.set(e.x,e.y,e.z).sub(t).cross(new s.Vector3(t.x-n.x,t.y-n.y,t.z-n.z)).normalize(),this.d=-e.dot(this.normal)}},{key:"setByValue",value:function(e,t,n,r,i,a){this.normal.set(r,i,a),this.d=-(e*r+t*i+n*a)}},{key:"distance",value:function(e){return this.normal.dot(e)+this.d}},{key:"testPoint",value:function(e,t,n){var r=this.normal.dotWithValue(e,t,n)+this.d;return 0===r?a.OnPlane:r<0?a.Back:a.Front}},{key:"isFrontFacing",value:function(e){return this.normal.dot(e)<=0}},{key:"getNormal",value:function(){return this.normal}},{key:"getD",value:function(){return this.d}},{key:"setFromPlane",value:function(e){this.normal.setFrom(e.normal),this.d=e.d}},{key:"toString",value:function(){return this.normal.toString()+", "+this.d}}]),e}();t.Plane=o},4286:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4178),t),i(n(8845),t)},8235:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Animation3D=void 0;var a=r((function e(){i(this,e),this.duration=0,this.nodeAnimations=[]}));t.Animation3D=a},3627:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MeshPart=void 0;var a=n(5477),s=n(7811),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,e),this.id="",this.primitiveType=0,this.offset=0,this.size=0,this.mesh=null,this.center=new s.Vector3,this.halfExtents=new s.Vector3,this.radius=-1,this.bounds=new a.BoundingBox,t&&this.setByMeshPart(t)}return i(e,[{key:"dispose",value:function(){}},{key:"setByMeshPart",value:function(e){return this.id=e.id,this.mesh=e.mesh,this.offset=e.offset,this.size=e.size,this.primitiveType=e.primitiveType,this.center.set(e.center.x,e.center.y,e.center.z),this.halfExtents.set(e.halfExtents.x,e.halfExtents.y,e.halfExtents.z),this.radius=e.radius,this}},{key:"set",value:function(e,t,n,r,i){return this.id=e,this.mesh=t,this.offset=n,this.size=r,this.primitiveType=i,this.center.set(0,0,0),this.halfExtents.set(0,0,0),this.radius=-1,this}},{key:"update",value:function(){this.mesh.extendBoundingBox(this.bounds,this.offset,this.size,null),this.bounds.getCenter(this.center),this.bounds.getDimensions(this.halfExtents).scale(.5),this.radius=this.halfExtents.length()}},{key:"equals",value:function(e){return e===this||!!e&&e.mesh===this.mesh&&e.primitiveType===this.primitiveType&&e.offset===this.offset&&e.size===this.size}},{key:"render",value:function(e,t){this.mesh.render(e,this.primitiveType,this.offset,this.size,t)}}]),e}();t.MeshPart=o},663:function(e,t,n){"use strict";var r=n(7424).default,i=n(4704).default,a=n(7061).default,s=n(6690).default,o=n(9728).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var u=n(4995),c=n(5122),h=n(8606),f=n(7811),d=n(847),p=n(1733),v=n(5412),m=n(2398),g=n(427),y=n(8552),b=n(4023),_=n(5766),x=n(2668),w=n(8235),k=n(9373),M=n(3627),T=n(1960),S=n(5388),A=n(5904),E=n(5413),L=function(){function e(t){s(this,e),this.gl=t,this.materials=[],this.nodes=[],this.animations=[],this.meshes=[],this.meshParts=[],this.disposables=[],this.nodePartBones=new Map}return o(e,[{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new x.FileTextureProvider;return l(this,void 0,void 0,a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.loadMeshes(e.meshes),n.next=3,this.loadMaterials(e.materials,t);case 3:this.loadNodes(e.nodes),this.loadAnimations(e.animations),this.calculateTransforms();case 6:case"end":return n.stop()}}),n,this)})))}},{key:"loadAnimations",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=new w.Animation3D;a.id=r.id;var s,o=i(r.nodeAnimations);try{for(o.s();!(s=o.n()).done;){var l=s.value,u=this.getNode(l.nodeId);if(u){var h=new S.NodeAnimation;if(h.node=u,l.translation){h.translation=new Array;var d,p=i(l.translation);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.keytime>a.duration&&(a.duration=v.keytime),h.translation.push(new A.NodeKeyframe(v.keytime,(new f.Vector3).setFrom(v.value?v.value:u.translation)))}}catch(k){p.e(k)}finally{p.f()}}if(l.rotation){h.rotation=new Array;var m,g=i(l.rotation);try{for(g.s();!(m=g.n()).done;){var y=m.value;y.keytime>a.duration&&(a.duration=y.keytime),h.rotation.push(new A.NodeKeyframe(y.keytime,(new c.Quaternion).setFrom(y.value?y.value:u.rotation)))}}catch(k){g.e(k)}finally{g.f()}}if(l.scaling){h.scaling=new Array;var b,_=i(l.scaling);try{for(_.s();!(b=_.n()).done;){var x=b.value;x.keytime>a.duration&&(a.duration=x.keytime),h.scaling.push(new A.NodeKeyframe(x.keytime,(new f.Vector3).setFrom(x.value?x.value:u.scale)))}}catch(k){_.e(k)}finally{_.f()}}(h.translation&&h.translation.length>0||h.rotation&&h.rotation.length>0||h.scaling&&h.scaling.length>0)&&a.nodeAnimations.push(h)}}}catch(k){o.e(k)}finally{o.f()}a.nodeAnimations.length>0&&this.animations.push(a)}}catch(k){n.e(k)}finally{n.f()}}},{key:"loadNodes",value:function(e){this.nodePartBones.clear();var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.nodes.push(this.loadNode(a))}}catch(m){n.e(m)}finally{n.f()}var s,o=i(this.nodePartBones);try{for(o.s();!(s=o.n()).done;){var l=r(s.value,2),c=l[0],f=l[1];c.invBoneBindTransforms||(c.invBoneBindTransforms=new h.ArrayMap),c.invBoneBindTransforms.clear();for(var d=0;d<f.size;d++){var p=f.keys[d],v=f.values[d];c.invBoneBindTransforms.set(this.getNode(p),(new u.Matrix4).set(v.values).invert())}}}catch(m){o.e(m)}finally{o.f()}}},{key:"loadNode",value:function(e){var t=new T.Node;if(t.id=e.id,e.translation&&t.translation.set(e.translation.x,e.translation.y,e.translation.z),e.rotation&&t.rotation.set(e.rotation.x,e.rotation.y,e.rotation.z,e.rotation.w),e.scale&&t.scale.set(e.scale.x,e.scale.y,e.scale.z),e.parts){var n,r=i(e.parts);try{for(r.s();!(n=r.n()).done;){var a=n.value,s=null,o=null;if(a.meshPartId){var l,u=i(this.meshParts);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(a.meshPartId===c.id){s=c;break}}}catch(y){u.e(y)}finally{u.f()}}if(a.materialId){var h,f=i(this.materials);try{for(f.s();!(h=f.n()).done;){var d=h.value;if(a.materialId===d.id){o=d;break}}}catch(y){f.e(y)}finally{f.f()}}if(!s||!o)throw new Error("Invalid node: "+t.id);var p=new E.NodePart;p.meshPart=s,p.material=o,t.parts.push(p),a.bones&&this.nodePartBones.set(p,a.bones)}}catch(y){r.e(y)}finally{r.f()}}if(e.children){var v,m=i(e.children);try{for(m.s();!(v=m.n()).done;){var g=v.value;t.addChild(this.loadNode(g))}}catch(y){m.e(y)}finally{m.f()}}return t}},{key:"loadMeshes",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.convertMesh(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"convertMesh",value:function(e){var t,n=0,r=i(e.parts);try{for(r.s();!(t=r.n()).done;){n+=t.value.indices.length}}catch(y){r.e(y)}finally{r.f()}var a=n>0,s=new g.VertexAttributes(e.attributes),o=e.vertices.length/(s.vertexSize/4),l=new _.Mesh3D(this.gl,!0,!0,o,n,s);this.meshes.push(l),this.disposables.push(l),l.vertices.updateVertices(0,e.vertices,0,e.vertices.length);var u,c=0,h=0,f=i(e.parts);try{for(f.s();!(u=f.n()).done;){var d=u.value,p=new M.MeshPart;p.id=d.id,p.primitiveType=d.primitiveType,p.offset=c,p.size=a?d.indices.length:o,p.mesh=l,a&&(l.indices.updateIndices(h,d.indices,0,d.indices.length),h+=d.indices.length),c+=p.size,this.meshParts.push(p)}}catch(y){f.e(y)}finally{f.f()}var v,m=i(this.meshParts);try{for(m.s();!(v=m.n()).done;){v.value.update()}}catch(y){m.e(y)}finally{m.f()}}},{key:"loadMaterials",value:function(e,t){return l(this,void 0,void 0,a().mark((function n(){var r,s,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=i(e),n.prev=1,r.s();case 3:if((s=r.n()).done){n.next=12;break}return o=s.value,n.t0=this.materials,n.next=8,this.convertMaterial(o,t);case 8:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 10:n.next=3;break;case 12:n.next=17;break;case 14:n.prev=14,n.t2=n.catch(1),r.e(n.t2);case 17:return n.prev=17,r.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,this,[[1,14,17,20]])})))}},{key:"convertMaterial",value:function(e,t){return l(this,void 0,void 0,a().mark((function n(){var r,s,o,l,u,c,h,f,g,_,x;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=new b.Material).id=e.id,void 0!==e.ambient&&r.set(new p.ColorAttribute3D(p.ColorAttribute3D.Ambient,e.ambient)),void 0!==e.diffuse&&r.set(new p.ColorAttribute3D(p.ColorAttribute3D.Diffuse,e.diffuse)),void 0!==e.specular&&r.set(new p.ColorAttribute3D(p.ColorAttribute3D.Specular,e.specular)),void 0!==e.emissive&&r.set(new p.ColorAttribute3D(p.ColorAttribute3D.Emissive,e.emissive)),void 0!==e.reflection&&r.set(new p.ColorAttribute3D(p.ColorAttribute3D.Reflection,e.reflection)),e.shininess>0&&r.set(new v.FloatAttribute(v.FloatAttribute.Shininess,e.shininess)),1!==e.opacity&&r.set(new d.BlendingAttribute(y.GL20.GL_SRC_ALPHA,y.GL20.GL_ONE_MINUS_SRC_ALPHA,!0,e.opacity)),s=new Map,void 0===e.textures){n.next=62;break}o=i(e.textures),n.prev=12,o.s();case 14:if((l=o.n()).done){n.next=54;break}if(u=l.value,c=void 0,!s.has(u.fileName)){n.next=21;break}c=s.get(u.fileName),n.next=26;break;case 21:return n.next=23,t.load(this.gl,u.fileName);case 23:c=n.sent,s.set(u.fileName,c),this.disposables.push(c);case 26:h=u.uvTranslation?u.uvTranslation.x:0,f=u.uvTranslation?u.uvTranslation.y:0,g=u.uvScaling?u.uvScaling.x:1,_=u.uvScaling?u.uvScaling.y:1,x=void 0,n.t0=u.usage,n.next=n.t0===k.ModelTexture.USAGE_DIFFUSE?34:n.t0===k.ModelTexture.USAGE_SPECULAR?36:n.t0===k.ModelTexture.USAGE_BUMP?38:n.t0===k.ModelTexture.USAGE_NORMAL?40:n.t0===k.ModelTexture.USAGE_AMBIENT?42:n.t0===k.ModelTexture.USAGE_EMISSIVE?44:n.t0===k.ModelTexture.USAGE_REFLECTION?46:48;break;case 34:return x=new m.TextureAttribute(m.TextureAttribute.Diffuse,h,f,g,_),n.abrupt("break",48);case 36:return x=new m.TextureAttribute(m.TextureAttribute.Specular,h,f,g,_),n.abrupt("break",48);case 38:return x=new m.TextureAttribute(m.TextureAttribute.Bump,h,f,g,_),n.abrupt("break",48);case 40:return x=new m.TextureAttribute(m.TextureAttribute.Normal,h,f,g,_),n.abrupt("break",48);case 42:return x=new m.TextureAttribute(m.TextureAttribute.Ambient,h,f,g,_),n.abrupt("break",48);case 44:return x=new m.TextureAttribute(m.TextureAttribute.Emissive,h,f,g,_),n.abrupt("break",48);case 46:return x=new m.TextureAttribute(m.TextureAttribute.Reflection,h,f,g,_),n.abrupt("break",48);case 48:x.setTexture(c),x.setOffset(h,f),x.setScale(g,_),r.set(x);case 52:n.next=14;break;case 54:n.next=59;break;case 56:n.prev=56,n.t1=n.catch(12),o.e(n.t1);case 59:return n.prev=59,o.f(),n.finish(59);case 62:return n.abrupt("return",r);case 63:case"end":return n.stop()}}),n,this,[[12,56,59,62]])})))}},{key:"manageDisposable",value:function(e){this.disposables.indexOf(e)<0&&this.disposables.push(e)}},{key:"getManagedDisposables",value:function(){return this.disposables}},{key:"dispose",value:function(){var e,t=i(this.disposables);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(n){t.e(n)}finally{t.f()}}},{key:"calculateTransforms",value:function(){for(var e=this.nodes.length,t=0;t<e;t++)this.nodes[t].calculateTransforms(!0);for(var n=0;n<e;n++)this.nodes[n].calculateBoneTransforms(!0)}},{key:"calculateBoundingBox",value:function(e){return e.inf(),this.extendBoundingBox(e)}},{key:"extendBoundingBox",value:function(e){for(var t=this.nodes.length,n=0;n<t;n++)this.nodes[n].extendBoundingBox(e);return e}},{key:"getAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.animations.length;if(t){for(var r=0;r<n;r++)if(this.animations[r].id.toUpperCase()===e.toUpperCase())return this.animations[r]}else for(var i=0;i<n;i++)if(this.animations[i].id===e)return this.animations[i];return null}},{key:"getMaterial",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.materials.length;if(n){for(var i=0;i<r;i++)if((t=this.materials[i]).id.toUpperCase()===e.toUpperCase())return t}else for(var a=0;a<r;a++)if((t=this.materials[a]).id===e)return t;return null}},{key:"getNode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return T.Node.getNode(this.nodes,e,t,n)}}]),e}();t.Model=L},1960:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;var s=n(4995),o=n(5122),l=n(7811),u=function(){function e(){i(this,e),this.inheritTransform=!0,this.isAnimated=!1,this.translation=new l.Vector3,this.rotation=new o.Quaternion(0,0,0,1),this.scale=new l.Vector3(1,1,1),this.localTransform=new s.Matrix4,this.globalTransform=new s.Matrix4,this.parts=new Array,this.parent=null,this.children=new Array}return a(e,[{key:"calculateLocalTransform",value:function(){return this.isAnimated||this.localTransform.setFromTranslationRotation(this.translation,this.rotation,this.scale),this.localTransform}},{key:"calculateWorldTransform",value:function(){return this.inheritTransform&&this.parent?this.globalTransform.set(this.parent.globalTransform.values).multiply(this.localTransform):this.globalTransform.set(this.localTransform.values),this.globalTransform}},{key:"calculateTransforms",value:function(e){if(this.calculateLocalTransform(),this.calculateWorldTransform(),e){var t,n=r(this.children);try{for(n.s();!(t=n.n()).done;){t.value.calculateTransforms(!0)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"calculateBoneTransforms",value:function(e){var t,n=r(this.parts);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.invBoneBindTransforms&&i.bones&&i.invBoneBindTransforms.size===i.bones.length)for(var a=0;a<i.invBoneBindTransforms.size;a++)i.bones[a].set(i.invBoneBindTransforms.keys[a].globalTransform.values).multiply(i.invBoneBindTransforms.values[a])}}catch(l){n.e(l)}finally{n.f()}if(e){var s,o=r(this.children);try{for(o.s();!(s=o.n()).done;){s.value.calculateBoneTransforms(!0)}}catch(l){o.e(l)}finally{o.f()}}}},{key:"calculateBoundingBox",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.inf(),this.extendBoundingBox(e,t)}},{key:"extendBoundingBox",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.parts.length,r=0;r<n;r++){var i=this.parts[r];if(i.enabled){var a=i.meshPart;t?a.mesh.extendBoundingBox(e,a.offset,a.size,this.globalTransform):a.mesh.extendBoundingBox(e,a.offset,a.size,null)}}for(var s=this.children.length,o=0;o<s;o++)this.children[o].extendBoundingBox(e);return e}},{key:"attachTo",value:function(e){e.addChild(this)}},{key:"detach",value:function(){this.parent&&(this.parent.removeChild(this),this.parent=null)}},{key:"hasChildren",value:function(){return!!this.children&&this.children.length>0}},{key:"getChildCount",value:function(){return this.children.length}},{key:"getChildByIndex",value:function(e){return this.children[e]}},{key:"getChild",value:function(t,n,r){return e.getNode(this.children,t,n,r)}},{key:"addChild",value:function(e){return this.insertChild(-1,e)}},{key:"insertChild",value:function(e,t){for(var n=this;n;n=n.getParent())if(n===t)throw new Error("Cannot add a parent as a child");var r=t.getParent();if(r&&!r.removeChild(t))throw new Error("Could not remove child from its current parent");return e<0||e>=this.children.length?(e=this.children.length,this.children.push(t)):this.children.splice(e,0,t),t.parent=this,e}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),!0)}},{key:"getChildren",value:function(){return this.children}},{key:"getParent",value:function(){return this.parent}},{key:"hasParent",value:function(){return!!this.parent}},{key:"copy",value:function(){return(new e).set(this)}},{key:"set",value:function(e){this.detach(),this.id=e.id,this.isAnimated=e.isAnimated,this.inheritTransform=e.inheritTransform,this.translation.setFrom(e.translation),this.rotation.setFrom(e.rotation),this.scale.setFrom(e.scale),this.localTransform.set(e.localTransform.values),this.globalTransform.set(e.globalTransform.values),this.parts.length=0;var t,n=r(e.parts);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.parts.push(i.copy())}}catch(l){n.e(l)}finally{n.f()}this.children.length=0;var a,s=r(e.getChildren());try{for(s.s();!(a=s.n()).done;){var o=a.value;this.addChild(o.copy())}}catch(l){s.e(l)}finally{s.f()}return this}}],[{key:"getNode",value:function(e,t,n,r){var i,a=e.length;if(r){for(var s=0;s<a;s++)if((i=e[s]).id.toUpperCase()===t.toUpperCase())return i}else for(var o=0;o<a;o++)if((i=e[o]).id===t)return i;if(n)for(var l=0;l<a;l++)if(i=this.getNode(e[l].children,t,!0,r))return i;return null}}]),e}();t.Node=u},5388:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NodeAnimation=void 0;var a=r((function e(){i(this,e),this.translation=null,this.rotation=null,this.scaling=null}));t.NodeAnimation=a},5904:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NodeKeyframe=void 0;var a=r((function e(t,n){i(this,e),this.value=null,this.keytime=t,this.value=n}));t.NodeKeyframe=a},5413:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NodePart=void 0;var a=n(4995),s=n(8606),o=n(3627),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.invBoneBindTransforms=null,this.bones=null,this.enabled=!0,this.meshPart=t,this.material=n}return i(e,[{key:"copy",value:function(){return(new e).set(this)}},{key:"setRenderable",value:function(e){return e.material=this.material,e.meshPart.setByMeshPart(this.meshPart),e.bones=this.bones,e}},{key:"set",value:function(e){if(this.meshPart=new o.MeshPart(e.meshPart),this.material=e.material,this.enabled=e.enabled,e.invBoneBindTransforms){this.invBoneBindTransforms||(this.invBoneBindTransforms=new s.ArrayMap),this.invBoneBindTransforms.clear();for(var t=0;t<e.invBoneBindTransforms.size;t++)this.invBoneBindTransforms.set(e.invBoneBindTransforms.keys[t],e.invBoneBindTransforms.values[t]);this.bones&&this.bones.length===this.invBoneBindTransforms.size||(this.bones=new Array);for(var n=0;n<this.invBoneBindTransforms.size;n++)void 0===this.bones[n]&&(this.bones[n]=new a.Matrix4)}else this.invBoneBindTransforms=null,this.bones=null;return this}}]),e}();t.NodePart=l},129:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelAnimation=void 0;var a=r((function e(){i(this,e),this.nodeAnimations=[]}));t.ModelAnimation=a},8896:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelData=void 0;var s=function(){function e(){i(this,e),this.version=[],this.meshes=[],this.materials=[],this.nodes=[],this.animations=[]}return a(e,[{key:"addMesh",value:function(e){var t,n=r(this.meshes);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.id===e.id)throw new Error("Mesh with id '"+i.id+"' already in model")}}catch(a){n.e(a)}finally{n.f()}this.meshes.push(e)}}]),e}();t.ModelData=s},798:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelMaterial=t.MaterialType=void 0,function(e){e[e.Lambert=0]="Lambert",e[e.Phong=1]="Phong"}(t.MaterialType||(t.MaterialType={}));var a=r((function e(){i(this,e),this.opacity=1}));t.ModelMaterial=a},779:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelMesh=void 0;var a=r((function e(){i(this,e)}));t.ModelMesh=a},3710:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelMeshPart=void 0;var a=r((function e(){i(this,e)}));t.ModelMeshPart=a},4610:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNode=void 0;var a=r((function e(){i(this,e)}));t.ModelNode=a},7416:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNodeAnimation=void 0;var a=r((function e(){i(this,e),this.translation=null,this.rotation=null,this.scaling=null}));t.ModelNodeAnimation=a},707:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNodeKeyframe=void 0;var a=r((function e(){i(this,e),this.value=null}));t.ModelNodeKeyframe=a},3309:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNodePart=void 0;var a=r((function e(){i(this,e)}));t.ModelNodePart=a},9373:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelTexture=void 0;var a=r((function e(){i(this,e)}));t.ModelTexture=a,a.USAGE_UNKNOWN=0,a.USAGE_NONE=1,a.USAGE_DIFFUSE=2,a.USAGE_EMISSIVE=3,a.USAGE_AMBIENT=4,a.USAGE_SPECULAR=5,a.USAGE_SHININESS=6,a.USAGE_NORMAL=7,a.USAGE_BUMP=8,a.USAGE_TRANSPARENCY=9,a.USAGE_REFLECTION=10},6357:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(129),t),i(n(8896),t),i(n(798),t),i(n(779),t),i(n(3710),t),i(n(4610),t),i(n(7416),t),i(n(707),t),i(n(3309),t),i(n(9373),t)},4501:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8235),t),i(n(6357),t),i(n(3627),t),i(n(663),t),i(n(1960),t),i(n(5388),t),i(n(5904),t),i(n(5413),t)},4678:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseShader=t.Uniform=t.LocalSetter=t.GlobalSetter=void 0;var a=n(2802),s=function(){function e(){r(this,e)}return i(e,[{key:"isGlobal",value:function(e,t){return!0}}]),e}();t.GlobalSetter=s;var o=function(){function e(){r(this,e)}return i(e,[{key:"isGlobal",value:function(e,t){return!1}}]),e}();t.LocalSetter=o;var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this.alias=t,this.materialMask=n,this.environmentMask=i,this.overallMask=a}return i(e,[{key:"validate",value:function(e,t,n){var r=n&&n.material?n.material.getMask():0,i=n&&n.environment?n.environment.getMask():0;return(r&this.materialMask)===this.materialMask&&(i&this.environmentMask)===this.environmentMask&&((r|i)&this.overallMask)===this.overallMask}}]),e}();t.Uniform=l;var u=function(){function e(){r(this,e),this.uniforms=[],this.validators=[],this.setters=[],this.globalUniforms=[],this.localUniforms=[],this.attributes=new Map,this.combinedAttributes=new a.Attributes,this.tempArray=[]}return i(e,[{key:"canRender",value:function(e){return!0}},{key:"init",value:function(){}},{key:"compareTo",value:function(e){}},{key:"register",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getUniformID(e);return r>=0?(this.validators.splice(r,0,t),this.setters.splice(r,0,n),r):(this.uniforms.push(e),this.validators.push(t),this.setters.push(n),this.uniforms.length-1)}},{key:"getUniformID",value:function(e){for(var t=this.uniforms.length,n=0;n<t;n++)if(this.uniforms[n]===e)return n;return-1}},{key:"getUniformAlias",value:function(e){return this.uniforms[e]}},{key:"initWithVariables",value:function(e,t){if(this.locations)throw new Error("Already initialized");this.program=e;var n=this.uniforms.length;this.locations=new Array(n);for(var r=0;r<n;r++){var i=this.uniforms[r],a=this.validators[r],s=this.setters[r];a&&!a.validate(this,r,t)?this.locations[r]=null:(this.locations[r]=e.getUniformLocation(i,!1),this.locations[r]&&s&&(s.isGlobal(this,r)?this.globalUniforms.push(r):this.localUniforms.push(r))),this.locations[r]||this.validators.splice(r,0,null)}if(t)for(var o=t.meshPart.mesh.getVertexAttributes(),l=o.size(),u=0;u<l;u++){var c=o.get(u),h=e.getAttributeLocation(c.alias);h>=0&&this.attributes.set(c.getKey(),h)}}},{key:"begin",value:function(e,t){this.camera=e,this.context=t,this.program.bind(),this.currentMesh=null;for(var n=0;n<this.globalUniforms.length;++n){var r=this.globalUniforms[n];this.setters[r]&&this.setters[r].set(this,r,null,null)}}},{key:"render",value:function(e){0!==e.worldTransform.det3x3()&&(this.combinedAttributes.clear(),e.environment&&this.combinedAttributes.setAttributes(e.environment.getAttributes()),e.material&&this.combinedAttributes.setAttributes(e.material.getAttributes()),this.renderWithCombinedAttributes(e,this.combinedAttributes))}},{key:"renderWithCombinedAttributes",value:function(e,t){for(var n,r=0;r<this.localUniforms.length;++r)this.setters[n=this.localUniforms[r]]&&this.setters[n].set(this,n,e,t);this.currentMesh!==e.meshPart.mesh&&(this.currentMesh&&this.currentMesh.unbind(this.program),this.currentMesh=e.meshPart.mesh,this.currentMesh.bind(this.program,this.getAttributeLocations(e.meshPart.mesh.getVertexAttributes()))),e.meshPart.render(this.program,!1)}},{key:"getAttributeLocations",value:function(e){this.tempArray.length=0;for(var t=e.size(),n=0;n<t;n++){var r=this.attributes.get(e.get(n).getKey());void 0!==r&&null!==r||(r=-1),this.tempArray.push(r)}return this.tempArray}},{key:"end",value:function(){this.currentMesh&&(this.currentMesh.unbind(this.program),this.currentMesh=null)}},{key:"dispose",value:function(){this.program=null,this.uniforms.length=0,this.validators.length=0,this.setters.length=0,this.localUniforms.length=0,this.globalUniforms.length=0,this.locations=null}},{key:"has",value:function(e){return e>=0&&e<this.locations.length&&!!this.locations[e]}},{key:"loc",value:function(e){return e>=0&&e<this.locations.length?this.locations[e]:null}},{key:"setMatrix4",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform4x4f(this.uniforms[e],t.values),!0)}},{key:"setMatrix3",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform3x3f(this.uniforms[e],t.getValues()),!0)}},{key:"setVector3",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform3f(this.uniforms[e],t.x,t.y,t.z),!0)}},{key:"setVector2",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform2f(this.uniforms[e],t.x,t.y),!0)}},{key:"setColor",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform4f(this.uniforms[e],t.r,t.g,t.b,t.a),!0)}},{key:"setF",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniformf(this.uniforms[e],t),!0)}},{key:"set2f",value:function(e,t,n){return!!this.uniforms[e]&&(this.program.setUniform2f(this.uniforms[e],t,n),!0)}},{key:"set3f",value:function(e,t,n,r){return!!this.uniforms[e]&&(this.program.setUniform3f(this.uniforms[e],t,n,r),!0)}},{key:"set4f",value:function(e,t,n,r,i){return!!this.uniforms[e]&&(this.program.setUniform4f(this.uniforms[e],t,n,r,i),!0)}},{key:"setI",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniformi(this.uniforms[e],t),!0)}},{key:"setTexture",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniformi(this.uniforms[e],this.context.textureBinder.bindTexture(t)),!0)}}]),e}();t.BaseShader=u},616:function(e,t,n){"use strict";var r=n(4704).default,i=n(1588).default,a=n(3808).default,s=n(1655).default,o=n(6389).default,l=n(9728).default,u=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultShader=t.Setters=t.Inputs=t.Bones=t.ACubemap=t.Config=void 0;var c=n(6239),h=n(4995),f=n(1858),d=n(8606),p=n(7811),v=n(2802),m=n(847),g=n(1733),y=n(9693),b=n(5412),_=n(603),x=n(4836),w=n(1148),k=n(2398),M=n(8633),T=n(7299),S=n(1843),A=n(1139),E=n(2036),L=n(8552),C=n(4678),O=l((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u(this,e),this.vertexShader=null,this.fragmentShader=null,this.numDirectionalLights=2,this.numPointLights=5,this.numSpotLights=0,this.numBones=12,this.ignoreUnimplemented=!0,this.defaultCullFace=-1,this.defaultDepthFunc=-1,this.vertexShader=t,this.fragmentShader=n}));t.Config=O;var P=function(e){s(n,e);var t=o(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).cacheAmbientCubemap=new T.AmbientCubemap,i.dirLightsOffset=e,i.pointLightsOffset=r,i}return l(n,[{key:"set",value:function(e,t,r,i){if(r.environment){if(r.worldTransform.getTranslation(n.tmpV1),i.has(g.ColorAttribute3D.AmbientLight)){var a=i.get(g.ColorAttribute3D.AmbientLight).color;this.cacheAmbientCubemap.setColor(a.r,a.g,a.b)}if(i.has(y.DirectionalLightsAttribute.Type))for(var s=i.get(y.DirectionalLightsAttribute.Type).lights,o=this.dirLightsOffset;o<s.length;o++)this.cacheAmbientCubemap.addWithColorAndDirection(s[o].color,s[o].direction);this.cacheAmbientCubemap.clamp(),e.program.setUniform3fv(e.getUniformAlias(t),this.cacheAmbientCubemap.data)}else e.program.setUniform3fv(e.getUniformAlias(t),n.ones)}}]),n}(C.LocalSetter);t.ACubemap=P,P.ones=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],P.tmpV1=new p.Vector3;var I=function(e){s(n,e);var t=o(n);function n(e){var r;return u(this,n),(r=t.call(this)).bones=new Array(16*e),r}return l(n,[{key:"set",value:function(e,t,r,i){for(var a=0;a<this.bones.length;a+=16){var s=a/16;!r.bones||s>=r.bones.length||!r.bones[s]?d.Utils.arrayCopy(n.idtMatrix.values,0,this.bones,a,16):d.Utils.arrayCopy(r.bones[s].values,0,this.bones,a,16)}e.program.setUniform4x4fWithLocation(e.loc(t),this.bones)}}]),n}(C.LocalSetter);t.Bones=I,I.idtMatrix=new h.Matrix4;var N=l((function e(){u(this,e)}));t.Inputs=N,N.projTrans=new C.Uniform("u_projTrans"),N.viewTrans=new C.Uniform("u_viewTrans"),N.projViewTrans=new C.Uniform("u_projViewTrans"),N.cameraPosition=new C.Uniform("u_cameraPosition"),N.cameraDirection=new C.Uniform("u_cameraDirection"),N.cameraUp=new C.Uniform("u_cameraUp"),N.cameraNearFar=new C.Uniform("u_cameraNearFar"),N.worldTrans=new C.Uniform("u_worldTrans"),N.viewWorldTrans=new C.Uniform("u_viewWorldTrans"),N.projViewWorldTrans=new C.Uniform("u_projViewWorldTrans"),N.normalMatrix=new C.Uniform("u_normalMatrix"),N.bones=new C.Uniform("u_bones"),N.shininess=new C.Uniform("u_shininess",b.FloatAttribute.Shininess),N.opacity=new C.Uniform("u_opacity",m.BlendingAttribute.Type),N.diffuseColor=new C.Uniform("u_diffuseColor",g.ColorAttribute3D.Diffuse),N.diffuseTexture=new C.Uniform("u_diffuseTexture",k.TextureAttribute.Diffuse),N.diffuseUVTransform=new C.Uniform("u_diffuseUVTransform",k.TextureAttribute.Diffuse),N.specularColor=new C.Uniform("u_specularColor",g.ColorAttribute3D.Specular),N.specularTexture=new C.Uniform("u_specularTexture",k.TextureAttribute.Specular),N.specularUVTransform=new C.Uniform("u_specularUVTransform",k.TextureAttribute.Specular),N.emissiveColor=new C.Uniform("u_emissiveColor",g.ColorAttribute3D.Emissive),N.emissiveTexture=new C.Uniform("u_emissiveTexture",k.TextureAttribute.Emissive),N.emissiveUVTransform=new C.Uniform("u_emissiveUVTransform",k.TextureAttribute.Emissive),N.reflectionColor=new C.Uniform("u_reflectionColor",g.ColorAttribute3D.Reflection),N.reflectionTexture=new C.Uniform("u_reflectionTexture",k.TextureAttribute.Reflection),N.reflectionUVTransform=new C.Uniform("u_reflectionUVTransform",k.TextureAttribute.Reflection),N.normalTexture=new C.Uniform("u_normalTexture",k.TextureAttribute.Normal),N.normalUVTransform=new C.Uniform("u_normalUVTransform",k.TextureAttribute.Normal),N.ambientTexture=new C.Uniform("u_ambientTexture",k.TextureAttribute.Ambient),N.ambientUVTransform=new C.Uniform("u_ambientUVTransform",k.TextureAttribute.Ambient),N.alphaTest=new C.Uniform("u_alphaTest"),N.ambientCube=new C.Uniform("u_ambientCubemap"),N.dirLights=new C.Uniform("u_dirLights"),N.pointLights=new C.Uniform("u_pointLights"),N.spotLights=new C.Uniform("u_spotLights"),N.environmentCubemap=new C.Uniform("u_environmentCubemap");var R=l((function e(){u(this,e)}));t.Setters=R,R.projTrans=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setMatrix4(t,e.camera.projection)}}]),n}(C.GlobalSetter)),R.viewTrans=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setMatrix4(t,e.camera.view)}}]),n}(C.GlobalSetter)),R.projViewTrans=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setMatrix4(t,e.camera.combined)}}]),n}(C.GlobalSetter)),R.cameraPosition=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.set4f(t,e.camera.position.x,e.camera.position.y,e.camera.position.y,1.1881/(e.camera.far*e.camera.far))}}]),n}(C.GlobalSetter)),R.cameraDirection=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setVector3(t,e.camera.direction)}}]),n}(C.GlobalSetter)),R.cameraUp=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setVector3(t,e.camera.up)}}]),n}(C.GlobalSetter)),R.cameraNearFar=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.set2f(t,e.camera.near,e.camera.far)}}]),n}(C.GlobalSetter)),R.worldTrans=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setMatrix4(t,n.worldTransform)}}]),n}(C.LocalSetter)),R.viewWorldTrans=new(function(e){s(n,e);var t=o(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).temp=new h.Matrix4,e}return l(n,[{key:"set",value:function(e,t,n,r){e.setMatrix4(t,this.temp.set(e.camera.view.values).multiply(n.worldTransform))}}]),n}(C.LocalSetter)),R.projViewWorldTrans=new(function(e){s(n,e);var t=o(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).temp=new h.Matrix4,e}return l(n,[{key:"set",value:function(e,t,n,r){e.setMatrix4(t,this.temp.set(e.camera.combined.values).multiply(n.worldTransform))}}]),n}(C.LocalSetter)),R.normalMatrix=new(function(e){s(n,e);var t=o(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).tmpM=new c.Matrix3,e}return l(n,[{key:"set",value:function(e,t,n,r){e.setMatrix3(t,this.tmpM.setByMatrix4(n.worldTransform).inv().transpose())}}]),n}(C.LocalSetter)),R.shininess=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setF(t,r.get(b.FloatAttribute.Shininess).value)}}]),n}(C.LocalSetter)),R.diffuseColor=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setColor(t,r.get(g.ColorAttribute3D.Diffuse).color)}}]),n}(C.LocalSetter)),R.diffuseTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=e.context.textureBinder.bindTexture(r.get(k.TextureAttribute.Diffuse).texture);e.setI(t,i)}}]),n}(C.LocalSetter)),R.diffuseUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=r.get(k.TextureAttribute.Diffuse);e.set4f(t,i.offsetU,i.offsetV,i.scaleU,i.scaleV)}}]),n}(C.LocalSetter)),R.specularColor=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setColor(t,r.get(g.ColorAttribute3D.Specular).color)}}]),n}(C.LocalSetter)),R.specularTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=e.context.textureBinder.bindTexture(r.get(k.TextureAttribute.Specular).texture);e.setI(t,i)}}]),n}(C.LocalSetter)),R.specularUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=r.get(k.TextureAttribute.Specular);e.set4f(t,i.offsetU,i.offsetV,i.scaleU,i.scaleV)}}]),n}(C.LocalSetter)),R.emissiveColor=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setColor(t,r.get(g.ColorAttribute3D.Emissive).color)}}]),n}(C.LocalSetter)),R.emissiveTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=e.context.textureBinder.bindTexture(r.get(k.TextureAttribute.Emissive).texture);e.setI(t,i)}}]),n}(C.LocalSetter)),R.emissiveUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=r.get(k.TextureAttribute.Emissive);e.set4f(t,i.offsetU,i.offsetV,i.scaleU,i.scaleV)}}]),n}(C.LocalSetter)),R.reflectionColor=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){e.setColor(t,r.get(g.ColorAttribute3D.Reflection).color)}}]),n}(C.LocalSetter)),R.reflectionTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=e.context.textureBinder.bindTexture(r.get(k.TextureAttribute.Reflection).texture);e.setI(t,i)}}]),n}(C.LocalSetter)),R.reflectionUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=r.get(k.TextureAttribute.Reflection);e.set4f(t,i.offsetU,i.offsetV,i.scaleU,i.scaleV)}}]),n}(C.LocalSetter)),R.normalTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=e.context.textureBinder.bindTexture(r.get(k.TextureAttribute.Normal).texture);e.setI(t,i)}}]),n}(C.LocalSetter)),R.normalUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=r.get(k.TextureAttribute.Normal);e.set4f(t,i.offsetU,i.offsetV,i.scaleU,i.scaleV)}}]),n}(C.LocalSetter)),R.ambientTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=e.context.textureBinder.bindTexture(r.get(k.TextureAttribute.Ambient).texture);e.setI(t,i)}}]),n}(C.LocalSetter)),R.ambientUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,r){var i=r.get(k.TextureAttribute.Ambient);e.set4f(t,i.offsetU,i.offsetV,i.scaleU,i.scaleV)}}]),n}(C.LocalSetter));var F=function(e){s(n,e);var t=o(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return u(this,n),(i=t.call(this)).gl=e,i.u_dirLights0color=i.register("u_dirLights[0].color"),i.u_dirLights0direction=i.register("u_dirLights[0].direction"),i.u_dirLights1color=i.register("u_dirLights[1].color"),i.u_pointLights0color=i.register("u_pointLights[0].color"),i.u_pointLights0position=i.register("u_pointLights[0].position"),i.u_pointLights0intensity=i.register("u_pointLights[0].intensity"),i.u_pointLights1color=i.register("u_pointLights[1].color"),i.u_spotLights0color=i.register("u_spotLights[0].color"),i.u_spotLights0position=i.register("u_spotLights[0].position"),i.u_spotLights0intensity=i.register("u_spotLights[0].intensity"),i.u_spotLights0direction=i.register("u_spotLights[0].direction"),i.u_spotLights0cutoffAngle=i.register("u_spotLights[0].cutoffAngle"),i.u_spotLights0exponent=i.register("u_spotLights[0].exponent"),i.u_spotLights1color=i.register("u_spotLights[1].color"),i.u_fogColor=i.register("u_fogColor"),i.u_shadowMapProjViewTrans=i.register("u_shadowMapProjViewTrans"),i.u_shadowTexture=i.register("u_shadowTexture"),i.u_shadowPCFOffset=i.register("u_shadowPCFOffset"),i.lightLocs=new Array,i.ambientCubemap=new T.AmbientCubemap,i.tmpV1=new p.Vector3,0===o.length&&(o=n.defaultVertexShader),0===l.length&&(l=n.defaultFragmentShader),a?s=n.createPrefix(r,a):a=new O,i.createShader(r,a,new f.Shader(i.gl,s+o,s+l)),i}return l(n,[{key:"createShader",value:function(e,t,r){var i=n.combineAttributes(e);this.config=t,this.program=r,this.lighting=!!e.environment,this.environmentCubemap=!1,this.shadowMap=!1,this.renderable=e,this.attributesMask=i.getMask()|n.optionalAttributes,this.vertexMask=e.meshPart.mesh.getVertexAttributes().getMaskWithSizePacked(),this.directionalLights=new Array(this.lighting&&t.numDirectionalLights>0?t.numDirectionalLights:0);for(var a=0;a<this.directionalLights.length;a++)this.directionalLights[a]=new S.DirectionalLight;this.pointLights=new Array(this.lighting&&t.numPointLights>0?t.numPointLights:0);for(var s=0;s<this.pointLights.length;s++)this.pointLights[s]=new A.PointLight;this.spotLights=new Array(this.lighting&&t.numSpotLights>0?t.numSpotLights:0);for(var o=0;o<this.spotLights.length;o++)this.spotLights[o]=new E.SpotLight;if(!t.ignoreUnimplemented&&(n.implementedFlags&this.attributesMask)!==this.attributesMask)throw new Error("Some attributes not implemented yet ("+this.attributesMask+")");if(e.bones&&e.bones.length>t.numBones)throw new Error("too many bones: "+e.bones.length+", max configured: "+t.numBones);this.u_projTrans=this.register(N.projTrans.alias,null,R.projTrans),this.u_viewTrans=this.register(N.viewTrans.alias,null,R.viewTrans),this.u_projViewTrans=this.register(N.projViewTrans.alias,null,R.projViewTrans),this.u_cameraPosition=this.register(N.cameraPosition.alias,null,R.cameraPosition),this.u_cameraDirection=this.register(N.cameraDirection.alias,null,R.cameraDirection),this.u_cameraUp=this.register(N.cameraUp.alias,null,R.cameraUp),this.u_cameraNearFar=this.register(N.cameraNearFar.alias,null,R.cameraNearFar);var l=new C.Uniform("u_time");this.u_time=this.register(l.alias,l),this.u_worldTrans=this.register(N.worldTrans.alias,null,R.worldTrans),this.u_viewWorldTrans=this.register(N.viewWorldTrans.alias,null,R.viewWorldTrans),this.u_projViewWorldTrans=this.register(N.projViewWorldTrans.alias,null,R.projViewWorldTrans),this.u_normalMatrix=this.register(N.normalMatrix.alias,null,R.normalMatrix),this.u_bones=e.bones&&t.numBones>0?this.register(N.bones.alias,null,new I(t.numBones)):-1,this.u_shininess=this.register(N.shininess.alias,null,R.shininess),this.u_opacity=this.register(N.opacity.alias),this.u_diffuseColor=this.register(N.diffuseColor.alias,null,R.diffuseColor),this.u_diffuseTexture=this.register(N.diffuseTexture.alias,null,R.diffuseTexture),this.u_diffuseUVTransform=this.register(N.diffuseUVTransform.alias,null,R.diffuseUVTransform),this.u_specularColor=this.register(N.specularColor.alias,null,R.specularColor),this.u_specularTexture=this.register(N.specularTexture.alias,null,R.specularTexture),this.u_specularUVTransform=this.register(N.specularUVTransform.alias,null,R.specularUVTransform),this.u_emissiveColor=this.register(N.emissiveColor.alias,null,R.emissiveColor),this.u_emissiveTexture=this.register(N.emissiveTexture.alias,null,R.emissiveTexture),this.u_emissiveUVTransform=this.register(N.emissiveUVTransform.alias,null,R.emissiveUVTransform),this.u_reflectionColor=this.register(N.reflectionColor.alias,null,R.reflectionColor),this.u_reflectionTexture=this.register(N.reflectionTexture.alias,null,R.reflectionTexture),this.u_reflectionUVTransform=this.register(N.reflectionUVTransform.alias,null,R.reflectionUVTransform),this.u_normalTexture=this.register(N.normalTexture.alias,null,R.normalTexture),this.u_normalUVTransform=this.register(N.normalUVTransform.alias,null,R.normalUVTransform),this.u_ambientTexture=this.register(N.ambientTexture.alias,null,R.ambientTexture),this.u_ambientUVTransform=this.register(N.ambientUVTransform.alias,null,R.ambientUVTransform),this.u_alphaTest=this.register(N.alphaTest.alias),this.u_ambientCubemap=this.lighting?this.register(N.ambientCube.alias,null,new P(t.numDirectionalLights,t.numPointLights)):-1}},{key:"init",value:function(){var e=this.program;this.program=null,this.initWithVariables(e,this.renderable),this.renderable=null,this.dirLightsLoc=this.getLightLoc(this.u_dirLights0color),this.dirLightsColorOffset=this.getLightLoc(this.u_dirLights0color)-this.dirLightsLoc,this.dirLightsDirectionOffset=this.getLightLoc(this.u_dirLights0direction)-this.dirLightsLoc,this.dirLightsSize=this.getLightLoc(this.u_dirLights1color)-this.dirLightsLoc,this.dirLightsSize<0&&(this.dirLightsSize=0),this.pointLightsLoc=this.getLightLoc(this.u_pointLights0color),this.pointLightsColorOffset=this.getLightLoc(this.u_pointLights0color)-this.pointLightsLoc,this.pointLightsPositionOffset=this.getLightLoc(this.u_pointLights0position)-this.pointLightsLoc,this.pointLightsIntensityOffset=this.has(this.u_pointLights0intensity)?this.getLightLoc(this.u_pointLights0intensity)-this.pointLightsLoc:-1,this.pointLightsSize=this.getLightLoc(this.u_pointLights1color)-this.pointLightsLoc,this.pointLightsSize<0&&(this.pointLightsSize=0),this.spotLightsLoc=this.getLightLoc(this.u_spotLights0color),this.spotLightsColorOffset=this.getLightLoc(this.u_spotLights0color)-this.spotLightsLoc,this.spotLightsPositionOffset=this.getLightLoc(this.u_spotLights0position)-this.spotLightsLoc,this.spotLightsDirectionOffset=this.getLightLoc(this.u_spotLights0direction)-this.spotLightsLoc,this.spotLightsIntensityOffset=this.has(this.u_spotLights0intensity)?this.getLightLoc(this.u_spotLights0intensity)-this.spotLightsLoc:-1,this.spotLightsCutoffAngleOffset=this.getLightLoc(this.u_spotLights0cutoffAngle)-this.spotLightsLoc,this.spotLightsExponentOffset=this.getLightLoc(this.u_spotLights0exponent)-this.spotLightsLoc,this.spotLightsSize=this.getLightLoc(this.u_spotLights1color)-this.spotLightsLoc,this.spotLightsSize<0&&(this.spotLightsSize=0)}},{key:"canRender",value:function(e){if(e.bones&&e.bones.length>this.config.numBones)return!1;var t=n.combineAttributeMasks(e);return this.attributesMask===(t|n.optionalAttributes)&&this.vertexMask===e.meshPart.mesh.getVertexAttributes().getMaskWithSizePacked()&&!!e.environment===this.lighting}},{key:"begin",value:function(e,t){i(a(n.prototype),"begin",this).call(this,e,t);var s,o=r(this.directionalLights);try{for(o.s();!(s=o.n()).done;){s.value.set(0,0,0,0,-1,0)}}catch(f){o.e(f)}finally{o.f()}var l,u=r(this.pointLights);try{for(u.s();!(l=u.n()).done;){l.value.setFromValue(0,0,0,0,0,0,0)}}catch(f){u.e(f)}finally{u.f()}var c,h=r(this.spotLights);try{for(h.s();!(c=h.n()).done;){c.value.setFromValue(0,0,0,0,0,0,0,-1,0,0,1,0)}}catch(f){h.e(f)}finally{h.f()}this.lightsSet=!1}},{key:"renderWithCombinedAttributes",value:function(e,t){t.has(m.BlendingAttribute.Type)||this.context.setBlending(!1,L.GL20.GL_SRC_ALPHA,L.GL20.GL_ONE_MINUS_SRC_ALPHA),this.bindMaterial(t),this.lighting&&this.bindLights(e,t),i(a(n.prototype),"renderWithCombinedAttributes",this).call(this,e,t)}},{key:"end",value:function(){i(a(n.prototype),"end",this).call(this)}},{key:"bindMaterial",value:function(e){var t,i=-1===this.config.defaultCullFace?n.defaultCullFace:this.config.defaultCullFace,a=-1===this.config.defaultDepthFunc?n.defaultDepthFunc:this.config.defaultDepthFunc,s=r(e.getAttributes());try{for(s.s();!(t=s.n()).done;){var o=t.value,l=o.type;if(m.BlendingAttribute.is(l))this.context.setBlending(!0,o.sourceFunction,o.destFunction),this.setF(this.u_opacity,o.opacity);else if((l&_.IntAttribute.CullFace)===_.IntAttribute.CullFace)i=o.value;else if((l&b.FloatAttribute.AlphaTest)===b.FloatAttribute.AlphaTest)this.setF(this.u_alphaTest,o.value);else if(!this.config.ignoreUnimplemented)throw new Error("Unknown material attribute: "+o.toString())}}catch(u){s.e(u)}finally{s.f()}this.context.setCullFace(i),this.context.setDepthTest(a,0,1),this.context.setDepthMask(!0)}},{key:"bindLights",value:function(e,t){var n=t.get(y.DirectionalLightsAttribute.Type),r=n?n.lights:null,i=t.get(x.PointLightsAttribute.Type),a=i?i.lights:null,s=t.get(w.SpotLightsAttribute.Type),o=s?s.lights:null;if(this.dirLightsLoc>=0)for(var l=0;l<this.directionalLights.length;l++){if(!r||l>=r.length){if(this.lightsSet&&0===this.directionalLights[l].color.r&&0===this.directionalLights[l].color.g&&0===this.directionalLights[l].color.b)continue;this.directionalLights[l].color.set(0,0,0,1)}else{if(this.lightsSet&&this.directionalLights[l].equals(r[l]))continue;this.directionalLights[l].setFrom(r[l].color,r[l].direction)}var u=this.dirLightsLoc+l*this.dirLightsSize;if(this.program.setUniform3fWithLocation(this.lightLocs[u+this.dirLightsColorOffset],this.directionalLights[l].color.r,this.directionalLights[l].color.g,this.directionalLights[l].color.b),this.program.setUniform3fWithLocation(this.lightLocs[u+this.dirLightsDirectionOffset],this.directionalLights[l].direction.x,this.directionalLights[l].direction.y,this.directionalLights[l].direction.z),this.dirLightsSize<=0)break}if(this.pointLightsLoc>=0)for(var c=0;c<this.pointLights.length;c++){if(!a||c>=a.length){if(this.lightsSet&&0===this.pointLights[c].intensity)continue;this.pointLights[c].intensity=0}else{if(this.lightsSet&&this.pointLights[c].equals(a[c]))continue;this.pointLights[c].setFrom(a[c])}var h=this.pointLightsLoc+c*this.pointLightsSize;if(this.program.setUniform3fWithLocation(this.lightLocs[h+this.pointLightsColorOffset],this.pointLights[c].color.r*this.pointLights[c].intensity,this.pointLights[c].color.g*this.pointLights[c].intensity,this.pointLights[c].color.b*this.pointLights[c].intensity),this.program.setUniform3fWithLocation(this.lightLocs[h+this.pointLightsPositionOffset],this.pointLights[c].position.x,this.pointLights[c].position.y,this.pointLights[c].position.z),this.pointLightsIntensityOffset>=0&&this.program.setUniform1fWithLocation(this.lightLocs[h+this.pointLightsIntensityOffset],this.pointLights[c].intensity),this.pointLightsSize<=0)break}if(this.spotLightsLoc>=0)for(var f=0;f<this.spotLights.length;f++){if(!o||f>=o.length){if(this.lightsSet&&0===this.spotLights[f].intensity)continue;this.spotLights[f].intensity=0}else{if(this.lightsSet&&this.spotLights[f].equals(o[f]))continue;this.spotLights[f].setFrom(o[f])}var d=this.spotLightsLoc+f*this.spotLightsSize;if(this.program.setUniform3fWithLocation(this.lightLocs[d+this.spotLightsColorOffset],this.spotLights[f].color.r*this.spotLights[f].intensity,this.spotLights[f].color.g*this.spotLights[f].intensity,this.spotLights[f].color.b*this.spotLights[f].intensity),this.program.setUniform3fWithLocation(this.lightLocs[d+this.spotLightsPositionOffset],this.spotLights[f].position.x,this.spotLights[f].position.y,this.spotLights[f].position.z),this.program.setUniform3fWithLocation(this.lightLocs[d+this.spotLightsDirectionOffset],this.spotLights[f].direction.x,this.spotLights[f].direction.y,this.spotLights[f].direction.z),this.program.setUniform1fWithLocation(this.lightLocs[d+this.spotLightsCutoffAngleOffset],this.spotLights[f].cutoffAngle),this.program.setUniform1fWithLocation(this.lightLocs[d+this.spotLightsExponentOffset],this.spotLights[f].exponent),this.spotLightsIntensityOffset>=0&&this.program.setUniform1fWithLocation(this.lightLocs[d+this.spotLightsIntensityOffset],this.spotLights[f].intensity),this.spotLightsSize<=0)break}this.lightsSet=!0}},{key:"getLightLoc",value:function(e){var t=this.loc(e),n=this.lightLocs.indexOf(t);return t?n<0?(this.lightLocs.push(t),this.lightLocs.length-1):n:-1}},{key:"dispose",value:function(){this.program.dispose(),i(a(n.prototype),"dispose",this).call(this)}},{key:"getDefaultCullFace",value:function(){return-1===this.config.defaultCullFace?n.defaultCullFace:this.config.defaultCullFace}},{key:"setDefaultCullFace",value:function(e){this.config.defaultCullFace=e}},{key:"getDefaultDepthFunc",value:function(){return-1===this.config.defaultDepthFunc?n.defaultDepthFunc:this.config.defaultDepthFunc}},{key:"setDefaultDepthFunc",value:function(e){this.config.defaultDepthFunc=e}}],[{key:"and",value:function(e,t){return(e&t)===t}},{key:"or",value:function(e,t){return 0!==(e&t)}},{key:"combineAttributes",value:function(e){return this.tmpAttributes.clear(),e.environment&&this.tmpAttributes.setAttributes(e.environment.getAttributes()),e.material&&this.tmpAttributes.setAttributes(e.material.getAttributes()),this.tmpAttributes}},{key:"combineAttributeMasks",value:function(e){var t=0;return e.environment&&(t|=e.environment.getMask()),e.material&&(t|=e.material.getMask()),t}},{key:"createPrefix",value:function(e,t){var n=this.combineAttributes(e),r="",i=n.getMask(),a=e.meshPart.mesh.getVertexAttributes().getMask();this.and(a,M.Usage.Position)&&(r+="#define positionFlag\n"),this.or(a,M.Usage.ColorUnpacked|M.Usage.ColorPacked)&&(r+="#define colorFlag\n"),this.and(a,M.Usage.BiNormal)&&(r+="#define binormalFlag\n"),this.and(a,M.Usage.Tangent)&&(r+="#define tangentFlag\n"),this.and(a,M.Usage.Normal)&&(r+="#define normalFlag\n"),(this.and(a,M.Usage.Normal)||this.and(a,M.Usage.Tangent|M.Usage.BiNormal))&&e.environment&&(r+="#define lightingFlag\n",r+="#define ambientCubemapFlag\n",r+="#define numDirectionalLights "+t.numDirectionalLights+"\n",r+="#define numPointLights "+t.numPointLights+"\n",r+="#define numSpotLights "+t.numSpotLights+"\n",n.has(g.ColorAttribute3D.Fog)&&(r+="#define fogFlag\n"));for(var s=e.meshPart.mesh.getVertexAttributes().size(),o=0;o<s;o++){var l=e.meshPart.mesh.getVertexAttributes().get(o);l.usage===M.Usage.BoneWeight?r+="#define boneWeight"+l.unit+"Flag\n":l.usage===M.Usage.TextureCoordinates&&(r+="#define texCoords"+l.unit+"Flag\n")}return(i&m.BlendingAttribute.Type)===m.BlendingAttribute.Type&&(r+="#define "+m.BlendingAttribute.Alias+"Flag\n"),(i&k.TextureAttribute.Diffuse)===k.TextureAttribute.Diffuse&&(r+="#define "+k.TextureAttribute.DiffuseAlias+"Flag\n",r+="#define "+k.TextureAttribute.DiffuseAlias+"Coord texCoords0\n"),(i&k.TextureAttribute.Specular)===k.TextureAttribute.Specular&&(r+="#define "+k.TextureAttribute.SpecularAlias+"Flag\n",r+="#define "+k.TextureAttribute.SpecularAlias+"Coord texCoords0\n"),(i&k.TextureAttribute.Normal)===k.TextureAttribute.Normal&&(r+="#define "+k.TextureAttribute.NormalAlias+"Flag\n",r+="#define "+k.TextureAttribute.NormalAlias+"Coord texCoords0\n"),(i&k.TextureAttribute.Emissive)===k.TextureAttribute.Emissive&&(r+="#define "+k.TextureAttribute.EmissiveAlias+"Flag\n",r+="#define "+k.TextureAttribute.EmissiveAlias+"Coord texCoords0\n"),(i&k.TextureAttribute.Reflection)===k.TextureAttribute.Reflection&&(r+="#define "+k.TextureAttribute.ReflectionAlias+"Flag\n",r+="#define "+k.TextureAttribute.ReflectionAlias+"Coord texCoords0\n"),(i&k.TextureAttribute.Ambient)===k.TextureAttribute.Ambient&&(r+="#define "+k.TextureAttribute.AmbientAlias+"Flag\n",r+="#define "+k.TextureAttribute.AmbientAlias+"Coord texCoords0\n"),(i&g.ColorAttribute3D.Diffuse)===g.ColorAttribute3D.Diffuse&&(r+="#define "+g.ColorAttribute3D.DiffuseAlias+"Flag\n"),(i&g.ColorAttribute3D.Specular)===g.ColorAttribute3D.Specular&&(r+="#define "+g.ColorAttribute3D.SpecularAlias+"Flag\n"),(i&g.ColorAttribute3D.Emissive)===g.ColorAttribute3D.Emissive&&(r+="#define "+g.ColorAttribute3D.EmissiveAlias+"Flag\n"),(i&g.ColorAttribute3D.Reflection)===g.ColorAttribute3D.Reflection&&(r+="#define "+g.ColorAttribute3D.ReflectionAlias+"Flag\n"),(i&b.FloatAttribute.Shininess)===b.FloatAttribute.Shininess&&(r+="#define "+b.FloatAttribute.ShininessAlias+"Flag\n"),(i&b.FloatAttribute.AlphaTest)===b.FloatAttribute.AlphaTest&&(r+="#define "+b.FloatAttribute.AlphaTestAlias+"Flag\n"),e.bones&&t.numBones>0&&(r+="#define numBones "+t.numBones+"\n"),r}}]),n}(C.BaseShader);t.DefaultShader=F,F.defaultVertexShader="\n  #if defined(diffuseTextureFlag) || defined(specularTextureFlag) || defined(emissiveTextureFlag)\n  #define textureFlag\n  #endif\n\n  #if defined(specularTextureFlag) || defined(specularColorFlag)\n  #define specularFlag\n  #endif\n\n  #if defined(specularFlag) || defined(fogFlag)\n  #define cameraPositionFlag\n  #endif\n\n  attribute vec3 a_position;\n  uniform mat4 u_projViewTrans;\n\n  #if defined(colorFlag)\n  varying vec4 v_color;\n  attribute vec4 a_color;\n  #endif // colorFlag\n\n  #ifdef normalFlag\n  attribute vec3 a_normal;\n  uniform mat3 u_normalMatrix;\n  varying vec3 v_normal;\n  #endif // normalFlag\n\n  #ifdef textureFlag\n  attribute vec2 a_texCoords0;\n  #endif // textureFlag\n\n  #ifdef diffuseTextureFlag\n  uniform vec4 u_diffuseUVTransform;\n  varying vec2 v_diffuseUV;\n  #endif\n\n  #ifdef emissiveTextureFlag\n  uniform vec4 u_emissiveUVTransform;\n  varying vec2 v_emissiveUV;\n  #endif\n\n  #ifdef specularTextureFlag\n  uniform vec4 u_specularUVTransform;\n  varying vec2 v_specularUV;\n  #endif\n\n  #ifdef boneWeight0Flag\n  #define boneWeightsFlag\n  attribute vec2 a_boneWeight0;\n  #endif //boneWeight0Flag\n\n  #ifdef boneWeight1Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight1;\n  #endif //boneWeight1Flag\n\n  #ifdef boneWeight2Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight2;\n  #endif //boneWeight2Flag\n\n  #ifdef boneWeight3Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight3;\n  #endif //boneWeight3Flag\n\n  #ifdef boneWeight4Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight4;\n  #endif //boneWeight4Flag\n\n  #ifdef boneWeight5Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight5;\n  #endif //boneWeight5Flag\n\n  #ifdef boneWeight6Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight6;\n  #endif //boneWeight6Flag\n\n  #ifdef boneWeight7Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight7;\n  #endif //boneWeight7Flag\n\n  #if defined(numBones) && defined(boneWeightsFlag)\n  #if (numBones > 0) \n  #define skinningFlag\n  #endif\n  #endif\n\n  uniform mat4 u_worldTrans;\n\n  #if defined(numBones)\n  #if numBones > 0\n  uniform mat4 u_bones[numBones];\n  #endif //numBones\n  #endif\n\n  #ifdef shininessFlag\n  uniform float u_shininess;\n  #else\n  const float u_shininess = 20.0;\n  #endif // shininessFlag\n\n  #ifdef blendedFlag\n  uniform float u_opacity;\n  varying float v_opacity;\n\n  #ifdef alphaTestFlag\n  uniform float u_alphaTest;\n  varying float v_alphaTest;\n  #endif //alphaTestFlag\n  #endif // blendedFlag\n\n  #ifdef lightingFlag\n  varying vec3 v_lightDiffuse;\n\n  #ifdef ambientLightFlag\n  uniform vec3 u_ambientLight;\n  #endif // ambientLightFlag\n\n  #ifdef ambientCubemapFlag\n  uniform vec3 u_ambientCubemap[6];\n  #endif // ambientCubemapFlag \n\n  #ifdef sphericalHarmonicsFlag\n  uniform vec3 u_sphericalHarmonics[9];\n  #endif //sphericalHarmonicsFlag\n\n  #ifdef specularFlag\n  varying vec3 v_lightSpecular;\n  #endif // specularFlag\n\n  #ifdef cameraPositionFlag\n  uniform vec4 u_cameraPosition;\n  #endif // cameraPositionFlag\n\n  #ifdef fogFlag\n  varying float v_fog;\n  #endif // fogFlag\n\n\n  #if numDirectionalLights > 0\n  struct DirectionalLight\n  {\n    vec3 color;\n    vec3 direction;\n  };\n  uniform DirectionalLight u_dirLights[numDirectionalLights];\n  #endif // numDirectionalLights\n\n  #if numPointLights > 0\n  struct PointLight\n  {\n    vec3 color;\n    vec3 position;\n  };\n  uniform PointLight u_pointLights[numPointLights];\n  #endif // numPointLights\n\n  #if\tdefined(ambientLightFlag) || defined(ambientCubemapFlag) || defined(sphericalHarmonicsFlag)\n  #define ambientFlag\n  #endif //ambientFlag\n\n  #ifdef shadowMapFlag\n  uniform mat4 u_shadowMapProjViewTrans;\n  varying vec3 v_shadowMapUv;\n  #define separateAmbientFlag\n  #endif //shadowMapFlag\n\n  #if defined(ambientFlag) && defined(separateAmbientFlag)\n  varying vec3 v_ambientLight;\n  #endif //separateAmbientFlag\n\n  #endif // lightingFlag\n\n  void main() {\n    #ifdef diffuseTextureFlag\n      v_diffuseUV = u_diffuseUVTransform.xy + a_texCoords0 * u_diffuseUVTransform.zw;\n    #endif //diffuseTextureFlag\n    \n    #ifdef emissiveTextureFlag\n      v_emissiveUV = u_emissiveUVTransform.xy + a_texCoords0 * u_emissiveUVTransform.zw;\n    #endif //emissiveTextureFlag\n\n    #ifdef specularTextureFlag\n      v_specularUV = u_specularUVTransform.xy + a_texCoords0 * u_specularUVTransform.zw;\n    #endif //specularTextureFlag\n    \n    #if defined(colorFlag)\n      v_color = a_color;\n    #endif // colorFlag\n      \n    #ifdef blendedFlag\n      v_opacity = u_opacity;\n      #ifdef alphaTestFlag\n        v_alphaTest = u_alphaTest;\n      #endif //alphaTestFlag\n    #endif // blendedFlag\n    \n    #ifdef skinningFlag\n      mat4 skinning = mat4(0.0);\n      #ifdef boneWeight0Flag\n        skinning += (a_boneWeight0.y) * u_bones[int(a_boneWeight0.x)];\n      #endif //boneWeight0Flag\n      #ifdef boneWeight1Flag\t\t\t\t\n        skinning += (a_boneWeight1.y) * u_bones[int(a_boneWeight1.x)];\n      #endif //boneWeight1Flag\n      #ifdef boneWeight2Flag\t\t\n        skinning += (a_boneWeight2.y) * u_bones[int(a_boneWeight2.x)];\n      #endif //boneWeight2Flag\n      #ifdef boneWeight3Flag\n        skinning += (a_boneWeight3.y) * u_bones[int(a_boneWeight3.x)];\n      #endif //boneWeight3Flag\n      #ifdef boneWeight4Flag\n        skinning += (a_boneWeight4.y) * u_bones[int(a_boneWeight4.x)];\n      #endif //boneWeight4Flag\n      #ifdef boneWeight5Flag\n        skinning += (a_boneWeight5.y) * u_bones[int(a_boneWeight5.x)];\n      #endif //boneWeight5Flag\n      #ifdef boneWeight6Flag\n        skinning += (a_boneWeight6.y) * u_bones[int(a_boneWeight6.x)];\n      #endif //boneWeight6Flag\n      #ifdef boneWeight7Flag\n        skinning += (a_boneWeight7.y) * u_bones[int(a_boneWeight7.x)];\n      #endif //boneWeight7Flag\n    #endif //skinningFlag\n\n    #ifdef skinningFlag\n      vec4 pos = u_worldTrans * skinning * vec4(a_position, 1.0);\n    #else\n      vec4 pos = u_worldTrans * vec4(a_position, 1.0);\n    #endif\n      \n    gl_Position = u_projViewTrans * pos;\n      \n    #ifdef shadowMapFlag\n      vec4 spos = u_shadowMapProjViewTrans * pos;\n      v_shadowMapUv.xyz = (spos.xyz / spos.w) * 0.5 + 0.5;\n      v_shadowMapUv.z = min(v_shadowMapUv.z, 0.998);\n    #endif //shadowMapFlag\n    \n    #if defined(normalFlag)\n      #if defined(skinningFlag)\n        vec3 normal = normalize((u_worldTrans * skinning * vec4(a_normal, 0.0)).xyz);\n      #else\n        vec3 normal = normalize(u_normalMatrix * a_normal);\n      #endif\n      v_normal = normal;\n    #endif // normalFlag\n\n      #ifdef fogFlag\n          vec3 flen = u_cameraPosition.xyz - pos.xyz;\n          float fog = dot(flen, flen) * u_cameraPosition.w;\n          v_fog = min(fog, 1.0);\n      #endif\n\n    #ifdef lightingFlag\n      #if\tdefined(ambientLightFlag)\n            vec3 ambientLight = u_ambientLight;\n      #elif defined(ambientFlag)\n            vec3 ambientLight = vec3(0.0);\n      #endif\n        \n      #ifdef ambientCubemapFlag \t\t\n        vec3 squaredNormal = normal * normal;\n        vec3 isPositive  = step(0.0, normal);\n        ambientLight += squaredNormal.x * mix(u_ambientCubemap[0], u_ambientCubemap[1], isPositive.x) +\n            squaredNormal.y * mix(u_ambientCubemap[2], u_ambientCubemap[3], isPositive.y) +\n            squaredNormal.z * mix(u_ambientCubemap[4], u_ambientCubemap[5], isPositive.z);\n      #endif // ambientCubemapFlag\n\n      #ifdef sphericalHarmonicsFlag\n        ambientLight += u_sphericalHarmonics[0];\n        ambientLight += u_sphericalHarmonics[1] * normal.x;\n        ambientLight += u_sphericalHarmonics[2] * normal.y;\n        ambientLight += u_sphericalHarmonics[3] * normal.z;\n        ambientLight += u_sphericalHarmonics[4] * (normal.x * normal.z);\n        ambientLight += u_sphericalHarmonics[5] * (normal.z * normal.y);\n        ambientLight += u_sphericalHarmonics[6] * (normal.y * normal.x);\n        ambientLight += u_sphericalHarmonics[7] * (3.0 * normal.z * normal.z - 1.0);\n        ambientLight += u_sphericalHarmonics[8] * (normal.x * normal.x - normal.y * normal.y);\t\t\t\n      #endif // sphericalHarmonicsFlag\n\n      #ifdef ambientFlag\n        #ifdef separateAmbientFlag\n          v_ambientLight = ambientLight;\n          v_lightDiffuse = vec3(0.0);\n        #else\n          v_lightDiffuse = ambientLight;\n        #endif //separateAmbientFlag\n      #else\n            v_lightDiffuse = vec3(0.0);\n      #endif //ambientFlag\n\n        \n      #ifdef specularFlag\n        v_lightSpecular = vec3(0.0);\n        vec3 viewVec = normalize(u_cameraPosition.xyz - pos.xyz);\n      #endif // specularFlag\n        \n      #if (numDirectionalLights > 0) && defined(normalFlag)\n        for (int i = 0; i < numDirectionalLights; i++) {\n          vec3 lightDir = -u_dirLights[i].direction;\n          float NdotL = clamp(dot(normal, lightDir), 0.0, 1.0);\n          vec3 value = u_dirLights[i].color * NdotL;\n          v_lightDiffuse += value;\n          #ifdef specularFlag\n            float halfDotView = max(0.0, dot(normal, normalize(lightDir + viewVec)));\n            v_lightSpecular += value * pow(halfDotView, u_shininess);\n          #endif // specularFlag\n        }\n      #endif // numDirectionalLights\n\n      #if (numPointLights > 0) && defined(normalFlag)\n        for (int i = 0; i < numPointLights; i++) {\n          vec3 lightDir = u_pointLights[i].position - pos.xyz;\n          float dist2 = dot(lightDir, lightDir);\n          lightDir *= inversesqrt(dist2);\n          float NdotL = clamp(dot(normal, lightDir), 0.0, 1.0);\n          vec3 value = u_pointLights[i].color * (NdotL / (1.0 + dist2));\n          v_lightDiffuse += value;\n          #ifdef specularFlag\n            float halfDotView = max(0.0, dot(normal, normalize(lightDir + viewVec)));\n            v_lightSpecular += value * pow(halfDotView, u_shininess);\n          #endif // specularFlag\n        }\n      #endif // numPointLights\n    #endif // lightingFlag\n  }\n  ",F.defaultFragmentShader="\n  #ifdef GL_ES\n  #define LOWP lowp\n  #define MED mediump\n  #define HIGH highp\n  precision mediump float;\n  #else\n  #define MED\n  #define LOWP\n  #define HIGH\n  #endif\n\n  #if defined(specularTextureFlag) || defined(specularColorFlag)\n  #define specularFlag\n  #endif\n\n  #ifdef normalFlag\n  varying vec3 v_normal;\n  #endif //normalFlag\n\n  #if defined(colorFlag)\n  varying vec4 v_color;\n  #endif\n\n  #ifdef blendedFlag\n  varying float v_opacity;\n  #ifdef alphaTestFlag\n  varying float v_alphaTest;\n  #endif //alphaTestFlag\n  #endif //blendedFlag\n\n  #if defined(diffuseTextureFlag) || defined(specularTextureFlag) || defined(emissiveTextureFlag)\n  #define textureFlag\n  #endif\n\n  #ifdef diffuseTextureFlag\n  varying MED vec2 v_diffuseUV;\n  #endif\n\n  #ifdef specularTextureFlag\n  varying MED vec2 v_specularUV;\n  #endif\n\n  #ifdef emissiveTextureFlag\n  varying MED vec2 v_emissiveUV;\n  #endif\n\n  #ifdef diffuseColorFlag\n  uniform vec4 u_diffuseColor;\n  #endif\n\n  #ifdef diffuseTextureFlag\n  uniform sampler2D u_diffuseTexture;\n  #endif\n\n  #ifdef specularColorFlag\n  uniform vec4 u_specularColor;\n  #endif\n\n  #ifdef specularTextureFlag\n  uniform sampler2D u_specularTexture;\n  #endif\n\n  #ifdef normalTextureFlag\n  uniform sampler2D u_normalTexture;\n  #endif\n\n  #ifdef emissiveColorFlag\n  uniform vec4 u_emissiveColor;\n  #endif\n\n  #ifdef emissiveTextureFlag\n  uniform sampler2D u_emissiveTexture;\n  #endif\n\n  #ifdef lightingFlag\n  varying vec3 v_lightDiffuse;\n\n  #if\tdefined(ambientLightFlag) || defined(ambientCubemapFlag) || defined(sphericalHarmonicsFlag)\n  #define ambientFlag\n  #endif //ambientFlag\n\n  #ifdef specularFlag\n  varying vec3 v_lightSpecular;\n  #endif //specularFlag\n\n  #ifdef shadowMapFlag\n  uniform sampler2D u_shadowTexture;\n  uniform float u_shadowPCFOffset;\n  varying vec3 v_shadowMapUv;\n  #define separateAmbientFlag\n\n  float getShadowness(vec2 offset)\n  {\n      const vec4 bitShifts = vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 16581375.0);\n      return step(v_shadowMapUv.z, dot(texture2D(u_shadowTexture, v_shadowMapUv.xy + offset), bitShifts));//+(1.0/255.0));\n  }\n\n  float getShadow()\n  {\n    return (//getShadowness(vec2(0,0)) +\n        getShadowness(vec2(u_shadowPCFOffset, u_shadowPCFOffset)) +\n        getShadowness(vec2(-u_shadowPCFOffset, u_shadowPCFOffset)) +\n        getShadowness(vec2(u_shadowPCFOffset, -u_shadowPCFOffset)) +\n        getShadowness(vec2(-u_shadowPCFOffset, -u_shadowPCFOffset))) * 0.25;\n  }\n  #endif //shadowMapFlag\n\n  #if defined(ambientFlag) && defined(separateAmbientFlag)\n  varying vec3 v_ambientLight;\n  #endif //separateAmbientFlag\n\n  #endif //lightingFlag\n\n  #ifdef fogFlag\n  uniform vec4 u_fogColor;\n  varying float v_fog;\n  #endif // fogFlag\n\n  void main() {\n    #if defined(normalFlag)\n      vec3 normal = v_normal;\n    #endif // normalFlag\n\n    #if defined(diffuseTextureFlag) && defined(diffuseColorFlag) && defined(colorFlag)\n      vec4 diffuse = texture2D(u_diffuseTexture, v_diffuseUV) * u_diffuseColor * v_color;\n    #elif defined(diffuseTextureFlag) && defined(diffuseColorFlag)\n      vec4 diffuse = texture2D(u_diffuseTexture, v_diffuseUV) * u_diffuseColor;\n    #elif defined(diffuseTextureFlag) && defined(colorFlag)\n      vec4 diffuse = texture2D(u_diffuseTexture, v_diffuseUV) * v_color;\n    #elif defined(diffuseTextureFlag)\n      vec4 diffuse = texture2D(u_diffuseTexture, v_diffuseUV);\n    #elif defined(diffuseColorFlag) && defined(colorFlag)\n      vec4 diffuse = u_diffuseColor * v_color;\n    #elif defined(diffuseColorFlag)\n      vec4 diffuse = u_diffuseColor;\n    #elif defined(colorFlag)\n      vec4 diffuse = v_color;\n    #else\n      vec4 diffuse = vec4(1.0);\n    #endif\n\n    #if defined(emissiveTextureFlag) && defined(emissiveColorFlag)\n      vec4 emissive = texture2D(u_emissiveTexture, v_emissiveUV) * u_emissiveColor;\n    #elif defined(emissiveTextureFlag)\n      vec4 emissive = texture2D(u_emissiveTexture, v_emissiveUV);\n    #elif defined(emissiveColorFlag)\n      vec4 emissive = u_emissiveColor;\n    #else\n      vec4 emissive = vec4(0.0);\n    #endif\n\n    #if (!defined(lightingFlag))\n      gl_FragColor.rgb = diffuse.rgb + emissive.rgb;\n    #elif (!defined(specularFlag))\n      #if defined(ambientFlag) && defined(separateAmbientFlag)\n        #ifdef shadowMapFlag\n          gl_FragColor.rgb = (diffuse.rgb * (v_ambientLight + getShadow() * v_lightDiffuse)) + emissive.rgb;\n          //gl_FragColor.rgb = texture2D(u_shadowTexture, v_shadowMapUv.xy);\n        #else\n          gl_FragColor.rgb = (diffuse.rgb * (v_ambientLight + v_lightDiffuse)) + emissive.rgb;\n        #endif //shadowMapFlag\n      #else\n        #ifdef shadowMapFlag\n          gl_FragColor.rgb = getShadow() * (diffuse.rgb * v_lightDiffuse) + emissive.rgb;\n        #else\n          gl_FragColor.rgb = (diffuse.rgb * v_lightDiffuse) + emissive.rgb;\n        #endif //shadowMapFlag\n      #endif\n    #else\n      #if defined(specularTextureFlag) && defined(specularColorFlag)\n        vec3 specular = texture2D(u_specularTexture, v_specularUV).rgb * u_specularColor.rgb * v_lightSpecular;\n      #elif defined(specularTextureFlag)\n        vec3 specular = texture2D(u_specularTexture, v_specularUV).rgb * v_lightSpecular;\n      #elif defined(specularColorFlag)\n        vec3 specular = u_specularColor.rgb * v_lightSpecular;\n      #else\n        vec3 specular = v_lightSpecular;\n      #endif\n\n      #if defined(ambientFlag) && defined(separateAmbientFlag)\n        #ifdef shadowMapFlag\n        gl_FragColor.rgb = (diffuse.rgb * (getShadow() * v_lightDiffuse + v_ambientLight)) + specular + emissive.rgb;\n          //gl_FragColor.rgb = texture2D(u_shadowTexture, v_shadowMapUv.xy);\n        #else\n          gl_FragColor.rgb = (diffuse.rgb * (v_lightDiffuse + v_ambientLight)) + specular + emissive.rgb;\n        #endif //shadowMapFlag\n      #else\n        #ifdef shadowMapFlag\n          gl_FragColor.rgb = getShadow() * ((diffuse.rgb * v_lightDiffuse) + specular) + emissive.rgb;\n        #else\n          gl_FragColor.rgb = (diffuse.rgb * v_lightDiffuse) + specular + emissive.rgb;\n        #endif //shadowMapFlag\n      #endif\n    #endif //lightingFlag\n\n    #ifdef fogFlag\n      gl_FragColor.rgb = mix(gl_FragColor.rgb, u_fogColor.rgb, v_fog);\n    #endif // end fogFlag\n\n    #ifdef blendedFlag\n      gl_FragColor.a = diffuse.a * v_opacity;\n      #ifdef alphaTestFlag\n        if (gl_FragColor.a <= v_alphaTest)\n          discard;\n      #endif\n    #else\n      gl_FragColor.a = 1.0;\n    #endif\n  }\n  ",F.implementedFlags=m.BlendingAttribute.Type|k.TextureAttribute.Diffuse|g.ColorAttribute3D.Diffuse|g.ColorAttribute3D.Specular|b.FloatAttribute.Shininess,F.defaultCullFace=L.GL20.GL_BACK,F.defaultDepthFunc=L.GL20.GL_LEQUAL,F.optionalAttributes=_.IntAttribute.CullFace,F.tmpAttributes=new v.Attributes},4954:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7452:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4678),t),i(n(616),t),i(n(4954),t)},6425:function(e,t,n){"use strict";var r=n(1655).default,i=n(6389).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationController=t.AnimationDesc=void 0;var o=n(8606),l=n(4644),u=function(){function e(){a(this,e),this.listener=null,this.animation=null,this.speed=0,this.time=0,this.offset=0,this.duration=0,this.loopCount=0}return s(e,[{key:"update",value:function(e){if(0!==this.loopCount&&this.animation){var t,n=this.speed*e;if(o.MathUtils.isZero(this.duration))t=1;else if(this.time+=n,this.speed<0){var r=this.duration-this.time;t=Math.floor(Math.abs(r/this.duration)),r=Math.abs(r%this.duration),this.time=this.duration-r}else t=Math.floor(Math.abs(this.time/this.duration)),this.time=Math.abs(this.time%this.duration);for(var i=0;i<t;i++)if(this.loopCount>0&&this.loopCount--,0!==this.loopCount&&this.listener&&this.listener.onLoop(this),0===this.loopCount){var a=(t-1-i)*this.duration+(n<0?this.duration-this.time:this.time);return this.time=n<0?0:this.duration,this.listener&&this.listener.onEnd(this),a}return-1}return e}}]),e}();t.AnimationDesc=u;var c=function(e){r(n,e);var t=i(n);function n(){var e;return a(this,n),(e=t.apply(this,arguments)).animationPool=new o.Pool((function(){return new u})),e.current=null,e.queued=null,e.queuedTransitionTime=0,e.previous=null,e.transitionCurrentTime=0,e.transitionTargetTime=0,e.inAction=!1,e.paused=!1,e.allowSameAnimation=!1,e.justChangedAnimation=!1,e}return s(n,[{key:"obtainAnimation",value:function(e,t,n,r,i,a){if(!e)return null;var s=this.animationPool.obtain();return s.animation=e,s.listener=a,s.loopCount=r,s.speed=i,s.offset=t,s.duration=n<0?e.duration-t:n,s.time=i<0?s.duration:0,s}},{key:"obtain",value:function(e,t,n,r,i,a){if(!e)return null;var s=this.target.getAnimation(e);if(!s)throw new Error("Unknown animation: "+e);return this.obtainAnimation(s,t,n,r,i,a)}},{key:"obtainAnimationDesc",value:function(e){return this.obtainAnimation(e.animation,e.offset,e.duration,e.loopCount,e.speed,e.listener)}},{key:"update",value:function(e){if(!this.paused&&(this.previous&&(this.transitionCurrentTime+=e)>=this.transitionTargetTime&&(this.removeAnimation(this.previous.animation),this.justChangedAnimation=!0,this.animationPool.free(this.previous),this.previous=null),this.justChangedAnimation&&(this.target.calculateTransforms(),this.justChangedAnimation=!1),this.current&&0!==this.current.loopCount&&this.current.animation)){var t=this.current.update(e);if(t>=0&&this.queued)return this.inAction=!1,this.actionWithAnimationDesc(this.queued,this.queuedTransitionTime),this.queued=null,void(t>0&&this.update(t));this.previous?this.applyAnimations(this.previous.animation,this.previous.offset+this.previous.time,this.current.animation,this.current.offset+this.current.time,this.transitionCurrentTime/this.transitionTargetTime):this.applyAnimation(this.current.animation,this.current.offset+this.current.time)}}},{key:"setAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.setAnimationWithOffset(e,0,-1,t,n,r)}},{key:"setAnimationWithOffset",value:function(e,t,n,r,i,a){return this.setAnimationWithAnimationDesc(this.obtain(e,t,n,r,i,a))}},{key:"setAnimationWithAnimation",value:function(e,t,n,r,i,a){return this.setAnimationWithAnimationDesc(this.obtainAnimation(e,t,n,r,i,a))}},{key:"setAnimationWithAnimationDesc",value:function(e){return this.current?(!this.allowSameAnimation&&e&&this.current.animation===e.animation?e.time=this.current.time:this.removeAnimation(this.current.animation),this.animationPool.free(this.current),this.current=e):this.current=e,this.justChangedAnimation=!0,e}},{key:"animate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4?arguments[4]:void 0;return this.animateWithOffset(e,0,-1,t,n,r,i)}},{key:"animateWithOffset",value:function(e,t,n,r,i,a,s){return this.animateWithAnimationDesc(this.obtain(e,t,n,r,i,a),s)}},{key:"animateWithAnimation",value:function(e,t,n,r,i,a,s){return this.animateWithAnimationDesc(this.obtainAnimation(e,t,n,r,i,a),s)}},{key:"animateWithAnimationDesc",value:function(e,t){return this.current&&0!==this.current.loopCount?this.inAction?this.queueWithAnimationDesc(e,t):!this.allowSameAnimation&&e&&this.current.animation===e.animation?(e.time=this.current.time,this.animationPool.free(this.current),this.current=e):(this.previous&&(this.removeAnimation(this.previous.animation),this.animationPool.free(this.previous)),this.previous=this.current,this.current=e,this.transitionCurrentTime=0,this.transitionTargetTime=t):this.current=e,e}},{key:"queue",value:function(e,t,n,r,i){return this.queueWithOffset(e,0,-1,t,n,r,i)}},{key:"queueWithOffset",value:function(e,t,n,r,i,a,s){return this.queueWithAnimationDesc(this.obtain(e,t,n,r,i,a),s)}},{key:"queueWithAnimation",value:function(e,t,n,r,i,a,s){return this.queueWithAnimationDesc(this.obtainAnimation(e,t,n,r,i,a),s)}},{key:"queueWithAnimationDesc",value:function(e,t){return this.current&&0!==this.current.loopCount?(this.queued&&this.animationPool.free(this.queued),this.queued=e,this.queuedTransitionTime=t,this.current.loopCount<0&&(this.current.loopCount=1)):this.animateWithAnimationDesc(e,t),e}},{key:"action",value:function(e,t,n,r,i){return this.actionWithOffset(e,0,-1,t,n,r,i)}},{key:"actionWithOffset",value:function(e,t,n,r,i,a,s){return this.actionWithAnimationDesc(this.obtain(e,t,n,r,i,a),s)}},{key:"actionWithAnimation",value:function(e,t,n,r,i,a,s){return this.actionWithAnimationDesc(this.obtainAnimation(e,t,n,r,i,a),s)}},{key:"actionWithAnimationDesc",value:function(e,t){if(e.loopCount<0)throw new Error("An action cannot be continuous");if(this.current&&0!==this.current.loopCount){var n=this.inAction?null:this.obtainAnimationDesc(this.current);this.inAction=!1,this.animateWithAnimationDesc(e,t),this.inAction=!0,n&&this.queueWithAnimationDesc(n,t)}else this.animateWithAnimationDesc(e,t);return e}}]),n}(l.BaseAnimationController);t.AnimationController=c},4644:function(e,t,n){"use strict";var r=n(7424).default,i=n(4704).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAnimationController=t.Transform=void 0;var o=n(5122),l=n(8606),u=n(7811),c=function(){function e(){a(this,e),this.translation=new u.Vector3,this.rotation=new o.Quaternion,this.scale=new u.Vector3(1,1,1)}return s(e,[{key:"idt",value:function(){return this.translation.set(0,0,0),this.rotation.idt(),this.scale.set(1,1,1),this}},{key:"set",value:function(e,t,n){return this.translation.setFrom(e),this.rotation.setFrom(t),this.scale.setFrom(n),this}},{key:"setFrom",value:function(e){return this.set(e.translation,e.rotation,e.scale)}},{key:"lerpWithTranform",value:function(e,t){return this.lerp(e.translation,e.rotation,e.scale,t)}},{key:"lerp",value:function(e,t,n,r){return this.translation.lerp(e,r),this.rotation.slerp(t,r),this.scale.lerp(n,r),this}},{key:"toMatrix4",value:function(e){return e.setFromTranslationRotation(this.translation,this.rotation,this.scale)}},{key:"reset",value:function(){this.idt()}},{key:"toString",value:function(){return this.translation.toString()+" - "+this.rotation.toString()+" - "+this.scale.toString()}}]),e}();t.Transform=c;var h=function(){function e(t){a(this,e),this.transformPool=new l.Pool((function(){return new c})),this.applying=!1,this.target=t}return s(e,[{key:"begin",value:function(){if(this.applying)throw new Error("You must call end() after each call to being()");this.applying=!0}},{key:"apply",value:function(t,n,r){if(!this.applying)throw new Error("You must call begin() before adding an animation");e.applyAnimation(e.transforms,this.transformPool,r,t,n)}},{key:"end",value:function(){if(!this.applying)throw new Error("You must call begin() first");var t,n=i(e.transforms);try{for(n.s();!(t=n.n()).done;){var a=r(t.value,2),s=a[0],o=a[1];o.toMatrix4(s.localTransform),this.transformPool.free(o)}}catch(l){n.e(l)}finally{n.f()}e.transforms.clear(),this.target.calculateTransforms(),this.applying=!1}},{key:"applyAnimation",value:function(t,n){if(this.applying)throw new Error("Call end() first");e.applyAnimation(null,null,1,t,n),this.target.calculateTransforms()}},{key:"applyAnimations",value:function(e,t,n,r,i){if(n&&0!==i)if(e&&1!==i){if(this.applying)throw new Error("Call end() first");this.begin(),this.apply(e,t,1),this.apply(n,r,i),this.end()}else this.applyAnimation(n,r);else this.applyAnimation(e,t)}},{key:"removeAnimation",value:function(e){var t,n=i(e.nodeAnimations);try{for(n.s();!(t=n.n()).done;){t.value.node.isAnimated=!1}}catch(r){n.e(r)}finally{n.f()}}}],[{key:"getFirstKeyframeIndexAtTime",value:function(e,t){var n=e.length-1;if(n<=0||t<e[0].keytime||t>e[n].keytime)return 0;for(var r=0,i=n;r<i;){var a=Math.floor((r+i)/2);if(t>e[a+1].keytime)r=a+1;else{if(!(t<e[a].keytime))return a;i=a-1}}return r}},{key:"getTranslationAtTime",value:function(e,t,n){if(!e.translation)return n.setFrom(e.node.translation);if(1===e.translation.length)return n.setFrom(e.translation[0].value);var r=this.getFirstKeyframeIndexAtTime(e.translation,t),i=e.translation[r];if(n.setFrom(i.value),++r<e.translation.length){var a=e.translation[r],s=(t-i.keytime)/(a.keytime-i.keytime);n.lerp(a.value,s)}return n}},{key:"getRotationAtTime",value:function(e,t,n){if(!e.rotation)return n.setFrom(e.node.rotation);if(1===e.rotation.length)return n.setFrom(e.rotation[0].value);var r=this.getFirstKeyframeIndexAtTime(e.rotation,t),i=e.rotation[r];if(n.setFrom(i.value),++r<e.rotation.length){var a=e.rotation[r],s=(t-i.keytime)/(a.keytime-i.keytime);n.slerp(a.value,s)}return n}},{key:"getScalingAtTime",value:function(e,t,n){if(!e.scaling)return n.setFrom(e.node.scale);if(1===e.scaling.length)return n.setFrom(e.scaling[0].value);var r=this.getFirstKeyframeIndexAtTime(e.scaling,t),i=e.scaling[r];if(n.setFrom(i.value),++r<e.scaling.length){var a=e.scaling[r],s=(t-i.keytime)/(a.keytime-i.keytime);n.lerp(a.value,s)}return n}},{key:"getNodeAnimationTransform",value:function(e,t){var n=this.tmpT;return this.getTranslationAtTime(e,t,n.translation),this.getRotationAtTime(e,t,n.rotation),this.getScalingAtTime(e,t,n.scale),n}},{key:"applyNodeAnimationDirectly",value:function(e,t){var n=e.node;n.isAnimated=!0,this.getNodeAnimationTransform(e,t).toMatrix4(n.localTransform)}},{key:"applyNodeAnimationBlending",value:function(e,t,n,r,i){var a=e.node;a.isAnimated=!0;var s=this.getNodeAnimationTransform(e,i),o=t.get(a);o?r>.999999?o.setFrom(s):o.lerpWithTranform(s,r):r>.999999?t.set(a,n.obtain().setFrom(s)):t.set(a,n.obtain().set(a.translation,a.rotation,a.scale).lerpWithTranform(s,r))}},{key:"applyAnimation",value:function(e,t,n,r,a){if(e){var s,o=i(e.keys());try{for(o.s();!(s=o.n()).done;){s.value.isAnimated=!1}}catch(g){o.e(g)}finally{o.f()}var l,u=i(r.nodeAnimations);try{for(u.s();!(l=u.n()).done;){var c=l.value;this.applyNodeAnimationBlending(c,e,t,n,a)}}catch(g){u.e(g)}finally{u.f()}var h,f=i(e.entries());try{for(f.s();!(h=f.n()).done;){var d=h.value;d[0].isAnimated||(d[0].isAnimated=!0,d[1].lerp(d[0].translation,d[0].rotation,d[0].scale,n))}}catch(g){f.e(g)}finally{f.f()}}else{var p,v=i(r.nodeAnimations);try{for(v.s();!(p=v.n()).done;){var m=p.value;this.applyNodeAnimationDirectly(m,a)}}catch(g){v.e(g)}finally{v.f()}}}}]),e}();t.BaseAnimationController=h,h.transforms=new Map,h.tmpT=new c},7083:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BoxShapeBuilder=void 0;var a=n(8606),s=n(7811),o=n(6506),l=n(8552),u=n(8633),c=function(){function e(){r(this,e)}return i(e,null,[{key:"obtainV3",value:function(){return e.vectorPool.obtain()}},{key:"freeAll",value:function(){e.vectorPool.flush()}},{key:"buildWithWidthHeight",value:function(e,t,n,r){this.buildWithRect(e,0,0,0,t,n,r)}},{key:"buildWithVertexInfo",value:function(e,t,n,r,i,a,s,o,u){var c=e.vertex(t),h=e.vertex(r),f=e.vertex(i),d=e.vertex(n),p=e.vertex(a),v=e.vertex(o),m=e.vertex(s),g=e.vertex(u),y=e.getPrimitiveType();y===l.GL20.GL_LINES?(e.rect(c,h,f,d),e.rect(v,p,m,g),e.index8Values(c,p,d,m,f,g,h,v)):y===l.GL20.GL_POINTS?(e.rect(c,h,f,d),e.rect(v,p,m,g)):(e.rect(c,h,f,d),e.rect(v,p,m,g),e.rect(c,d,m,p),e.rect(v,g,f,h),e.rect(v,h,c,p),e.rect(f,g,m,d))}},{key:"buildWithVectorCorner",value:function(e,t,n,r,i,a,s,o,l){if(0===(e.getAttributes().getMask()&(u.Usage.Normal|u.Usage.BiNormal|u.Usage.Tangent|u.Usage.TextureCoordinates)))this.buildWithVertexInfo(e,this.vertTmp1.set(t,null,null,null),this.vertTmp2.set(n,null,null,null),this.vertTmp3.set(r,null,null,null),this.vertTmp4.set(i,null,null,null),this.vertTmp5.set(a,null,null,null),this.vertTmp6.set(s,null,null,null),this.vertTmp7.set(o,null,null,null),this.vertTmp8.set(l,null,null,null));else{var c=this.tmpV1.set(t.x,t.y,t.z).lerp(i,.5).sub(this.tmpV2.set(a.x,a.y,a.z).lerp(l,.5)).normalize();e.rectWithVectorCorner(t,n,i,r,c),e.rectWithVectorCorner(s,a,o,l,c.scale(-1)),c=this.tmpV1.set(t.x,t.y,t.z).lerp(o,.5).sub(this.tmpV2.set(n.x,n.y,n.z).lerp(l,.5)).normalize(),e.rectWithVectorCorner(a,t,r,o,c),e.rectWithVectorCorner(n,s,l,i,c.scale(-1)),c=this.tmpV1.set(t.x,t.y,t.z).lerp(s,.5).sub(this.tmpV2.set(r.x,r.y,r.z).lerp(l,.5)).normalize(),e.rectWithVectorCorner(a,s,n,t,c),e.rectWithVectorCorner(r,i,l,o,c.scale(-1))}}},{key:"buildWithRect",value:function(e,t,n,r,i,a,s){var o=.5*i,l=.5*a,u=.5*s,c=t-o,h=n-l,f=r-u,d=t+o,p=n+l,v=r+u;this.buildWithVectorCorner(e,this.obtainV3().set(c,h,f),this.obtainV3().set(c,p,f),this.obtainV3().set(d,h,f),this.obtainV3().set(d,p,f),this.obtainV3().set(c,h,v),this.obtainV3().set(c,p,v),this.obtainV3().set(d,h,v),this.obtainV3().set(d,p,v)),this.freeAll()}}]),e}();t.BoxShapeBuilder=c,c.tmpV0=new s.Vector3,c.tmpV1=new s.Vector3,c.tmpV2=new s.Vector3,c.tmpV3=new s.Vector3,c.tmpV4=new s.Vector3,c.tmpV5=new s.Vector3,c.tmpV6=new s.Vector3,c.tmpV7=new s.Vector3,c.vertTmp0=new o.VertexInfo,c.vertTmp1=new o.VertexInfo,c.vertTmp2=new o.VertexInfo,c.vertTmp3=new o.VertexInfo,c.vertTmp4=new o.VertexInfo,c.vertTmp5=new o.VertexInfo,c.vertTmp6=new o.VertexInfo,c.vertTmp7=new o.VertexInfo,c.vertTmp8=new o.VertexInfo,c.vectorPool=new a.FlushablePool((function(){return new s.Vector3}))},5223:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IndexBufferObject=void 0;var a=n(8552),s=function(){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r(this,e),this.isDirty=!0,this.isBound=!1,this.indicesLength=0,this.gl=t,this.empty=0===n,this.empty&&(n=1),this.byteBuffer=new Uint16Array(n),this.isDirect=!0,this.ownsBuffer=!0,this.indicesLength=0,this.bufferHandle=this.gl.createBuffer(),this.usage=i?a.GL20.GL_STATIC_DRAW:a.GL20.GL_DYNAMIC_DRAW}return i(e,[{key:"getNumIndices",value:function(){return this.indicesLength}},{key:"getNumMaxIndices",value:function(){return this.byteBuffer.length}},{key:"setIndices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;this.isDirty=!0,this.byteBuffer.set(e.slice(t,t+n),0),this.indicesLength=n,this.isBound&&(this.gl.bufferData(a.GL20.GL_ELEMENT_ARRAY_BUFFER,this.byteBuffer,this.usage),this.isDirty=!1)}},{key:"updateIndices",value:function(e,t,n,r){this.isDirty=!0,this.byteBuffer.set(t.slice(n,n+r),e),this.indicesLength=e+r,this.isBound&&(this.gl.bufferData(a.GL20.GL_ELEMENT_ARRAY_BUFFER,this.byteBuffer.subarray(0,this.indicesLength),this.usage),this.isDirty=!1)}},{key:"getBuffer",value:function(){return this.isDirty=!0,this.byteBuffer}},{key:"bind",value:function(){if(0===this.bufferHandle)throw new Error("No buffer allocated!");this.gl.bindBuffer(a.GL20.GL_ELEMENT_ARRAY_BUFFER,this.bufferHandle),this.isDirty&&(this.gl.bufferData(a.GL20.GL_ELEMENT_ARRAY_BUFFER,this.byteBuffer,this.usage),this.isDirty=!1),this.isBound=!0}},{key:"unbind",value:function(){this.gl.bindBuffer(a.GL20.GL_ELEMENT_ARRAY_BUFFER,null),this.isBound=!1}},{key:"invalidate",value:function(){this.bufferHandle=this.gl.createBuffer(),this.isDirty=!0}},{key:"dispose",value:function(){this.gl.bindBuffer(a.GL20.GL_ELEMENT_ARRAY_BUFFER,null),this.gl.deleteBuffer(this.bufferHandle),this.bufferHandle=new WebGLBuffer}}]),e}();t.IndexBufferObject=s},3776:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MeshBuilder=void 0;var s=n(5477),o=n(6239),l=n(4995),u=n(9699),c=n(1858),h=n(8606),f=n(7811),d=n(8633),p=n(427),v=n(8552),m=n(5766),g=n(3627),y=n(7083),b=n(6506),_=function(){function e(t){i(this,e),this.gl=t,this.vertTmp1=new b.VertexInfo,this.vertTmp2=new b.VertexInfo,this.vertTmp3=new b.VertexInfo,this.vertTmp4=new b.VertexInfo,this.tempC1=new h.Color,this.vertices=[],this.indices=[],this.parts=[],this.color=h.Color.WHITE,this.hasColor=!1,this.uOffset=0,this.uScale=1,this.vOffset=0,this.vScale=1,this.hasUVTransform=!1,this.vertexTransformationEnabled=!1,this.positionTransform=new l.Matrix4,this.normalTransform=new o.Matrix3,this.bounds=new s.BoundingBox,this.lastIndex=-1,this.tmpNormal=new f.Vector3}return a(e,[{key:"begin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(this.attributes)throw new Error("Call end() first");this.attributes=e,this.parts.length=0,this.vindex=0,this.lastIndex=-1,this.istart=0,this.meshPart=null,this.stride=e.vertexSize/4,(!this._vertex||this.vertex.length<this.stride)&&(this._vertex=new Array(this.stride));var n=e.findByUsage(d.Usage.Position);if(!n)throw new Error("Cannot build mesh without position attribute");this.posOffset=n.offset/4,this.posSize=n.numComponents,n=e.findByUsage(d.Usage.Normal),this.norOffset=n?n.offset/4:-1,n=e.findByUsage(d.Usage.BiNormal),this.biNorOffset=n?n.offset/4:-1,n=e.findByUsage(d.Usage.Tangent),this.tangentOffset=n?n.offset/4:-1,n=e.findByUsage(d.Usage.ColorUnpacked),this.colOffset=n?n.offset/4:-1,this.colSize=n?n.numComponents:0,n=e.findByUsage(d.Usage.ColorPacked),this.cpOffset=n?n.offset/4:-1,n=e.findByUsage(d.Usage.TextureCoordinates),this.uvOffset=n?n.offset/4:-1,this.setColor(null),this.setVertexTransform(null),this.setUVRangeByRegion(null),this.primitiveType=t,this.bounds.inf()}},{key:"setColor",value:function(e){this.hasColor=!!e;var t=this.hasColor?e:h.Color.WHITE;this.color.set(t.r,t.g,t.b,t.a)}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getLastIndex",value:function(){return this.lastIndex}},{key:"endpart",value:function(){this.meshPart&&(this.bounds.getCenter(this.meshPart.center),this.bounds.getDimensions(this.meshPart.halfExtents).scale(.5),this.meshPart.radius=this.meshPart.halfExtents.length(),this.bounds.inf(),this.meshPart.offset=this.istart,this.meshPart.size=this.indices.length-this.istart,this.istart=this.indices.length,this.meshPart=null)}},{key:"part",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.attributes)throw new Error("Call begin() first");return n||(n=new g.MeshPart),this.endpart(),this.meshPart=n,this.meshPart.id=e,this.primitiveType=this.meshPart.primitiveType=t,this.parts.push(this.meshPart),this.setColor(null),this.setVertexTransform(null),this.setUVRangeByRegion(null),this.meshPart}},{key:"end",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t||(t=new m.Mesh3D(this.gl,!0,!0,Math.min(this.vertices.length/this.stride,e.MAX_VERTICES),this.indices.length,this.attributes)),this.endpart(),!this.attributes)throw new Error("Call begin() first");if(!this.attributes.equals(t.getVertexAttributes()))throw new Error("Mesh attributes don't match");if(t.getMaxVertices()*this.stride<this.vertices.length)throw new Error("Mesh can't hold enough vertices: "+t.getMaxVertices()+" * "+this.stride+" < "+this.vertices.length);if(t.getMaxIndices()<this.indices.length)throw new Error("Mesh can't hold enough indices: "+t.getMaxIndices()+" < "+this.indices.length);t.setVertices(this.vertices,0,this.vertices.length),t.setIndices(this.indices,0,this.indices.length);var n,i=r(this.parts);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.mesh=t}}catch(s){i.e(s)}finally{i.f()}return this.parts.length=0,this.attributes=null,this.vertices.length=0,this.indices.length=0,t}},{key:"clear",value:function(){this.vertices.length=0,this.indices.length=0,this.parts.length=0,this.vindex=0,this.lastIndex=-1,this.istart=0,this.meshPart=null}},{key:"getFloatsPerVertex",value:function(){return this.stride}},{key:"setUVRange",value:function(e,t,n,r){this.uOffset=e,this.vOffset=t,this.uScale=n-e,this.vScale=r-t,this.hasUVTransform=!(h.MathUtils.isZero(e)&&h.MathUtils.isZero(t)&&h.MathUtils.isEqual(n,1)&&h.MathUtils.isEqual(r,1))}},{key:"setUVRangeByRegion",value:function(e){e?(this.hasUVTransform=!0,this.setUVRange(e.u,e.v,e.u2,e.v2)):(this.hasUVTransform=!1,this.uOffset=this.vOffset=0,this.uScale=this.vScale=1)}},{key:"setVertexTransform",value:function(e){this.vertexTransformationEnabled=!!e,this.vertexTransformationEnabled?(this.positionTransform.set(e.values),this.normalTransform.setByMatrix4(e).inv().transpose()):(this.positionTransform.idt(),this.normalTransform.idt())}},{key:"addVertex",value:function(t,n){var r=this.vertices.length;h.Utils.arrayCopy(t,n,this.vertices,this.vertices.length,this.stride),this.lastIndex=this.vindex++,this.vertexTransformationEnabled&&(e.transformPosition(this.vertices,r+this.posOffset,this.posSize,this.positionTransform),this.norOffset>=0&&e.transformNormal(this.vertices,r+this.norOffset,3,this.normalTransform),this.biNorOffset>=0&&e.transformNormal(this.vertices,r+this.biNorOffset,3,this.normalTransform),this.tangentOffset>=0&&e.transformNormal(this.vertices,r+this.tangentOffset,3,this.normalTransform));var i=this.vertices[r+this.posOffset],a=this.posSize>1?this.vertices[r+this.posOffset+1]:0,s=this.posSize>2?this.vertices[r+this.posOffset+2]:0;if(this.bounds.ext(i,a,s),this.hasColor)if(this.colOffset>=0)this.vertices[r+this.colOffset]*=this.color.r,this.vertices[r+this.colOffset+1]*=this.color.g,this.vertices[r+this.colOffset+2]*=this.color.b,this.colSize>3&&(this.vertices[r+this.colOffset+3]*=this.color.a);else if(this.cpOffset>=0){h.Color.rgba8888ToColor(this.tempC1,this.vertices[r+this.cpOffset]);var o=this.tempC1.mul(this.color.r,this.color.g,this.color.b,this.color.a);u.NumberUtil.colorToFloat(o.r,o.g,o.b,o.a),this.vertices[r+this.cpOffset]=u.NumberUtil.colorToFloat(o.r,o.g,o.b,o.a)}this.hasUVTransform&&this.uvOffset>=0&&(this.vertices[r+this.uvOffset]=this.uOffset+this.uScale*this.vertices[r+this.uvOffset],this.vertices[r+this.uvOffset+1]=this.vOffset+this.vScale*this.vertices[r+this.uvOffset+1])}},{key:"box",value:function(e,t,n){y.BoxShapeBuilder.buildWithWidthHeight(this,e,t,n)}},{key:"vertexWithData",value:function(t,n,r,i){if(this.vindex>e.MAX_INDEX)throw new Error("Too many vertices used");return this._vertex[this.posOffset]=t.x,this.posSize>1&&(this._vertex[this.posOffset+1]=t.y),this.posSize>2&&(this._vertex[this.posOffset+2]=t.z),this.norOffset>=0&&(n||(n=this.tmpNormal.set(t.x,t.y,t.z).normalize()),this._vertex[this.norOffset]=n.x,this._vertex[this.norOffset+1]=n.y,this._vertex[this.norOffset+2]=n.z),this.colOffset>=0?(r||(r=h.Color.WHITE),this._vertex[this.colOffset]=r.r,this._vertex[this.colOffset+1]=r.g,this._vertex[this.colOffset+2]=r.b,this.colSize>3&&(this._vertex[this.colOffset+3]=r.a)):this.cpOffset>0&&(r||(r=h.Color.WHITE),this._vertex[this.cpOffset]=u.NumberUtil.colorToFloat(r.r,r.g,r.b,r.a)),i&&this.uvOffset>=0&&(this._vertex[this.uvOffset]=i.x,this._vertex[this.uvOffset+1]=i.y),this.addVertex(this._vertex,0),this.lastIndex}},{key:"vertex",value:function(e){return this.vertexWithData(e.hasPosition?e.position:null,e.hasNormal?e.normal:null,e.hasColor?e.color:null,e.hasUV?e.uv:null)}},{key:"index",value:function(e){this.indices.push(e)}},{key:"index2Values",value:function(e,t,n){this.indices.push(e),this.indices.push(t)}},{key:"index3Values",value:function(e,t,n){this.indices.push(e),this.indices.push(t),this.indices.push(n)}},{key:"index4Values",value:function(e,t,n,r){this.indices.push(e),this.indices.push(t),this.indices.push(n),this.indices.push(r)}},{key:"index6Values",value:function(e,t,n,r,i,a){this.indices.push(e),this.indices.push(t),this.indices.push(n),this.indices.push(r),this.indices.push(i),this.indices.push(a)}},{key:"index8Values",value:function(e,t,n,r,i,a,s,o){this.indices.push(e),this.indices.push(t),this.indices.push(n),this.indices.push(r),this.indices.push(i),this.indices.push(a),this.indices.push(s),this.indices.push(o)}},{key:"rect",value:function(e,t,n,r){if(this.primitiveType===v.GL20.GL_TRIANGLES)this.index6Values(e,t,n,n,r,e);else if(this.primitiveType===v.GL20.GL_LINES)this.index8Values(e,t,t,n,n,r,r,e);else{if(this.primitiveType!==v.GL20.GL_POINTS)throw new Error("Incorrect primitive type");this.index4Values(e,t,n,r)}}},{key:"rectWithVertexInfo",value:function(e,t,n,r){this.rect(this.vertex(e),this.vertex(t),this.vertex(n),this.vertex(r))}},{key:"rectWithVectorCorner",value:function(e,t,n,r,i){this.rectWithVertexInfo(this.vertTmp1.set(e,i,null,null).setUV(0,1),this.vertTmp2.set(t,i,null,null).setUV(1,1),this.vertTmp3.set(n,i,null,null).setUV(1,0),this.vertTmp4.set(r,i,null,null).setUV(0,0))}},{key:"rectWithValue",value:function(e,t,n,r,i,a,s,o,l,u,c,h,f,d,p){this.rectWithVertexInfo(this.vertTmp1.set(null,null,null,null).setPos(e,t,n).setNor(f,d,p).setUV(0,1),this.vertTmp2.set(null,null,null,null).setPos(r,i,a).setNor(f,d,p).setUV(1,1),this.vertTmp3.set(null,null,null,null).setPos(s,o,l).setNor(f,d,p).setUV(1,0),this.vertTmp4.set(null,null,null,null).setPos(u,c,h).setNor(f,d,p).setUV(0,0))}},{key:"getVertexTransform",value:function(e){return e.set(this.positionTransform.values)}},{key:"getPrimitiveType",value:function(){return this.primitiveType}}],[{key:"createAttributes",value:function(e){var t=[];return(e&d.Usage.Position)===d.Usage.Position&&t.push(d.VertexAttribute3D.Position()),(e&d.Usage.ColorUnpacked)===d.Usage.ColorUnpacked&&t.push(d.VertexAttribute3D.ColorUnpacked()),(e&d.Usage.ColorPacked)===d.Usage.ColorPacked&&t.push(d.VertexAttribute3D.ColorPacked()),(e&d.Usage.Normal)===d.Usage.Normal&&t.push(d.VertexAttribute3D.Normal()),(e&d.Usage.TextureCoordinates)===d.Usage.TextureCoordinates&&t.push(new d.VertexAttribute3D(d.Usage.TextureCoordinates,2,v.GL20.GL_FLOAT,!1,c.Shader.TEXCOORDS+"0")),new p.VertexAttributes(t)}},{key:"transformPosition",value:function(e,t,n,r){n>2?(this.vTmp.set(e[t],e[t+1],e[t+2]).multiply(r),e[t]=this.vTmp.x,e[t+1]=this.vTmp.y,e[t+2]=this.vTmp.z):n>1?(this.vTmp.set(e[t],e[t+1],0).multiply(r),e[t]=this.vTmp.x,e[t+1]=this.vTmp.y):e[t]=this.vTmp.set(e[t],0,0).multiply(r).x}},{key:"transformNormal",value:function(e,t,n,r){n>2?(this.vTmp.set(e[t],e[t+1],e[t+2]).multiplyMat3(r).normalize(),e[t]=this.vTmp.x,e[t+1]=this.vTmp.y,e[t+2]=this.vTmp.z):n>1?(this.vTmp.set(e[t],e[t+1],0).multiplyMat3(r).normalize(),e[t]=this.vTmp.x,e[t+1]=this.vTmp.y):e[t]=this.vTmp.set(e[t],0,0).multiplyMat3(r).normalize().x}}]),e}();t.MeshBuilder=_,_.MAX_VERTICES=65536,_.MAX_INDEX=_.MAX_VERTICES-1,_.vTmp=new f.Vector3,_.indicesMap=null},8128:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBuilder=void 0;var s=n(4995),o=n(8552),l=n(663),u=n(1960),c=n(5413),h=n(3776),f=function(){function e(t){i(this,e),this.gl=t,this.builders=[],this.tmpTransform=new s.Matrix4}return a(e,[{key:"getBuilder",value:function(e){var t,n=r(this.builders);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.getAttributes().equals(e)&&i.getLastIndex()<16383.5)return i}}catch(s){n.e(s)}finally{n.f()}var a=new h.MeshBuilder(this.gl);return a.begin(e),this.builders.push(a),a}},{key:"begin",value:function(){if(this.model)throw new Error("Call end() first");this.node=null,this.model=new l.Model(this.gl),this.builders.length=0}},{key:"end",value:function(){if(!this.model)throw new Error("Call begin() first");var t=this.model;this.endnode(),this.model=null;var n,i=r(this.builders);try{for(i.s();!(n=i.n()).done;){n.value.end()}}catch(a){i.e(a)}finally{i.f()}return this.builders.length=0,e.rebuildReferencesWithModel(t),t}},{key:"createNode",value:function(){var e=new u.Node;return this.addNode(e),e.id="node"+this.model.nodes.length,e}},{key:"addNode",value:function(e){if(!this.model)throw new Error("Call begin() first");return this.endnode(),this.model.nodes.push(e),this.node=e,e}},{key:"endnode",value:function(){this.node&&(this.node=null)}},{key:"manage",value:function(e){if(!this.model)throw new Error("Call begin() first");this.model.manageDisposable(e)}},{key:"partByMeshPart",value:function(e,t){this.node||this.createNode(),this.node.parts.push(new c.NodePart(e,t))}},{key:"createBox",value:function(e,t,n,r,i){return this.begin(),this.part("box",o.GL20.GL_TRIANGLES,i,r).box(e,t,n),this.end()}},{key:"part",value:function(e,t,n,r){var i=this.getBuilder(h.MeshBuilder.createAttributes(n));return this.node||this.createNode(),this.node.parts.push(new c.NodePart(i.part(e,t),r)),i}}],[{key:"rebuildReferencesWithModel",value:function(t){t.materials.length=0,t.meshes.length=0,t.meshParts.length=0;var n,i=r(t.nodes);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.rebuildReferences(t,a)}}catch(s){i.e(s)}finally{i.f()}}},{key:"rebuildReferences",value:function(e,t){var n,i=r(t.parts);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.materials.includes(a.material)||e.materials.push(a.material),e.meshParts.includes(a.meshPart)||(e.meshParts.push(a.meshPart),e.meshes.includes(a.meshPart.mesh)||e.meshes.push(a.meshPart.mesh),e.manageDisposable(a.meshPart.mesh))}}catch(u){i.e(u)}finally{i.f()}var s,o=r(t.getChildren());try{for(o.s();!(s=o.n()).done;){var l=s.value;this.rebuildReferences(e,l)}}catch(u){o.e(u)}finally{o.f()}}}]),e}();t.ModelBuilder=f},2668:function(e,t,n){"use strict";var r=n(7061).default,i=n(6690).default,a=n(9728).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FileTextureProvider=void 0;var o=n(7139),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.TextureFilter.Linear,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.TextureFilter.Linear,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.TextureWrap.Repeat,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.TextureWrap.Repeat,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i(this,e),this.minFilter=t,this.magFilter=n,this.uWrap=r,this.vWrap=a,this.useMipMaps=s}return a(e,[{key:"load",value:function(e,t){return s(this,void 0,void 0,r().mark((function n(){var i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Texture.load(e,t);case 2:return(i=n.sent).setFilters(this.minFilter,this.magFilter),i.setWraps(this.uWrap,this.vWrap),n.abrupt("return",i);case 6:case"end":return n.stop()}}),n,this)})))}}]),e}();t.FileTextureProvider=l},9131:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexBufferObject=void 0;var a=n(8552),s=function(){function e(t,n,i,s){r(this,e),this.gl=t,this.verticesLength=0,this.isDirty=!1,this.isBound=!1,this.bufferHandle=this.gl.createBuffer();var o=new Float32Array(s.vertexSize*i);this.setBuffer(o,!0,s),this.setUsage(n?a.GL20.GL_STATIC_DRAW:a.GL20.GL_DYNAMIC_DRAW)}return i(e,[{key:"getAttributes",value:function(){return this.attributes}},{key:"getNumVertices",value:function(){return this.buffer.length/this.attributes.vertexSize}},{key:"getNumMaxVertices",value:function(){return this.buffer.length}},{key:"getBuffer",value:function(){return this.isDirty=!0,this.buffer}},{key:"setBuffer",value:function(e,t,n){if(this.isBound)throw new Error("Cannot change attributes while VBO is bound");this.attributes=n,this.ownsBuffer=t,this.buffer=e}},{key:"bufferChanged",value:function(){this.isBound&&(this.gl.bufferData(a.GL20.GL_ARRAY_BUFFER,this.buffer.subarray(0,this.verticesLength),this.usage),this.isDirty=!1)}},{key:"setVertices",value:function(e,t,n){this.isDirty=!0,this.buffer.set(e.slice(t,t+n),0),this.verticesLength<n&&(this.verticesLength=n),this.bufferChanged()}},{key:"updateVertices",value:function(e,t,n,r){this.isDirty=!0,this.buffer.set(t.slice(n,n+r),e),this.verticesLength=e+r,this.bufferChanged()}},{key:"getUsage",value:function(){return this.usage}},{key:"setUsage",value:function(e){if(this.isBound)throw new Error("Cannot change usage while VBO is bound");this.usage=e}},{key:"bind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.gl.bindBuffer(a.GL20.GL_ARRAY_BUFFER,this.bufferHandle),this.isDirty&&(this.gl.bufferData(a.GL20.GL_ARRAY_BUFFER,this.buffer.subarray(0,this.verticesLength),this.usage),this.isDirty=!1);var n=this.attributes.size();if(t)for(var r=0;r<n;r++){var i=this.attributes.get(r),s=t[r];s<0||(this.gl.enableVertexAttribArray(s),this.gl.vertexAttribPointer(s,i.numComponents,i.type,i.normalized,this.attributes.vertexSize,i.offset))}else for(var o=0;o<n;o++){var l=this.attributes.get(o),u=e.getAttributeLocation(l.alias);u<0||(this.gl.enableVertexAttribArray(u),this.gl.vertexAttribPointer(u,l.numComponents,l.type,l.normalized,this.attributes.vertexSize,l.offset))}this.isBound=!0}},{key:"unbind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.attributes.size();if(t)for(var r=0;r<n;r++){var i=t[r];i>=0&&this.gl.disableVertexAttribArray(i)}else for(var s=0;s<n;s++){var o=this.attributes.get(s).alias,l=e.getAttributeLocation(o);l>=0&&this.gl.disableVertexAttribArray(l)}this.gl.bindBuffer(a.GL20.GL_ARRAY_BUFFER,null),this.isBound=!1}},{key:"invalidate",value:function(){this.bufferHandle=this.gl.createBuffer(),this.isDirty=!0}},{key:"dispose",value:function(){this.gl.bindBuffer(a.GL20.GL_ARRAY_BUFFER,null),this.gl.deleteBuffer(this.bufferHandle)}}]),e}();t.VertexBufferObject=s},7243:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6506:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexInfo=void 0;var a=n(8606),s=n(2283),o=n(7811),l=function(){function e(){r(this,e),this.position=new o.Vector3,this.normal=new o.Vector3(0,1,0),this.color=new a.Color(1,1,1,1),this.uv=new s.Vector2}return i(e,[{key:"reset",value:function(){this.position.set(0,0,0),this.normal.set(0,1,0),this.color.set(1,1,1,1),this.uv.set(0,0)}},{key:"set",value:function(e,t,n,r){return this.reset(),this.hasPosition=!!e,this.hasPosition&&this.position.set(e.x,e.y,e.z),this.hasNormal=!!t,this.hasNormal&&this.normal.set(t.x,t.y,t.z),this.hasColor=!!n,this.hasColor&&this.color.set(n.r,n.g,n.b,n.a),this.hasUV=!!r,this.hasUV&&this.uv.set(r.x,r.y),this}},{key:"setWithVertextInfo",value:function(e){return e?(this.hasPosition=e.hasPosition,this.position.set(e.position.x,e.position.y,e.position.z),this.hasNormal=e.hasNormal,this.normal.set(e.normal.x,e.normal.y,e.normal.z),this.hasColor=e.hasColor,this.color.set(e.color.r,e.color.g,e.color.b,e.color.a),this.hasUV=e.hasUV,this.uv.set(e.uv.x,e.uv.y),this):this.set(null,null,null,null)}},{key:"setPos",value:function(e,t,n){return this.position.set(e,t,n),this.hasPosition=!0,this}},{key:"setNor",value:function(e,t,n){return this.normal.set(e,t,n),this.hasNormal=!0,this}},{key:"setCol",value:function(e,t,n,r){return this.color.set(e,t,n,r),this.hasColor=!0,this}},{key:"setUV",value:function(e,t){return this.uv.set(e,t),this.hasUV=!0,this}},{key:"lerp",value:function(e,t){return this.hasPosition&&e.hasPosition&&this.position.lerp(e.position,t),this.hasNormal&&e.hasNormal&&this.normal.lerp(e.normal,t),this.hasColor&&e.hasColor&&this.color.lerp(e.color,t),this.hasUV&&e.hasUV&&this.uv.lerp(e.uv,t),this}}]),e}();t.VertexInfo=l},3975:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(6425),t),i(n(4644),t),i(n(7083),t),i(n(5223),t),i(n(3776),t),i(n(8128),t),i(n(2668),t),i(n(9131),t),i(n(7243),t),i(n(6506),t)},8656:function(e,t,n){"use strict";var r,i=n(4704).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Animation=t.PlayMode=void 0,function(e){e[e.NORMAL=0]="NORMAL",e[e.LOOP=1]="LOOP",e[e.LOOP_PINGPONG=2]="LOOP_PINGPONG",e[e.REVERSED=3]="REVERSED",e[e.LOOP_REVERSED=4]="LOOP_REVERSED"}(r=t.PlayMode||(t.PlayMode={}));var o=function(){function e(t,n){a(this,e),this.totalDuration=0,this.keyFrames=t,Array.isArray(n)||(n=[n]);for(var r=n[n.length-1]||0;n.length<t.length;)n.push(r);var s,o=i(n);try{for(o.s();!(s=o.n()).done;){var l=s.value;this.totalDuration+=l}}catch(u){o.e(u)}finally{o.f()}this.frameDurations=n}return s(e,[{key:"getFrameNumber",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.frameDurations,r=t?n.length-1:0;!((e-=n[r])<0);)t?r--:r++;return r}},{key:"getKeyFrame",value:function(e,t){var n=this.keyFrames,i=this.frameDurations,a=this.totalDuration,s=Math.floor(e/a),o=e%a,l=0;switch(t){case r.NORMAL:l=0===s?this.getFrameNumber(o):i.length-1;break;case r.LOOP:l=this.getFrameNumber(o);break;case r.LOOP_PINGPONG:l=this.getFrameNumber(o,s%2===1);break;case r.REVERSED:l=0===s?this.getFrameNumber(o,!0):0;break;case r.LOOP_REVERSED:l=this.getFrameNumber(o,!0)}return n[l]}}]),e}();t.Animation=o},2121:function(e,t,n){"use strict";var r=n(861).default,i=n(7061).default,a=n(4704).default,s=n(6690).default,o=n(9728).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AssetManager=void 0;var u=n(7581),c=n(7139),h=n(9396),f=function(){function e(t){s(this,e),this.promises=[],this.atlases=new Map,this.textures=new Map,this.jsonData=new Map,this.binaryData=new Map,this.done=0,this.listeners=[],this.fonts=new Map,this.gl=t}return o(e,[{key:"addListener",value:function(e){this.listeners.push(e)}},{key:"reportDone",value:function(){this.done++;var e,t=a(this.listeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)(this.done/this.getTotal()*100,this.done>=this.getTotal())}}catch(n){t.e(n)}finally{t.f()}}},{key:"loadAtlas",value:function(e,t){var n=this,r=h.TextureAtlas.load(this.gl,e,{}).then((function(e){return n.atlases.set(t,e),n.reportDone(),e}));return this.promises.push(r),r}},{key:"getAtlas",value:function(e){return this.atlases.get(e)}},{key:"loadJsonData",value:function(e,t){var n=this,r=fetch(e).then((function(e){return e.json()})).then((function(e){return n.jsonData.set(t,e),n.reportDone(),e}));return this.promises.push(r),r}},{key:"getJsonData",value:function(e){return this.jsonData.get(e)}},{key:"loadBinaryData",value:function(e,t){var n=this,r=fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return n.binaryData.set(t,e),n.reportDone(),e}));return this.promises.push(r),r}},{key:"getBinaryData",value:function(e){return this.binaryData.get(e)}},{key:"loadFont",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=u.BitmapFont.load(this.gl,e,r).then((function(e){return n.fonts.set(t,e),n.reportDone(),e}));return this.promises.push(i),i}},{key:"getFont",value:function(e){return this.fonts.get(e)}},{key:"loadTexture",value:function(e,t){var n=this,r=c.Texture.load(this.gl,e).then((function(e){return n.textures.set(t,e),n.reportDone(),e}));return this.promises.push(r),r}},{key:"getTexture",value:function(e){return this.textures.get(e)}},{key:"finishLoading",value:function(){return l(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.promises);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getDone",value:function(){return this.done}},{key:"getTotal",value:function(){return this.promises.length}},{key:"disposeAll",value:function(){var e=this;r(this.atlases.keys()).forEach((function(t){e.atlases.get(t).dispose(),e.atlases.delete(t)})),r(this.textures.keys()).forEach((function(t){e.textures.get(t).dispose(),e.textures.delete(t)})),r(this.fonts.keys()).forEach((function(t){e.fonts.get(t).dispose(),e.fonts.delete(t)}))}}]),e}();t.AssetManager=f,t.default=f},7581:function(e,t,n){"use strict";var r=n(7061).default,i=n(9728).default,a=n(6690).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapFont=void 0;var o=n(3959),l=n(2791),u=n(8606),c=i((function e(t,n,r){var i=this;a(this,e),this.load=function(e){for(var t=Object.values(e.glyphs),n=0;n<t.length;n++){var r=t[n];if(r)for(var a=0;a<r.length;a++){var s=r[a];s&&e.setGlyphRegion(s,i.regions[s.page])}}null!=e.missingGlyph&&e.setGlyphRegion(e.missingGlyph,i.regions[e.missingGlyph.page])},this.draw=function(e,t,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:u.Align.left,o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:t.length,h=arguments.length>9?arguments[9]:void 0;i.cache.clear(),i.cache.addText(t,n,r,l,c,a,s,o,h),i.cache.draw(e)},this.getColor=function(){return i.cache.getColor()},this.getScaleX=function(){return i.data.scaleX},this.getScaleY=function(){return i.data.scaleY},this.getRegions=function(){return i.regions},this.getRegion=function(e){return i.regions[e]},this.getLineHeight=function(){return i.data.lineHeight},this.getSpaceXadvance=function(){return i.data.spaceXadvance},this.getXHeight=function(){return i.data.xHeight},this.getCapHeight=function(){return i.data.capHeight},this.getAscent=function(){return i.data.ascent},this.getDescent=function(){return i.data.descent},this.isFlipped=function(){return i.flipped},this.dispose=function(){if(i.ownsTexture)for(var e=0;e<i.regions.length;e++)i.regions[e].texture.dispose()},this.setFixedWidthGlyphs=function(e){for(var t=i.data,n=0,r=0,a=e.length;r<a;r++){var s=t.getGlyph(e.charAt(r));null!=s&&s.xadvance>n&&(n=s.xadvance)}for(var o=0,l=e.length;o<l;o++){var u=t.getGlyph(e.charAt(o));u&&(u.xoffset+=(n-u.xadvance)/2,u.xadvance=n,u.kerning=[],u.kerning=null,u.fixedWidth=!0)}},this.setUseIntegerPositions=function(e){i.integer=e,i.cache.setUseIntegerPositions(e)},this.usesIntegerPositions=function(){return i.integer},this.getCache=function(){return i.cache},this.getData=function(){return i.data},this.getOwnsTexture=function(){return i.ownsTexture},this.setOwnsTexture=function(e){i.ownsTexture=e},this.newFontCache=function(){return new o.BitmapFontCache(i,i.integer)},this.regions=n,this.flipped=t.flipped,this.data=t,this.integer=r,0!==this.regions.length?(this.ownsTexture=!1,this.cache=this.newFontCache(),this.load(t)):console.log("No texture region were found")}));t.BitmapFont=c,c.load=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s(void 0,void 0,void 0,r().mark((function a(){var s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=new l.BitmapFontData(t,n),r.next=3,s.loadFont(e);case 3:return r.abrupt("return",new c(s,s.regions,i));case 4:case"end":return r.stop()}}),a)})))}},3959:function(e,t,n){"use strict";var r=n(861).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapFontCache=void 0;var s=n(7712),o=n(9699),l=n(8606),u=function(){function e(t,n){var a=this;i(this,e),this.tempColor=new l.Color(1,1,1,1),this.drawingTexts=[],this.layouts=[],this.pooledLayouts=[],this.color=new l.Color(1,1,1,1),this.setPosition=function(e,t){a.translate(e-a.x,t-a.y)},this.translate=function(e,t){if(0!==e||0!==t){a.integer&&(e=Math.round(e),t=Math.round(t)),a.x+=e,a.y+=t;for(var n=a.pageVertices,r=0,i=n.length;r<i;r++)for(var s=n[r],o=0,l=a.idx[r];o<l;o+=5)s[o]+=e,s[o+1]+=t}},this.setColors=function(e,t,n,r){for(var i=255<<24|255*n<<16|255*t<<8|255*e,s=o.NumberUtil.intToFloatColor(i),l=0,u=a.pageVertices.length;l<u;l++)for(var c=a.pageVertices[l],h=2,f=a.idx[l];h<f;h+=5)c[h]=s},this.getColor=function(){return a.color},this.setColor=function(e,t,n,r){a.color.set(e,t,n,r)},this.clear=function(){a.x=0,a.y=0,l.Pools.freeAll("GlyphLayout",a.pooledLayouts),a.pooledLayouts.length=0,a.layouts.length=0;for(var e=0,t=a.idx.length;e<t;e++)null!=a.pageGlyphIndices&&(a.pageGlyphIndices[e].length=0),a.idx[e]=0},this.requireGlyphs=function(e){if(1===a.pageVertices.length)a.requirePageGlyphs(0,e.glyphCount);else{for(var t=a.tempGlyphCount,n=0;n<t.length;n++)t[n]=0;for(var r=0,i=e.runs.length;r<i;r++)for(var s=e.runs[r].glyphs,o=s,l=0,u=s.length;l<u;l++)t[o[l].page]++;for(var c=0,h=t.length;c<h;c++)a.requirePageGlyphs(c,t[c])}},this.requirePageGlyphs=function(e,t){var n=a.idx[e]+20*t,r=a.pageVertices[e];if(r){if(r.length<n){var i=new Array(n);l.Utils.arrayCopy(r,0,i,0,a.idx[e]),a.pageVertices[e]=i}}else a.pageVertices[e]=new Array(n)},this.setPageCount=function(e){var t=new Array(e).fill([]);l.Utils.arrayCopy(a.pageVertices,0,t,0,a.pageVertices.length),a.pageVertices=r(t);var n=new Array(e);l.Utils.arrayCopy(a.idx,0,n,0,a.idx.length),a.idx=n;var i=new Array(e),s=0;null!=a.pageGlyphIndices&&(s=a.pageGlyphIndices.length,l.Utils.arrayCopy(a.pageGlyphIndices,0,i,0,a.pageGlyphIndices.length));for(var o=s;o<e;o++)i[o]=[];a.pageGlyphIndices=i,a.tempGlyphCount=new Array(e)},this.addToCache=function(e,t,n){var r=e.runs.length;if(0!==r){a.pageVertices.length<a.font.regions.length&&a.setPageCount(a.font.regions.length),a.layouts.push(e),a.requireGlyphs(e);var i=e.colors,s=0,l=0,u=0,c=0;a.drawingTexts.length=0;for(var h=0;h<r;h++)for(var f=e.runs[h],d=f.glyphs,p=f.xAdvances,v=t+f.x,m=n+f.y,g=0,y=f.glyphs.length;g<y;g++)u++===l&&(c=o.NumberUtil.intToFloatColor(i[++s]),l=++s<i.length?i[s]:-1),v+=p[g],a.drawingTexts.push(d[g].id),a.addGlyph(d[g],v,m,c);a.currentTint=o.NumberUtil.intToFloatColor(-1)}},this.addGlyph=function(e,t,n,r){var i=a.font.data.scaleX,s=a.font.data.scaleY;t+=e.xoffset*i,n+=e.yoffset*s;var o=e.width*i,l=e.height*s,u=e.u,c=e.u2,h=e.v,f=e.v2;a.integer&&(t=Math.round(t),n=Math.round(n),o=Math.round(o),l=Math.round(l));var d=t+o,p=n+l,v=e.page,m=a.idx[v];a.idx[v]+=20,null!=a.pageGlyphIndices&&a.pageGlyphIndices[v].push(a.glyphCount++);var g=a.pageVertices[v];g[m++]=t,g[m++]=n,g[m++]=r,g[m++]=u,g[m++]=h,g[m++]=t,g[m++]=p,g[m++]=r,g[m++]=u,g[m++]=f,g[m++]=d,g[m++]=p,g[m++]=r,g[m++]=c,g[m++]=f,g[m++]=d,g[m++]=n,g[m++]=r,g[m++]=c,g[m]=h},this.setText=function(e,t,n,r,i,s,o,l,u){return a.clear(),a.addText(e,t,n,r,i,s,o,l,u)},this.setTextToCache=function(e,t,n){a.clear(),a.addTextToCache(e,t,n)},this.addText=function(e,t,n,r,i,s,o,u,c){var h=l.Pools.obtain("GlyphLayout");return a.pooledLayouts.push(h),h.setText(a.font,e,r,i,a.color,s,o,u,c),a.addTextToCache(h,t,n),h},this.addTextToCache=function(e,t,n){a.addToCache(e,t,n+a.font.data.ascent)},this.getX=function(){return a.x},this.getY=function(){return a.y},this.getFont=function(){return a.font},this.setUseIntegerPositions=function(e){a.integer=e},this.usesIntegerPositions=function(){return a.integer},this.getVertices=function(e){return a.pageVertices[e]},this.getVertexCount=function(e){return a.idx[e]},this.getLayouts=function(){return a.layouts},this.font=t,this.integer=n;var u=t.regions.length;if(0===u&&console.log("The specified font must contain at least one texture page."),this.pageVertices=new Array(u).fill([]),this.idx=new Array(u),u>1){this.pageGlyphIndices=new Array(u);for(var c=0,h=this.pageGlyphIndices.length;c<h;c++)this.pageGlyphIndices[c]=[]}this.tempGlyphCount=new Array(u),l.Pools.get("GlyphLayout",(function(){return new s.GlyphLayout(t,"",0,0,l.Color.WHITE,0,l.Align.left,!1)}))}return a(e,[{key:"draw",value:function(e){for(var t=this,n=this.font.getRegions(),r=0;r<this.pageVertices.length;r++)if(this.idx[r]>0)for(var i=this.pageVertices[r],a=function(r){var a=20*r,s=n.find((function(e){var n;return e.id===(null===(n=t.drawingTexts)||void 0===n?void 0:n[r])}));s&&s.draw(e,i[0+a],i[1+a],i[10+a]-i[0+a],i[11+a]-i[1+a])},s=0;s<this.idx[r]/20;s++)a(s)}}]),e}();t.BitmapFontCache=u},2791:function(e,t,n){"use strict";var r=n(861).default,i=n(7061).default,a=n(6690).default,s=n(9728).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapFontData=void 0;var l=n(2013),u=n(7139),c=n(859),h=n(8606),f=65535,d=function(){function e(t,n){var r=this;a(this,e),this.capHeight=1,this.blankLineScale=1,this.scaleX=1,this.scaleY=1,this.glyphs={},this.xHeight=1,this.xChars=["x","e","a","o","n","s","r","c","u","m","v","w","z"],this.capChars=["M","N","B","D","C","E","F","K","A","G","H","I","J","L","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.loadFont=function(e){return o(r,void 0,void 0,i().mark((function t(){var n,r,a,s,o,d,v,m,g,y,b,_,x,w,k,M,T,S,A,E,L,C,O,P,I,N,R,F,B,D,j,U,V,G,z,W,H,Y,X,q,$,K,Q,Z,J,ee,te,ne,re,ie,ae,se,oe,le,ue,ce,he,fe,de,pe,ve,me,ge,ye,be,_e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.imagePaths){t.next=2;break}return t.abrupt("return");case 2:return n=0,t.next=5,fetch(this.fontFile);case 5:return a=t.sent,t.next=8,a.text();case 8:if(r=t.sent,s=r.split(/\r?\n/).map((function(e){return e.trim()})),t.prev=10,"string"===typeof(o=s[n])){t.next=14;break}throw new Error("File is empty.");case 14:if(o=o.substring(o.indexOf("padding=")+8),4===(d=o.substring(0,o.indexOf(" ")).split(",",4)).length){t.next=18;break}throw new Error("Invalid padding.");case 18:if(this.padTop=parseInt(d[0]),this.padRight=parseInt(d[1]),this.padBottom=parseInt(d[2]),this.padLeft=parseInt(d[3]),v=this.padTop+this.padBottom,n++,"string"===typeof(o=s[n])){t.next=27;break}throw new Error("Missing common header.");case 27:if(!((m=o.split(" ",9)).length<3)){t.next=30;break}throw new Error("Invalid common header.");case 30:if(m[1].startsWith("lineHeight=")){t.next=32;break}throw new Error("Missing: lineHeight");case 32:if(this.lineHeight=parseInt(m[1].substring(11)),m[2].startsWith("base=")){t.next=35;break}throw new Error("Missing: base");case 35:if(g=parseInt(m[2].substring(5)),y=1,m.length>=6&&null!=m[5]&&m[5].startsWith("pages="))try{y=Math.max(1,parseInt(m[5].substring(6)))}catch(i){}this.imagePaths=new Array(y),b=[],_=0;case 41:if(!(_<y)){t.next=65;break}if(n++,"string"===typeof(o=s[n])){t.next=46;break}throw new Error("Missing additional page definitions.");case 46:if(!((x=o.match(new RegExp(".*id=(\\d+)")))&&x.length>1)){t.next=57;break}if(w=x[1],t.prev=49,parseInt(w)===_){t.next=53;break}throw new Error("Page IDs must be indices starting at 0: "+w);case 53:t.next=57;break;case 55:t.prev=55,t.t0=t.catch(49);case 57:if((k=o.match(new RegExp('.*file="?([^"]+)"?')))&&!(k.length<=1)){t.next=60;break}throw new Error("Missing: file");case 60:M=k[1],b[_]=M;case 62:_++,t.next=41;break;case 65:this.descent=0;case 66:if(n++,o=s[n]){t.next=71;break}return t.abrupt("break",105);case 71:if(!o.startsWith("kernings ")){t.next=73;break}return t.abrupt("break",105);case 73:if(!o.startsWith("metrics ")){t.next=75;break}return t.abrupt("break",105);case 75:if(o.startsWith("char ")){t.next=77;break}return t.abrupt("continue",66);case 77:if(T=new l.Glyph,(S=new p(o,"=")).nextToken(),S.nextToken(),!((A=parseInt(S.nextToken()))>0&&A>f)){t.next=84;break}return t.abrupt("continue",66);case 84:if(T.id=A+"",S.nextToken(),T.srcX=parseInt(S.nextToken()),S.nextToken(),T.srcY=parseInt(S.nextToken()),S.nextToken(),T.width=parseInt(S.nextToken()),S.nextToken(),T.height=parseInt(S.nextToken()),S.nextToken(),T.xoffset=parseInt(S.nextToken()),S.nextToken(),this.flipped?T.yoffset=parseInt(S.nextToken()):T.yoffset=-(T.height+parseInt(S.nextToken())),S.nextToken(),T.xadvance=parseInt(S.nextToken()),S.hasMoreTokens()&&S.nextToken(),S.hasMoreTokens())try{T.page=parseInt(S.nextToken())}catch(xe){}T.width>0&&T.height>0&&(this.descent=Math.min(g+T.yoffset,this.descent)),A<=0?this.missingGlyph=T:A<=f&&this.setGlyph(A,T),t.next=66;break;case 105:this.descent+=this.padBottom;case 106:if(n++,"string"===typeof(o=s[n])){t.next=111;break}return t.abrupt("break",127);case 111:if(o.startsWith("kerning ")){t.next=113;break}return t.abrupt("break",127);case 113:if((E=new p(o,"=")).nextToken(),E.nextToken(),L=parseInt(E.nextToken()),E.nextToken(),C=parseInt(E.nextToken()),!(L<0||L>f||C<0||C>f)){t.next=121;break}return t.abrupt("continue",106);case 121:O=this.getGlyph(L+""),E.nextToken(),P=parseInt(E.nextToken()),O&&O.setKerning(C,P),t.next=106;break;case 127:I=!1,N=0,R=0,F=0,B=0,D=0,j=0,U=0,null!=o&&o.startsWith("metrics ")&&(I=!0,(V=new p(o,"=")).nextToken(),V.nextToken(),N=parseFloat(V.nextToken()),V.nextToken(),R=parseFloat(V.nextToken()),V.nextToken(),F=parseFloat(V.nextToken()),V.nextToken(),B=parseFloat(V.nextToken()),V.nextToken(),D=parseFloat(V.nextToken()),V.nextToken(),j=parseFloat(V.nextToken()),V.nextToken(),U=parseFloat(V.nextToken())),(G=this.getGlyph("32"))||((G=new l.Glyph).id="32",(z=this.getGlyph("l"))||(z=this.getFirstGlyph()),G.xadvance=z.xadvance,this.setGlyph(32,G)),0===G.width&&(G.width=this.padLeft+G.xadvance+this.padRight,G.xoffset=-this.padLeft),this.spaceXadvance=G.xadvance,H=0;case 141:if(!(H<this.xChars.length)){t.next=148;break}if(!(W=this.getGlyph(this.xChars[H]))){t.next=145;break}return t.abrupt("break",148);case 145:H++,t.next=141;break;case 148:W||(W=this.getFirstGlyph()),this.xHeight=W.height-v,X=0;case 151:if(!(X<this.capChars.length)){t.next=158;break}if(!(Y=this.getGlyph(this.capChars[X]))){t.next=155;break}return t.abrupt("break",158);case 155:X++,t.next=151;break;case 158:if(Y){t.next=178;break}q=Object.values(this.glyphs),$=0;case 161:if(!($<q.length)){t.next=176;break}if(K=q[$]){t.next=165;break}return t.abrupt("continue",173);case 165:Q=0;case 166:if(!(Q<K.length)){t.next=173;break}if(K[Q]&&0!==K[Q].height&&0!==K[Q].width){t.next=169;break}return t.abrupt("continue",170);case 169:this.capHeight=Math.max(this.capHeight,K[Q].height);case 170:Q++,t.next=166;break;case 173:$++,t.next=161;break;case 176:t.next=179;break;case 178:this.capHeight=Y.height;case 179:for(this.capHeight-=v,this.ascent=g-this.capHeight,this.down=-this.lineHeight,this.flipped&&(this.ascent=-this.ascent,this.down=-this.down),I&&(this.ascent=N,this.descent=R,this.down=F,this.capHeight=B,this.lineHeight=D,this.spaceXadvance=j,this.xHeight=U),Z=[],J=Object.values(this.glyphs),ee=0;ee<J.length;ee++)for(te=Object.values(J[ee]),ne=0;ne<te.length;ne++)re={id:te[ne].id,left:te[ne].srcX,top:te[ne].srcY,width:te[ne].width,height:te[ne].height,xoffset:te[ne].xoffset,yoffset:te[ne].yoffset,xadvance:te[ne].xadvance,page:b[te[ne].page],pageId:te[ne].page},Z.push(re);ie=[],ae=0;case 189:if(!(ae<y)){t.next=199;break}return t.next=192,u.Texture.load(e,(0,h.concatAndResolveUrl)(this.fontFile,"../".concat(b[ae])));case 192:se=t.sent,oe=1/se.width,le=1/se.height,ie.push({texture:se,invTexWidth:oe,invTexHeight:le});case 196:ae++,t.next=189;break;case 199:for(this.regions=[],ue=0,ce=Z;ue<ce.length;ue++)he=ce[ue],fe=he.left,de=he.top,pe=he.width,ve=he.height,me=ie[he.pageId],ge=me.texture,ye=me.invTexWidth,be=me.invTexHeight,(_e=new c.TextureRegion(ge,fe,de,pe,ve,he,ye,be)).originalWidth=pe,_e.originalHeight=ve,_e.offsetX=0,_e.offsetY=0,this.regions.push(_e);t.next=206;break;case 203:t.prev=203,t.t1=t.catch(10),console.error(t.t1);case 206:case"end":return t.stop()}}),t,this,[[10,203],[49,55]])})))},this.setGlyphRegion=function(e,t){var n=t.texture,i=1/n.width,a=1/n.height,s=t.u,o=t.v,l=(t.originalWidth,t.originalHeight,e.srcX),u=e.srcX+e.width,c=e.srcY,h=e.srcY+e.height;e.u=s+l*i,e.u2=s+u*i,r.flipped?(e.v=o+c*a,e.v2=o+h*a):(e.v2=o+c*a,e.v=o+h*a)},this.setLineHeight=function(e){r.lineHeight=e*r.scaleY,r.down=r.flipped?r.lineHeight:-r.lineHeight},this.setGlyph=function(e,t){var n=r.glyphs[e/l.PAGE_SIZE];n||(n=new Array(l.PAGE_SIZE),r.glyphs[e/l.PAGE_SIZE]=n),n[e&l.PAGE_SIZE-1]=t},this.getFirstGlyph=function(){for(var e=Object.values(r.glyphs),t=0;t<e.length;t++){var n=e[t];if(n)for(var i=0;i<n.length;i++){var a=n[i];if(a&&0!==a.height&&0!==a.width)return a}}},this.hasGlyph=function(e){return!!r.missingGlyph||null!=r.getGlyph(e)},this.getGlyph=function(e){var t=r.glyphs[e.charCodeAt(0)/l.PAGE_SIZE];if(null!=t)return t[e.charCodeAt(0)&l.PAGE_SIZE-1]},this.getGlyphs=function(e,t,n,i,a){if(0!==i-n){var s=r.markupEnabled,o=r.scaleX,l=e.glyphs,u=e.xAdvances;do{var c=t.charAt(n++);if("\r"!==c){var h=r.getGlyph(c);if(!h){if(!r.missingGlyph)continue;h=r.missingGlyph}l.push(h),u.push(a?(a.xadvance+a.getKerning(c))*o:h.fixedWidth?0:-h.xoffset*o-r.padLeft),a=h,s&&"["===c&&n<i&&"["===t.charAt(n)&&n++}}while(n<i);if(a){var f=a.fixedWidth?a.xadvance*o:(a.width+a.xoffset)*o-r.padRight;u.push(f)}}},this.getWrapIndex=function(e,t){var n=t-1,i=e,a=i[n].id;if(r.isWhitespace(a+""))return n;for(r.isBreakChar(a+"")&&n--;n>0;n--)if(a=i[n].id,r.isWhitespace(a+"")||r.isBreakChar(a+""))return n+1;return 0},this.isBreakChar=function(e){if(!r.breakChars)return!1;for(var t=String.fromCharCode(parseInt(e)),n=0;n<r.breakChars.length;n++)if(t===r.breakChars[n])return!0;return!1},this.isWhitespace=function(e){switch(String.fromCharCode(parseInt(e))){case"\n":case"\r":case"\t":case" ":return!0;default:return!1}},this.getImagePath=function(e){return r.imagePaths[e]},this.getImagePaths=function(){return r.imagePaths},this.setScale=function(e,t){if(0!==e&&0!==t){var n=e/r.scaleX,i=t/r.scaleY;r.lineHeight*=i,r.spaceXadvance*=n,r.xHeight*=i,r.capHeight*=i,r.ascent*=i,r.descent*=i,r.down*=i,r.padLeft*=n,r.padRight*=n,r.padTop*=i,r.padBottom*=i,r.scaleX=e,r.scaleY=t}},this.scale=function(e){r.setScale(r.scaleX+e,r.scaleY+e)},this.fontFile=t,this.flipped=n}return s(e,[{key:"setXYScale",value:function(e){this.setScale(e,e)}}]),e}();t.BitmapFontData=d;var p=function(){function e(t,n){a(this,e),this.strArray=[],this.currentIndex=0;for(var i=t.split(/\s+/),s=0;s<i.length;s++){var o,l=i[s];(o=this.strArray).push.apply(o,r(l.split(n)))}}return s(e,[{key:"hasMoreTokens",value:function(){return this.currentIndex>=this.strArray.length}},{key:"nextToken",value:function(){return this.strArray[this.currentIndex++]}}]),e}()},5477:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BoundingBox=void 0;var s=n(7811),o=function(){function e(){i(this,e),this.min=new s.Vector3,this.max=new s.Vector3,this.cnt=new s.Vector3,this.dim=new s.Vector3,this.clr()}return a(e,[{key:"getCenter",value:function(e){return e.setFrom(this.cnt)}},{key:"getCenterX",value:function(){return this.cnt.x}},{key:"getCenterY",value:function(){return this.cnt.y}},{key:"getCenterZ",value:function(){return this.cnt.z}},{key:"getCorner000",value:function(e){return e.set(this.min.x,this.min.y,this.min.z)}},{key:"getCorner001",value:function(e){return e.set(this.min.x,this.min.y,this.max.z)}},{key:"getCorner010",value:function(e){return e.set(this.min.x,this.max.y,this.min.z)}},{key:"getCorner011",value:function(e){return e.set(this.min.x,this.max.y,this.max.z)}},{key:"getCorner100",value:function(e){return e.set(this.max.x,this.min.y,this.min.z)}},{key:"getCorner101",value:function(e){return e.set(this.max.x,this.min.y,this.max.z)}},{key:"getCorner110",value:function(e){return e.set(this.max.x,this.max.y,this.min.z)}},{key:"getCorner111",value:function(e){return e.set(this.max.x,this.max.y,this.max.z)}},{key:"getDimensions",value:function(e){return e.setFrom(this.dim)}},{key:"getWidth",value:function(){return this.dim.x}},{key:"getHeight",value:function(){return this.dim.y}},{key:"getDepth",value:function(){return this.dim.z}},{key:"getMin",value:function(e){return e.setFrom(this.min)}},{key:"getMax",value:function(e){return e.setFrom(this.max)}},{key:"setFromBounds",value:function(e){return this.set(e.min,e.max)}},{key:"set",value:function(e,t){return this.min.set(e.x<t.x?e.x:t.x,e.y<t.y?e.y:t.y,e.z<t.z?e.z:t.z),this.max.set(e.x>t.x?e.x:t.x,e.y>t.y?e.y:t.y,e.z>t.z?e.z:t.z),this.update(),this}},{key:"update",value:function(){this.cnt.setFrom(this.min).add(this.max).scale(.5),this.dim.setFrom(this.max).sub(this.min)}},{key:"setFromPoints",value:function(e){this.inf();var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.extPoint(i)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"inf",value:function(){return this.min.set(1/0,1/0,1/0),this.max.set(-1/0,-1/0,-1/0),this.cnt.set(0,0,0),this.dim.set(0,0,0),this}},{key:"extPoint",value:function(e){return this.set(this.min.set(Math.min(this.min.x,e.x),Math.min(this.min.y,e.y),Math.min(this.min.z,e.z)),this.max.set(Math.max(this.max.x,e.x),Math.max(this.max.y,e.y),Math.max(this.max.z,e.z)))}},{key:"clr",value:function(){return this.set(this.min.set(0,0,0),this.max.set(0,0,0))}},{key:"isValid",value:function(){return this.min.x<=this.max.x&&this.min.y<=this.max.y&&this.min.z<=this.max.z}},{key:"extBounds",value:function(e){return this.set(this.min.set(Math.min(this.min.x,e.min.x),Math.min(this.min.y,e.min.y),Math.min(this.min.z,e.min.z)),this.max.set(Math.max(this.max.x,e.max.x),Math.max(this.max.y,e.max.y),Math.max(this.max.z,e.max.z)))}},{key:"extSphere",value:function(e,t){return this.set(this.min.set(Math.min(this.min.x,e.x-t),Math.min(this.min.y,e.y-t),Math.min(this.min.z,e.z-t)),this.max.set(Math.max(this.max.x,e.x+t),Math.max(this.max.y,e.y+t),Math.max(this.max.z,e.z+t)))}},{key:"extTransformedBox",value:function(t,n){return this.extPoint(e.tmpVector.set(t.min.x,t.min.y,t.min.z).multiply(n)),this.extPoint(e.tmpVector.set(t.min.x,t.min.y,t.max.z).multiply(n)),this.extPoint(e.tmpVector.set(t.min.x,t.max.y,t.min.z).multiply(n)),this.extPoint(e.tmpVector.set(t.min.x,t.max.y,t.max.z).multiply(n)),this.extPoint(e.tmpVector.set(t.max.x,t.min.y,t.min.z).multiply(n)),this.extPoint(e.tmpVector.set(t.max.x,t.min.y,t.max.z).multiply(n)),this.extPoint(e.tmpVector.set(t.max.x,t.max.y,t.min.z).multiply(n)),this.extPoint(e.tmpVector.set(t.max.x,t.max.y,t.max.z).multiply(n)),this}},{key:"mul",value:function(t){var n=this.min.x,r=this.min.y,i=this.min.z,a=this.max.x,s=this.max.y,o=this.max.z;return this.inf(),this.extPoint(e.tmpVector.set(n,r,i).multiply(t)),this.extPoint(e.tmpVector.set(n,r,o).multiply(t)),this.extPoint(e.tmpVector.set(n,s,i).multiply(t)),this.extPoint(e.tmpVector.set(n,s,o).multiply(t)),this.extPoint(e.tmpVector.set(a,r,i).multiply(t)),this.extPoint(e.tmpVector.set(a,r,o).multiply(t)),this.extPoint(e.tmpVector.set(a,s,i).multiply(t)),this.extPoint(e.tmpVector.set(a,s,o).multiply(t)),this}},{key:"containsBounds",value:function(e){return!this.isValid()||this.min.x<=e.min.x&&this.min.y<=e.min.y&&this.min.z<=e.min.z&&this.max.x>=e.max.x&&this.max.y>=e.max.y&&this.max.z>=e.max.z}},{key:"intersects",value:function(e){if(!this.isValid())return!1;var t=Math.abs(this.cnt.x-e.cnt.x),n=this.dim.x/2+e.dim.x/2,r=Math.abs(this.cnt.y-e.cnt.y),i=this.dim.y/2+e.dim.y/2,a=Math.abs(this.cnt.z-e.cnt.z),s=this.dim.z/2+e.dim.z/2;return t<=n&&r<=i&&a<=s}},{key:"containsPoint",value:function(e){return this.min.x<=e.x&&this.max.x>=e.x&&this.min.y<=e.y&&this.max.y>=e.y&&this.min.z<=e.z&&this.max.z>=e.z}},{key:"ext",value:function(e,t,n){return this.set(this.min.set(Math.min(this.min.x,e),Math.min(this.min.y,t),Math.min(this.min.z,n)),this.max.set(Math.max(this.max.x,e),Math.max(this.max.y,t),Math.max(this.max.z,n)))}}]),e}();t.BoundingBox=o,o.tmpVector=new s.Vector3},7459:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OrthoCamera=void 0;var a=n(4995),s=n(7811),o=function(){function e(t,n,i,o){r(this,e),this.position=new s.Vector3(0,0,0),this.direction=new s.Vector3(0,0,-1),this.up=new s.Vector3(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new a.Matrix4,this.inverseProjectionView=new a.Matrix4,this.projection=new a.Matrix4,this.view=new a.Matrix4,this.yDown=!1,this.tmp3=new s.Vector3,this.resize(t,n,i,o)}return i(e,[{key:"getYDown",value:function(){return this.yDown}},{key:"setYDown",value:function(e){this.yDown=e,e?(this.up.set(0,-1,0),this.direction.set(0,0,1)):(this.up.set(0,1,0),this.direction.set(0,0,-1)),this.update()}},{key:"resize",value:function(e,t,n,r){this.viewportWidth=e,this.viewportHeight=t,this.screenWidth=n,this.screenHeight=r,this.update()}},{key:"setPosition",value:function(e,t){this.position.set(e,t,this.position.z)}},{key:"update",value:function(){var e=this.projection,t=this.view,n=this.projectionView,r=this.inverseProjectionView,i=this.zoom,a=this.viewportWidth,s=this.viewportHeight;e.ortho(i*(-a/2),i*(a/2),i*(-s/2),i*(s/2),this.near,this.far),t.lookAt(this.position,this.direction,this.up),n.set(e.values),n.multiply(t),r.set(n.values).invert(),this.combined=n.values}},{key:"screenToWorld",value:function(e,t,n){t=t||this.screenWidth,n=n||this.screenHeight;var r=e.x,i=n-e.y-1;return e.x=2*r/t-1,e.y=2*i/n-1,e.z=2*e.z-1,e.project(this.inverseProjectionView),e}},{key:"worldToScreen",value:function(e,t,n){return t=t||this.screenWidth,n=n||this.screenHeight,e.project(this.projectionView),e.x=t*(e.x+1)/2,e.y=n*(e.y+1)/2,e.z=(e.z+1)/2,e}},{key:"unprojectVector2",value:function(e,t){this.tmp3.set(t.x,t.y,0),this.screenToWorld(this.tmp3),e.set(this.tmp3.x,this.tmp3.y)}},{key:"setViewport",value:function(e,t){this.viewportWidth=e,this.viewportHeight=t}}]),e}();t.OrthoCamera=o},6176:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var a=function(){function e(){r(this,e)}return i(e,[{key:"setScreen",value:function(e){this.currentScreen&&this.currentScreen.dispose&&this.currentScreen.dispose(),this.currentScreen=e,this.currentScreen&&this.currentScreen.init&&this.currentScreen.init(this)}},{key:"update",value:function(e){this.currentScreen&&this.currentScreen.update&&this.currentScreen.update(e,this)}}]),e}();t.Game=a,a.shared=new a},2013:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Glyph=t.PAGES=t.PAGE_SIZE=t.LOG2_PAGE_SIZE=void 0,t.LOG2_PAGE_SIZE=9,t.PAGE_SIZE=1<<t.LOG2_PAGE_SIZE,t.PAGES=65536/t.PAGE_SIZE;var a=function(){function e(){r(this,e),this.page=0}return i(e,[{key:"getKerning",value:function(e){if(this.kerning){var n=this.kerning[e.charCodeAt(0)>>>t.LOG2_PAGE_SIZE];if(null!=n)return n[e.charCodeAt(0)&t.PAGE_SIZE-1]}return 0}},{key:"setKerning",value:function(e,n){this.kerning||(this.kerning=[]);var r=this.kerning[e>>>t.LOG2_PAGE_SIZE];r||(this.kerning[e>>>t.LOG2_PAGE_SIZE]=r=new Uint32Array(new ArrayBuffer(t.PAGE_SIZE))),r[e&t.PAGE_SIZE-1]=n}}]),e}();t.Glyph=a},7712:function(e,t,n){"use strict";var r=n(861).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GlyphLayout=void 0;var s=n(9045),o=n(8606),l=function(){function e(t,n){var a=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(null===n||void 0===n?void 0:n.length)||0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.Color.WHITE,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:o.Align.left,d=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],p=arguments.length>8?arguments[8]:void 0;i(this,e),this.epsilon=1e-4,this.glyphRunPool=o.Pools.get("GlyphRun",(function(){return new s.GlyphRun})),this.colorStack=new Array(4),this.runs=[],this.colors=[],this.setText=function(e,t,n,r,i,s,o,l,u){a.reset();var c=e.data;if(n!==r){l&&(s=Math.max(s,3*c.spaceXadvance));var h=l||null!=u,f=i.toIntBits(),d=f;a.colors.shift();var p=c.markupEnabled;p&&a.colorStack.push(f);for(var v=!1,m=0,g=c.down,y=null,b=null,_=n;;){var x=void 0,w=!1;if(n===r){if(_===r)break;x=r,v=!0}else{if("\n"!==t.charAt(n++))continue;x=n-1,w=!0}e:{var k=a.glyphRunPool.obtain();if(k.x=0,k.y=m,c.getGlyphs(k,t,_,x,b),a.glyphCount+=k.glyphs.length,d!==f&&(a.colors[a.colors.length-2]===a.glyphCount?a.colors[a.colors.length-1]=d:(a.colors.push(a.glyphCount),a.colors.push(d)),f=d),0===k.glyphs.length){if(a.glyphRunPool.free(k),!y)break}else y?(y.appendRun(k),a.glyphRunPool.free(k)):(y=k,a.runs.push(y));if(w||v?(a.setLastGlyphXAdvance(c,y),b=null):b=y.glyphs[y.glyphs.length-1],h&&0!==y.glyphs.length&&(w||v))for(var M=y.xAdvances[0]+y.xAdvances[1],T=2;T<y.xAdvances.length;T++){var S=y.glyphs[T-1];if(M+a.getGlyphWidth(S,c)-a.epsilon<=s)M+=y.xAdvances[T];else{if(null!=u){a.truncate(c,y,s,u);break}var A=c.getWrapIndex(y.glyphs,T);if((0===A&&0===y.x||A>=y.glyphs.length)&&(A=T-1),!(y=a.wrap(c,y,A)))break e;a.runs.push(y),m+=g,y.x=0,y.y=m,M=y.xAdvances[0]+y.xAdvances[1],T=1}}}w&&(y=null,b=null,m+=x===_?g*c.blankLineScale:g),_=n}a.height=c.capHeight+Math.abs(m),a.calculateWidths(c),a.alignRuns(s,o),p&&(a.colorStack.length=0)}else a.height=c.capHeight},this.calculateWidths=function(e){for(var t,n=0,i=r(a.runs),s=0,o=a.runs.length;s<o;s++){for(var l=i[s],u=l.xAdvances,c=l.x+u[0],h=0,f=l.glyphs,d=0;d<l.glyphs.length;){var p=f[d],v=a.getGlyphWidth(p,e);h=Math.max(h,c+v),c+=null!==(t=u[++d])&&void 0!==t?t:0}l.width=Math.max(c,h)-l.x,n=Math.max(n,l.x+(isNaN(l.width)?c:l.width))}a.width=n},this.alignRuns=function(e,t){if(0===(t&o.Align.left))for(var n=0!==(t&o.Align.center),i=r(a.runs),s=0,l=a.runs.length;s<l;s++){var u=i[s];u.x+=n?.5*(e-u.width):e-u.width}},this.truncate=function(e,t,n,r){var i=t.glyphs.length,s=a.glyphRunPool.obtain();e.getGlyphs(s,r,0,r.length,null);var l=0;if(s.xAdvances.length>0){a.setLastGlyphXAdvance(e,s);for(var u=s.xAdvances,c=1;c<s.xAdvances.length;c++)l+=u[c]}n-=l;for(var h=0,f=t.x,d=t.xAdvances;h<t.xAdvances.length;){if((f+=d[h])>n)break;h++}if(h>1){if(h-1>=0&&t.glyphs.length>h-1)for(var p=h-1;p<t.glyphs.length;p++)t.glyphs.splice(p,1);if(h>=0&&t.xAdvances.length>h)for(var v=h;v<t.xAdvances.length;v++)t.xAdvances.splice(v,1);a.setLastGlyphXAdvance(e,t),s.xAdvances.length>0&&o.Utils.arrayCopy(s.xAdvances,1,t.xAdvances,t.xAdvances.length,s.xAdvances.length-1)}else t.glyphs.length=0,t.xAdvances.length=0,o.Utils.arrayCopy(s.xAdvances,0,t.xAdvances,t.xAdvances.length,s.xAdvances.length);var m=i-t.glyphs.length;if(m>0&&(a.glyphCount-=m,e.markupEnabled))for(;a.colors.length>2&&a.colors[a.colors.length-2]>=a.glyphCount;)a.colors.length-=2;o.Utils.arrayCopy(s.glyphs,0,t.glyphs,t.glyphs.length,s.glyphs.length),a.glyphCount+=r.length,a.glyphRunPool.free(s)},this.setLastGlyphXAdvance=function(e,t){var n=t.glyphs[t.glyphs.length-1];n.fixedWidth||(t.xAdvances[t.xAdvances.length-1]=a.getGlyphWidth(n,e))},this.getGlyphWidth=function(e,t){return(e.width+e.xoffset)*t.scaleX-t.padRight},this.getLineOffset=function(e,t){return-e[0].xoffset*t.scaleX-t.padLeft},this.reset=function(){a.glyphRunPool.freeAll(a.runs),a.runs.length=0,a.colors.length=0,a.glyphCount=0,a.width=0,a.height=0},t&&n&&this.setText(t,n,l,u,c,h,f,d,p)}return a(e,[{key:"wrap",value:function(e,t,n){for(var r=t.glyphs.length,i=t.glyphs,a=t.xAdvances,s=n;s>0&&e.isWhitespace(i[s-1].id);s--);for(var l,u=n;u<r&&e.isWhitespace(i[u].id);u++);if(u<r){var c=(l=this.glyphRunPool.obtain()).glyphs;o.Utils.arrayCopy(i,0,c,c.length,s),i.splice(0,u-1+1),t.glyphs=c,l.glyphs=i;var h=l.xAdvances;o.Utils.arrayCopy(a,0,h,h.length,s+1),a.splice(1,u),a[0]=this.getLineOffset(i,e),t.xAdvances=h,l.xAdvances=a;var f=t.glyphs.length,d=l.glyphs.length,p=r-f-d;if(this.glyphCount-=p,e.markupEnabled&&p>0)for(var v=this.glyphCount-d,m=this.colors.length-2;m>=2;m-=2){var g=this.colors[m];if(g<=v)break;this.colors[m]=g-p}}else{i=i.slice(0,s),a=a.slice(0,s+1);var y=u-s;if(y>0&&(this.glyphCount-=y,e.markupEnabled&&this.colors[this.colors.length-2]>this.glyphCount)){for(var b=this.colors[this.colors.length-1];this.colors[this.colors.length-2]>this.glyphCount;)this.colors.length-=2;this.colors[this.colors.length-2]=this.glyphCount,this.colors[this.colors.length-1]=b}}return 0===s?(this.glyphRunPool.free(t),this.runs.pop()):this.setLastGlyphXAdvance(e,t),l}}]),e}();t.GlyphLayout=l},9045:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GlyphRun=void 0;var a=r((function e(){var t=this;i(this,e),this.glyphs=[],this.xAdvances=[],this.appendRun=function(e){t.glyphs.concat(e.glyphs),t.xAdvances.length||t.xAdvances.length--,t.xAdvances.concat(e.xAdvances)},this.reset=function(){t.glyphs.length=0,t.xAdvances.length=0}}));t.GlyphRun=a},6964:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.InputEvent=void 0;var a=n(8041),s=n(2283);!function(e){e.TouchStart="touchStart",e.TouchEnd="touchEnd",e.TouchMove="touchMove"}(t.InputEvent||(t.InputEvent={}));var o=function(){function e(t){var n=this;r(this,e),this.screenCoord=new s.Vector2,this.worldCoord=new s.Vector2,this.canvas=t,this.lastX=0,this.lastY=0,this.touched=!1;var i=this.emitter=new a.EventEmitter;this.mouseDownHandler=function(e){n.touched=!0,n.handleMove(e),i.emit("touchStart",n.getX(),n.getY())},this.mouseUpHandler=function(e){n.touched=!1,i.emit("touchEnd",n.getX(),n.getY())},this.mouseMoveHandler=function(e){n.handleMove(e),i.emit("touchMove",n.getX(),n.getY())},this.touchStartHandler=function(e){e.preventDefault();var t=e.touches[0];n.canvas.dispatchEvent(new MouseEvent("mousedown",{clientX:t.clientX,clientY:t.clientY}))},this.touchEndHandler=function(e){e.preventDefault(),n.canvas.dispatchEvent(new MouseEvent("mouseup"))},this.touchMoveHandler=function(e){e.preventDefault();var t=e.touches[0];n.canvas.dispatchEvent(new MouseEvent("mousemove",{clientX:t.clientX,clientY:t.clientY}))},this.canvas.addEventListener("mousedown",this.mouseDownHandler,!1),this.canvas.addEventListener("mouseup",this.mouseUpHandler,!1),this.canvas.addEventListener("mousemove",this.mouseMoveHandler,!1),this.canvas.addEventListener("touchstart",this.touchStartHandler,!1),this.canvas.addEventListener("touchend",this.touchEndHandler,!1),this.canvas.addEventListener("touchmove",this.touchMoveHandler,!1)}return i(e,[{key:"cleanup",value:function(){this.canvas.removeEventListener("mousedown",this.mouseDownHandler),this.canvas.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("touchstart",this.touchStartHandler),this.canvas.removeEventListener("touchend",this.touchEndHandler),this.canvas.removeEventListener("touchmove",this.touchMoveHandler)}},{key:"addEventListener",value:function(e,t){this.emitter.addListener(e,t)}},{key:"handleMove",value:function(e){var t=this.canvas.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;this.lastX=n,this.lastY=r}},{key:"getX",value:function(){return this.lastX}},{key:"getY",value:function(){return this.lastY}},{key:"isTouched",value:function(){return this.touched}},{key:"getTouchedWorldCoord",value:function(e){return this.screenCoord.set(this.getX(),this.getY()),e.unprojectVector2(this.worldCoord,this.screenCoord),this.worldCoord}}]),e}();t.InputHandler=o},6239:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix3=void 0;var s=n(4995),o=n(8606),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(this,e),this.val=new Array(9),this.tmp=new Array(9),t?this.setByMatrix3(t):this.idt()}return a(e,[{key:"idt",value:function(){var t=this.val;return t[e.M00]=1,t[e.M10]=0,t[e.M20]=0,t[e.M01]=0,t[e.M11]=1,t[e.M21]=0,t[e.M02]=0,t[e.M12]=0,t[e.M22]=1,this}},{key:"mulWithMatrix3",value:function(t){var n=this.val,r=n[e.M00]*t.val[e.M00]+n[e.M01]*t.val[e.M10]+n[e.M02]*t.val[e.M20],i=n[e.M00]*t.val[e.M01]+n[e.M01]*t.val[e.M11]+n[e.M02]*t.val[e.M21],a=n[e.M00]*t.val[e.M02]+n[e.M01]*t.val[e.M12]+n[e.M02]*t.val[e.M22],s=n[e.M10]*t.val[e.M00]+n[e.M11]*t.val[e.M10]+n[e.M12]*t.val[e.M20],o=n[e.M10]*t.val[e.M01]+n[e.M11]*t.val[e.M11]+n[e.M12]*t.val[e.M21],l=n[e.M10]*t.val[e.M02]+n[e.M11]*t.val[e.M12]+n[e.M12]*t.val[e.M22],u=n[e.M20]*t.val[e.M00]+n[e.M21]*t.val[e.M10]+n[e.M22]*t.val[e.M20],c=n[e.M20]*t.val[e.M01]+n[e.M21]*t.val[e.M11]+n[e.M22]*t.val[e.M21],h=n[e.M20]*t.val[e.M02]+n[e.M21]*t.val[e.M12]+n[e.M22]*t.val[e.M22];return n[e.M00]=r,n[e.M10]=s,n[e.M20]=u,n[e.M01]=i,n[e.M11]=o,n[e.M21]=c,n[e.M02]=a,n[e.M12]=l,n[e.M22]=h,this}},{key:"mulLeft",value:function(t){var n=this.val,r=t.val[e.M00]*n[e.M00]+t.val[e.M01]*n[e.M10]+t.val[e.M02]*n[e.M20],i=t.val[e.M00]*n[e.M01]+t.val[e.M01]*n[e.M11]+t.val[e.M02]*n[e.M21],a=t.val[e.M00]*n[e.M02]+t.val[e.M01]*n[e.M12]+t.val[e.M02]*n[e.M22],s=t.val[e.M10]*n[e.M00]+t.val[e.M11]*n[e.M10]+t.val[e.M12]*n[e.M20],o=t.val[e.M10]*n[e.M01]+t.val[e.M11]*n[e.M11]+t.val[e.M12]*n[e.M21],l=t.val[e.M10]*n[e.M02]+t.val[e.M11]*n[e.M12]+t.val[e.M12]*n[e.M22],u=t.val[e.M20]*n[e.M00]+t.val[e.M21]*n[e.M10]+t.val[e.M22]*n[e.M20],c=t.val[e.M20]*n[e.M01]+t.val[e.M21]*n[e.M11]+t.val[e.M22]*n[e.M21],h=t.val[e.M20]*n[e.M02]+t.val[e.M21]*n[e.M12]+t.val[e.M22]*n[e.M22];return n[e.M00]=r,n[e.M10]=s,n[e.M20]=u,n[e.M01]=i,n[e.M11]=o,n[e.M21]=c,n[e.M02]=a,n[e.M12]=l,n[e.M22]=h,this}},{key:"setToRotation",value:function(e){return this.setToRotationRad(o.MathUtils.degreesToRadians*e)}},{key:"setToRotationRad",value:function(t){var n=Math.cos(t),r=Math.sin(t),i=this.val;return i[e.M00]=n,i[e.M10]=r,i[e.M20]=0,i[e.M01]=-r,i[e.M11]=n,i[e.M21]=0,i[e.M02]=0,i[e.M12]=0,i[e.M22]=1,this}},{key:"setToRotationWithAxis",value:function(t,n){var r=Math.cos(n),i=Math.sin(n),a=this.val,s=1-r;return a[e.M00]=s*t.x*t.x+r,a[e.M01]=s*t.x*t.y-t.z*i,a[e.M02]=s*t.z*t.x+t.y*i,a[e.M10]=s*t.x*t.y+t.z*i,a[e.M11]=s*t.y*t.y+r,a[e.M12]=s*t.y*t.z-t.x*i,a[e.M20]=s*t.z*t.x-t.y*i,a[e.M21]=s*t.y*t.z+t.x*i,a[e.M22]=s*t.z*t.z+r,this}},{key:"setToTranslation",value:function(t,n){var r=this.val;return r[e.M00]=1,r[e.M10]=0,r[e.M20]=0,r[e.M01]=0,r[e.M11]=1,r[e.M21]=0,r[e.M02]=t,r[e.M12]=n,r[e.M22]=1,this}},{key:"setToScaling",value:function(t,n){var r=this.val;return r[e.M00]=t,r[e.M10]=0,r[e.M20]=0,r[e.M01]=0,r[e.M11]=n,r[e.M21]=0,r[e.M02]=0,r[e.M12]=0,r[e.M22]=1,this}},{key:"toString",value:function(){var t=this.val;return"["+t[e.M00]+"|"+t[e.M01]+"|"+t[e.M02]+"]\n["+t[e.M10]+"|"+t[e.M11]+"|"+t[e.M12]+"]\n["+t[e.M20]+"|"+t[e.M21]+"|"+t[e.M22]+"]"}},{key:"det",value:function(){var t=this.val;return t[e.M00]*t[e.M11]*t[e.M22]+t[e.M01]*t[e.M12]*t[e.M20]+t[e.M02]*t[e.M10]*t[e.M21]-t[e.M00]*t[e.M12]*t[e.M21]-t[e.M01]*t[e.M10]*t[e.M22]-t[e.M02]*t[e.M11]*t[e.M20]}},{key:"inv",value:function(){var t=this.det();if(0===t)throw new Error("Can't invert a singular matrix");var n=1/t,r=this.tmp,i=this.val;return r[e.M00]=i[e.M11]*i[e.M22]-i[e.M21]*i[e.M12],r[e.M10]=i[e.M20]*i[e.M12]-i[e.M10]*i[e.M22],r[e.M20]=i[e.M10]*i[e.M21]-i[e.M20]*i[e.M11],r[e.M01]=i[e.M21]*i[e.M02]-i[e.M01]*i[e.M22],r[e.M11]=i[e.M00]*i[e.M22]-i[e.M20]*i[e.M02],r[e.M21]=i[e.M20]*i[e.M01]-i[e.M00]*i[e.M21],r[e.M02]=i[e.M01]*i[e.M12]-i[e.M11]*i[e.M02],r[e.M12]=i[e.M10]*i[e.M02]-i[e.M00]*i[e.M12],r[e.M22]=i[e.M00]*i[e.M11]-i[e.M10]*i[e.M01],i[e.M00]=n*r[e.M00],i[e.M10]=n*r[e.M10],i[e.M20]=n*r[e.M20],i[e.M01]=n*r[e.M01],i[e.M11]=n*r[e.M11],i[e.M21]=n*r[e.M21],i[e.M02]=n*r[e.M02],i[e.M12]=n*r[e.M12],i[e.M22]=n*r[e.M22],this}},{key:"setByMatrix3",value:function(e){var t,n=r(e.val);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.val.push(i)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"setByMatrix4",value:function(t){var n=this.val;return n[e.M00]=t.values[s.Matrix4.M00],n[e.M10]=t.values[s.Matrix4.M10],n[e.M20]=t.values[s.Matrix4.M20],n[e.M01]=t.values[s.Matrix4.M01],n[e.M11]=t.values[s.Matrix4.M11],n[e.M21]=t.values[s.Matrix4.M21],n[e.M02]=t.values[s.Matrix4.M02],n[e.M12]=t.values[s.Matrix4.M12],n[e.M22]=t.values[s.Matrix4.M22],this}},{key:"trnByVector2",value:function(t){var n=this.val;return n[e.M02]+=t.x,n[e.M12]+=t.y,this}},{key:"trnByMatrix3",value:function(t,n){var r=this.val;return r[e.M02]+=t,r[e.M12]+=n,this}},{key:"trnByVector3",value:function(t){var n=this.val;return n[e.M02]+=t.x,n[e.M12]+=t.y,this}},{key:"translate",value:function(t,n){var r=this.val;return this.tmp[e.M00]=1,this.tmp[e.M10]=0,this.tmp[e.M20]=0,this.tmp[e.M01]=0,this.tmp[e.M11]=1,this.tmp[e.M21]=0,this.tmp[e.M02]=t,this.tmp[e.M12]=n,this.tmp[e.M22]=1,e.mul(r,this.tmp),this}},{key:"rotate",value:function(e){return this.rotateRad(o.MathUtils.degreesToRadians*e)}},{key:"rotateRad",value:function(t){if(0===t)return this;var n=Math.cos(t),r=Math.sin(t),i=this.tmp;return i[e.M00]=n,i[e.M10]=r,i[e.M20]=0,i[e.M01]=-r,i[e.M11]=n,i[e.M21]=0,i[e.M02]=0,i[e.M12]=0,i[e.M22]=1,e.mul(this.val,i),this}},{key:"scale",value:function(t,n){var r=this.tmp;return r[e.M00]=t,r[e.M10]=0,r[e.M20]=0,r[e.M01]=0,r[e.M11]=n,r[e.M21]=0,r[e.M02]=0,r[e.M12]=0,r[e.M22]=1,e.mul(this.val,r),this}},{key:"getValues",value:function(){return this.val}},{key:"getTranslation",value:function(t){return t.x=this.val[e.M02],t.y=this.val[e.M12],t}},{key:"getScale",value:function(t){var n=this.val;return t.x=Math.sqrt(n[e.M00]*n[e.M00]+n[e.M01]*n[e.M01]),t.y=Math.sqrt(n[e.M10]*n[e.M10]+n[e.M11]*n[e.M11]),t}},{key:"getRotation",value:function(){return o.MathUtils.radiansToDegrees*Math.atan2(this.val[e.M10],this.val[e.M00])}},{key:"getRotationRad",value:function(){return Math.atan2(this.val[e.M10],this.val[e.M00])}},{key:"sclByNumber",value:function(t){return this.val[e.M00]*=t,this.val[e.M11]*=t,this}},{key:"sclByVector2",value:function(t){return this.val[e.M00]*=t.x,this.val[e.M11]*=t.y,this}},{key:"scl",value:function(t){return this.val[e.M00]*=t.x,this.val[e.M11]*=t.y,this}},{key:"transpose",value:function(){var t=this.val,n=t[e.M10],r=t[e.M20],i=t[e.M01],a=t[e.M21],s=t[e.M02],o=t[e.M12];return t[e.M01]=n,t[e.M02]=r,t[e.M10]=i,t[e.M12]=a,t[e.M20]=s,t[e.M21]=o,this}}],[{key:"mul",value:function(t,n){var r=t[e.M00]*n[e.M00]+t[e.M01]*n[e.M10]+t[e.M02]*n[e.M20],i=t[e.M00]*n[e.M01]+t[e.M01]*n[e.M11]+t[e.M02]*n[e.M21],a=t[e.M00]*n[e.M02]+t[e.M01]*n[e.M12]+t[e.M02]*n[e.M22],s=t[e.M10]*n[e.M00]+t[e.M11]*n[e.M10]+t[e.M12]*n[e.M20],o=t[e.M10]*n[e.M01]+t[e.M11]*n[e.M11]+t[e.M12]*n[e.M21],l=t[e.M10]*n[e.M02]+t[e.M11]*n[e.M12]+t[e.M12]*n[e.M22],u=t[e.M20]*n[e.M00]+t[e.M21]*n[e.M10]+t[e.M22]*n[e.M20],c=t[e.M20]*n[e.M01]+t[e.M21]*n[e.M11]+t[e.M22]*n[e.M21],h=t[e.M20]*n[e.M02]+t[e.M21]*n[e.M12]+t[e.M22]*n[e.M22];t[e.M00]=r,t[e.M10]=s,t[e.M20]=u,t[e.M01]=i,t[e.M11]=o,t[e.M21]=c,t[e.M02]=a,t[e.M12]=l,t[e.M22]=h}}]),e}();t.Matrix3=l,l.M00=0,l.M01=3,l.M02=6,l.M10=1,l.M11=4,l.M12=7,l.M20=2,l.M21=5,l.M22=8},4995:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix4=void 0;var a=n(5122),s=n(8606),o=n(7811),l=function(){function e(){r(this,e),this.temp=new Float32Array(16),this.values=new Float32Array(16);var t=this.values;t[e.M00]=1,t[e.M11]=1,t[e.M22]=1,t[e.M33]=1}return i(e,[{key:"set",value:function(e){return this.values.set(e),this}},{key:"setFromQuaternion",value:function(t){var n=2*t.x,r=2*t.y,i=2*t.z,a=t.w*n,s=t.w*r,o=t.w*i,l=t.x*n,u=t.x*r,c=t.x*i,h=t.y*r,f=t.y*i,d=t.z*i,p=this.values;return p[e.M00]=1-(h+d),p[e.M01]=u-o,p[e.M02]=c+s,p[e.M03]=0,p[e.M10]=u+o,p[e.M11]=1-(l+d),p[e.M12]=f-a,p[e.M13]=0,p[e.M20]=c-s,p[e.M21]=f+a,p[e.M22]=1-(l+h),p[e.M23]=0,p[e.M30]=0,p[e.M31]=0,p[e.M32]=0,p[e.M33]=1,this}},{key:"setFromTranslationRotation",value:function(t,n,r){var i=2*n.x,a=2*n.y,s=2*n.z,o=n.w*i,l=n.w*a,u=n.w*s,c=n.x*i,h=n.x*a,f=n.x*s,d=n.y*a,p=n.y*s,v=n.z*s,m=this.values;return m[e.M00]=r.x*(1-(d+v)),m[e.M01]=r.y*(h-u),m[e.M02]=r.z*(f+l),m[e.M03]=t.x,m[e.M10]=r.x*(h+u),m[e.M11]=r.y*(1-(c+v)),m[e.M12]=r.z*(p-o),m[e.M13]=t.y,m[e.M20]=r.x*(f-l),m[e.M21]=r.y*(p+o),m[e.M22]=r.z*(1-(c+d)),m[e.M23]=t.z,m[e.M30]=0,m[e.M31]=0,m[e.M32]=0,m[e.M33]=1,this}},{key:"transpose",value:function(){var t=this.temp,n=this.values;return t[e.M00]=n[e.M00],t[e.M01]=n[e.M10],t[e.M02]=n[e.M20],t[e.M03]=n[e.M30],t[e.M10]=n[e.M01],t[e.M11]=n[e.M11],t[e.M12]=n[e.M21],t[e.M13]=n[e.M31],t[e.M20]=n[e.M02],t[e.M21]=n[e.M12],t[e.M22]=n[e.M22],t[e.M23]=n[e.M32],t[e.M30]=n[e.M03],t[e.M31]=n[e.M13],t[e.M32]=n[e.M23],t[e.M33]=n[e.M33],this.set(t)}},{key:"identity",value:function(){var t=this.values;return t[e.M00]=1,t[e.M01]=0,t[e.M02]=0,t[e.M03]=0,t[e.M10]=0,t[e.M11]=1,t[e.M12]=0,t[e.M13]=0,t[e.M20]=0,t[e.M21]=0,t[e.M22]=1,t[e.M23]=0,t[e.M30]=0,t[e.M31]=0,t[e.M32]=0,t[e.M33]=1,this}},{key:"invert",value:function(){var t=this.values,n=this.temp,r=t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33];if(0===r)throw new Error("non-invertible matrix");var i=1/r;return n[e.M00]=t[e.M12]*t[e.M23]*t[e.M31]-t[e.M13]*t[e.M22]*t[e.M31]+t[e.M13]*t[e.M21]*t[e.M32]-t[e.M11]*t[e.M23]*t[e.M32]-t[e.M12]*t[e.M21]*t[e.M33]+t[e.M11]*t[e.M22]*t[e.M33],n[e.M01]=t[e.M03]*t[e.M22]*t[e.M31]-t[e.M02]*t[e.M23]*t[e.M31]-t[e.M03]*t[e.M21]*t[e.M32]+t[e.M01]*t[e.M23]*t[e.M32]+t[e.M02]*t[e.M21]*t[e.M33]-t[e.M01]*t[e.M22]*t[e.M33],n[e.M02]=t[e.M02]*t[e.M13]*t[e.M31]-t[e.M03]*t[e.M12]*t[e.M31]+t[e.M03]*t[e.M11]*t[e.M32]-t[e.M01]*t[e.M13]*t[e.M32]-t[e.M02]*t[e.M11]*t[e.M33]+t[e.M01]*t[e.M12]*t[e.M33],n[e.M03]=t[e.M03]*t[e.M12]*t[e.M21]-t[e.M02]*t[e.M13]*t[e.M21]-t[e.M03]*t[e.M11]*t[e.M22]+t[e.M01]*t[e.M13]*t[e.M22]+t[e.M02]*t[e.M11]*t[e.M23]-t[e.M01]*t[e.M12]*t[e.M23],n[e.M10]=t[e.M13]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M20]*t[e.M32]+t[e.M10]*t[e.M23]*t[e.M32]+t[e.M12]*t[e.M20]*t[e.M33]-t[e.M10]*t[e.M22]*t[e.M33],n[e.M11]=t[e.M02]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M22]*t[e.M30]+t[e.M03]*t[e.M20]*t[e.M32]-t[e.M00]*t[e.M23]*t[e.M32]-t[e.M02]*t[e.M20]*t[e.M33]+t[e.M00]*t[e.M22]*t[e.M33],n[e.M12]=t[e.M03]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M10]*t[e.M32]+t[e.M00]*t[e.M13]*t[e.M32]+t[e.M02]*t[e.M10]*t[e.M33]-t[e.M00]*t[e.M12]*t[e.M33],n[e.M13]=t[e.M02]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M12]*t[e.M20]+t[e.M03]*t[e.M10]*t[e.M22]-t[e.M00]*t[e.M13]*t[e.M22]-t[e.M02]*t[e.M10]*t[e.M23]+t[e.M00]*t[e.M12]*t[e.M23],n[e.M20]=t[e.M11]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M21]*t[e.M30]+t[e.M13]*t[e.M20]*t[e.M31]-t[e.M10]*t[e.M23]*t[e.M31]-t[e.M11]*t[e.M20]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M33],n[e.M21]=t[e.M03]*t[e.M21]*t[e.M30]-t[e.M01]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M20]*t[e.M31]+t[e.M00]*t[e.M23]*t[e.M31]+t[e.M01]*t[e.M20]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M33],n[e.M22]=t[e.M01]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M11]*t[e.M30]+t[e.M03]*t[e.M10]*t[e.M31]-t[e.M00]*t[e.M13]*t[e.M31]-t[e.M01]*t[e.M10]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M33],n[e.M23]=t[e.M03]*t[e.M11]*t[e.M20]-t[e.M01]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M10]*t[e.M21]+t[e.M00]*t[e.M13]*t[e.M21]+t[e.M01]*t[e.M10]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M23],n[e.M30]=t[e.M12]*t[e.M21]*t[e.M30]-t[e.M11]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M20]*t[e.M31]+t[e.M10]*t[e.M22]*t[e.M31]+t[e.M11]*t[e.M20]*t[e.M32]-t[e.M10]*t[e.M21]*t[e.M32],n[e.M31]=t[e.M01]*t[e.M22]*t[e.M30]-t[e.M02]*t[e.M21]*t[e.M30]+t[e.M02]*t[e.M20]*t[e.M31]-t[e.M00]*t[e.M22]*t[e.M31]-t[e.M01]*t[e.M20]*t[e.M32]+t[e.M00]*t[e.M21]*t[e.M32],n[e.M32]=t[e.M02]*t[e.M11]*t[e.M30]-t[e.M01]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M10]*t[e.M31]+t[e.M00]*t[e.M12]*t[e.M31]+t[e.M01]*t[e.M10]*t[e.M32]-t[e.M00]*t[e.M11]*t[e.M32],n[e.M33]=t[e.M01]*t[e.M12]*t[e.M20]-t[e.M02]*t[e.M11]*t[e.M20]+t[e.M02]*t[e.M10]*t[e.M21]-t[e.M00]*t[e.M12]*t[e.M21]-t[e.M01]*t[e.M10]*t[e.M22]+t[e.M00]*t[e.M11]*t[e.M22],t[e.M00]=n[e.M00]*i,t[e.M01]=n[e.M01]*i,t[e.M02]=n[e.M02]*i,t[e.M03]=n[e.M03]*i,t[e.M10]=n[e.M10]*i,t[e.M11]=n[e.M11]*i,t[e.M12]=n[e.M12]*i,t[e.M13]=n[e.M13]*i,t[e.M20]=n[e.M20]*i,t[e.M21]=n[e.M21]*i,t[e.M22]=n[e.M22]*i,t[e.M23]=n[e.M23]*i,t[e.M30]=n[e.M30]*i,t[e.M31]=n[e.M31]*i,t[e.M32]=n[e.M32]*i,t[e.M33]=n[e.M33]*i,this}},{key:"determinant",value:function(){var t=this.values;return t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33]}},{key:"translate",value:function(t,n,r){var i=this.values;return i[e.M03]+=t,i[e.M13]+=n,i[e.M23]+=r,this}},{key:"setTranslation",value:function(t,n,r){var i=this.values;return i[e.M03]=t,i[e.M13]=n,i[e.M23]=r,this}},{key:"getTranslation",value:function(t){var n=this.values;return t.x=n[e.M03],t.y=n[e.M13],t.z=n[e.M23],t}},{key:"hasRotationOrScaling",value:function(){var t=this.values;return!(s.MathUtils.isEqual(t[e.M00],1)&&s.MathUtils.isEqual(t[e.M11],1)&&s.MathUtils.isEqual(t[e.M22],1)&&s.MathUtils.isZero(t[e.M01])&&s.MathUtils.isZero(t[e.M02])&&s.MathUtils.isZero(t[e.M10])&&s.MathUtils.isZero(t[e.M12])&&s.MathUtils.isZero(t[e.M20])&&s.MathUtils.isZero(t[e.M21]))}},{key:"det3x3",value:function(){var t=this.values;return t[e.M00]*t[e.M11]*t[e.M22]+t[e.M01]*t[e.M12]*t[e.M20]+t[e.M02]*t[e.M10]*t[e.M21]-t[e.M00]*t[e.M12]*t[e.M21]-t[e.M01]*t[e.M10]*t[e.M22]-t[e.M02]*t[e.M11]*t[e.M20]}},{key:"copy",value:function(){return(new e).set(this.values)}},{key:"projection",value:function(t,n,r,i){this.identity();var a=1/Math.tan(r*(Math.PI/180)/2),s=(n+t)/(t-n),o=2*n*t/(t-n),l=this.values;return l[e.M00]=a/i,l[e.M10]=0,l[e.M20]=0,l[e.M30]=0,l[e.M01]=0,l[e.M11]=a,l[e.M21]=0,l[e.M31]=0,l[e.M02]=0,l[e.M12]=0,l[e.M22]=s,l[e.M32]=-1,l[e.M03]=0,l[e.M13]=0,l[e.M23]=o,l[e.M33]=0,this}},{key:"ortho2d",value:function(e,t,n,r){return this.ortho(e,e+n,t,t+r,0,1)}},{key:"ortho",value:function(t,n,r,i,a,s){this.identity();var o=2/(n-t),l=2/(i-r),u=-2/(s-a),c=-(n+t)/(n-t),h=-(i+r)/(i-r),f=-(s+a)/(s-a),d=this.values;return d[e.M00]=o,d[e.M10]=0,d[e.M20]=0,d[e.M30]=0,d[e.M01]=0,d[e.M11]=l,d[e.M21]=0,d[e.M31]=0,d[e.M02]=0,d[e.M12]=0,d[e.M22]=u,d[e.M32]=0,d[e.M03]=c,d[e.M13]=h,d[e.M23]=f,d[e.M33]=1,this}},{key:"multiply",value:function(t){var n=this.temp,r=this.values,i=t.values;return n[e.M00]=r[e.M00]*i[e.M00]+r[e.M01]*i[e.M10]+r[e.M02]*i[e.M20]+r[e.M03]*i[e.M30],n[e.M01]=r[e.M00]*i[e.M01]+r[e.M01]*i[e.M11]+r[e.M02]*i[e.M21]+r[e.M03]*i[e.M31],n[e.M02]=r[e.M00]*i[e.M02]+r[e.M01]*i[e.M12]+r[e.M02]*i[e.M22]+r[e.M03]*i[e.M32],n[e.M03]=r[e.M00]*i[e.M03]+r[e.M01]*i[e.M13]+r[e.M02]*i[e.M23]+r[e.M03]*i[e.M33],n[e.M10]=r[e.M10]*i[e.M00]+r[e.M11]*i[e.M10]+r[e.M12]*i[e.M20]+r[e.M13]*i[e.M30],n[e.M11]=r[e.M10]*i[e.M01]+r[e.M11]*i[e.M11]+r[e.M12]*i[e.M21]+r[e.M13]*i[e.M31],n[e.M12]=r[e.M10]*i[e.M02]+r[e.M11]*i[e.M12]+r[e.M12]*i[e.M22]+r[e.M13]*i[e.M32],n[e.M13]=r[e.M10]*i[e.M03]+r[e.M11]*i[e.M13]+r[e.M12]*i[e.M23]+r[e.M13]*i[e.M33],n[e.M20]=r[e.M20]*i[e.M00]+r[e.M21]*i[e.M10]+r[e.M22]*i[e.M20]+r[e.M23]*i[e.M30],n[e.M21]=r[e.M20]*i[e.M01]+r[e.M21]*i[e.M11]+r[e.M22]*i[e.M21]+r[e.M23]*i[e.M31],n[e.M22]=r[e.M20]*i[e.M02]+r[e.M21]*i[e.M12]+r[e.M22]*i[e.M22]+r[e.M23]*i[e.M32],n[e.M23]=r[e.M20]*i[e.M03]+r[e.M21]*i[e.M13]+r[e.M22]*i[e.M23]+r[e.M23]*i[e.M33],n[e.M30]=r[e.M30]*i[e.M00]+r[e.M31]*i[e.M10]+r[e.M32]*i[e.M20]+r[e.M33]*i[e.M30],n[e.M31]=r[e.M30]*i[e.M01]+r[e.M31]*i[e.M11]+r[e.M32]*i[e.M21]+r[e.M33]*i[e.M31],n[e.M32]=r[e.M30]*i[e.M02]+r[e.M31]*i[e.M12]+r[e.M32]*i[e.M22]+r[e.M33]*i[e.M32],n[e.M33]=r[e.M30]*i[e.M03]+r[e.M31]*i[e.M13]+r[e.M32]*i[e.M23]+r[e.M33]*i[e.M33],this.set(this.temp)}},{key:"multiplyLeft",value:function(t){var n=this.temp,r=this.values,i=t.values;return n[e.M00]=i[e.M00]*r[e.M00]+i[e.M01]*r[e.M10]+i[e.M02]*r[e.M20]+i[e.M03]*r[e.M30],n[e.M01]=i[e.M00]*r[e.M01]+i[e.M01]*r[e.M11]+i[e.M02]*r[e.M21]+i[e.M03]*r[e.M31],n[e.M02]=i[e.M00]*r[e.M02]+i[e.M01]*r[e.M12]+i[e.M02]*r[e.M22]+i[e.M03]*r[e.M32],n[e.M03]=i[e.M00]*r[e.M03]+i[e.M01]*r[e.M13]+i[e.M02]*r[e.M23]+i[e.M03]*r[e.M33],n[e.M10]=i[e.M10]*r[e.M00]+i[e.M11]*r[e.M10]+i[e.M12]*r[e.M20]+i[e.M13]*r[e.M30],n[e.M11]=i[e.M10]*r[e.M01]+i[e.M11]*r[e.M11]+i[e.M12]*r[e.M21]+i[e.M13]*r[e.M31],n[e.M12]=i[e.M10]*r[e.M02]+i[e.M11]*r[e.M12]+i[e.M12]*r[e.M22]+i[e.M13]*r[e.M32],n[e.M13]=i[e.M10]*r[e.M03]+i[e.M11]*r[e.M13]+i[e.M12]*r[e.M23]+i[e.M13]*r[e.M33],n[e.M20]=i[e.M20]*r[e.M00]+i[e.M21]*r[e.M10]+i[e.M22]*r[e.M20]+i[e.M23]*r[e.M30],n[e.M21]=i[e.M20]*r[e.M01]+i[e.M21]*r[e.M11]+i[e.M22]*r[e.M21]+i[e.M23]*r[e.M31],n[e.M22]=i[e.M20]*r[e.M02]+i[e.M21]*r[e.M12]+i[e.M22]*r[e.M22]+i[e.M23]*r[e.M32],n[e.M23]=i[e.M20]*r[e.M03]+i[e.M21]*r[e.M13]+i[e.M22]*r[e.M23]+i[e.M23]*r[e.M33],n[e.M30]=i[e.M30]*r[e.M00]+i[e.M31]*r[e.M10]+i[e.M32]*r[e.M20]+i[e.M33]*r[e.M30],n[e.M31]=i[e.M30]*r[e.M01]+i[e.M31]*r[e.M11]+i[e.M32]*r[e.M21]+i[e.M33]*r[e.M31],n[e.M32]=i[e.M30]*r[e.M02]+i[e.M31]*r[e.M12]+i[e.M32]*r[e.M22]+i[e.M33]*r[e.M32],n[e.M33]=i[e.M30]*r[e.M03]+i[e.M31]*r[e.M13]+i[e.M32]*r[e.M23]+i[e.M33]*r[e.M33],this.set(this.temp)}},{key:"idt",value:function(){var t=this.values;return t[e.M00]=1,t[e.M01]=0,t[e.M02]=0,t[e.M03]=0,t[e.M10]=0,t[e.M11]=1,t[e.M12]=0,t[e.M13]=0,t[e.M20]=0,t[e.M21]=0,t[e.M22]=1,t[e.M23]=0,t[e.M30]=0,t[e.M31]=0,t[e.M32]=0,t[e.M33]=1,this}},{key:"lookAt",value:function(t,n,r){e.initTemps();var i=e.xAxis,a=e.yAxis,s=e.zAxis;s.setFrom(n).normalize(),i.setFrom(n).normalize(),i.cross(r).normalize(),a.setFrom(i).cross(s).normalize(),this.identity();var o=this.values;return o[e.M00]=i.x,o[e.M01]=i.y,o[e.M02]=i.z,o[e.M10]=a.x,o[e.M11]=a.y,o[e.M12]=a.z,o[e.M20]=-s.x,o[e.M21]=-s.y,o[e.M22]=-s.z,e.tmpMatrix.identity(),e.tmpMatrix.values[e.M03]=-t.x,e.tmpMatrix.values[e.M13]=-t.y,e.tmpMatrix.values[e.M23]=-t.z,this.multiply(e.tmpMatrix),this}},{key:"setToLookAt",value:function(t,n,r){return null===e.tempVec&&(e.tempVec=new o.Vector3),e.tempVec.setFrom(n).sub(t),this.lookAt(t,e.tempVec,r),this}},{key:"rotate",value:function(t){var n=t.x,r=t.y,i=t.z,a=t.w,s=n*n,o=n*r,l=n*i,u=n*a,c=r*r,h=r*i,f=r*a,d=i*i,p=i*a,v=1-2*(c+d),m=2*(o-p),g=2*(l+f),y=2*(o+p),b=1-2*(s+d),_=2*(h-u),x=2*(l-f),w=2*(h+u),k=1-2*(s+c),M=this.values,T=M[e.M00]*v+M[e.M01]*y+M[e.M02]*x,S=M[e.M00]*m+M[e.M01]*b+M[e.M02]*w,A=M[e.M00]*g+M[e.M01]*_+M[e.M02]*k,E=M[e.M10]*v+M[e.M11]*y+M[e.M12]*x,L=M[e.M10]*m+M[e.M11]*b+M[e.M12]*w,C=M[e.M10]*g+M[e.M11]*_+M[e.M12]*k,O=M[e.M20]*v+M[e.M21]*y+M[e.M22]*x,P=M[e.M20]*m+M[e.M21]*b+M[e.M22]*w,I=M[e.M20]*g+M[e.M21]*_+M[e.M22]*k,N=M[e.M30]*v+M[e.M31]*y+M[e.M32]*x,R=M[e.M30]*m+M[e.M31]*b+M[e.M32]*w,F=M[e.M30]*g+M[e.M31]*_+M[e.M32]*k;return M[e.M00]=T,M[e.M10]=E,M[e.M20]=O,M[e.M30]=N,M[e.M01]=S,M[e.M11]=L,M[e.M21]=P,M[e.M31]=R,M[e.M02]=A,M[e.M12]=C,M[e.M22]=I,M[e.M32]=F,this}},{key:"scale",value:function(t,n,r){var i=this.values;return i[e.M00]*=t,i[e.M01]*=n,i[e.M02]*=r,i[e.M10]*=t,i[e.M11]*=n,i[e.M12]*=r,i[e.M20]*=t,i[e.M21]*=n,i[e.M22]*=r,i[e.M30]*=t,i[e.M31]*=n,i[e.M32]*=r,this}},{key:"setToRotation",value:function(t,n){return 0===n?(this.idt(),this):this.setFromQuaternion(e.quat.setFromAxis(t.x,t.y,t.z,n))}}],[{key:"initTemps",value:function(){null===e.xAxis&&(e.xAxis=new o.Vector3),null===e.yAxis&&(e.yAxis=new o.Vector3),null===e.zAxis&&(e.zAxis=new o.Vector3)}},{key:"matrix4_proj",value:function(t,n){var r=1/(n[0]*t[e.M30]+n[1]*t[e.M31]+n[2]*t[e.M32]+t[e.M33]),i=(n[0]*t[e.M00]+n[1]*t[e.M01]+n[2]*t[e.M02]+t[e.M03])*r,a=(n[0]*t[e.M10]+n[1]*t[e.M11]+n[2]*t[e.M12]+t[e.M13])*r,s=(n[0]*t[e.M20]+n[1]*t[e.M21]+n[2]*t[e.M22]+t[e.M23])*r;n[0]=i,n[1]=a,n[2]=s}},{key:"prj",value:function(t,n,r,i,a){for(var s=e.tmpArrayForVec,o=0;o<i;o++){var l=r+o*a,u=0;s[u]=n[l+u++],s[u]=n[l+u++],s[u]=n[l+u++],u=0,e.matrix4_proj(t.values,s),n[o*a+u]=s[u++],n[o*a+u]=s[u++],n[o*a+u]=s[u++]}}}]),e}();t.Matrix4=l,l.M00=0,l.M01=4,l.M02=8,l.M03=12,l.M10=1,l.M11=5,l.M12=9,l.M13=13,l.M20=2,l.M21=6,l.M22=10,l.M23=14,l.M30=3,l.M31=7,l.M32=11,l.M33=15,l.xAxis=null,l.yAxis=null,l.zAxis=null,l.tempVec=null,l.tmpMatrix=new l,l.quat=new a.Quaternion,l.tmpArrayForVec=[]},1514:function(e,t,n){"use strict";var r=n(1655).default,i=n(6389).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Color2Attribute=t.ColorAttribute=t.TexCoordAttribute=t.Position3Attribute=t.Position2Attribute=t.VertexAttribute=t.VertexAttributeType=t.Mesh=void 0;var o,l=n(1858),u=function(){function e(t,n,r,i){a(this,e),this.attributes=n,this.verticesLength=0,this.dirtyVertices=!1,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.context=t,this.elementsPerVertex=0;for(var s=0;s<n.length;s++)this.elementsPerVertex+=n[s].numElements;this.vertices=new Float32Array(r*this.elementsPerVertex),this.indices=new Uint16Array(i)}return s(e,[{key:"getAttributes",value:function(){return this.attributes}},{key:"maxVertices",value:function(){return this.vertices.length/this.elementsPerVertex}},{key:"numVertices",value:function(){return this.verticesLength/this.elementsPerVertex}},{key:"setVerticesLength",value:function(e){this.dirtyVertices=!0,this.verticesLength=e}},{key:"getVertices",value:function(){return this.vertices}},{key:"maxIndices",value:function(){return this.indices.length}},{key:"numIndices",value:function(){return this.indicesLength}},{key:"setIndicesLength",value:function(e){this.dirtyIndices=!0,this.indicesLength=e}},{key:"getIndices",value:function(){return this.indices}},{key:"getVertexSizeInFloats",value:function(){for(var e=0,t=0;t<this.attributes.length;t++){e+=this.attributes[t].numElements}return e}},{key:"setVertices",value:function(e){if(this.dirtyVertices=!0,e.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(e,0),this.verticesLength=e.length}},{key:"setIndices",value:function(e){if(this.dirtyIndices=!0,e.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(e,0),this.indicesLength=e.length}},{key:"draw",value:function(e,t){this.drawWithOffset(e,t,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)}},{key:"drawWithOffset",value:function(e,t,n,r){var i=this.context;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(e),this.indicesLength>0?i.drawElements(t,r,i.UNSIGNED_SHORT,2*n):i.drawArrays(t,n,r),this.unbind(e)}},{key:"bind",value:function(e){var t=this.context;t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer);for(var n=0,r=0;r<this.attributes.length;r++){var i=this.attributes[r],a=e.getAttributeLocation(i.name);t.enableVertexAttribArray(a),t.vertexAttribPointer(a,i.numElements,t.FLOAT,!1,4*this.elementsPerVertex,4*n),n+=i.numElements}this.indicesLength>0&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)}},{key:"unbind",value:function(e){for(var t=this.context,n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=e.getAttributeLocation(r.name);t.disableVertexAttribArray(i)}t.bindBuffer(t.ARRAY_BUFFER,null),this.indicesLength>0&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}},{key:"update",value:function(){var e=this.context;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),e.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),e.DYNAMIC_DRAW),this.dirtyIndices=!1)}},{key:"restore",value:function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()}},{key:"dispose",value:function(){var e=this.context;e.deleteBuffer(this.verticesBuffer),e.deleteBuffer(this.indicesBuffer)}}]),e}();t.Mesh=u,function(e){e[e.Float=0]="Float"}(o=t.VertexAttributeType||(t.VertexAttributeType={}));var c=s((function e(t,n,r){a(this,e),this.name=t,this.type=n,this.numElements=r}));t.VertexAttribute=c;var h=function(e){r(n,e);var t=i(n);function n(){return a(this,n),t.call(this,l.Shader.POSITION,o.Float,2)}return s(n)}(c);t.Position2Attribute=h;var f=function(e){r(n,e);var t=i(n);function n(){return a(this,n),t.call(this,l.Shader.POSITION,o.Float,3)}return s(n)}(c);t.Position3Attribute=f;var d=function(e){r(n,e);var t=i(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a(this,n),t.call(this,l.Shader.TEXCOORDS+(0===e?"":e),o.Float,2)}return s(n)}(c);t.TexCoordAttribute=d;var p=function(e){r(n,e);var t=i(n);function n(){return a(this,n),t.call(this,l.Shader.COLOR,o.Float,4)}return s(n)}(c);t.ColorAttribute=p;var v=function(e){r(n,e);var t=i(n);function n(){return a(this,n),t.call(this,l.Shader.COLOR2,o.Float,4)}return s(n)}(c);t.Color2Attribute=v},9699:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NumberUtil=void 0;var a=new Int8Array(4),s=new Int32Array(a.buffer,0,1),o=new Float32Array(a.buffer,0,1),l=function(){function e(){r(this,e)}return i(e,null,[{key:"intBitsToFloat",value:function(e){return s[0]=e,o[0]}},{key:"floatToIntBits",value:function(e){return o[0]=e,s[0]}},{key:"intToFloatColor",value:function(t){return e.intBitsToFloat(4278190079&t)}},{key:"colorToFloat",value:function(t,n,r,i){var a=t<<24|n<<16|r<<8|i;return e.intToFloatColor(a)}},{key:"isPowerOfTwo",value:function(e){return 0===(e&e-1)}},{key:"nextPowerOfTwo",value:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,(e|=e>>16)+1}}]),e}();t.NumberUtil=l},1251:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PolygonBatch=void 0;var a=n(8606),s=n(1514),o=n(1858),l=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],u=new a.Color(1,1,1,1),c=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10920;if(r(this,e),this.isDrawing=!1,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,this.projectionValues=new Float32Array(16),this.color=u,this.twoColorTint=!0,this.yDown=!1,i>10920)throw new Error("Can't have more than 10920 triangles per batch: "+i);this.context=t;var a=n?[new s.Position2Attribute,new s.ColorAttribute,new s.TexCoordAttribute,new s.Color2Attribute]:[new s.Position2Attribute,new s.ColorAttribute,new s.TexCoordAttribute];this.mesh=new s.Mesh(t,a,i,3*i),this.shader=o.Shader.newTwoColoredTextured(t);var l=this.context;this.srcColorBlend=l.SRC_ALPHA,this.srcAlphaBlend=l.ONE,this.dstBlend=l.ONE_MINUS_SRC_ALPHA,this.twoColorTint=n}return i(e,[{key:"setColor",value:function(e){this.color=e}},{key:"setShader",value:function(e){this.shader.dispose(),this.shader=e}},{key:"setProjection",value:function(e){this.projectionValues=e}},{key:"begin",value:function(){if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0;var e=this.shader;this.lastTexture=null,this.isDrawing=!0,e.bind(),e.setUniform4x4f(o.Shader.MVP_MATRIX,this.projectionValues),e.setUniformi("u_texture",0);var t=this.context;t.enable(t.BLEND),t.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend)}},{key:"setBlendMode",value:function(e,t,n){this.srcColorBlend===e&&this.srcAlphaBlend===t&&this.dstBlend===n||(this.srcColorBlend=e,this.srcAlphaBlend=t,this.dstBlend=n,this.isDrawing&&(this.flush(),this.context.blendFuncSeparate(e,n,t,n)))}},{key:"drawVerticesWithOffset",value:function(t,n,r,i){for(var a=[],s=0;s<i;s++)a[s]=n[s+r];this.drawVertices(t,a,e.QUAD_TRIANGLES)}},{key:"drawVertices",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.QUAD_TRIANGLES;t!==this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+n.length>this.mesh.getVertices().length||this.indicesLength+r.length>this.mesh.getIndices().length)&&this.flush();var i=this.mesh.numVertices();this.mesh.getVertices().set(n,this.verticesLength),this.verticesLength+=n.length,this.mesh.setVerticesLength(this.verticesLength);for(var a=this.mesh.getIndices(),s=this.indicesLength,o=0;o<r.length;s++,o++)a[s]=r[o]+i;this.indicesLength+=r.length,this.mesh.setIndicesLength(this.indicesLength)}},{key:"flush",value:function(){0!==this.verticesLength&&(this.lastTexture.bind(),this.mesh.draw(this.shader,this.context.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++)}},{key:"end",value:function(){if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader.unbind(),this.lastTexture=null,this.isDrawing=!1,e.totalDrawCalls+=this.drawCalls;var t=this.context;t.disable(t.BLEND)}},{key:"getDrawCalls",value:function(){return this.drawCalls}},{key:"dispose",value:function(){this.mesh.dispose()}},{key:"setYDown",value:function(e){this.yDown=e}},{key:"draw",value:function(t,n,r,i,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1,p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,v=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,m=arguments.length>14&&void 0!==arguments[14]&&arguments[14],g=this.color;if(this.yDown){var y=d;d=v,v=y}n=n||0,r=r||0;var b=-s,_=(i=0===i?i:i||t.width)-s,x=i-s,w=-s,k=-o,M=-o,T=(a=0===a?a:a||t.height)-o,S=a-o;if(1!==c&&(b*=c,_*=c,x*=c,w*=c),1!==h&&(k*=h,M*=h,T*=h,S*=h),0!==u){var A=Math.cos(u),E=Math.sin(u),L=A*b-E*k,C=E*b+A*k,O=A*_-E*M,P=E*_+A*M,I=A*x-E*T,N=E*x+A*T,R=A*w-E*S,F=E*w+A*S;b=L,_=O,x=I,w=R,k=C,M=P,T=N,S=F}b+=n+s,_+=n+s,x+=n+s,w+=n+s,k+=r+o,M+=r+o,T+=r+o,S+=r+o;var B=f,D=d,j=p,U=v,V=j,G=D,z=B,W=U;m&&(this.yDown?(B=f,D=v,j=p,U=d,V=f,G=d,z=p,W=v):(B=p,D=d,j=f,U=v,V=p,G=v,z=f,W=d));var H=0;l[H++]=b,l[H++]=k,l[H++]=g.r,l[H++]=g.g,l[H++]=g.b,l[H++]=g.a,l[H++]=B,l[H++]=D,this.twoColorTint&&(l[H++]=0,l[H++]=0,l[H++]=0,l[H++]=0),l[H++]=_,l[H++]=M,l[H++]=g.r,l[H++]=g.g,l[H++]=g.b,l[H++]=g.a,l[H++]=V,l[H++]=G,this.twoColorTint&&(l[H++]=0,l[H++]=0,l[H++]=0,l[H++]=0),l[H++]=x,l[H++]=T,l[H++]=g.r,l[H++]=g.g,l[H++]=g.b,l[H++]=g.a,l[H++]=j,l[H++]=U,this.twoColorTint&&(l[H++]=0,l[H++]=0,l[H++]=0,l[H++]=0),l[H++]=w,l[H++]=S,l[H++]=g.r,l[H++]=g.g,l[H++]=g.b,l[H++]=g.a,l[H++]=z,l[H++]=W,this.twoColorTint&&(l[H++]=0,l[H++]=0,l[H++]=0,l[H]=0),this.drawVertices(t,l,e.QUAD_TRIANGLES)}}],[{key:"resetTotalDrawCalls",value:function(){e.totalDrawCalls=0}}]),e}();t.PolygonBatch=c,c.QUAD_TRIANGLES=[0,1,2,2,3,0],c.totalDrawCalls=0},5122:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Quaternion=void 0;var a=n(4995),s=n(8606),o=n(7811),l=n(6239),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e),this.set(t,n,i,a)}return i(e,[{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setFrom",value:function(e){return this.set(e.x,e.y,e.z,e.w)}},{key:"len",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"toString",value:function(){return"["+this.x+"|"+this.y+"|"+this.z+"|"+this.w+"]"}},{key:"setEulerAngles",value:function(e,t,n){return this.setEulerAnglesRad(e*s.MathUtils.degreesToRadians,t*s.MathUtils.degreesToRadians,n*s.MathUtils.degreesToRadians)}},{key:"setEulerAnglesRad",value:function(e,t,n){var r=.5*n,i=Math.sin(r),a=Math.cos(r),s=.5*t,o=Math.sin(s),l=Math.cos(s),u=.5*e,c=Math.sin(u),h=Math.cos(u),f=h*o,d=c*l,p=h*l,v=c*o;return this.x=f*a+d*i,this.y=d*a-f*i,this.z=p*i-v*a,this.w=p*a+v*i,this}},{key:"getGimbalPole",value:function(){var e=this.y*this.x+this.z*this.w;return e>.499?1:e<-.499?-1:0}},{key:"getRollRad",value:function(){var e=this.getGimbalPole();return 0===e?Math.atan2(2*(this.w*this.z+this.y*this.x),1-2*(this.x*this.x+this.z*this.z)):2*e*Math.atan2(this.y,this.w)}},{key:"getRoll",value:function(){return this.getRollRad()*s.MathUtils.radiansToDegrees}},{key:"getPitchRad",value:function(){var e=this.getGimbalPole();return 0===e?Math.asin(s.MathUtils.clamp(2*(this.w*this.x-this.z*this.y),-1,1)):e*s.MathUtils.PI*.5}},{key:"getPitch",value:function(){return this.getPitchRad()*s.MathUtils.radiansToDegrees}},{key:"getYawRad",value:function(){return 0===this.getGimbalPole()?Math.atan2(2*(this.y*this.w+this.x*this.z),1-2*(this.y*this.y+this.x*this.x)):0}},{key:"getYaw",value:function(){return this.getYawRad()*s.MathUtils.radiansToDegrees}},{key:"len2",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"nor",value:function(){var e=this.len2();return 0===e||s.MathUtils.isEqual(e,1)||(e=Math.sqrt(e),this.w/=e,this.x/=e,this.y/=e,this.z/=e),this}},{key:"conjugate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"transform",value:function(t){e.tmp2.set(this.x,this.y,this.z,this.w),e.tmp2.conjugate();var n=e.tmp1.set(t.x,t.y,t.z,0);return e.tmp2.mulLeft(n.x,n.y,n.z,n.w).mulLeft(this.x,this.y,this.z,this.w),t.x=e.tmp2.x,t.y=e.tmp2.y,t.z=e.tmp2.z,t}},{key:"mul",value:function(e,t,n,r){var i=this.w*e+this.x*r+this.y*n-this.z*t,a=this.w*t+this.y*r+this.z*e-this.x*n,s=this.w*n+this.z*r+this.x*t-this.y*e,o=this.w*r-this.x*e-this.y*t-this.z*n;return this.x=i,this.y=a,this.z=s,this.w=o,this}},{key:"mulLeft",value:function(e,t,n,r){var i=r*this.x+e*this.w+t*this.z-n*this.y,a=r*this.y+t*this.w+n*this.x-e*this.z,s=r*this.z+n*this.w+e*this.y-t*this.x,o=r*this.w-e*this.x-t*this.y-n*this.z;return this.x=i,this.y=a,this.z=s,this.w=o,this}},{key:"add",value:function(e,t,n,r){return this.x+=e,this.y+=t,this.z+=n,this.w+=r,this}},{key:"toMatrix",value:function(e){var t=this.x*this.x,n=this.x*this.y,r=this.x*this.z,i=this.x*this.w,s=this.y*this.y,o=this.y*this.z,l=this.y*this.w,u=this.z*this.z,c=this.z*this.w;e[a.Matrix4.M00]=1-2*(s+u),e[a.Matrix4.M01]=2*(n-c),e[a.Matrix4.M02]=2*(r+l),e[a.Matrix4.M03]=0,e[a.Matrix4.M10]=2*(n+c),e[a.Matrix4.M11]=1-2*(t+u),e[a.Matrix4.M12]=2*(o-i),e[a.Matrix4.M13]=0,e[a.Matrix4.M20]=2*(r-l),e[a.Matrix4.M21]=2*(o+i),e[a.Matrix4.M22]=1-2*(t+s),e[a.Matrix4.M23]=0,e[a.Matrix4.M30]=0,e[a.Matrix4.M31]=0,e[a.Matrix4.M32]=0,e[a.Matrix4.M33]=1}},{key:"idt",value:function(){return this.set(0,0,0,1)}},{key:"isIdentity",value:function(){return s.MathUtils.isZero(this.x)&&s.MathUtils.isZero(this.y)&&s.MathUtils.isZero(this.z)&&s.MathUtils.isEqual(this.w,1)}},{key:"setFromAxis",value:function(e,t,n,r){return this.setFromAxisRad(e,t,n,r*s.MathUtils.degreesToRadians)}},{key:"setFromAxisRad",value:function(e,t,n,r){var i=new o.Vector3(e,t,n).length();if(0===i)return this.idt();i=1/i;var a=r<0?s.MathUtils.PI2- -r%s.MathUtils.PI2:r%s.MathUtils.PI2,l=Math.sin(a/2),u=Math.cos(a/2);return this.set(i*e*l,i*t*l,i*n*l,u).nor()}},{key:"setFromMatrix4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.setFromAxes(e.values[a.Matrix4.M00],e.values[a.Matrix4.M01],e.values[a.Matrix4.M02],e.values[a.Matrix4.M10],e.values[a.Matrix4.M11],e.values[a.Matrix4.M12],e.values[a.Matrix4.M20],e.values[a.Matrix4.M21],e.values[a.Matrix4.M22],t)}},{key:"setFromMatrix3",value:function(e,t){return this.setFromAxes(e.val[l.Matrix3.M00],e.val[l.Matrix3.M01],e.val[l.Matrix3.M02],e.val[l.Matrix3.M10],e.val[l.Matrix3.M11],e.val[l.Matrix3.M12],e.val[l.Matrix3.M20],e.val[l.Matrix3.M21],e.val[l.Matrix3.M22],t)}},{key:"setFromAxes",value:function(e,t,n,r,i,a,s,l,u){var c=arguments.length>9&&void 0!==arguments[9]&&arguments[9];if(c){var h=1/new o.Vector3(e,t,n).length(),f=1/new o.Vector3(r,i,a).length(),d=1/new o.Vector3(s,l,u).length();e*=h,t*=h,n*=h,r*=f,i*=f,a*=f,s*=d,l*=d,u*=d}var p=e+i+u;if(p>=0){var v=Math.sqrt(p+1);this.w=.5*v,v=.5/v,this.x=(l-a)*v,this.y=(n-s)*v,this.z=(r-t)*v}else if(e>i&&e>u){var m=Math.sqrt(1+e-i-u);this.x=.5*m,m=.5/m,this.y=(r+t)*m,this.z=(n+s)*m,this.w=(l-a)*m}else if(i>u){var g=Math.sqrt(1+i-e-u);this.y=.5*g,g=.5/g,this.x=(r+t)*g,this.z=(l+a)*g,this.w=(n-s)*g}else{var y=Math.sqrt(1+u-e-i);this.z=.5*y,y=.5/y,this.x=(n+s)*y,this.y=(l+a)*y,this.w=(r-t)*y}return this}},{key:"setFromCross",value:function(e,t){var n=s.MathUtils.clamp(e.dot(t),-1,1),r=Math.acos(n);return this.setFromAxisRad(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x,r)}},{key:"slerp",value:function(e,t){var n=this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w,r=n<0?-n:n,i=1-t,a=t;if(1-r>.1){var s=Math.acos(r),o=1/Math.sin(s);i=Math.sin((1-t)*s)*o,a=Math.sin(t*s)*o}return n<0&&(a=-a),this.x=i*this.x+a*e.x,this.y=i*this.y+a*e.y,this.z=i*this.z+a*e.z,this.w=i*this.w+a*e.w,this}},{key:"slerpWithQuaternions",value:function(t){var n=1/t.length;this.set(t[0].x,t[0].y,t[0].z,t[0].w).exp(n);for(var r=1;r<t.length;r++){var i=e.tmp1.set(t[r].x,t[r].y,t[r].z,t[r].w).exp(n);this.mul(i.x,i.y,i.z,i.w)}return this.nor(),this}},{key:"exp",value:function(e){var t=this.len(),n=Math.pow(t,e),r=Math.acos(this.w/t),i=0;return i=Math.abs(r)<.001?n*e/t:n*Math.sin(e*r)/(t*Math.sin(r)),this.w=n*Math.cos(e*r),this.x*=i,this.y*=i,this.z*=i,this.nor(),this}},{key:"dot",value:function(e,t,n,r){return this.x*e+this.y*t+this.z*n+this.w*r}},{key:"mulByScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"getAxisAngle",value:function(e){return this.getAxisAngleRad(e.x,e.y,e.z)*s.MathUtils.radiansToDegrees}},{key:"getAxisAngleRad",value:function(e,t,n){this.w>1&&this.nor();var r=2*Math.acos(this.w),i=Math.sqrt(1-this.w*this.w);return i<s.MathUtils.FLOAT_ROUNDING_ERROR?(this.x,this.y,this.z):(this.x/i,this.y/i,this.z/i),r}},{key:"getAngleRad",value:function(){return 2*Math.acos(this.w>1?this.w/this.len():this.w)}},{key:"getAngle",value:function(){return this.getAngleRad()*s.MathUtils.radiansToDegrees}}],[{key:"len",value:function(e,t,n,r){return Math.sqrt(e*e+t*t+n*n+r*r)}},{key:"len2",value:function(e,t,n,r){return e*e+t*t+n*n+r*r}},{key:"dot",value:function(e,t,n,r,i,a,s,o){return e*i+t*a+n*s+r*o}}]),e}();t.Quaternion=u,u.tmp1=new u(0,0,0,0),u.tmp2=new u(0,0,0,0)},1858:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Shader=void 0;var a=function(){function e(t,n,i){r(this,e),this.vertexShader=n,this.fragmentShader=i,this.vs=null,this.fs=null,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vsSource=n,this.fsSource=i,this.context=t,this.compile()}return i(e,[{key:"getProgram",value:function(){return this.program}},{key:"getVertexShader",value:function(){return this.vertexShader}},{key:"getFragmentShader",value:function(){return this.fragmentShader}},{key:"getVertexShaderSource",value:function(){return this.vsSource}},{key:"getFragmentSource",value:function(){return this.fsSource}},{key:"compile",value:function(){var e=this.context;try{this.vs=this.compileShader(e.VERTEX_SHADER,this.vertexShader),this.fs=this.compileShader(e.FRAGMENT_SHADER,this.fragmentShader),this.program=this.compileProgram(this.vs,this.fs)}catch(t){throw this.dispose(),t}}},{key:"compileShader",value:function(e,t){var n=this.context,r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS)){var i="Couldn't compile shader: "+n.getShaderInfoLog(r);if(n.deleteShader(r),!n.isContextLost())throw new Error(i)}return r}},{key:"compileProgram",value:function(e,t){var n=this.context,r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS)){var i="Couldn't compile shader program: "+n.getProgramInfoLog(r);if(n.deleteProgram(r),!n.isContextLost())throw new Error(i)}return r}},{key:"restore",value:function(){this.compile()}},{key:"bind",value:function(){this.context.useProgram(this.program)}},{key:"unbind",value:function(){this.context.useProgram(null)}},{key:"setUniformi",value:function(e,t){this.context.uniform1i(this.getUniformLocation(e),t)}},{key:"setUniformf",value:function(e,t){this.context.uniform1f(this.getUniformLocation(e),t)}},{key:"setUniform2f",value:function(e,t,n){this.context.uniform2f(this.getUniformLocation(e),t,n)}},{key:"setUniform3f",value:function(e,t,n,r){this.context.uniform3f(this.getUniformLocation(e),t,n,r)}},{key:"setUniform1fWithLocation",value:function(e,t){this.context.uniform1f(e,t)}},{key:"setUniform3fWithLocation",value:function(e,t,n,r){this.context.uniform3f(e,t,n,r)}},{key:"setUniform4f",value:function(e,t,n,r,i){this.context.uniform4f(this.getUniformLocation(e),t,n,r,i)}},{key:"setUniform2x2f",value:function(e,t){this.tmp2x2.set(t),this.context.uniformMatrix2fv(this.getUniformLocation(e),!1,this.tmp2x2)}},{key:"setUniform3x3f",value:function(e,t){this.tmp3x3.set(t),this.context.uniformMatrix3fv(this.getUniformLocation(e),!1,this.tmp3x3)}},{key:"setUniform4x4f",value:function(e,t){this.tmp4x4.set(t),this.context.uniformMatrix4fv(this.getUniformLocation(e),!1,this.tmp4x4)}},{key:"setUniform4x4fWithLocation",value:function(e,t){this.context.uniformMatrix4fv(e,!1,t)}},{key:"setUniform3fv",value:function(e,t){this.context.uniform3fv(this.getUniformLocation(e),t)}},{key:"getUniformLocation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.context.getUniformLocation(this.program,e);if(t&&!n&&!this.context.isContextLost())throw new Error("Couldn't find location for uniform ".concat(e));return n}},{key:"getAttributeLocation",value:function(e){return this.context.getAttribLocation(this.program,e)}},{key:"dispose",value:function(){this.vs&&(this.context.deleteShader(this.vs),this.vs=null),this.fs&&(this.context.deleteShader(this.fs),this.fs=null),this.program&&(this.context.deleteProgram(this.program),this.program=null)}}],[{key:"newColoredTextured",value:function(t){return new e(t,"\n         attribute vec4 ".concat(e.POSITION,";\n         attribute vec4 ").concat(e.COLOR,";\n         attribute vec2 ").concat(e.TEXCOORDS,";\n         uniform mat4 ").concat(e.MVP_MATRIX,";\n         varying vec4 v_color;\n         varying vec2 v_texCoords;\n \n         void main () {\n           v_color = ").concat(e.COLOR,";\n           v_texCoords = ").concat(e.TEXCOORDS,";\n           gl_Position = ").concat(e.MVP_MATRIX," * ").concat(e.POSITION,";\n         }\n       "),"\n         #ifdef GL_ES\n           #define LOWP lowp\n           precision mediump float;\n         #else\n           #define LOWP\n         #endif\n         varying LOWP vec4 v_color;\n         varying vec2 v_texCoords;\n         uniform sampler2D u_texture;\n \n         void main () {\n           gl_FragColor = v_color * texture2D(u_texture, v_texCoords);\n         }\n       ")}},{key:"newTwoColoredTextured",value:function(t){return new e(t,"\n         attribute vec4 ".concat(e.POSITION,";\n         attribute vec4 ").concat(e.COLOR,";\n         attribute vec4 ").concat(e.COLOR2,";\n         attribute vec2 ").concat(e.TEXCOORDS,";\n         uniform mat4 ").concat(e.MVP_MATRIX,";\n         varying vec4 v_light;\n         varying vec4 v_dark;\n         varying vec2 v_texCoords;\n \n         void main () {\n           v_light = ").concat(e.COLOR,";\n           v_dark = ").concat(e.COLOR2,";\n           v_texCoords = ").concat(e.TEXCOORDS,";\n           gl_Position = ").concat(e.MVP_MATRIX," * ").concat(e.POSITION,";\n         }\n       "),"\n         #ifdef GL_ES\n           #define LOWP lowp\n           precision mediump float;\n         #else\n           #define LOWP\n         #endif\n         varying LOWP vec4 v_light;\n         varying LOWP vec4 v_dark;\n         varying vec2 v_texCoords;\n         uniform sampler2D u_texture;\n \n         void main () {\n           vec4 texColor = texture2D(u_texture, v_texCoords);\n           gl_FragColor.a = texColor.a * v_light.a;\n           gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n         }\n       ")}},{key:"newColored",value:function(t){return new e(t,"\n         attribute vec4 ".concat(e.POSITION,";\n         attribute vec4 ").concat(e.COLOR,";\n         uniform mat4 ").concat(e.MVP_MATRIX,";\n         varying vec4 v_color;\n \n         void main () {\n           v_color = ").concat(e.COLOR,";\n           gl_Position = ").concat(e.MVP_MATRIX," * ").concat(e.POSITION,";\n         }\n       "),"\n         #ifdef GL_ES\n           #define LOWP lowp\n           precision mediump float;\n         #else\n           #define LOWP\n         #endif\n         varying LOWP vec4 v_color;\n \n         void main () {\n           gl_FragColor = v_color;\n         }\n       ")}}]),e}();t.Shader=a,a.MVP_MATRIX="u_projTrans",a.POSITION="a_position",a.COLOR="a_color",a.COLOR2="a_color2",a.TEXCOORDS="a_texCoords",a.SAMPLER="u_texture",a.NORMAL="a_normal",a.TANGENT="a_tangent",a.BINORMAL="a_binormal",a.BONEWEIGHT="a_boneWeight"},2987:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeRenderer=t.ShapeType=void 0;var a,s=n(1514),o=n(1858),l=n(8606),u=n(2283);!function(e){e[e.Point=0]="Point",e[e.Line=1]="Line",e[e.Filled=4]="Filled"}(a=t.ShapeType||(t.ShapeType={}));var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10920;if(r(this,e),this.isDrawing=!1,this.shapeType=a.Filled,this.color=new l.Color(1,1,1,1),this.vertexIndex=0,this.tmp=new u.Vector2,this.projectionValues=new Float32Array(16),n>10920)throw new Error("Can't have more than 10920 triangles per batch: "+n);this.context=t,this.mesh=new s.Mesh(t,[new s.Position2Attribute,new s.ColorAttribute],n,0);var i=this.context;this.srcColorBlend=i.SRC_ALPHA,this.srcAlphaBlend=i.ONE,this.dstBlend=i.ONE_MINUS_SRC_ALPHA,this.shader=o.Shader.newColored(i)}return i(e,[{key:"setProjection",value:function(e){this.projectionValues=e}},{key:"begin",value:function(){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.vertexIndex=0,this.isDrawing=!0,this.shader.bind(),this.shader.setUniform4x4f(o.Shader.MVP_MATRIX,this.projectionValues);var e=this.context;e.enable(e.BLEND),e.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend)}},{key:"setBlendMode",value:function(e,t,n){(this.srcColorBlend=e,this.srcAlphaBlend=t,this.dstBlend=n,this.isDrawing)&&(this.flush(),this.context.blendFuncSeparate(e,n,t,n))}},{key:"setColor",value:function(e){this.color.setFromColor(e)}},{key:"setColorWith",value:function(e,t,n,r){this.color.set(e,t,n,r)}},{key:"point",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.check(a.Point,1),null===n&&(n=this.color),this.vertex(e,t,n)}},{key:"line",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.check(a.Line,2),null===i&&(i=this.color),this.vertex(e,t,i),this.vertex(n,r,i)}},{key:"triangle",value:function(e,t,n,r,i,s,o){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;this.check(e?a.Filled:a.Line,3),null===l&&(l=this.color),null===u&&(u=this.color),null===c&&(c=this.color),e?(this.vertex(t,n,l),this.vertex(r,i,u),this.vertex(s,o,c)):(this.vertex(t,n,l),this.vertex(r,i,u),this.vertex(r,i,l),this.vertex(s,o,u),this.vertex(s,o,l),this.vertex(t,n,u))}},{key:"quad",value:function(e,t,n,r,i,s,o,l,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,d=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null;this.check(e?a.Filled:a.Line,3),null===c&&(c=this.color),null===h&&(h=this.color),null===f&&(f=this.color),null===d&&(d=this.color),e?(this.vertex(t,n,c),this.vertex(r,i,h),this.vertex(s,o,f),this.vertex(s,o,f),this.vertex(l,u,d),this.vertex(t,n,c)):(this.vertex(t,n,c),this.vertex(r,i,h),this.vertex(r,i,h),this.vertex(s,o,f),this.vertex(s,o,f),this.vertex(l,u,d),this.vertex(l,u,d),this.vertex(t,n,c))}},{key:"rect",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this.quad(e,t,n,t+r,n,t+r,n+i,t,n+i,a,a,a,a)}},{key:"rectLine",value:function(e,t,n,r,i,s){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.check(e?a.Filled:a.Line,8),null===o&&(o=this.color);var l=this.tmp.set(i-n,t-r);l.nor(),s*=.5;var u=l.x*s,c=l.y*s;e?(this.vertex(t+u,n+c,o),this.vertex(t-u,n-c,o),this.vertex(r+u,i+c,o),this.vertex(r-u,i-c,o),this.vertex(r+u,i+c,o),this.vertex(t-u,n-c,o)):(this.vertex(t+u,n+c,o),this.vertex(t-u,n-c,o),this.vertex(r+u,i+c,o),this.vertex(r-u,i-c,o),this.vertex(r+u,i+c,o),this.vertex(t+u,n+c,o),this.vertex(r-u,i-c,o),this.vertex(t-u,n-c,o))}},{key:"x",value:function(e,t,n){this.line(e-n,t-n,e+n,t+n),this.line(e-n,t+n,e+n,t-n)}},{key:"polygon",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(n<3)throw new Error("Polygon must contain at least 3 vertices");this.check(a.Line,2*n),null===r&&(r=this.color),n<<=1;for(var i=e[t<<=1],s=e[t+1],o=t+n,l=t,u=t+n-2;l<u;l+=2){var c=e[l],h=e[l+1],f=0,d=0;l+2>=o?(f=i,d=s):(f=e[l+2],d=e[l+3]),this.vertex(c,h,r),this.vertex(f,d,r)}}},{key:"circle",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(0===s&&(s=Math.max(1,6*l.MathUtils.cbrt(r)|0)),s<=0)throw new Error("segments must be > 0.");null===i&&(i=this.color);var o=2*l.MathUtils.PI/s,u=Math.cos(o),c=Math.sin(o),h=r,f=0;if(e){this.check(a.Filled,3*s+3),s--;for(var d=0;d<s;d++){this.vertex(t,n,i),this.vertex(t+h,n+f,i);var p=h;h=u*h-c*f,f=c*p+u*f,this.vertex(t+h,n+f,i)}this.vertex(t,n,i),this.vertex(t+h,n+f,i)}else{this.check(a.Line,2*s+2);for(var v=0;v<s;v++){this.vertex(t+h,n+f,i);var m=h;h=u*h-c*f,f=c*m+u*f,this.vertex(t+h,n+f,i)}this.vertex(t+h,n+f,i)}h=r,f=0,this.vertex(t+h,n+f,i)}},{key:"curve",value:function(e,t,n,r,i,s,o,l,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;this.check(a.Line,2*u+2),null===c&&(c=this.color);for(var h=1/u,f=h*h,d=h*h*h,p=3*h,v=3*f,m=6*f,g=6*d,y=e-2*n+i,b=t-2*r+s,_=3*(n-i)-e+o,x=3*(r-s)-t+l,w=e,k=t,M=(n-e)*p+y*v+_*d,T=(r-t)*p+b*v+x*d,S=y*m+_*g,A=b*m+x*g,E=_*g,L=x*g;u-- >0;)this.vertex(w,k,c),w+=M,k+=T,M+=S,T+=A,S+=E,A+=L,this.vertex(w,k,c);this.vertex(w,k,c),this.vertex(o,l,c)}},{key:"vertex",value:function(e,t,n){var r=this.vertexIndex,i=this.mesh.getVertices();i[r++]=e,i[r++]=t,i[r++]=n.r,i[r++]=n.g,i[r++]=n.b,i[r++]=n.a,this.vertexIndex=r}},{key:"end",value:function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush();var e=this.context;e.disable(e.BLEND),this.isDrawing=!1}},{key:"flush",value:function(){0!==this.vertexIndex&&(this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0)}},{key:"check",value:function(e,t){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType===e){if(!(this.mesh.maxVertices()-this.mesh.numVertices()<t))return;this.flush()}else this.flush(),this.shapeType=e}},{key:"dispose",value:function(){this.mesh.dispose()}}]),e}();t.ShapeRenderer=c},5297:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Sprite=void 0;var a=n(8606),s=n(2283),o=function(){function e(t){r(this,e),this.region=t,this.dirty=!1,this.position=new s.Vector2(0,0),this.size=new s.Vector2(0,0),this.origin=new s.Vector2(0,0),this.scale=new s.Vector2(1,1),this.color=new a.Color(1,1,1,1),this.rotation=0,this.vertices=new Float32Array(48),this.bounds={x:0,y:0,width:0,height:0},this.setSize(t.width,t.height),this.setOrigin(t.width/2,t.height/2)}return i(e,[{key:"set",value:function(e){this.region=e.region,this.position.setVector(e.position),this.size.setVector(e.size),this.origin.setVector(e.origin),this.rotation=e.rotation,this.scale.setVector(e.scale),this.color.setFromColor(e.color),this.dirty=!0}},{key:"setBounds",value:function(e,t,n,r){this.setPosition(e,t),this.setSize(e,t),this.dirty=!0}},{key:"setSize",value:function(e,t){this.size.set(e,t),this.dirty=!0}},{key:"setPosition",value:function(e,t){this.position.set(e,t),this.dirty=!0}},{key:"setOriginBasedPosition",value:function(e,t){this.setPosition(e-this.origin.x,t-this.origin.y)}},{key:"setX",value:function(e){this.position.x=e,this.dirty=!0}},{key:"setY",value:function(e){this.position.y=e,this.dirty=!0}},{key:"setCenterX",value:function(e){this.setX(e-this.size.x/2)}},{key:"setCenterY",value:function(e){this.setY(e-this.size.y/2)}},{key:"setCenter",value:function(e,t){this.setPosition(e-this.size.x/2,t-this.size.y/2)}},{key:"translateX",value:function(e){this.translate(e,0)}},{key:"translateY",value:function(e){this.translate(0,e)}},{key:"translate",value:function(e,t){this.position.add(e,t),this.dirty=!0}},{key:"setColor",value:function(e){this.color.setFromColor(e),this.dirty=!0}},{key:"setAlpha",value:function(e){this.color.a=e,this.dirty=!0}},{key:"setOrigin",value:function(e,t){this.origin.set(e,t),this.dirty=!0}},{key:"setOriginCenter",value:function(){this.origin.set(this.size.x/2,this.size.y/2),this.dirty=!0}},{key:"setRotation",value:function(e){this.rotation=e,this.dirty=!0}},{key:"getRotation",value:function(){return this.rotation}},{key:"rotate",value:function(e){0!==e&&(this.rotation+=e,this.dirty=!0)}},{key:"setScale",value:function(e,t){this.scale.set(e,t),this.dirty=!0}},{key:"applyScale",value:function(e){this.scale.scale(e),this.dirty=!0}},{key:"getVertices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.vertices,n=this.region;if(!this.dirty)return t;var r=this.position.x,i=this.position.y,a=this.size.x,s=this.size.y,o=this.origin.x,l=this.origin.y,u=this.rotation,c=this.scale.x,h=this.scale.y,f=n.u,d=n.v,p=n.u2,v=n.v2,m=this.color,g=n.rotated,y=a/n.originalWidth,b=s/n.originalHeight,_=n.width*y,x=n.height*b,w=r+n.offsetX*y;if(r=w,i=e?i+s-n.offsetY*b-x:i+n.offsetY*b,e){var k=d;d=v,v=k}var M=-o,T=(a=_)-o,S=a-o,A=-o,E=-l,L=-l,C=(s=x)-l,O=s-l;if(1!==c&&(M*=c,T*=c,S*=c,A*=c),1!==h&&(E*=h,L*=h,C*=h,O*=h),0!==u){var P=Math.cos(u),I=Math.sin(u),N=P*M-I*E,R=I*M+P*E,F=P*T-I*L,B=I*T+P*L,D=P*S-I*C,j=I*S+P*C,U=P*A-I*O,V=I*A+P*O;M=N,T=F,S=D,A=U,E=R,L=B,C=j,O=V}M+=r+o,T+=r+o,S+=r+o,A+=r+o,E+=i+l,L+=i+l,C+=i+l,O+=i+l;var G=f,z=d,W=p,H=v,Y=W,X=z,q=G,$=H;g&&(e?(G=f,z=v,W=p,H=d,Y=f,X=d,q=p,$=v):(G=p,z=d,W=f,H=v,Y=p,X=v,q=f,$=d));var K=0;return t[K++]=M,t[K++]=E,t[K++]=m.r,t[K++]=m.g,t[K++]=m.b,t[K++]=m.a,t[K++]=G,t[K++]=z,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=T,t[K++]=L,t[K++]=m.r,t[K++]=m.g,t[K++]=m.b,t[K++]=m.a,t[K++]=Y,t[K++]=X,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=S,t[K++]=C,t[K++]=m.r,t[K++]=m.g,t[K++]=m.b,t[K++]=m.a,t[K++]=W,t[K++]=H,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=A,t[K++]=O,t[K++]=m.r,t[K++]=m.g,t[K++]=m.b,t[K++]=m.a,t[K++]=q,t[K++]=$,t[K++]=0,t[K++]=0,t[K++]=0,t[K]=0,t}},{key:"getBoundingRectangle",value:function(){var e=this.vertices,t=e[0],n=e[1],r=e[0],i=e[1];return t=(t=(t=t>e[12]?e[12]:t)>e[24]?e[24]:t)>e[36]?e[36]:t,r=(r=(r=r<e[12]?e[12]:r)<e[24]?e[24]:r)<e[36]?e[36]:r,n=(n=(n=n>e[13]?e[13]:n)>e[25]?e[25]:n)>e[37]?e[37]:n,i=(i=(i=i<e[13]?e[13]:i)<e[25]?e[25]:i)<e[37]?e[37]:i,this.bounds.x=t,this.bounds.y=n,this.bounds.width=r-t,this.bounds.height=i-n,this.bounds}},{key:"draw",value:function(e){e.drawVertices(this.region.texture,this.getVertices(e.yDown))}},{key:"drawWithAlpha",value:function(e,t){var n=this.getColor().a;this.setAlpha(n*t),this.draw(e),this.setAlpha(n)}},{key:"getX",value:function(){return this.position.x}},{key:"getY",value:function(){return this.position.y}},{key:"getWidth",value:function(){return this.size.x}},{key:"getHeight",value:function(){return this.size.y}},{key:"getOriginX",value:function(){return this.origin.x}},{key:"getOriginY",value:function(){return this.origin.y}},{key:"getScaleX",value:function(){return this.scale.x}},{key:"getScaleY",value:function(){return this.scale.y}},{key:"getColor",value:function(){return this.color}}]),e}();t.Sprite=o},7139:function(e,t,n){"use strict";var r,i=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Texture=t.TextureWrap=t.TextureFilter=void 0,function(e){e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.MipMap=9987]="MipMap",e[e.MipMapNearestNearest=9984]="MipMapNearestNearest",e[e.MipMapLinearNearest=9985]="MipMapLinearNearest",e[e.MipMapNearestLinear=9986]="MipMapNearestLinear",e[e.MipMapLinearLinear=9987]="MipMapLinearLinear"}(r=t.TextureFilter||(t.TextureFilter={})),function(e){e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.ClampToEdge=33071]="ClampToEdge",e[e.Repeat=10497]="Repeat"}(t.TextureWrap||(t.TextureWrap={}));var s=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,e),this.texture=null,this.boundUnit=0,this.useMipMaps=!1,this.width=0,this.height=0,this._image=n,this.context=t,this.useMipMaps=r,this.restore(),this.width=n.width,this.height=n.height}return a(e,[{key:"getImage",value:function(){return this._image}},{key:"getWebGLTexture",value:function(){return this.texture}},{key:"setFilters",value:function(t,n){var r=this.context;this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e.validateMagFilter(n))}},{key:"setWraps",value:function(e,t){var n=this.context;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t)}},{key:"update",value:function(t){var n=this.context;this.texture||(this.texture=this.context.createTexture()),this.bind(),e.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,this._image),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t?n.LINEAR_MIPMAP_LINEAR:n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),t&&n.generateMipmap(n.TEXTURE_2D)}},{key:"restore",value:function(){this.texture=null,this.update(this.useMipMaps)}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.context;this.boundUnit=e,t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)}},{key:"unbind",value:function(){var e=this.context;e.activeTexture(e.TEXTURE0+this.boundUnit),e.bindTexture(e.TEXTURE_2D,null)}},{key:"dispose",value:function(){this.context.deleteTexture(this.texture)}}],[{key:"createWhiteTexture",value:function(t){return new e(t,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1))}},{key:"load",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i){var a=new Image;a.onload=function(){i(new e(t,a,r))},a.src=n}))}},{key:"validateMagFilter",value:function(e){switch(e){case r.MipMap:case r.MipMapLinearLinear:case r.MipMapLinearNearest:case r.MipMapNearestLinear:case r.MipMapNearestNearest:return r.Linear;default:return e}}}]),e}();t.Texture=s,s.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1},9396:function(e,t,n){"use strict";var r=n(7061).default,i=n(7424).default,a=n(4704).default,s=n(6690).default,o=n(9728).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAtlas=void 0;var u=n(7139),c=n(859),h=n(8606),f=function(){function e(t,n){s(this,e),this.pages=t,this.regions=n}return o(e,[{key:"dispose",value:function(){var e,t=a(this.pages);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getPages",value:function(){return this.pages}},{key:"getRegions",value:function(){return this.regions}},{key:"findRegion",value:function(e,t){for(var n=0;n<this.regions.length;n++){var r=this.regions[n];if(r.name===e&&(void 0===t||r.index===t))return r}return null}},{key:"findRegions",value:function(e){return this.regions.filter((function(t){return t.name===e})).sort((function(e,t){return e.index-t.index}))}}],[{key:"load",value:function(t,n,a){return l(this,void 0,void 0,r().mark((function s(){var o,l,f,d,p,v,m,g,y,b,_,x,w,k,M,T,S,A,E,L,C,O,P,I,N,R,F,B,D,j,U,V,G,z,W,H,Y,X,q,$,K;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(n).then((function(e){return e.text()}));case 2:o=r.sent,l=[],f=[],d=[],v=o.split(/\r?\n/),m=0;case 8:if(void 0!==(y=v[m])){r.next=12;break}return r.abrupt("break",16);case 12:0===y.trim().length?p=null:p?(L=y,m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),C="true"===g[0],m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),O=parseInt(g[0],10),P=parseInt(g[1],10),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),I=parseInt(g[0],10),N=parseInt(g[1],10),R={name:L,rotate:C,left:O,top:P,width:I,height:N,page:p},m++,y=v[m],4===(g=y.split(":")[1].split(",").map((function(e){return e.trim()}))).length&&(R.splits=g.map((function(e){return parseInt(e,10)})),m++,y=v[m],4===(g=y.split(":")[1].split(",").map((function(e){return e.trim()}))).length&&(R.pads=g.map((function(e){return parseInt(e,10)})),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})))),R.originalWidth=parseInt(g[0],10),R.originalHeight=parseInt(g[1],10),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),R.offsetX=parseInt(g[0],10),R.offsetY=parseInt(g[1],10),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),R.index=parseInt(g[0],10),d.push(R)):(b=(0,h.concatAndResolveUrl)(n,"../".concat(y)),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),_=parseInt(g[0],10),x=parseInt(g[1],10),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),w=g[0],m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),k=i(g,2),M=k[0],T=k[1],m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),S=g[0],A=u.TextureWrap.ClampToEdge,E=u.TextureWrap.ClampToEdge,"x"===S?A=u.TextureWrap.Repeat:"y"===S?E=u.TextureWrap.Repeat:"xy"===S&&(A=u.TextureWrap.Repeat,E=u.TextureWrap.Repeat),p={file:b,width:_,height:x,format:w,mipMaps:"Nearest"!==M&&"Linear"!==M,min:M,max:T,direction:S,repeatX:A,repeatY:E},l.push(p)),m++,r.next=8;break;case 16:F=0,B=l;case 17:if(!(F<B.length)){r.next=27;break}return D=B[F],r.next=21,u.Texture.load(t,D.file,a);case 21:D.texture=r.sent,D.invTexWidth=1/D.texture.width,D.invTexHeight=1/D.texture.height;case 24:F++,r.next=17;break;case 27:for(j=[],U=0,V=d;U<V.length;U++)G=V[U],z=G.left,W=G.top,H=G.rotate?G.height:G.width,Y=G.rotate?G.width:G.height,X=G.page,q=X.texture,$=X.invTexWidth,K=X.invTexHeight,j.push(new c.TextureRegion(q,z,W,H,Y,G,$,K,G.rotate));return r.abrupt("return",new e(f,j));case 30:case"end":return r.stop()}}),s)})))}}]),e}();t.TextureAtlas=f},859:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureRegion=void 0;var a=function(){function e(t,n,i,a,s,o,l,u){var c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];r(this,e),this.name=null,this.index=0,this.texture=null,this.regionX=0,this.regionY=0,this.width=0,this.height=0,this.invTexWidth=0,this.invTexHeight=0,this.originalWidth=0,this.originalHeight=0,this.offsetX=0,this.offsetY=0,this.u=0,this.v=0,this.u2=0,this.v2=0,this.rotated=!1,l&&u||(l=1/t.width,u=1/t.height);var h=n*l,f=(i+s)*u,d=(n+a)*l,p=i*u;for(var v in this.texture=t,this.regionX=n,this.regionY=i,this.width=a,this.height=s,this.originalWidth=a,this.originalHeight=s,this.offsetX=0,this.offsetY=0,this.u=h,this.v=f,this.u2=d,this.v2=p,this.rotated=c,o)this[v]=o[v]}return i(e,[{key:"draw",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,c=this.originalWidth,h=this.originalHeight,f=this.offsetX,d=this.offsetY,p=this.width,v=this.height,m=r/c,g=i/h,y=p*m,b=v*g,_=t+f*m,x=0;a-=_-t,s-=(x=e.yDown?n+i-d*g-b:n+d*g)-n,e.draw(this.texture,_,x,y,b,a,s,o,l,u,this.u,this.v,this.u2,this.v2,this.rotated)}}],[{key:"splitTexture",value:function(t,n,r){for(var i=t.width/n,a=t.height/r,s=[],o=0;o<r;o++)for(var l=0;l<n;l++)s.push(new e(t,l*i,o*a,i,a,{}));return s}}]),e}();t.TextureRegion=a},8606:function(e,t,n){"use strict";var r,i=n(1588).default,a=n(3808).default,s=n(1655).default,o=n(6389).default,l=n(6690).default,u=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.concatAndResolveUrl=t.ArrayMap=t.copyArray=t.createStage=t.pointInRect=t.resizeCanvas=t.createGameLoop=t.WindowedMean=t.TimeKeeper=t.Pools=t.FlushablePool=t.Pool=t.Utils=t.PowOut=t.Pow=t.Interpolation=t.MathUtils=t.Color=t.StringSet=t.IntSet=t.Align=void 0;var c=function(){function e(){l(this,e)}return u(e,null,[{key:"isLeft",value:function(e){return 0!==(e&this.left)}},{key:"isRight",value:function(e){return 0!==(e&this.right)}},{key:"isTop",value:function(e){return 0!==(e&this.top)}},{key:"isBottom",value:function(e){return 0!==(e&this.bottom)}},{key:"isCenterVertical",value:function(e){return 0===(e&this.top)&&0===(e&this.bottom)}},{key:"isCenterHorizontal",value:function(e){return 0===(e&this.left)&&0===(e&this.right)}}]),e}();t.Align=c,r=c,c.center=1,c.top=2,c.bottom=4,c.left=8,c.right=16,c.topLeft=r.top|r.left,c.topRight=r.top|r.right,c.bottomLeft=r.bottom|r.left,c.bottomRight=r.bottom|r.right;var h=function(){function e(){l(this,e),this.array=new Array}return u(e,[{key:"add",value:function(e){var t=this.contains(e);return this.array[0|e]=0|e,!t}},{key:"contains",value:function(e){return void 0!==this.array[0|e]}},{key:"remove",value:function(e){this.array[0|e]=void 0}},{key:"clear",value:function(){this.array.length=0}}]),e}();t.IntSet=h;var f=function(){function e(){l(this,e),this.entries={},this.size=0}return u(e,[{key:"add",value:function(e){var t=this.entries[e];return this.entries[e]=!0,!t&&(this.size++,!0)}},{key:"addAll",value:function(e){for(var t=this.size,n=0,r=e.length;n<r;n++)this.add(e[n]);return t!==this.size}},{key:"contains",value:function(e){return this.entries[e]}},{key:"clear",value:function(){this.entries={},this.size=0}}]),e}();t.StringSet=f;var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;l(this,e),this.r=t,this.g=n,this.b=r,this.a=i}return u(e,[{key:"unsafeSet",value:function(e,t,n,r){this.r=e,this.g=t,this.b=n,this.a=r}},{key:"set",value:function(e,t,n,r){return this.r=e,this.g=t,this.b=n,this.a=r,this.clamp()}},{key:"setFromColor",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}},{key:"setFromString",value:function(e){return e="#"===e.charAt(0)?e.substring(1):e,this.r=parseInt(e.substring(0,2),16)/255,this.g=parseInt(e.substring(2,4),16)/255,this.b=parseInt(e.substring(4,6),16)/255,this.a=8!==e.length?1:parseInt(e.substring(6,8),16)/255,this}},{key:"add",value:function(e,t,n,r){return this.r+=e,this.g+=t,this.b+=n,this.a+=r,this.clamp()}},{key:"clamp",value:function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}},{key:"lerp",value:function(e,t){return this.r+=t*(e.r-this.r),this.g+=t*(e.g-this.g),this.b+=t*(e.b-this.b),this.a+=t*(e.a-this.a),this.clamp()}},{key:"mul",value:function(e,t,n,r){return this.r*=e,this.g*=t,this.b*=n,this.a*=r,this.clamp()}},{key:"toIntBits",value:function(){return 255*this.a<<24|255*this.b<<16|255*this.g<<8|255*this.r}},{key:"equals",value:function(e){return this===e||this.toIntBits()===e.toIntBits()}}],[{key:"rgba8888ToColor",value:function(e,t){e.r=((4278190080&t)>>>24)/255,e.g=((16711680&t)>>>16)/255,e.b=((65280&t)>>>8)/255,e.a=(255&t)/255}},{key:"rgb888ToColor",value:function(e,t){e.r=((16711680&t)>>>16)/255,e.g=((65280&t)>>>8)/255,e.b=(255&t)/255}},{key:"fromString",value:function(t){return(new e).setFromString(t)}}]),e}();t.Color=d,d.WHITE=new d(1,1,1,1),d.RED=new d(1,0,0,1),d.GREEN=new d(0,1,0,1),d.BLUE=new d(0,0,1,1),d.MAGENTA=new d(1,0,1,1);var p=function(){function e(){l(this,e)}return u(e,null,[{key:"clamp",value:function(e,t,n){return e<t?t:e>n?n:e}},{key:"cosDeg",value:function(t){return Math.cos(t*e.degRad)}},{key:"sinDeg",value:function(t){return Math.sin(t*e.degRad)}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}},{key:"toInt",value:function(e){return e>0?Math.floor(e):Math.ceil(e)}},{key:"cbrt",value:function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}},{key:"randomTriangular",value:function(t,n){return e.randomTriangularWith(t,n,.5*(t+n))}},{key:"randomTriangularWith",value:function(e,t,n){var r=Math.random(),i=t-e;return r<=(n-e)/i?e+Math.sqrt(r*i*(n-e)):t-Math.sqrt((1-r)*i*(t-n))}},{key:"isPowerOfTwo",value:function(e){return e&&0===(e&e-1)}},{key:"isEqual",value:function(t,n){return Math.abs(t-n)<=e.FLOAT_ROUNDING_ERROR}},{key:"isZero",value:function(t){return Math.abs(t)<=e.FLOAT_ROUNDING_ERROR}}]),e}();t.MathUtils=p,p.FLOAT_ROUNDING_ERROR=1e-6,p.PI=3.1415927,p.PI2=2*p.PI,p.radiansToDegrees=180/p.PI,p.radDeg=p.radiansToDegrees,p.degreesToRadians=p.PI/180,p.degRad=p.degreesToRadians;var v=function(){function e(){l(this,e)}return u(e,[{key:"apply",value:function(e,t,n){return e+(t-e)*this.applyInternal(n)}}]),e}();t.Interpolation=v;var m=function(e){s(n,e);var t=o(n);function n(e){var r;return l(this,n),(r=t.call(this)).power=2,r.power=e,r}return u(n,[{key:"applyInternal",value:function(e){return e<=.5?Math.pow(2*e,this.power)/2:Math.pow(2*(e-1),this.power)/(this.power%2===0?-2:2)+1}}]),n}(v);t.Pow=m;var g=function(e){s(n,e);var t=o(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"applyInternal",value:function(e){return Math.pow(e-1,this.power)*(this.power%2===0?-1:1)+1}}]),n}(m);t.PowOut=g;var y=function(){function e(){l(this,e)}return u(e,null,[{key:"arrayCopy",value:function(e,t,n,r,i){for(var a=t,s=r;a<t+i;a++,s++)n[s]=e[a]}},{key:"arrayFill",value:function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}},{key:"setArraySize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.length;if(r===t)return e;if(e.length=t,r<t)for(var i=r;i<t;i++)e[i]=n;return e}},{key:"ensureArrayCapacity",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.length>=n?t:e.setArraySize(t,n,r)}},{key:"newArray",value:function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}},{key:"newFloatArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var n=new Array(t),r=0;r<n.length;r++)n[r]=0;return n}},{key:"newShortArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var n=new Array(t),r=0;r<n.length;r++)n[r]=0;return n}},{key:"toFloatArray",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}},{key:"toSinglePrecision",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}},{key:"contains",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}},{key:"enumValue",value:function(e,t){return e[t[0].toUpperCase()+t.slice(1)]}},{key:"getHashCodeOfString",value:function(e){var t,n=0;if(0===this.length)return n;for(t=0;t<this.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}}]),e}();t.Utils=y,y.SUPPORTS_TYPED_ARRAYS="undefined"!==typeof Float32Array;var b=function(){function e(t){l(this,e),this.items=new Array,this.instantiator=t||function(){return{}}}return u(e,[{key:"obtain",value:function(){return this.items.length>0?this.items.pop():this.instantiator()}},{key:"free",value:function(e){(null===e||void 0===e?void 0:e.reset)&&e.reset(),this.items.push(e)}},{key:"freeAll",value:function(e){for(var t=0;t<e.length;t++)this.free(e[t])}},{key:"clear",value:function(){this.items.length=0}}]),e}();t.Pool=b;var _=function(e){s(n,e);var t=o(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).obtained=new Array,r}return u(n,[{key:"obtain",value:function(){var e=i(a(n.prototype),"obtain",this).call(this);return this.obtained.push(e),e}},{key:"flush",value:function(){i(a(n.prototype),"freeAll",this).call(this,this.obtained),this.obtained.length=0}},{key:"free",value:function(e){var t=this.obtained.indexOf(e);t>-1&&this.obtained.splice(t,1),i(a(n.prototype),"free",this).call(this,e)}},{key:"freeAll",value:function(e){for(var t=0;t<e.length;t++){var r=this.obtained.indexOf(e[t]);r>=0&&this.obtained.splice(r,1)}i(a(n.prototype),"freeAll",this).call(this,e)}}]),n}(b);t.FlushablePool=_;var x=function(){function e(){l(this,e)}return u(e,null,[{key:"free",value:function(e,t){this.pools[e]&&this.pools[e].free(t)}},{key:"freeAll",value:function(e,t){this.pools[e]&&this.pools[e].freeAll(t)}},{key:"get",value:function(e,t){return this.pools[e]||(this.pools[e]=new b(t)),this.pools[e]}},{key:"set",value:function(e,t){this.pools[e]=t}},{key:"obtain",value:function(e,t){return this.get(e,t).obtain()}}]),e}();t.Pools=x,x.pools={};var w=function(){function e(){l(this,e),this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return u(e,[{key:"update",value:function(){var e=Date.now()/1e3;this.delta=e-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=e,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}]),e}();t.TimeKeeper=w;var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;l(this,e),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return u(e,[{key:"hasEnoughData",value:function(){return this.addedValues>=this.values.length}},{key:"addValue",value:function(e){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=e,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}},{key:"getMean",value:function(){if(this.hasEnoughData()){if(this.dirty){for(var e=0,t=0;t<this.values.length;t++)e+=this.values[t];this.mean=e/this.values.length,this.dirty=!1}return this.mean}return 0}}]),e}();t.WindowedMean=k;t.createGameLoop=function(e){var t,n=Date.now(),r=0,i=!0,a=0,s=0;function o(){if(i){var l=Date.now()-n;n=Date.now(),a++,(s+=l)>=1e3&&(r=a,a=0,s-=1e3),t=requestAnimationFrame(o),e(l/1e3)}}return o(),{isRunning:function(){return i},start:function(){i||(i=!0,o())},stop:function(){t&&cancelAnimationFrame(t),i=!1},getFps:function(){return r}}};t.resizeCanvas=function(e,t){var n=t||window.devicePixelRatio||1,r=e.clientWidth*n,i=e.clientHeight*n;return e.width===r&&e.height===i||(e.width=r,e.height=i),[r,i]};t.pointInRect=function(e,t,n,r,i,a){return e>n&&e<n+i&&t>r&&t<r+a};t.createStage=function(e){e=Object.assign(Object.assign({},{hidden:!1,info:!0}),e);var t=document.createElement("div");t.setAttribute("style","position:fixed;top:0;left:0;right:0;bottom:0;"),e.wrapperClassName&&(t.className=e.wrapperClassName),e.hidden&&(t.style.display="none");var n=document.createElement("canvas");n.setAttribute("style","width:100%;height:100%;");var r=document.createElement("div");return r.setAttribute("style","position:absolute;top:1em;left:1em;color:white"),e.info||(r.style.display="none"),t.appendChild(n),t.appendChild(r),document.body.appendChild(t),{getCanvas:function(){return n},getInfo:function(){return r},show:function(){return t.style.display="block"},hide:function(){return t.style.display="none"},cleanup:function(){return document.body.removeChild(t)}}};t.copyArray=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length,a=0;a<i;a++)t[n+a]=e[r+a]};var M=function(){function e(){l(this,e),this.keys=[],this.values=[],this.size=0}return u(e,[{key:"set",value:function(e,t){var n=this.indexOfKey(e);return-1===n&&(n=this.size++),this.keys[n]=e,this.values[n]=t,n}},{key:"get",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.size-1;n>=0;n--)if(this.keys[n]===e)return this.values[n];return t}},{key:"indexOfKey",value:function(e){for(var t=0,n=this.size;t<n;t++)if(this.keys[t]===e)return t;return-1}},{key:"removeKey",value:function(e){for(var t=0,n=this.size;t<n;t++)this.keys[t]===e&&this.removeIndex(t)}},{key:"removeIndex",value:function(e){if(e>=this.size)throw new Error("index out of bound");this.size--,this.keys.splice(e,1),this.values.splice(e,1)}},{key:"clear",value:function(){this.keys.length=0,this.values.length=0,this.size=0}}]),e}();t.ArrayMap=M,t.concatAndResolveUrl=function(e,t){for(var n=e.split("/"),r=t.split("/"),i=[],a=0,s=n.length;a<s;a++)if(".."===n[a])i.pop();else{if("."===n[a])continue;i.push(n[a])}for(var o=0,l=r.length;o<l;o++)if(".."===r[o])i.pop();else{if("."===r[o])continue;i.push(r[o])}return i.join("/")}},2283:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Vector2=void 0;var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return i(e,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setVector",value:function(e){return this.set(e.x,e.y)}},{key:"add",value:function(e,t){return this.x+=e,this.y+=t,this}},{key:"addVector",value:function(e){return this.add(e.x,e.y)}},{key:"sub",value:function(e,t){return this.add(-e,-t)}},{key:"subVector",value:function(e){return this.sub(e.x,e.y)}},{key:"scale",value:function(e){return this.x*=e,this.y*=e,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"distanceSqr",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSqr(e))}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"len2",value:function(){return this.x*this.x+this.y*this.y}},{key:"len",value:function(){return Math.sqrt(this.len2())}},{key:"nor",value:function(){var e=this.len();return 0!==e&&(this.x/=e,this.y/=e),this}},{key:"rotateRad",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.x*t-this.y*n,i=this.x*n+this.y*t;return this.x=r,this.y=i,this}},{key:"rotate",value:function(e){return this.rotateRad(e*Math.PI/180)}},{key:"cpy",value:function(){return new e(this.x,this.y)}},{key:"mul",value:function(e){var t=this.x*e.val[0]+this.y*e.val[3]+e.val[6],n=this.x*e.val[1]+this.y*e.val[4]+e.val[7];return this.x=t,this.y=n,this}},{key:"lerp",value:function(e,t){var n=1-t;return this.x=this.x*n+e.x*t,this.y=this.y*n+e.y*t,this}}]),e}();t.Vector2=a},7811:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Vector3=void 0;var a=n(6239),s=n(4995),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,e),this.x=0,this.y=0,this.z=0,this.x=t,this.y=n,this.z=i}return i(e,[{key:"isZero",value:function(){return 0===this.x&&0===this.y&&0===this.z}},{key:"dst2",value:function(e){var t=e.x-this.x,n=e.y-this.y,r=e.z-this.z;return t*t+n*n+r*r}},{key:"setFrom",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"set",value:function(e,t,n){return this.x=e,this.y=t,this.z=n,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"scale",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"normalize",value:function(){var e=this.length();return 0===e||(e=1/e,this.x*=e,this.y*=e,this.z*=e),this}},{key:"cross",value:function(e){return this.set(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}},{key:"multiply",value:function(e){var t=e.values;return this.set(this.x*t[s.Matrix4.M00]+this.y*t[s.Matrix4.M01]+this.z*t[s.Matrix4.M02]+t[s.Matrix4.M03],this.x*t[s.Matrix4.M10]+this.y*t[s.Matrix4.M11]+this.z*t[s.Matrix4.M12]+t[s.Matrix4.M13],this.x*t[s.Matrix4.M20]+this.y*t[s.Matrix4.M21]+this.z*t[s.Matrix4.M22]+t[s.Matrix4.M23])}},{key:"multiplyMat3",value:function(e){var t=e.val;return this.set(this.x*t[a.Matrix3.M00]+this.y*t[a.Matrix3.M01]+this.z*t[a.Matrix3.M02],this.x*t[a.Matrix3.M10]+this.y*t[a.Matrix3.M11]+this.z*t[a.Matrix3.M12],this.x*t[a.Matrix3.M20]+this.y*t[a.Matrix3.M21]+this.z*t[a.Matrix3.M22])}},{key:"project",value:function(e){var t=e.values,n=1/(this.x*t[s.Matrix4.M30]+this.y*t[s.Matrix4.M31]+this.z*t[s.Matrix4.M32]+t[s.Matrix4.M33]);return this.set((this.x*t[s.Matrix4.M00]+this.y*t[s.Matrix4.M01]+this.z*t[s.Matrix4.M02]+t[s.Matrix4.M03])*n,(this.x*t[s.Matrix4.M10]+this.y*t[s.Matrix4.M11]+this.z*t[s.Matrix4.M12]+t[s.Matrix4.M13])*n,(this.x*t[s.Matrix4.M20]+this.y*t[s.Matrix4.M21]+this.z*t[s.Matrix4.M22]+t[s.Matrix4.M23])*n)}},{key:"unproject",value:function(e,t,n,r,i,a){var s=this.x,o=this.y,l=this.z;return s-=n,o=a-o-1,o-=r,e.set(2*s/i-1,2*o/a-1,2*l-1),e.project(t),e}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"dotWithValue",value:function(e,t,n){return this.x*e+this.y*t+this.z*n}},{key:"rotate",value:function(t,n){return e.tmpMat.setToRotation(t,n),this.multiply(e.tmpMat)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"length2",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"distance",value:function(e){var t=e.x-this.x,n=e.y-this.y,r=e.z-this.z;return Math.sqrt(t*t+n*n+r*r)}},{key:"lerp",value:function(e,t){return this.x+=t*(e.x-this.x),this.y+=t*(e.y-this.y),this.z+=t*(e.z-this.z),this}},{key:"equals",value:function(e){return this===e||this.x===e.x&&this.y===e.y&&this.z===e.z}}]),e}();t.Vector3=o,o.X=new o(1,0,0),o.Y=new o(0,1,0),o.Z=new o(0,0,1),o.Zero=new o(0,0,0),o.tmpMat=new s.Matrix4},5533:function(e,t,n){"use strict";var r=n(4704).default,i=n(7424).default;Object.defineProperty(t,"__esModule",{value:!0}),t.createViewport=void 0;var a=n(7459),s=n(8606);t.createViewport=function(e,t,n,o){var l,u={autoUpdate:!0,pixelRatio:void 0,crop:!0};(o=Object.assign(Object.assign({},u),o)).disablePremultipliedAlpha&&(l={premultipliedAlpha:!1}),l=Object.assign(Object.assign({},l),o.contextOption);var c=e.getContext("webgl2",l);c||(c=e.getContext("webgl",l));var h,f=[],d=o,p=d.autoUpdate,v=d.pixelRatio,m=d.crop,g={pixelRatio:v=v||window.devicePixelRatio||1,x:0,y:0,width:t,height:n,worldWidth:t,worldHeight:n},y=(0,s.resizeCanvas)(e,v),b=i(y,2),_=b[0],x=b[1],w=new a.OrthoCamera(t,n,_,x);p&&(h=function(e){k.update()},window.addEventListener("resize",h));var k={getViewportInfo:function(){return g},getCamera:function(){return w},addCamera:function(e){f.push(e)},getContext:function(){return c},getCanvas:function(){return e},update:function(){var a=(0,s.resizeCanvas)(e,v),o=i(a,2),l=o[0],u=o[1],h=t/n,d=l/u;if(m){var p,y;h<d?(y=u,p=u*h):(p=l,y=l/h);var b=(l-p)/2,_=(u-y)/2;g.x=b,g.y=_,g.width=p,g.height=y,c.viewport(b,_,p,y),w.setPosition(t/2,n/2),w.resize(t,n,p,y);var x,k=r(f);try{for(k.s();!(x=k.n()).done;){var M=x.value;M.setPosition(t/2,n/2),M.resize(t,n,p,y)}}catch(P){k.e(P)}finally{k.f()}}else{var T,S,A,E;g.x=0,g.y=0,g.width=l,g.height=u,c.viewport(0,0,l,u),h<d?(A=-((T=(S=n)*d)-t)/2,E=0):(A=0,E=-((S=(T=t)/d)-n)/2),w.setPosition(A+T/2,E+S/2),w.resize(T,S,l,u);var L,C=r(f);try{for(C.s();!(L=C.n()).done;){var O=L.value;O.setPosition(A+T/2,E+S/2),O.resize(T,S,l,u)}}catch(P){C.e(P)}finally{C.f()}}},cleanUp:function(){h&&window.removeEventListener("resize",h)}};return p&&k.update(),k}},4411:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportInputHandler=void 0;var a=n(6964),s=n(2283),o=function(){function e(t){r(this,e),this.screenCoord=new s.Vector2,this.worldCoord=new s.Vector2,this.viewport=t,this.canvas=t.getCanvas(),this.inputHandler=new a.InputHandler(this.canvas)}return i(e,[{key:"isTouched",value:function(){return this.inputHandler.isTouched()}},{key:"cleanup",value:function(){this.inputHandler.cleanup()}},{key:"addEventListener",value:function(e,t){var n,r;this.inputHandler.addEventListener(e,(n=t,r=this.viewport,function(e,t){var i=r.getViewportInfo(),a=i.x,s=i.y,o=i.pixelRatio;n(e=e*o-a,t=t*o-s)}))}},{key:"getX",value:function(){var e=this.viewport.getViewportInfo(),t=e.x,n=e.pixelRatio;return this.inputHandler.getX()*n-t}},{key:"getY",value:function(){var e=this.viewport.getViewportInfo(),t=e.y,n=e.pixelRatio;return this.inputHandler.getY()*n-t}},{key:"getTouchedWorldCoord",value:function(e){return e||(e=this.viewport.getCamera()),this.screenCoord.set(this.getX(),this.getY()),e.unprojectVector2(this.worldCoord,this.screenCoord),this.worldCoord}}]),e}();t.ViewportInputHandler=o},2955:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(6893),t),i(n(8656),t),i(n(2121),t),i(n(7581),t),i(n(3959),t),i(n(2791),t),i(n(5477),t),i(n(7459),t),i(n(6176),t),i(n(2013),t),i(n(7712),t),i(n(9045),t),i(n(6964),t),i(n(4995),t),i(n(1514),t),i(n(9699),t),i(n(1251),t),i(n(5122),t),i(n(1858),t),i(n(2987),t),i(n(5297),t),i(n(7139),t),i(n(9396),t),i(n(859),t),i(n(8606),t),i(n(2283),t),i(n(7811),t),i(n(5533),t),i(n(4411),t)},6510:function(e,t,n){var r;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||a;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||a;if(e=parseFloat(e),t.ctx||d(),"undefined"!==typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var s=t._howls[n]._soundById(r[i]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||a;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var s=t._howls[n]._soundById(r[i]);s&&s._node&&(s._node.muted=!!e||s._muted)}return t},stop:function(){for(var e=this||a,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||a,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!==typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||a)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||a;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||a,t=null;try{t="undefined"!==typeof Audio?new Audio:null}catch(c){return e}if(!t||"function"!==typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",i=r.match(/OPR\/([0-6].)/g),s=i&&parseInt(i[0].split("/")[1],10)<33,o=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),l=r.match(/Version\/(.*?) /),u=o&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(s||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||a;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var a=e._howls[i]._getSoundIds(),s=0;s<a.length;s++){var o=e._howls[i]._soundById(a[s]);o&&o._node&&!o._node._unlocked&&(o._node._unlocked=!0,o._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),"undefined"===typeof l.start?l.noteOn(0):l.start(0),"function"===typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||a;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!==typeof Promise&&(t instanceof Promise||"function"===typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||a;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!==typeof e.ctx.suspend&&a.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!==typeof e.ctx.resume&&a.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var a=new i,s=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(e){var t=this;return a.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!==typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!==typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!==typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=a.usingWebAudio&&!t._html5,"undefined"!==typeof a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(a.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"===typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,i;if(e._format&&e._format[n])r=e._format[n];else{if("string"!==typeof(i=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&a.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&u(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"===typeof e)r=e,e=null;else{if("string"===typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"===typeof e&&(e="__default",!n._playLock)){for(var i=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(i++,r=n._sounds[s]._id);1===i?e=null:r=null}}var o=r?n._soundById(r):n._inactiveSound();if(!o)return null;if(r&&!e&&(e=o._sprite||"__default"),"loaded"!==n._state){o._sprite=e,o._ended=!1;var l=o._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(r&&!o._paused)return t||n._loadQueue("play"),o._id;n._webAudio&&a._autoResume();var u=Math.max(0,o._seek>0?o._seek:n._sprite[e][0]/1e3),c=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),h=1e3*c/Math.abs(o._rate),f=n._sprite[e][0]/1e3,d=(n._sprite[e][0]+n._sprite[e][1])/1e3;o._sprite=e,o._ended=!1;var p=function(){o._paused=!1,o._seek=u,o._start=f,o._stop=d,o._loop=!(!o._loop&&!n._sprite[e][2])};if(!(u>=d)){var v=o._node;if(n._webAudio){var m=function(){n._playLock=!1,p(),n._refreshBuffer(o);var e=o._muted||n._muted?0:o._volume;v.gain.setValueAtTime(e,a.ctx.currentTime),o._playStart=a.ctx.currentTime,"undefined"===typeof v.bufferSource.start?o._loop?v.bufferSource.noteGrainOn(0,u,86400):v.bufferSource.noteGrainOn(0,u,c):o._loop?v.bufferSource.start(0,u,86400):v.bufferSource.start(0,u,c),h!==1/0&&(n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),h)),t||setTimeout((function(){n._emit("play",o._id),n._loadQueue()}),0)};"running"===a.state&&"interrupted"!==a.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(o._id))}else{var g=function(){v.currentTime=u,v.muted=o._muted||n._muted||a._muted||v.muted,v.volume=o._volume*a.volume(),v.playbackRate=o._rate;try{var r=v.play();if(r&&"undefined"!==typeof Promise&&(r instanceof Promise||"function"===typeof r.then)?(n._playLock=!0,p(),r.then((function(){n._playLock=!1,v._unlocked=!0,t?n._loadQueue():n._emit("play",o._id)})).catch((function(){n._playLock=!1,n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0}))):t||(n._playLock=!1,p(),n._emit("play",o._id)),v.playbackRate=o._rate,v.paused)return void n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||o._loop?n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),h):(n._endTimers[o._id]=function(){n._ended(o),v.removeEventListener("ended",n._endTimers[o._id],!1)},v.addEventListener("ended",n._endTimers[o._id],!1))}catch(i){n._emit("playerror",o._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===v.src&&(v.src=n._src,v.load());var y=window&&window.ejecta||!v.readyState&&a._navigator.isCocoonJS;if(v.readyState>=3||y)g();else{n._playLock=!0,n._state="loading";v.addEventListener(a._canPlayEvent,(function e(){n._state="loaded",g(),v.removeEventListener(a._canPlayEvent,e,!1)}),!1),n._clearTimer(o._id)}}return o._id}n._ended(o)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;"undefined"===typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var a=n._soundById(r[i]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(r[i]),a._node&&(n._webAudio?a._node.bufferSource&&("undefined"===typeof a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),t||n._emit("stop",a._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"===typeof t){if("boolean"!==typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var s=n._soundById(r[i]);s&&(s._muted=e,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,a.ctx.currentTime):s._node&&(s._node.muted=!!a._muted||e),n._emit("mute",s._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&"undefined"===typeof i[1]){var s=r._getSoundIds(),o=s.indexOf(i[0]);o>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(!("undefined"!==typeof e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;"undefined"===typeof t&&(r._volume=e),t=r._getSoundIds(t);for(var l=0;l<t.length;l++)(n=r._soundById(t[l]))&&(n._volume=e,i[2]||r._stopFade(t[l]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,a.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*a.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var s=i._getSoundIds(r),o=0;o<s.length;o++){var l=i._soundById(s[o]);if(l){if(r||i._stopFade(s[o]),i._webAudio&&!l._muted){var u=a.ctx.currentTime,c=u+n/1e3;l._volume=e,l._node.gain.setValueAtTime(e,u),l._node.gain.linearRampToValueAtTime(t,c)}i._startFadeInterval(l,e,t,n,s[o],"undefined"===typeof r)}}return i},_startFadeInterval:function(e,t,n,r,i,a){var s=this,o=t,l=n-t,u=Math.abs(l/.01),c=Math.max(4,u>0?r/u:r),h=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-h)/r;h=Date.now(),o+=l*i,o=Math.round(100*o)/100,o=l<0?Math.max(n,o):Math.min(n,o),s._webAudio?e._volume=o:s.volume(o,e._id,!0),a&&(s._volume=o),(n<t&&o<=n||n>t&&o>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))}),c)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!==typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],r._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var a=r._getSoundIds(t),s=0;s<a.length;s++)(n=r._soundById(a[s]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(a[s])&&(r.pause(a[s],!0),r.play(a[s],!0)))));return r},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){var s=r._getSoundIds(),o=s.indexOf(i[0]);o>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!==typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;"undefined"===typeof t&&(r._rate=e),t=r._getSoundIds(t);for(var l=0;l<t.length;l++)if(n=r._soundById(t[l])){r.playing(t[l])&&(n._rateSeek=r.seek(t[l]),n._playStart=r._webAudio?a.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,a.ctx.currentTime):n._node&&(n._node.playbackRate=e);var u=r.seek(t[l]),c=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-u,h=1e3*c/Math.abs(n._rate);!r._endTimers[t[l]]&&n._paused||(r._clearTimer(t[l]),r._endTimers[t[l]]=setTimeout(r._ended.bind(r,n),h)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var i=n._getSoundIds(),s=i.indexOf(r[0]);s>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("undefined"===typeof t)return 0;if("number"===typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if(!("number"===typeof e&&e>=0)){if(n._webAudio){var l=n.playing(t)?a.ctx.currentTime-o._playStart:0,u=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(u+l*Math.abs(o._rate))}return o._node.currentTime}var c=n.playing(t);c&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var h=function(){c&&n.play(t,!0),n._emit("seek",t)};if(c&&!n._webAudio){var f=function e(){n._playLock?setTimeout(e,0):h()};setTimeout(f,0)}else h()}return n},playing:function(e){var t=this;if("number"===typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(a._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),a._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=a._howls.indexOf(e);r>=0&&a._howls.splice(r,1);var i=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===e._src||e._src.indexOf(a._howls[n]._src)>=0){i=!1;break}return l&&i&&delete l[e._src],a.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"===typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,i=r["_on"+e],a=0;if("number"===typeof t&&(n=t,t=null),t||n)for(a=0;a<i.length;a++){var s=n===i[a].id;if(t===i[a].fn&&s||!t&&s){i.splice(a,1);break}}else if(e)r["_on"+e]=[];else{var o=Object.keys(r);for(a=0;a<o.length;a++)0===o[a].indexOf("_on")&&Array.isArray(r[o[a]])&&(r[o[a]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,i=r["_on"+e],a=i.length-1;a>=0;a--)i[a].id&&i[a].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,i[a].fn),0),i[a].once&&r.off(e,i[a].fn,i[a].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=a.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),a._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!==typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new o(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if("undefined"===typeof e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=a.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,a.ctx.currentTime),this},_cleanBuffer:function(e){var t=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(a._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=a._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=a._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"===typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),e._node.gain.setValueAtTime(n,a.ctx.currentTime),e._node.paused=!0,e._node.connect(a.masterGain)):a.noAudio||(e._node=a._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(a._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*a.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(a._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},u=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);h(r.buffer,e)}else{var a=new XMLHttpRequest;a.open(e._xhr.method,t,!0),a.withCredentials=e._xhr.withCredentials,a.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){a.setRequestHeader(t,e._xhr.headers[t])})),a.onload=function(){var t=(a.status+"")[0];"0"===t||"2"===t||"3"===t?h(a.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},c(a)}},c=function(e){try{e.send()}catch(t){e.onerror()}},h=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(l[t._src]=e,f(t,e)):n()};"undefined"!==typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(e).then(r).catch(n):a.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){if(a.usingWebAudio){try{"undefined"!==typeof AudioContext?a.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(i){a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),t=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());a._navigator&&!r&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain="undefined"===typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:a._volume,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};void 0===(r=function(){return{Howler:a,Howl:s}}.apply(t,[]))||(e.exports=r),t.Howler=a,t.Howl=s,"undefined"!==typeof n.g?(n.g.HowlerGlobal=i,n.g.Howler=a,n.g.Howl=s,n.g.Sound=o):"undefined"!==typeof window&&(window.HowlerGlobal=i,window.Howler=a,window.Howl=s,window.Sound=o)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!==typeof t?r._pos[1]:t,n="number"!==typeof n?r._pos[2]:n,"number"!==typeof e?r._pos:(r._pos=[e,t,n],"undefined"!==typeof r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,a){var s=this;if(!s.ctx||!s.ctx.listener)return s;var o=s._orientation;return t="number"!==typeof t?o[1]:t,n="number"!==typeof n?o[2]:n,r="number"!==typeof r?o[3]:r,i="number"!==typeof i?o[4]:i,a="number"!==typeof a?o[5]:a,"number"!==typeof e?o:(s._orientation=[e,t,n,r,i,a],"undefined"!==typeof s.ctx.listener.forwardX?(s.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(e,t,n,r,i,a),s)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!==typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof n){if("number"!==typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var a=r._getSoundIds(n),s=0;s<a.length;s++){var o=r._soundById(a[s]);if(o){if("number"!==typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||t(o,i),"spatial"===i?"undefined"!==typeof o._panner.positionX?(o._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(e,0,0):o._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",o._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(e,n,r,i)}}),a;if(n="number"!==typeof n?0:n,r="number"!==typeof r?-.5:r,"undefined"===typeof i){if("number"!==typeof e)return a._pos;a._pos=[e,n,r]}for(var s=a._getSoundIds(i),o=0;o<s.length;o++){var l=a._soundById(s[o]);if(l){if("number"!==typeof e)return l._pos;l._pos=[e,n,r],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),"undefined"!==typeof l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(e,n,r)),a._emit("pos",l._id)}}return a},Howl.prototype.orientation=function(e,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(e,n,r,i)}}),a;if(n="number"!==typeof n?a._orientation[1]:n,r="number"!==typeof r?a._orientation[2]:r,"undefined"===typeof i){if("number"!==typeof e)return a._orientation;a._orientation=[e,n,r]}for(var s=a._getSoundIds(i),o=0;o<s.length;o++){var l=a._soundById(s[o]);if(l){if("number"!==typeof e)return l._orientation;l._orientation=[e,n,r],l._node&&(l._panner||(l._pos||(l._pos=a._pos||[0,0,-.5]),t(l,"spatial")),"undefined"!==typeof l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,r)),a._emit("orientation",l._id)}}return a},Howl.prototype.pannerAttr=function(){var e,n,r,i=this,a=arguments;if(!i._webAudio)return i;if(0===a.length)return i._pannerAttr;if(1===a.length){if("object"!==typeof a[0])return(r=i._soundById(parseInt(a[0],10)))?r._pannerAttr:i._pannerAttr;e=a[0],"undefined"===typeof n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:"undefined"!==typeof e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:"undefined"!==typeof e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:"undefined"!==typeof e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:"undefined"!==typeof e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:"undefined"!==typeof e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:"undefined"!==typeof e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:"undefined"!==typeof e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===a.length&&(e=a[0],n=parseInt(a[1],10));for(var s=i._getSoundIds(n),o=0;o<s.length;o++)if(r=i._soundById(s[o])){var l=r._pannerAttr;l={coneInnerAngle:"undefined"!==typeof e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:"undefined"!==typeof e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:"undefined"!==typeof e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:"undefined"!==typeof e.maxDistance?e.maxDistance:l.maxDistance,refDistance:"undefined"!==typeof e.refDistance?e.refDistance:l.refDistance,rolloffFactor:"undefined"!==typeof e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:"undefined"!==typeof e.panningModel?e.panningModel:l.panningModel};var u=r._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),t(r,"spatial"))}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,"undefined"!==typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"undefined"!==typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},534:function(e,t,n){"use strict";var r=n(7313),i=n(2224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var F,B=Object.assign;function D(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function V(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case T:return"Profiler";case M:return"StrictMode";case L:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Me=null;function Te(e){if(e=bi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),we(e.stateNode,e.type,t))}}function Se(e){ke?Me?Me.push(e):Me=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Me;if(Me=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ee(e,t){return e(t)}function Le(){}var Ce=!1;function Oe(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Ee(e,t,n)}finally{Ce=!1,(null!==ke||null!==Me)&&(Le(),Ae())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Ie=!1}function Re(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,Be=null,De=!1,je=null,Ue={onError:function(e){Fe=!0,Be=e}};function Ve(e,t,n,r,i,a,s,o,l){Fe=!1,Be=null,Re.apply(Ue,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ge(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=ht(o):0!==(a&=s)&&(r=ht(a))}else 0!==(s=n&~i)?r=ht(s):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,kt,Mt,Tt,St=!1,At=[],Et=null,Lt=null,Ct=null,Ot=new Map,Pt=new Map,It=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=yi(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function jt(e,t,n){Dt(e)&&n.delete(t)}function Ut(){St=!1,null!==Et&&Dt(Et)&&(Et=null),null!==Lt&&Dt(Lt)&&(Lt=null),null!==Ct&&Dt(Ct)&&(Ct=null),Ot.forEach(jt),Pt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Gt(e){function t(t){return Vt(t,e)}if(0<At.length){Vt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Vt(Et,e),null!==Lt&&Vt(Lt,e),null!==Ct&&Vt(Ct,e),Ot.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Bt(n),null===n.blockedOn&&It.shift()}var zt=_.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Yt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Xt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=Ft(Et,e,t,n,r,i),!0;case"dragenter":return Lt=Ft(Lt,e,t,n,r,i),!0;case"mouseover":return Ct=Ft(Ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Ft(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Ft(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&xt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var qt=null;function $t(e,t,n,r){if(qt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),hn=B({},un,{view:0,detail:0}),fn=an(hn),dn=B({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(dn),vn=an(B({},dn,{dataTransfer:0})),mn=an(B({},hn,{relatedTarget:0})),gn=an(B({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=B({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),_n=an(B({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Mn}var Sn=B({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Sn),En=an(B({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=an(B({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Cn=an(B({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=B({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),In=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Rn,Bn=c&&(!Nn||Rn&&8<Rn&&11>=Rn),Dn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Yr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function qn(e){Dr(e,0)}function $n(e){if(X(_i(e)))return e}function Kn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Xn=Yn=null)}function nr(e){if("value"===e.propertyName&&$n(Xn)){var t=[];Hn(t,Xn,e,xe(e)),Oe(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function ar(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Yr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Mr={};function Tr(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mr)return kr[e]=n[t];return e}c&&(Mr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Tr("animationend"),Ar=Tr("animationiteration"),Er=Tr("animationstart"),Lr=Tr("transitionend"),Cr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Cr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Or.length;Ir++){var Nr=Or[Ir];Pr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Ar,"onAnimationIteration"),Pr(Er,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Lr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,u){if(Ve.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var c=Be;Fe=!1,Be=null,De||(De=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Br(i,o,u),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Br(i,o,u),a=l}}}if(De)throw e=je,De=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Kt(t)){case 1:var i=Ht;break;case 4:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Oe((function(){var r=a,i=xe(n),s=[];e:{var o=Cr.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case Sr:case Ar:case Er:l=gn;break;case Lr:l=Cn;break;case"scroll":l=fn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==o?o+"Capture":null:o;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Pe(p,f))&&c.push(Hr(p,v,d)))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?o:_i(l),d=null==u?o:_i(u),(o=new c(v,p+"leave",l,n,i)).target=h,o.relatedTarget=d,v=null,yi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,v=c),h=v,l&&u)e:{for(f=u,p=0,d=c=l;d;d=Xr(d))p++;for(d=0,v=f;v;v=Xr(v))d++;for(;0<p-d;)c=Xr(c),p--;for(;0<d-p;)f=Xr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xr(c),f=Xr(f)}c=null}else c=null;null!==l&&qr(s,o,l,c,!1),null!==u&&null!==h&&qr(s,h,u,c,!0)}if("select"===(l=(o=r?_i(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Kn;else if(Wn(o))if(Qn)m=sr;else{m=ir;var g=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(s,m,n,i):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?_i(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(s,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=en()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Gn=!0)),0<(g=Yr(r,b)).length&&(b=new _n(b,e,null,n,i),s.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Dn);case"textInput":return(e=t.data)===Dn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Nn&&Un(e,t)?(e=en(),Jt=Zt=Qt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Dr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Pe(n,a))&&s.unshift(Hr(n,l,o)):i||null!=(l=Pe(n,a))&&s.push(Hr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Kr,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Gt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[di]||null}var wi=[],ki=-1;function Mi(e){return{current:e}}function Ti(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Si(e,t){ki++,wi[ki]=e.current,e.current=t}var Ai={},Ei=Mi(Ai),Li=Mi(!1),Ci=Ai;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Ti(Li),Ti(Ei)}function Ni(e,t,n){if(Ei.current!==Ai)throw Error(a(168));Si(Ei,t),Si(Li,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return B({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ci=Ei.current,Si(Ei,e),Si(Li,Li.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,Ti(Li),Ti(Ei),Si(Ei,e)):Ti(Li),Si(Li,n)}var Di=null,ji=!1,Ui=!1;function Vi(e){null===Di?Di=[e]:Di.push(e)}function Gi(){if(!Ui&&null!==Di){Ui=!0;var e=0,t=bt;try{var n=Di;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,ji=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Xe(Je,Gi),i}finally{bt=t,Ui=!1}}return null}var zi=[],Wi=0,Hi=null,Yi=0,Xi=[],qi=0,$i=null,Ki=1,Qi="";function Zi(e,t){zi[Wi++]=Yi,zi[Wi++]=Hi,Hi=e,Yi=t}function Ji(e,t,n){Xi[qi++]=Ki,Xi[qi++]=Qi,Xi[qi++]=$i,$i=e;var r=Ki;e=Qi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ki=1<<32-st(t)+i|n<<i|r,Qi=a+e}else Ki=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Wi],zi[Wi]=null,Yi=zi[--Wi],zi[Wi]=null;for(;e===$i;)$i=Xi[--qi],Xi[qi]=null,Qi=Xi[--qi],Xi[qi]=null,Ki=Xi[--qi],Xi[qi]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Ki,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)sa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=_.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Mi(null),ya=null,ba=null,_a=null;function xa(){_a=ba=ya=null}function wa(e){var t=ga.current;Ti(ga),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){ya=e,_a=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Sa=null;function Aa(e){null===Sa?Sa=[e]:Sa.push(e)}function Ea(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Aa(t)):(n.next=i.next,i.next=n),t.interleaved=n,La(e,r)}function La(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ca=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,La(e,n)}return null===(i=r.interleaved)?(t.next=t,Aa(r)):(t.next=i.next,i.next=t),r.interleaved=t,La(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var i=e.updateQueue;Ca=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(s=0,c=u=l=null,o=a;;){var f=o.lane,d=o.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=B({},h,f);break e;case 2:Ca=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[o]:f.push(o))}else d={eventTime:d,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=h}}function Da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nu(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nu(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(nu(t,e,r,n),Ra(t,e,r))}};function Ga(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function za(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Pi(t)?Ci:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Pi(t)?Ci:Ei.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ba(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&qa(a)===t.type)?((r=i(t,n.props)).ref=Ya(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=Ya(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case w:return(t=Du(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:h(e,t,n,r,null);Xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}function v(i,a,o,l){for(var u=null,c=null,h=a,v=a=0,m=null;null!==h&&v<o.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,o[v],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=s(g,a,v),null===c?u=g:c.sibling=g,c=g,h=m}if(v===o.length)return n(i,h),ia&&Zi(i,v),u;if(null===h){for(;v<o.length;v++)null!==(h=f(i,o[v],l))&&(a=s(h,a,v),null===c?u=h:c.sibling=h,c=h);return ia&&Zi(i,v),u}for(h=r(i,h);v<o.length;v++)null!==(m=p(h,i,v,o[v],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=s(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),u}function m(i,o,l,u){var c=R(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,v=o,m=o=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,u);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),o=s(b,o,m),null===h?c=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),ia&&Zi(i,m),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,u))&&(o=s(y,o,m),null===h?c=y:h.sibling=y,h=y);return ia&&Zi(i,m),c}for(v=r(i,v);!y.done;m++,y=l.next())null!==(y=p(v,i,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),o=s(y,o,m),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),c}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var u=s.key,c=a;null!==c;){if(c.key===u){if((u=s.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,s.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&qa(u)===c.type){n(r,c.sibling),(a=i(c,s.props)).ref=Ya(r,c,s),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===k?((a=Ru(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Nu(s.type,s.key,s.props,null,r.mode,l)).ref=Ya(r,a,s),l.return=r,r=l)}return o(r);case w:e:{for(c=s.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Du(s,r.mode,l)).return=r,r=a}return o(r);case P:return e(r,a,(c=s._init)(s._payload),l)}if(te(s))return v(r,a,s,l);if(R(s))return m(r,a,s,l);Xa(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Bu(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var Ka=$a(!0),Qa=$a(!1),Za={},Ja=Mi(Za),es=Mi(Za),ts=Mi(Za);function ns(e){if(e===Za)throw Error(a(174));return e}function rs(e,t){switch(Si(ts,t),Si(es,e),Si(Ja,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ja),Si(Ja,t)}function is(){Ti(Ja),Ti(es),Ti(ts)}function as(e){ns(ts.current);var t=ns(Ja.current),n=le(t,e.type);t!==n&&(Si(es,e),Si(Ja,n))}function ss(e){es.current===e&&(Ti(Ja),Ti(es))}var os=Mi(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function cs(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=_.ReactCurrentDispatcher,fs=_.ReactCurrentBatchConfig,ds=0,ps=null,vs=null,ms=null,gs=!1,ys=!1,bs=0,_s=0;function xs(){throw Error(a(321))}function ws(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ks(e,t,n,r,i,s){if(ds=s,ps=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?so:oo,e=n(r,i),ys){s=0;do{if(ys=!1,bs=0,25<=s)throw Error(a(301));s+=1,ms=vs=null,t.updateQueue=null,hs.current=lo,e=n(r,i)}while(ys)}if(hs.current=ao,t=null!==vs&&null!==vs.next,ds=0,ms=vs=ps=null,gs=!1,t)throw Error(a(300));return e}function Ms(){var e=0!==bs;return bs=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?ps.memoizedState=ms=e:ms=ms.next=e,ms}function Ss(){if(null===vs){var e=ps.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ms?ps.memoizedState:ms.next;if(null!==t)ms=t,vs=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ms?ps.memoizedState=ms=e:ms=ms.next=e}return ms}function As(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=Ss(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((ds&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,o=r):u=u.next=f,ps.lanes|=h,Fl|=h}c=c.next}while(null!==c&&c!==s);null===u?o=r:u.next=l,or(r,t.memoizedState)||(_o=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ps.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ls(e){var t=Ss(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(_o=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(){}function Os(e,t){var n=ps,r=Ss(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,_o=!0),r=r.queue,zs(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Ds(9,Is.bind(null,n,r,i,t),void 0,null),null===Ll)throw Error(a(349));0!==(30&ds)||Ps(n,t,i)}return i}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,Rs(t)&&Fs(e)}function Ns(e,t,n){return n((function(){Rs(t)&&Fs(e)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Fs(e){var t=La(e,1);null!==t&&nu(t,e,1,-1)}function Bs(e){var t=Ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,ps,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return Ss().memoizedState}function Us(e,t,n,r){var i=Ts();ps.flags|=e,i.memoizedState=Ds(1|t,n,void 0,void 0===r?null:r)}function Vs(e,t,n,r){var i=Ss();r=void 0===r?null:r;var a=void 0;if(null!==vs){var s=vs.memoizedState;if(a=s.destroy,null!==r&&ws(r,s.deps))return void(i.memoizedState=Ds(t,n,a,r))}ps.flags|=e,i.memoizedState=Ds(1|t,n,a,r)}function Gs(e,t){return Us(8390656,8,e,t)}function zs(e,t){return Vs(2048,8,e,t)}function Ws(e,t){return Vs(4,2,e,t)}function Hs(e,t){return Vs(4,4,e,t)}function Ys(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4,4,Ys.bind(null,t,e),n)}function qs(){}function $s(e,t){var n=Ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ws(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ks(e,t){var n=Ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ws(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qs(e,t,n){return 0===(21&ds)?(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=n):(or(n,t)||(n=vt(),ps.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function Js(){return Ss().memoizedState}function eo(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ea(e,t,n,r))){nu(n,e,r,eu()),io(n,t,r)}}function to(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Aa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ea(e,t,i,r))&&(nu(n,e,r,i=eu()),io(n,t,r))}}function no(e){var t=e.alternate;return e===ps||null!==t&&t===ps}function ro(e,t){ys=gs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ao={readContext:Ta,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},so={readContext:Ta,useCallback:function(e,t){return Ts().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Gs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var n=Ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,ps,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ts().memoizedState=e},useState:Bs,useDebugValue:qs,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=Zs.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ps,i=Ts();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ll)throw Error(a(349));0!==(30&ds)||Ps(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Gs(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Ds(9,Is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ts(),t=Ll.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Ki&~(1<<32-st(Ki)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ta,useCallback:$s,useContext:Ta,useEffect:zs,useImperativeHandle:Xs,useInsertionEffect:Ws,useLayoutEffect:Hs,useMemo:Ks,useReducer:Es,useRef:js,useState:function(){return Es(As)},useDebugValue:qs,useDeferredValue:function(e){return Qs(Ss(),vs.memoizedState,e)},useTransition:function(){return[Es(As)[0],Ss().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Os,useId:Js,unstable_isNewReconciler:!1},lo={readContext:Ta,useCallback:$s,useContext:Ta,useEffect:zs,useImperativeHandle:Xs,useInsertionEffect:Ws,useLayoutEffect:Hs,useMemo:Ks,useReducer:Ls,useRef:js,useState:function(){return Ls(As)},useDebugValue:qs,useDeferredValue:function(e){var t=Ss();return null===vs?t.memoizedState=e:Qs(t,vs.memoizedState,e)},useTransition:function(){return[Ls(As)[0],Ss().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Os,useId:Js,unstable_isNewReconciler:!1};function uo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),ho(0,t)},n}function vo(e,t,n){(n=Ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=_.ReactCurrentOwner,_o=!1;function xo(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Ka(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var a=t.ref;return Ma(t,i),r=ks(e,t,n,r,a,i),n=Ms(),null===e||_o?(ia&&n&&ea(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function ko(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Mo(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Iu(a,r)).ref=t.ref,e.return=t,t.child=e}function Mo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(_o=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(_o=!0)}}return Ao(e,t,n,r,i)}function To(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Il,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Il,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Il,Pl),Pl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Il,Pl),Pl|=r;return xo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,r,i){var a=Pi(n)?Ci:Ei.current;return a=Oi(t,a),Ma(t,i),n=ks(e,t,n,r,a,i),r=Ms(),null===e||_o?(ia&&r&&ea(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Eo(e,t,n,r,i){if(Pi(n)){var a=!0;Fi(t)}else a=!1;if(Ma(t,i),null===t.stateNode)zo(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ta(u):u=Oi(t,u=Pi(n)?Ci:Ei.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&Wa(t,s,r,u),Ca=!1;var f=t.memoizedState;s.state=f,Ba(t,r,s,i),l=t.memoizedState,o!==r||f!==l||Li.current||Ca?("function"===typeof c&&(Ua(t,n,c,r),l=t.memoizedState),(o=Ca||Ga(t,n,o,r,f,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Pa(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ma(t.type,o),s.props=u,h=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Oi(t,l=Pi(n)?Ci:Ei.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||f!==l)&&Wa(t,s,r,l),Ca=!1,f=t.memoizedState,s.state=f,Ba(t,r,s,i);var p=t.memoizedState;o!==h||f!==p||Li.current||Ca?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(u=Ca||Ga(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Lo(e,t,n,r,a,i)}function Lo(e,t,n,r,i,a){So(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Bi(t,n,!1),Wo(e,t,a);r=t.stateNode,bo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,o,a)):xo(e,t,o,a),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),rs(e,t.containerInfo)}function Oo(e,t,n,r,i){return da(),pa(i),t.flags|=256,xo(e,t,n,r),t.child}var Po,Io,No,Ro={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var r,i=t.pendingProps,s=os.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Si(os,1&s),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fu(l,i,0,null),e=Ru(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Ro,e):Do(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,jo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fu({mode:"visible",children:r.children},i,0,null),(s=Ru(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Ka(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Ro,s);if(0===(1&t.mode))return jo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,jo(e,t,o,r=co(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),_o||l){if(null!==(r=Ll)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,La(e,i),nu(r,e,i,-1))}return vu(),jo(e,t,o,r=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[qi++]=Ki,Xi[qi++]=Qi,Xi[qi++]=$i,Ki=e.id,Qi=e.overflow,$i=t),(t=Do(t,r.children)).flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Iu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Iu(r,o):(o=Ru(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i}return e=(o=e.child).sibling,i=Iu(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Do(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function jo(e,t,n,r){return null!==r&&pa(r),Ka(t,e.child,null,n),(e=Do(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Vo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=os.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(os,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ls(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,a);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Pi(t.type)&&Ii(),Yo(t),null;case 3:return r=t.stateNode,is(),Ti(Li),Ti(Ei),cs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),Yo(t),null;case 5:ss(t);var i=ns(ts.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Yo(t),null}if(e=ns(Ja.current),ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fi]=t,r[di]=s,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)jr(Rr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":K(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":ie(r,s),jr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":Y(r),J(r,s,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[di]=r,Po(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)jr(Rr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":K(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(s in ye(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&jr("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":Y(e),J(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)No(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=ns(ts.current),ns(Ja.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Yo(t),null;case 13:if(Ti(os),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,s=!1;else if(s=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),s=!1}else null!==aa&&(su(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===Nl&&(Nl=3):vu())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return is(),null===e&&Gr(t.stateNode.containerInfo),Yo(t),null;case 10:return wa(t.type._context),Yo(t),null;case 19:if(Ti(os),null===(s=t.memoizedState))return Yo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ho(s,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ls(e))){for(t.flags|=128,Ho(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Gl&&(t.flags|=128,r=!0,Ho(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ls(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Yo(t),null}else 2*Qe()-s.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,Ho(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=os.current,Si(os,r?1&n|2:1&n),t):(Yo(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qo(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Ti(Li),Ti(Ei),cs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ss(t),null;case 13:if(Ti(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(os),null;case 4:return is(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Io=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ns(Ja.current);var a,s=null;switch(n){case"input":i=$(e,i),r=$(e,r),s=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&jr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},No=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Ko=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Mu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Mu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Ko||Jo(n,t);case 6:var r=cl,i=hl;cl=null,fl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Gt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ko&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ko&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Mu(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ko=(r=Ko)||null!==n.memoizedState,fl(e,t,n),Ko=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach((function(t){var r=Eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));dl(s,o,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Mu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Mu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Mu(e,e.return,m)}}break;case 1:vl(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(vl(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Mu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(i,s),be(l,o);var c=be(l,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,c)}switch(l){case"input":Z(i,s);break;case"textarea":ae(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):d!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[di]=s}catch(m){Mu(e,e.return,m)}}break;case 6:if(vl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Mu(e,e.return,m)}}break;case 3:if(vl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(m){Mu(e,e.return,m)}break;case 4:default:vl(t,e),gl(e);break;case 13:vl(t,e),gl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Qe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ko=(c=Ko)||h,vl(t,e),Ko=c):vl(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(f=Zo=h;null!==Zo;){switch(p=(d=Zo).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Jo(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Mu(r,n,m)}}break;case 5:Jo(d,d.return);break;case 22:if(null!==d.memoizedState){xl(f);continue}}null!==p?(p.return=d,Zo=p):xl(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,o=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",o))}catch(m){Mu(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Mu(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vl(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ul(e,ol(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){Mu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$o;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Ko;o=$o;var u=Ko;if($o=s,(Ko=l)&&!u)for(Zo=i;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?wl(i):null!==l?(l.return=s,Zo=l):wl(i);for(;null!==a;)Zo=a,bl(a,t,n),a=a.sibling;Zo=i,$o=o,Ko=u}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zo=a):_l(e)}}function _l(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ko)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Da(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Da(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Gt(f)}}}break;default:throw Error(a(163))}Ko||512&t.flags&&il(t)}catch(d){Mu(t,t.return,d)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function xl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Mu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Mu(t,i,l)}}var a=t.return;try{il(t)}catch(l){Mu(t,a,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Mu(t,s,l)}}}catch(l){Mu(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var kl,Ml=Math.ceil,Tl=_.ReactCurrentDispatcher,Sl=_.ReactCurrentOwner,Al=_.ReactCurrentBatchConfig,El=0,Ll=null,Cl=null,Ol=0,Pl=0,Il=Mi(0),Nl=0,Rl=null,Fl=0,Bl=0,Dl=0,jl=null,Ul=null,Vl=0,Gl=1/0,zl=null,Wl=!1,Hl=null,Yl=null,Xl=!1,ql=null,$l=0,Kl=0,Ql=null,Zl=-1,Jl=0;function eu(){return 0!==(6&El)?Qe():-1!==Zl?Zl:Zl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Ol?Ol&-Ol:null!==va.transition?(0===Jl&&(Jl=vt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nu(e,t,n,r){if(50<Kl)throw Kl=0,Ql=null,Error(a(185));gt(e,n,r),0!==(2&El)&&e===Ll||(e===Ll&&(0===(2&El)&&(Bl|=n),4===Nl&&ou(e,Ol)),ru(e,r),1===n&&0===El&&0===(1&t.mode)&&(Gl=Qe()+500,ji&&Gi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=dt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ft(e,e===Ll?Ol:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){ji=!0,Vi(e)}(lu.bind(null,e)):Vi(lu.bind(null,e)),si((function(){0===(6&El)&&Gi()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Zl=-1,Jl=0,0!==(6&El))throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ft(e,e===Ll?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=El;El|=2;var s=pu();for(Ll===e&&Ol===t||(zl=null,Gl=Qe()+500,fu(e,t));;)try{yu();break}catch(l){du(e,l)}xa(),Tl.current=s,El=i,null!==Cl?t=0:(Ll=null,Ol=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=Rl,fu(e,0),ou(e,r),ru(e,Qe()),n;if(6===t)ou(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(s=pt(e))&&(r=s,t=au(e,s))),1===t))throw n=Rl,fu(e,0),ou(e,r),ru(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,Ul,zl);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=Vl+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Ul,zl),t);break}xu(e,Ul,zl);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ml(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Ul,zl),r);break}xu(e,Ul,zl);break;default:throw Error(a(329))}}}return ru(e,Qe()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Ul,Ul=n,null!==t&&su(t)),e}function su(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ou(e,t){for(t&=~Dl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&El))throw Error(a(327));wu();var t=ft(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Rl,fu(e,0),ou(e,t),ru(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Ul,zl),ru(e,Qe()),null}function uu(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Gl=Qe()+500,ji&&Gi())}}function cu(e){null!==ql&&0===ql.tag&&0===(6&El)&&wu();var t=El;El|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,0===(6&(El=t))&&Gi()}}function hu(){Pl=Il.current,Ti(Il)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:is(),Ti(Li),Ti(Ei),cs();break;case 5:ss(r);break;case 4:is();break;case 13:case 19:Ti(os);break;case 10:wa(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Ll=e,Cl=e=Iu(e.current,null),Ol=Pl=t,Nl=0,Rl=null,Dl=Bl=Fl=0,Ul=jl=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Sa=null}return e}function du(e,t){for(;;){var n=Cl;try{if(xa(),hs.current=ao,gs){for(var r=ps.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}gs=!1}if(ds=0,ms=vs=ps=null,ys=!1,bs=0,Sl.current=null,null===n||null===n.return){Nl=1,Rl=t,Cl=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(s,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){mo(s,c,t),vu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var g=go(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yo(g,o,l,0,t),pa(uo(u,l));break e}}s=u=uo(u,l),4!==Nl&&(Nl=2),null===jl?jl=[s]:jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fa(s,po(0,u,t));break e;case 1:l=u;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fa(s,vo(s,l,t));break e}}s=s.return}while(null!==s)}_u(n)}catch(_){t=_,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function pu(){var e=Tl.current;return Tl.current=ao,null===e?ao:e}function vu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Ll||0===(268435455&Fl)&&0===(268435455&Bl)||ou(Ll,Ol)}function mu(e,t){var n=El;El|=2;var r=pu();for(Ll===e&&Ol===t||(zl=null,fu(e,t));;)try{gu();break}catch(i){du(e,i)}if(xa(),El=n,Tl.current=r,null!==Cl)throw Error(a(261));return Ll=null,Ol=0,Nl}function gu(){for(;null!==Cl;)bu(Cl)}function yu(){for(;null!==Cl&&!$e();)bu(Cl)}function bu(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?_u(e):Cl=t,Sl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Pl)))return void(Cl=n)}else{if(null!==(n=qo(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Nl=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Nl&&(Nl=5)}function xu(e,t,n){var r=bt,i=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{wu()}while(null!==ql);if(0!==(6&El))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Ll&&(Cl=Ll=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Lu(tt,(function(){return wu(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Al.transition,Al.transition=null;var o=bt;bt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=o+i),f!==s||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(l=o),d===s&&++h===r&&(u=o),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(x){Mu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}v=tl,tl=!1}(e,n),ml(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ke(),El=l,bt=o,Al.transition=s}else e.current=n;if(Xl&&(Xl=!1,ql=e,$l=i),0===(s=e.pendingLanes)&&(Yl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&wu(),0!==(1&(s=e.pendingLanes))?e===Ql?Kl++:(Kl=0,Ql=e):Kl=0,Gi()}(e,t,n,r)}finally{Al.transition=i,bt=r}return null}function wu(){if(null!==ql){var e=_t($l),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,$l=0,0!==(6&El))throw Error(a(331));var i=El;for(El|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zo=c;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var f=h.child;if(null!==f)f.return=h,Zo=f;else for(;null!==Zo;){var d=(h=Zo).sibling,p=h.return;if(al(h),h===c){Zo=null;break}if(null!==d){d.return=p,Zo=d;break}Zo=p}}}var v=s.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Zo=y;break e}Zo=s.return}}var b=e.current;for(Zo=b;null!==Zo;){var _=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==_)_.return=o,Zo=_;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Mu(l,l.return,w)}if(l===o){Zo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Zo=x;break e}Zo=l.return}}if(El=i,Gi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function ku(e,t,n){e=Na(e,t=po(0,t=uo(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function Mu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Na(t,e=vo(t,e=uo(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(Ol&n)===n&&(4===Nl||3===Nl&&(130023424&Ol)===Ol&&500>Qe()-Vl?fu(e,0):Dl|=n),ru(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=La(e,t))&&(gt(e,t,n),ru(e,n))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Su(e,n)}function Lu(e,t){return Xe(e,t)}function Cu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Cu(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Pu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Ru(n.children,i,s,t);case M:o=8,i|=8;break;case T:return(e=Ou(12,n,t,2|i)).elementType=T,e.lanes=s,e;case L:return(e=Ou(13,n,t,i)).elementType=L,e.lanes=s,e;case C:return(e=Ou(19,n,t,i)).elementType=C,e.lanes=s,e;case I:return Fu(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case A:o=9;break e;case E:o=11;break e;case O:o=14;break e;case P:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ou(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ru(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,a,s,o,l){return e=new ju(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ou(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Vu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gu(e){if(!e)return Ai;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ri(e,n,t)}return t}function zu(e,t,n,r,i,a,s,o,l){return(e=Uu(n,r,!0,e,0,a,0,o,l)).context=Gu(null),n=e.current,(a=Ia(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,a=eu(),s=tu(i);return n=Gu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,s))&&(nu(e,i,s,a),Ra(e,i,s)),s}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Li.current)_o=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:Co(t),da();break;case 5:as(t);break;case 1:Pi(t.type)&&Fi(t);break;case 4:rs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(Si(os,1&os.current),null!==(e=Wo(e,t,n))?e.sibling:null);Si(os,1&os.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(os,os.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return Wo(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zo(e,t),e=t.pendingProps;var i=Oi(t,Ei.current);Ma(t,n),i=ks(null,t,r,e,i,n);var s=Ms();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Fi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Lo(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ao(null,t,r,e,n);break e;case 1:t=Eo(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Co(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Pa(e,t),Ba(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oo(e,t,r,n,i=uo(Error(a(423)),t));break e}if(r!==i){t=Oo(e,t,r,n,i=uo(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return as(t),null===e&&ua(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),So(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Bo(e,t,n);case 4:return rs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Si(ga,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Li.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Ia(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ka(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ma(t,n),r=r(i=Ta(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),ko(e,t,r,i=ma(r.type,i),n);case 15:return Mo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zo(e,t),t.tag=1,Pi(r)?(e=!0,Fi(t)):e=!1,Ma(t,n),za(t,r,i),Ha(t,r,i,n),Lo(null,t,r,!0,e,n);case 19:return Go(e,t,n);case 22:return To(e,t,n)}throw Error(a(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Hu(s);o.call(e)}}Wu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hu(s);a.call(e)}}var s=zu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=s,e[pi]=s.current,Gr(8===e.nodeType?e.parentNode:e),cu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hu(l);o.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Gr(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(s)}Ku.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wu(e,t,null,null)},Ku.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[pi]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Bt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Qe()),0===(6&El)&&(Gl=Qe()+500,Gi()))}break;case 13:cu((function(){var t=La(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Xu(e,1)}},wt=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)nu(t,e,134217728,eu());Xu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=La(e,t);if(null!==n)nu(n,e,t,eu());Xu(e,t)}},Mt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));X(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uu,Le=cu;var tc={usingClientEntryPoint:!1,Events:[bi,_i,xi,Se,Ae,uu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return Vu(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,r="",i=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Gr(8===e.nodeType?e.parentNode:e),new $u(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,s,o),e[pi]=t.current,Gr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ku(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1739:function(e,t,n){"use strict";var r=n(1168);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},5918:function(e,t,n){"use strict";var r=n(7313),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:o.current}}t.jsx=u,t.jsxs=u},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,i)&&!M.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+E(l,0):a,x(s)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),L(s,t,i,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+E(o=e[u],u);l+=L(o,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=L(o=o.value,t,i,c=a+E(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return L(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},N={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!M.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},3095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(m=!1,_(e),!v)if(null!==r(u))v=!0,I(w);else{var t=r(c);null!==t&&N(x,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=d;try{for(_(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!L());){var s=f.callback;if("function"===typeof s){f.callback=null,d=f.priorityLevel;var o=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?f.callback=o:f===r(u)&&i(u),_(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var h=r(c);null!==h&&N(x,h.startTime-n),l=!1}return l}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,M=!1,T=null,S=-1,A=5,E=-1;function L(){return!(t.unstable_now()-E<A)}function C(){if(null!==T){var e=t.unstable_now();E=e;var n=!0;try{n=T(!0,e)}finally{n?k():(M=!1,T=null)}}else M=!1}if("function"===typeof b)k=function(){b(C)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=C,k=function(){P.postMessage(null)}}else k=function(){g(C,0)};function I(e){T=e,M||(M=!0,k())}function N(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,I(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(y(S),S=-1):m=!0,N(x,a-s))):(e.sortIndex=o,n(u,e),v||p||(v=!0,I(w))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},1531:function(e,t,n){"use strict";var r=n(7313);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,s=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return o((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),s((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},5531:function(e,t,n){"use strict";var r=n(7313),i=n(1239);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,o=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=o(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=u((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return o=t}return o=e}if(t=o,a(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,o=n)}var s,o,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var d=s(e,h[0],h[1]);return l((function(){f.hasValue=!0,f.value=d}),[d]),c(d),d}},1239:function(e,t,n){"use strict";e.exports=n(1531)},7058:function(e,t,n){"use strict";e.exports=n(5531)},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw s}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var s=r(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(O){h=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new E(r||[]);return s(a,"_invoke",{value:M(e,n,o)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=f;var p={};function v(){}function m(){}function g(){}var y={};h(y,l,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(L([])));_&&_!==n&&a.call(_,l)&&(y=_);var x=g.prototype=v.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,s,o,l){var u=d(e[i],e,s);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==r(h)&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function M(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=T(s,n);if(o){if(o===p)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function T(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=g,s(x,"constructor",{value:g,configurable:!0}),s(g,"constructor",{value:m,configurable:!0}),m.displayName=h(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,h(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(k.prototype),h(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var s=new k(f(e,n,r,i),a);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(x),h(x,c,"Generator"),h(x,l,(function(){return this})),h(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(o&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),s=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),s=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){s[e]=function(){return r[e]}}));return s.default=function(){return r},n.d(a,s),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".fe66ef9a.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="vpbank-lixi-game:";n.l=function(r,i,a,s){if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var f=function(t,n){o.onerror=o.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,s=r[0],o=r[1],l=r[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkvpbank_lixi_game=self.webpackChunkvpbank_lixi_game||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(1739),t=function(e){e&&e instanceof Function&&n.e(27).then(n.bind(n,4027)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,s=Object.create(i.prototype),o=new A(r||[]);return a(s,"_invoke",{value:k(e,n,o)}),s}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=h;var d={};function p(){}function v(){}function m(){}var g={};c(g,o,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==t&&n.call(b,o)&&(g=b);var _=m.prototype=p.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,s,o,l){var u=f(e[a],e,s);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==r(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,l)}),(function(e){i("throw",e,o,l)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,l)}))}l(u.arg)}var s;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return s=s?s.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return L()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=M(s,n);if(o){if(o===d)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function M(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,M(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return v.prototype=m,a(_,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=c(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new w(h(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(_),c(_,u,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(o&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function a(e,t,n,r,i,a,s){try{var o=e[a](s),l=o.value}catch(u){return void n(u)}o.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){a(s,r,i,o,l,"next",e)}function l(e){a(s,r,i,o,l,"throw",e)}o(void 0)}))}}var o=n(7058),l=n(7313),u=n.t(l,2);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var p="function"===typeof Symbol&&Symbol.observable||"@@observable",v=function(){return Math.random().toString(36).substring(7).split("").join(".")},m={INIT:"@@redux/INIT"+v(),REPLACE:"@@redux/REPLACE"+v(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+v()}};function g(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function y(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(d(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(d(1));return n(y)(e,t)}if("function"!==typeof e)throw new Error(d(2));var i=e,a=t,s=[],o=s,l=!1;function u(){o===s&&(o=s.slice())}function c(){if(l)throw new Error(d(3));return a}function h(e){if("function"!==typeof e)throw new Error(d(4));if(l)throw new Error(d(5));var t=!0;return u(),o.push(e),function(){if(t){if(l)throw new Error(d(6));t=!1,u();var n=o.indexOf(e);o.splice(n,1),s=null}}}function f(e){if(!g(e))throw new Error(d(7));if("undefined"===typeof e.type)throw new Error(d(8));if(l)throw new Error(d(9));try{l=!0,a=i(a,e)}finally{l=!1}for(var t=s=o,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!==typeof e)throw new Error(d(10));i=e,f({type:m.REPLACE})}function b(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(d(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[p]=function(){return this},e}return f({type:m.INIT}),(r={dispatch:f,subscribe:h,getState:c,replaceReducer:v})[p]=b,r}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(d(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=b.apply(void 0,a)(n.dispatch),f(f({},n),{},{dispatch:r})}}}function x(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var w=x();w.withExtraArgument=x;var k=w;function M(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function T(e){return!!e&&!!e[fe]}function S(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===de}(e)||Array.isArray(e)||!!e[he]||!!(null===(t=e.constructor)||void 0===t?void 0:t[he])||I(e)||N(e))}function A(e,t,n){void 0===n&&(n=!1),0===E(e)?(n?Object.keys:pe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function E(e){var t=e[fe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:I(e)?2:N(e)?3:0}function L(e,t){return 2===E(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){return 2===E(e)?e.get(t):e[t]}function O(e,t,n){var r=E(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function P(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function I(e){return oe&&e instanceof Map}function N(e){return le&&e instanceof Set}function R(e){return e.o||e.t}function F(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ve(e);delete t[fe];for(var n=pe(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function B(e,t){return void 0===t&&(t=!1),j(e)||T(e)||!S(e)||(E(e)>1&&(e.set=e.add=e.clear=e.delete=D),Object.freeze(e),t&&A(e,(function(e,t){return B(t,!0)}),!0)),e}function D(){M(2)}function j(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function U(e){var t=me[e];return t||M(18,e),t}function V(){return ae}function G(e,t){t&&(U("Patches"),e.u=[],e.s=[],e.v=t)}function z(e){W(e),e.p.forEach(Y),e.p=null}function W(e){e===ae&&(ae=e.l)}function H(e){return ae={p:[],l:ae,h:e,m:!0,_:0}}function Y(e){var t=e[fe];0===t.i||1===t.i?t.j():t.O=!0}function X(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||U("ES5").S(t,e,r),r?(n[fe].P&&(z(t),M(4)),S(e)&&(e=q(t,e),t.l||K(t,e)),t.u&&U("Patches").M(n[fe].t,e,t.u,t.s)):e=q(t,n,[]),z(t),t.u&&t.v(t.u,t.s),e!==ce?e:void 0}function q(e,t,n){if(j(t))return t;var r=t[fe];if(!r)return A(t,(function(i,a){return $(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return K(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=F(r.k):r.o;A(3===r.i?new Set(i):i,(function(t,a){return $(e,r,i,t,a,n)})),K(e,i,!1),n&&e.u&&U("Patches").R(r,n,e.u,e.s)}return r.o}function $(e,t,n,r,i,a){if(T(i)){var s=q(e,i,a&&t&&3!==t.i&&!L(t.D,r)?a.concat(r):void 0);if(O(n,r,s),!T(s))return;e.m=!1}if(S(i)&&!j(i)){if(!e.h.F&&e._<1)return;q(e,i),t&&t.A.l||K(e,i)}}function K(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&B(t,n)}function Q(e,t){var n=e[fe];return(n?R(n):e)[t]}function Z(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function J(e){e.P||(e.P=!0,e.l&&J(e.l))}function ee(e){e.o||(e.o=F(e.t))}function te(e,t,n){var r=I(t)?U("MapSet").N(t,n):N(t)?U("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:V(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=ge;n&&(i=[r],a=ye);var s=Proxy.revocable(i,a),o=s.revoke,l=s.proxy;return r.k=l,r.j=o,l}(t,n):U("ES5").J(t,n);return(n?n.A:V()).p.push(r),r}function ne(e){return T(e)||M(22,e),function e(t){if(!S(t))return t;var n,r=t[fe],i=E(t);if(r){if(!r.P&&(r.i<4||!U("ES5").K(r)))return r.t;r.I=!0,n=re(t,i),r.I=!1}else n=re(t,i);return A(n,(function(t,i){r&&C(r.t,t)===i||O(n,t,e(i))})),3===i?new Set(n):n}(e)}function re(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return F(e)}var ie,ae,se="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),oe="undefined"!=typeof Map,le="undefined"!=typeof Set,ue="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ce=se?Symbol.for("immer-nothing"):((ie={})["immer-nothing"]=!0,ie),he=se?Symbol.for("immer-draftable"):"__$immer_draftable",fe=se?Symbol.for("immer-state"):"__$immer_state",de=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),pe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ve=Object.getOwnPropertyDescriptors||function(e){var t={};return pe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},me={},ge={get:function(e,t){if(t===fe)return e;var n=R(e);if(!L(n,t))return function(e,t,n){var r,i=Z(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!S(r)?r:r===Q(e.t,t)?(ee(e),e.o[t]=te(e.A.h,r,e)):r},has:function(e,t){return t in R(e)},ownKeys:function(e){return Reflect.ownKeys(R(e))},set:function(e,t,n){var r=Z(R(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Q(R(e),t),a=null==i?void 0:i[fe];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(P(n,i)&&(void 0!==n||L(e.t,t)))return!0;ee(e),J(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Q(e.t,t)||t in e.t?(e.D[t]=!1,ee(e),J(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=R(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){M(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){M(12)}},ye={};A(ge,(function(e,t){ye[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ye.deleteProperty=function(e,t){return ye.set.call(this,e,t,void 0)},ye.set=function(e,t,n){return ge.set.call(this,e[0],t,n,e[0])};var be=function(){function e(e){var t=this;this.g=ue,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&M(6),void 0!==r&&"function"!=typeof r&&M(7),S(e)){var o=H(t),l=te(t,e,void 0),u=!0;try{s=n(l),u=!1}finally{u?z(o):W(o)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return G(o,r),X(e,o)}),(function(e){throw z(o),e})):(G(o,r),X(s,o))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===ce&&(s=void 0),t.F&&B(s,!0),r){var c=[],h=[];U("Patches").M(e,s,c,h),r(c,h)}return s}M(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){S(e)||M(8),T(e)&&(e=ne(e));var t=H(this),n=te(this,e,void 0);return n[fe].C=!0,W(t),n},t.finishDraft=function(e,t){var n=(e&&e[fe]).A;return G(n,t),X(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ue&&M(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=U("Patches").$;return T(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),_e=new be,xe=(_e.produce,_e.produceWithPatches.bind(_e),_e.setAutoFreeze.bind(_e),_e.setUseProxies.bind(_e),_e.applyPatches.bind(_e),_e.createDraft.bind(_e),_e.finishDraft.bind(_e),n(9165)),we=n.n(xe),ke=(0,l.createContext)(),Me=function(){throw new Error("uSES not initialized!")},Te=function(e,t){return e===t};function Se(e){return function(t,n){void 0===n&&(n=Te);var r=(0,l.useContext)(e),i=Me(r.subscribe,r.getState,r.getServerState||r.getState,t,n);return(0,l.useDebugValue)(i),i}}var Ae=Se(ke);function Ee(e){return function(t){return t((0,l.useContext)(e).getActions())}}var Le=Ee(ke);function Ce(e){return function(){return(0,l.useContext)(e).dispatch}}Ce(ke);function Oe(e){return function(){var t=(0,l.useContext)(e),n=(0,l.useState)(!1),r=n[0],i=n[1];return(0,l.useEffect)((function(){t.persist.resolveRehydration().then((function(){return i(!0)}))}),[]),r}}Oe(ke);var Pe=function(e,t){var n;return(n={}).$_a=!0,n.fn=e,n.config=t,n};var Ie;function Ne(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Re(e){return function e(t){var n=Object.keys(t).reduce((function(e,n){return null==Object.getOwnPropertyDescriptor(t,n).get&&(e[n]=t[n]),e}),{});return Object.keys(n).forEach((function(t){Ne(n[t])&&(n[t]=e(n[t]))})),n}(e)}function Fe(e){return null!=e&&"object"===typeof e&&"function"===typeof e.then}function Be(e,t){return e.reduce((function(e,t){return Ne(e)?e[t]:void 0}),t)}function De(e,t,n){if(0===e.length)return n;var r=f({},t),i=e[0];return 1===e.length?r[i]=n:r[i]=De(e.slice(1),r[i],n),r}function je(e,t,n){0!==e.length?e.reduce((function(t,r,i){return i+1===e.length?t[r]=n:t[r]=t[r]||{},t[r]}),t):"object"===typeof n&&(Object.keys(t).forEach((function(e){delete t[e]})),Object.keys(n).forEach((function(e){t[e]=n[e]})))}function Ue(e){return void 0===e&&(e=!1),function(t,n,r,i){if(i&&"immer"in i?!1===(null==i?void 0:i.immer):e){var a=Be(t,n),s=r(a);return a!==s?De(t,n,s):n}if(Ie||(Ie=new be({useProxies:"undefined"!==typeof Proxy&&"undefined"!==typeof Proxy.revocable&&"undefined"!==typeof Reflect,autoFreeze:!1})),0===t.length){var o=Ie.createDraft(n),l=r(o);return l?T(l)?Ie.finishDraft(l):l:Ie.finishDraft(o)}var u=t.slice(0,t.length-1),c=Ie.createDraft(n),h=Be(u,n),f=r(Be(t,c));return f&&(h[t[t.length-1]]=f),Ie.finishDraft(c)}}var Ve=function(e){var t=[];return function(e,t,n){return new Promise((function(r,i){var a=e[Symbol.iterator](),s=0;!function e(n){var o=a.next();o.done?r(n):Promise.all([n,o.value]).then((function(n){return e(t(n[0],n[1],s++))})).catch((function(e){return i(e)}))}(n)}))}(e,(function(e,n){return n().then((function(e){t.push(e)}))})).then((function(){return t}))};function Ge(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}function ze(e,t,n,r){var i=Ue(e),a=function(e,n){var r=t[n.type];return r?function(e,t,n,r,a){return i(r,e,(function(e){return n(e,t.payload)}),a)}(e,n,r,r.def.meta.parent,r.def.config):e},s=function(e,t){return n.reduce((function(e,n){var r=n.parentPath,a=n.key,s=n.reducer,o=n.config;return i(r,e,(function(e){return e[a]=s(T(e[a])?function(e){return T(e)||M(23,e),e[fe].t}(e[a]):e[a],t),e}),o)}),e)};return function(e,t){var i=a(e,t),o=n.length>0?s(i,t):i;return e!==o&&r.forEach((function(e){var t=e.parentPath,n=e.bindComputedProperty,r=Be(t,o);null!=r&&n(r,o)})),o}}var We={getItem:function(){},setItem:function(){},removeItem:function(){}},He=function(e){var t;return function(){if(!t){try{"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e])}catch(V){}t||(t=We)}return t}},Ye=He("localStorage"),Xe=He("sessionStorage");function qe(e,t){void 0===t&&(t=[]),null==e&&(e=Xe()),"string"===typeof e&&(e="localStorage"===e?Ye():"sessionStorage"===e?Xe():We);var n=[].concat(t).reverse(),r=function(t){var r=e===Ye()||e===Xe()?JSON.parse(t).data:t;return n.length>0&&null!=r&&"object"===typeof r&&Object.keys(r).forEach((function(e){r[e]=n.reduce((function(t,n){return n.out(t,e)}),r[e])})),r},i=Fe(e.getItem("_"));return{getItem:function(t){if(i)return e.getItem(t).then((function(e){return null!=e?r(e):void 0}));var n=e.getItem(t);return null!=n?r(n):void 0},setItem:function(n,r){return e.setItem(n,function(n){return t.length>0&&null!=n&&"object"===typeof n&&Object.keys(n).forEach((function(e){n[e]=t.reduce((function(t,n){return n.in(t,e)}),n[e])})),e===Ye()||e===Xe()?JSON.stringify({data:n}):n}(r))},removeItem:function(t){return e.removeItem(t)}}}function $e(e,t){return function(){return 0===t._i._persistenceConfig.length?Promise.resolve():Ve(t._i._persistenceConfig.map((function(t){var n=t.path,r=t.config;return function(){return Promise.resolve(r.storage.removeItem(e(n)))}})))}}function Ke(e,t){var n,r=Promise.resolve(),i=!1,a="undefined"===typeof window?function(e){return e()}:null!=window.requestIdleCallback?window.requestIdleCallback:window.requestAnimationFrame;return{persist:function(s){if(0!==t._i._persistenceConfig.length){var o=function(){i=!0,r=new Promise((function(r){a((function(){Ve(t._i._persistenceConfig.map((function(t){var n=t.path,r=t.config;return function(){var t=r.storage,i=r.allow,a=r.deny,o=function(e,t,n){var r=Object.keys(e);return t.length>0&&(r=r.reduce((function(e,n){return-1!==t.findIndex((function(e){return e===n}))?[].concat(e,[n]):e}),[])),n.length>0&&(r=r.reduce((function(e,t){return-1!==n.findIndex((function(e){return e===t}))?e:[].concat(e,[t])}),[])),r}(Re(Be(n,s)),i,a),l={};return o.map((function(e){var t=Be([].concat(n,[e]),s),r=Ne(t)?Re(t):t;l[e]=r})),Promise.resolve(t.setItem(e(n),l))}}))).finally((function(){if(i=!1,n){var e=n;n=null,e()}else r()}))}))}))};i?n=o:o()}},clear:$e(e,t),flush:function(){return n&&n(),r}}}function Qe(e,t,n,r){if(0===n._i._persistenceConfig.length)return Promise.resolve();var i=Re(n._i._dS),a=!1;return Ve(n._i._persistenceConfig.map((function(t){return function(){var n=t.path,s=t.config,o=s.mergeStrategy,l=s.storage;if(r&&(n.length<1||n[0]!==r))return Promise.resolve();var u=function(e,t){return null!=e&&null!=t&&(typeof e!==typeof t||Array.isArray(e)&&!Array.isArray(t))},c=function(e){null!=e&&(!function(e){if("overwrite"===o)je(n,i,e);else if("mergeShallow"===o){var t=Be(n,i);Object.keys(e).forEach((function(n){u(t[n],e[n])||(t[n]=e[n])}))}else"mergeDeep"===o&&function e(t,n){Object.keys(n).forEach((function(r){u(t[r],n[r])||(Ne(n[r])?(t[r]=t[r]||{},e(t[r],n[r])):t[r]=n[r])}))}(Be(n,i),e)}(e),a=!0)},h=l.getItem(e(n));return Fe(h)?h.then(c):Promise.resolve(c(h))}}))).then((function(){a&&t(i)}))}var Ze=function(e,t){console.log("Error in "+e),console.log(t)},Je=function(e,t){return function(){try{var n=t.apply(void 0,arguments);Fe(n)&&n.catch((function(t){Ze(e,t)}))}catch(r){Ze(e,r)}}};function et(e){return function(){return function(t){return function(n){var r=t(n);if(n&&e._i._lAM[n.type]&&e._i._lAM[n.type].length>0){var i=e._i._aCD[n.type];e._i._lAM[n.type].forEach((function(e){e({type:i?i.def.meta.type:n.type,payload:n.payload,error:n.error,result:n.result})}))}return r}}}}function tt(e,t,n,r){var i,a,s=!1,o=[],l=!1;return function(e,u){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){if(l)return i;var t=n.stateResolvers.map((function(t){return t(e,u)}));if(s&&(u===a||Ge(t,o)||r._i._cS.isInReducer&&null!==(new Error).stack.match(/shallowCopy/gi)))return i;var c=n.fn.apply(n,t);return function(e,t){l=!0;var n=we()(e,t);return l=!1,n}(c,i)||(i=c),o=t,a=u,s=!0,i}})}}function nt(e){return function(){return function(t){return function(n){e._i._cS.isInReducer=!0;var r=t(n);return e._i._cS.isInReducer=!1,r}}}}function rt(e){return function(t){return function(n){return function(r){if(0===e._i._e.length)return n(r);var i=t.getState(),a=n(r),s=t.getState();return i!==s&&e._i._e.forEach((function(e){var t=Be(e.meta.parent,i),n=Be(e.meta.parent,s),a=e.dependencyResolvers.map((function(e){return e(t,i)})),o=e.dependencyResolvers.map((function(e){return e(n,s)}));a.some((function(e,t){return e!==o[t]}))&&e.actionCreator(a,o,r)})),a}}}}var it=function(e){console.error(e)};var at,st=function(e,t){console.log("Error in "+e),console.log(t)},ot=function(e,t){return function(){try{var n=t.apply(void 0,arguments);Fe(n)&&n.catch((function(t){st(e,t)}))}catch(r){st(e,r)}}};function lt(e,t,n,r){var i=t,a={},s={},o={},l={},u=[],c=[],h=[],d={},p={},v=[],m=[];return m=m.sort((function(e,t){var n=e.path.join("."),r=t.path.join(".");return n<r?-1:n>r?1:0})),function e(p,g){return Object.keys(p).forEach((function(y){var b=p[y],_=[].concat(g,[y]),x={parent:g,path:_,key:y},w=function(){var e=Be(g,t);je(_,i,e&&y in e?e[y]:b)};if("$_p"!==y)if(null!=b&&"object"===typeof b)if(b.$_a||b.$_aO){var k=f({},b),M=k.$_a?"@action":"@actionOn";k.meta={actionName:x.key,category:M,type:M+"."+x.path.join("."),parent:x.parent,path:x.path},k.actionCreator=function(e,t){function n(n){var r={type:e.meta.type,payload:n,config:e.config};return e.$_aO&&e.meta.resolvedTargets&&(n.resolvedTargets=[].concat(e.meta.resolvedTargets)),t.dispatch(r)}return n.type=e.meta.type,n}(k,r),k.actionCreator.def=k,k.fn.def=k,a[k.meta.type]=k.actionCreator,o[k.meta.type]=k.fn,"ePRS"!==x.key&&(k.$_aO?(v.push(k),je(_,d,k.actionCreator)):je(_,s,k.actionCreator))}else if(b.$_t||b.$_tO){var T=f({},b),S=(T.$_t?"@thunk":"@thunkOn")+"."+x.path.join(".");T.meta={actionName:x.key,parent:x.parent,path:x.path,type:S,startType:S+"(start)",successType:S+"(success)",failType:S+"(fail)"},T.thunkHandler=function(e,t,n,r){return function(i,a){var s={dispatch:t.dispatch,fail:a,getState:function(){return Be(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};return e.$_tO&&e.meta.resolvedTargets&&(i.resolvedTargets=[].concat(e.meta.resolvedTargets)),e.fn(Be(e.meta.parent,r),i,s)}}(T,r,n,s),je(_,l,T.thunkHandler),T.actionCreator=function(e,t){var n=function(n){var r=Je(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,payload:n})})),i=Je(e.meta.failType,(function(r){return t.dispatch({type:e.meta.failType,payload:n,error:r})})),a=Je(e.meta.successType,(function(r){return t.dispatch({type:e.meta.successType,payload:n,result:r})}));r();var s=null,o=function(e){s=e},l=t.dispatch((function(){return e.thunkHandler(n,o)}));return Fe(l)?l.then((function(e){return s?i(s):a(e),e})):(s?i(s):a(l),l)};return n.type=e.meta.type,n.successType=e.meta.successType,n.failType=e.meta.failType,n.startType=e.meta.startType,n}(T,r),T.actionCreator.def=T,a[T.meta.type]=T.actionCreator,T.$_tO?(v.push(T),je(_,d,T.actionCreator)):je(_,s,T.actionCreator)}else if(b.$_c){var A=Be(g,i),E=tt(0,y,b,r);E(A,i),u.push({key:y,parentPath:g,bindComputedProperty:E})}else if(b.$_r)c.push({key:y,parentPath:g,reducer:b.fn,config:b.config});else if(b.$_e){var L=f({},b),C="@effectOn."+x.path.join(".");L.meta={type:C,actionName:x.key,parent:x.parent,path:x.path,startType:C+"(start)",successType:C+"(success)",failType:C+"(fail)"};var O=function(e,t,n,r){var i,a=Be(e.meta.parent,r);return function(s){var o={dispatch:t.dispatch,getState:function(){return Be(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};if(void 0!==i){var l=i();i=void 0,Fe(l)&&l.catch(it)}var u=e.fn(a,s,o);if(Fe(u))return u.then((function(e){}));"function"===typeof u&&(i=u)}}(L,r,n,s),P=function(e,t,n){var r=function(r,i,a){var s={prev:r,current:i,action:a},o=ot(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,change:s})})),l=ot(e.meta.successType,(function(){return t.dispatch({type:e.meta.successType,change:s})}));o();try{var u=t.dispatch((function(){return n(s)}));return Fe(u)?u.then((function(e){return l(e),e}),it):(l(u),u)}catch(c){it(c)}};return r.type=e.meta.type,r.startType=e.meta.startType,r.successType=e.meta.successType,r.failType=e.meta.failType,r}(L,r,O);L.actionCreator=P,h.push(L)}else if(Ne(b)){null==Be(_,i)&&je(_,i,{}),e(b,_)}else w();else w();else m.push(function(e,t){return void 0===t&&(t={}),{path:e,config:{allow:t.allow||[],deny:t.deny||[],mergeStrategy:t.mergeStrategy||"mergeDeep",storage:qe(t.storage,t.transformers)}}}(g,b))}))}(e,[]),function(e,t,n,r){e.forEach((function(e){var i=e.targetResolver(Be(e.meta.parent,t),t),a=(Array.isArray(i)?i:[i]).reduce((function(e,t){return"function"===typeof t&&t.def.meta.type&&n[t.def.meta.type]?t.def.meta.successType?e.push(t.def.meta.successType):e.push(t.def.meta.type):"string"===typeof t&&e.push(t),e}),[]);e.meta.resolvedTargets=a,a.forEach((function(t){var i=r[t]||[];i.push(n[e.meta.type]),r[t]=i}))}))}(v,s,a,p),{_aCD:a,_aC:s,_aRD:o,_cP:u,_cR:c,_cS:{isInReducer:!1},_dS:i,_e:h,_lAC:d,_lAM:p,_persistenceConfig:m}}function ut(e,t){void 0===t&&(t={});var n=Re(e),r=t,i=r.compose,a=r.devTools,s=void 0!==a&&a,o=r.disableImmer,l=void 0!==o&&o,u=r.enhancers,c=void 0===u?[]:u,h=r.initialState,d=void 0===h?void 0:h,p=r.injections,v=void 0===p?{}:p,m=r.middleware,g=void 0===m?[]:m,x=r.mockActions,w=void 0!==x&&x,M=r.name,T=void 0===M?"EasyPeasyStore":M,S=r.version,A=void 0===S?0:S,E=r.reducerEnhancer,L=void 0===E?function(e){return e}:E,C=function(e){return f(f({},e),{},{ePRS:Pe((function(e,t){return t}))})},O={},P=C(n),I=[],N=function(e){return"["+T+"]["+A+"]"+(e.length>0?"["+e.join(".")+"]":"")},R=Ke(N,O),F=function(e,t){return function(n){var r=n.getState;return function(n){return function(i){var a=n(i);return i&&"@action.ePRS"!==i.type&&t._i._persistenceConfig.length>0&&e.persist(r()),a}}}}(R,O),B=function(e){return O._i._aCD["@action.ePRS"](e)},D=function(e){void 0===e&&(e={});var t=lt(P,e,v,O);O._i=f(f({},t),{},{reducer:L(ze(l,t._aRD,t._cR,t._cP))})},j=!0===s?{}:s,U=i||(s&&"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(f({name:T},j)):b);D(d||{});var V=[nt(O)].concat(g,[k,et(O),rt(O),F]);w&&V.push((function(){return function(){return function(e){null!=e&&I.push(e)}}}));var G=y(O._i.reducer,O._i._dS,U.apply(void 0,[_.apply(void 0,V)].concat(c)));G.subscribe((function(){O._i._cS.isInReducer=!1})),O.dispatch=G.dispatch,O.getState=G.getState;var z=function(){Object.keys(G.dispatch).forEach((function(e){delete G.dispatch[e]})),Object.keys(O._i._aC).forEach((function(e){G.dispatch[e]=O._i._aC[e]}))};z();var W=function(e){var t=G.getState();e&&delete t[e],D(t),G.replaceReducer(O._i.reducer),B(O._i._dS),z()},H=Qe(N,B,O);return Object.assign(G,{addModel:function(e,t){P[e],P[e]=t,W();var n=Qe(N,B,O,e);return{resolveRehydration:function(){return n}}},clearMockedActions:function(){I=[]},getActions:function(){return O._i._aC},getListeners:function(){return O._i._lAC},getMockedActions:function(){return[].concat(I)},getServerState:d,persist:{clear:R.clear,flush:R.flush,resolveRehydration:function(){return H}},reconfigure:function(e){P=C(e),W()},removeModel:function(e){P[e]&&(delete P[e],W(e))}})}function ct(e){var t=e.children,n=e.store;return l.createElement(ke.Provider,{value:n},t)}function ht(e){if(Array.isArray(e))return e}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e,t){if(e){if("string"===typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}function pt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vt(e,t){return ht(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||dt(e,t)||pt()}function mt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function gt(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||mt(e)||dt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t,n){return t&&bt(e.prototype,t),n&&bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xt(e,t){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xt(e,t)}function wt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xt(e,t)}function kt(e){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kt(e)}function Mt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function St(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tt(e)}function At(e){var t=Mt();return function(){var n,r=kt(e);if(t){var i=kt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return St(this,n)}}function Et(e,t,n){return Et=Mt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&xt(i,n.prototype),i},Et.apply(null,arguments)}function Lt(e){var t="function"===typeof Map?new Map:void 0;return Lt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Et(e,arguments,kt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),xt(n,e)},Lt(e)}function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}!function(e){Me=e}(o.useSyncExternalStoreWithSelector),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(at||(at={}));var Ot,Pt="popstate";function It(e){return{usr:e.state,key:e.key}}function Nt(e,t,n,r){return void 0===n&&(n=null),Ct({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Ft(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Rt(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,s=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function Ft(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Bt(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:Rt(e);return new URL(n,t)}function Dt(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,s=void 0===a?document.defaultView:a,o=i.v5Compat,l=void 0!==o&&o,u=s.history,c=at.Pop,h=null;function f(){c=at.Pop,h&&h({action:c,location:d.location})}var d={get action(){return c},get location(){return e(s,u)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Pt,f),h=e,function(){s.removeEventListener(Pt,f),h=null}},createHref:function(e){return t(s,e)},encodeLocation:function(e){var t=Bt(Rt(e));return Ct({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){c=at.Push;var r=Nt(d.location,e,t);n&&n(r,e);var i=It(r),a=d.createHref(r);try{u.pushState(i,"",a)}catch(o){s.location.assign(a)}l&&h&&h({action:c,location:d.location})},replace:function(e,t){c=at.Replace;var r=Nt(d.location,e,t);n&&n(r,e);var i=It(r),a=d.createHref(r);u.replaceState(i,"",a),l&&h&&h({action:c,location:d.location})},go:function(e){return u.go(e)}};return d}function jt(e,t,n){void 0===n&&(n="/");var r=Xt(("string"===typeof t?Ft(t):t).pathname||"/",n);if(null==r)return null;var i=Ut(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,s=0;null==a&&s<i.length;++s)a=Wt(i[s],Yt(r));return a}function Ut(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(qt(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var s=Jt([r,a.relativePath]),o=n.concat(a);e.children&&e.children.length>0&&(qt(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Ut(e.children,t,o,s)),(null!=e.path||e.index)&&t.push({path:s,score:zt(s,e.index),routesMeta:o})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Ot||(Ot={}));var Vt=/^:\w+$/,Gt=function(e){return"*"===e};function zt(e,t){var n=e.split("/"),r=n.length;return n.some(Gt)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Gt(e)})).reduce((function(e,t){return e+(Vt.test(t)?3:""===t?1:10)}),r)}function Wt(e,t){for(var n=e.routesMeta,r={},i="/",a=[],s=0;s<n.length;++s){var o=n[s],l=s===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=Ht({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var h=o.route;a.push({params:r,pathname:Jt([i,c.pathname]),pathnameBase:en(Jt([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=Jt([i,c.pathnameBase]))}return a}function Ht(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);$t("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=vt(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";l=o.slice(0,o.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return $t(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(u[n]||"",t),e}),{}),pathname:o,pathnameBase:l,pattern:e}}function Yt(e){try{return decodeURI(e)}catch(t){return $t(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Xt(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function qt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function $t(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Kt(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Qt(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Zt(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Ft(e):(qt(!(i=Ct({},e)).pathname||!i.pathname.includes("?"),Kt("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),Kt("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),Kt("#","search","hash",i)));var a,s=""===e||""===i.pathname,o=s?"/":i.pathname;if(r||null==o)a=n;else{var l=t.length-1;if(o.startsWith("..")){for(var u=o.split("/");".."===u[0];)u.shift(),l-=1;i.pathname=u.join("/")}a=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Ft(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,s=n.hash,o=void 0===s?"":s,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:tn(a),hash:nn(o)}}(i,a),h=o&&"/"!==o&&o.endsWith("/"),f=(s||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!f||(c.pathname+="/"),c}var Jt=function(e){return e.join("/").replace(/\/\/+/g,"/")},en=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},tn=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},nn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},rn=function(e){wt(n,e);var t=At(n);function n(){return yt(this,n),t.apply(this,arguments)}return _t(n)}(Lt(Error));var an=_t((function e(t,n,r){yt(this,e),this.status=t,this.statusText=n||"",this.data=r}));function sn(e){return e instanceof an}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var on=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(gt(on)));function ln(){return ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ln.apply(this,arguments)}var un="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cn=l.useState,hn=l.useEffect,fn=l.useLayoutEffect,dn=l.useDebugValue;function pn(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!un(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,u.useSyncExternalStore;var vn=l.createContext(null);var mn=l.createContext(null);var gn=l.createContext(null);var yn=l.createContext(null);var bn=l.createContext(null);var _n=l.createContext(null);var xn=l.createContext({outlet:null,matches:[]});var wn=l.createContext(null);function kn(){return null!=l.useContext(_n)}function Mn(){return kn()||qt(!1),l.useContext(_n).location}function Tn(){kn()||qt(!1);var e=l.useContext(bn),t=e.basename,n=e.navigator,r=l.useContext(xn).matches,i=Mn().pathname,a=JSON.stringify(Qt(r).map((function(e){return e.pathnameBase}))),s=l.useRef(!1);l.useEffect((function(){s.current=!0}));var o=l.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var o=Zt(e,JSON.parse(a),i,"path"===r.relative);"/"!==t&&(o.pathname="/"===o.pathname?t:Jt([t,o.pathname])),(r.replace?n.replace:n.push)(o,r.state,r)}else n.go(e)}),[t,n,a,i]);return o}function Sn(){var e=function(){var e,t=l.useContext(wn),n=Pn(En.UseRouteError),r=l.useContext(xn),i=r.matches[r.matches.length-1];if(t)return t;return r||qt(!1),!i.route.id&&qt(!1),null==(e=n.errors)?void 0:e[i.route.id]}(),t=sn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unhandled Thrown Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:i},n):null,l.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),l.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",l.createElement("code",{style:a},"errorElement")," props on\xa0",l.createElement("code",{style:a},"<Route>")))}var An,En,Ln=function(e){wt(n,e);var t=At(n);function n(e){var r;return yt(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return _t(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?l.createElement(wn.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(l.Component);function Cn(e){var t=e.routeContext,n=e.match,r=e.children,i=l.useContext(vn);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),l.createElement(xn.Provider,{value:t},r)}function On(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var a=r.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));a>=0||qt(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((function(e,a,s){var o=a.route.id?null==i?void 0:i[a.route.id]:null,u=n?a.route.errorElement||l.createElement(Sn,null):null,c=function(){return l.createElement(Cn,{match:a,routeContext:{outlet:e,matches:t.concat(r.slice(0,s+1))}},o?u:void 0!==a.route.element?a.route.element:e)};return n&&(a.route.errorElement||0===s)?l.createElement(Ln,{location:n.location,component:u,error:o,children:c()}):c()}),null)}function Pn(e){var t=l.useContext(gn);return t||qt(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(An||(An={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(En||(En={}));var In;function Nn(e){var t=e.to,n=e.replace,r=e.state,i=e.relative;kn()||qt(!1);var a=l.useContext(gn),s=Tn();return l.useEffect((function(){a&&"idle"!==a.navigation.state||s(t,{replace:n,state:r,relative:i})})),null}function Rn(e){qt(!1)}function Fn(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,s=e.navigationType,o=void 0===s?at.Pop:s,u=e.navigator,c=e.static,h=void 0!==c&&c;kn()&&qt(!1);var f=n.replace(/^\/*/,"/"),d=l.useMemo((function(){return{basename:f,navigator:u,static:h}}),[f,u,h]);"string"===typeof a&&(a=Ft(a));var p=a,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,b=p.hash,_=void 0===b?"":b,x=p.state,w=void 0===x?null:x,k=p.key,M=void 0===k?"default":k,T=l.useMemo((function(){var e=Xt(m,f);return null==e?null:{pathname:e,search:y,hash:_,state:w,key:M}}),[f,m,y,_,w,M]);return null==T?null:l.createElement(bn.Provider,{value:d},l.createElement(_n.Provider,{children:i,value:{location:T,navigationType:o}}))}function Bn(e){var t=e.children,n=e.location,r=l.useContext(mn);return function(e,t){kn()||qt(!1);var n,r=l.useContext(gn),i=l.useContext(xn).matches,a=i[i.length-1],s=a?a.params:{},o=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,Mn());if(t){var c,h="string"===typeof t?Ft(t):t;"/"===o||(null==(c=h.pathname)?void 0:c.startsWith(o))||qt(!1),n=h}else n=u;var f=n.pathname||"/",d=jt(e,{pathname:"/"===o?f:f.slice(o.length)||"/"}),p=On(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Jt([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:Jt([o,e.pathnameBase])})})),i,r||void 0);return t&&p?l.createElement(_n.Provider,{value:{location:ln({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:at.Pop}},p):p}(r&&!t?r.router.routes:jn(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(In||(In={}));var Dn=new Promise((function(){}));l.Component;function jn(e,t){void 0===t&&(t=[]);var n=[];return l.Children.forEach(e,(function(e,r){if(l.isValidElement(e))if(e.type!==l.Fragment){e.type!==Rn&&qt(!1),e.props.index&&e.props.children&&qt(!1);var i=[].concat(gt(t),[r]),a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=jn(e.props.children,i)),n.push(a)}else n.push.apply(n,jn(e.props.children,t))})),n}function Un(e){var t,n=e.basename,r=e.children,i=e.window,a=l.useRef();null==a.current&&(a.current=(void 0===(t={window:i,v5Compat:!0})&&(t={}),Dt((function(e,t){var n=e.location;return Nt("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Rt(t)}),null,t)));var s=a.current,o=vt(l.useState({action:s.action,location:s.location}),2),u=o[0],c=o[1];return l.useLayoutEffect((function(){return s.listen(c)}),[s]),l.createElement(Fn,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:s})}var Vn,Gn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Vn||(Vn={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Gn||(Gn={}));var zn,Wn,Hn,Yn=n(6123),Xn=n.n(Yn),qn={userToken:null},$n=.56,Kn="app::showNotice",Qn=function(){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight,r=0,i=0,a=getComputedStyle(e).getPropertyValue("--inset-top"),s=getComputedStyle(e).getPropertyValue("--inset-bottom");isNaN(parseFloat(a))||(r=parseFloat(a)),isNaN(parseFloat(s))||(i=parseFloat(s));var o=function(){try{var e=localStorage.getItem("screen::resolution");return e?JSON.parse(e):{}}catch(t){return{width:qn.clientWidth,height:qn.clientHeight,paddingTop:qn.paddingTop,paddingBottom:qn.paddingBottom}}}();"number"===typeof o.width&&(t=o.width),"number"===typeof o.height&&(n=o.height),"number"===typeof o.paddingTop&&(r=o.paddingTop),"number"===typeof o.paddingBottom&&(i=o.paddingBottom),"number"===typeof o.width||"number"===typeof o.height||"number"===typeof o.paddingTop&&"number"===typeof o.paddingBottom||(r&&(n+=r),i&&(n+=i));var l=0,u=0;t/n>=$n?l=(u=n)*$n:u=(l=t)/$n;var c=.025*l,h=0;h=t/n>=.5?.5*n:t,e.style.setProperty("--inset-top","".concat(r,"px")),e.style.setProperty("--inset-bottom","".concat(i,"px")),e.style.setProperty("--app-height","".concat(n,"px")),e.style.setProperty("--app-width","".concat(t,"px")),e.style.setProperty("--game-width","".concat(l,"px")),e.style.setProperty("--ingame-width","".concat(h,"px")),e.style.setProperty("--game-height","".concat(u+(n-u)/2,"px")),e.style.setProperty("--padding-horizontal","".concat(c,"px"))},Zn="button_pushable__Y0Adf",Jn="button_pushable-front__dTReR",er=n(6510);!function(e){e.TIME_LEFT_10S="10s_left",e.BUTTON_CLICK="button_click",e.BETTER_NEXT_TIME="next_time",e.HIT_HIGH_SCORE="hit_high_score",e.HIT_LOW_SCORE="hit_low_score",e.LUCKY_WISH="luckywish",e.MEOW="meow",e.REWARD_NORMAL="reward_normal",e.REWARD_SPECIAL="reward_special",e.ZOOM="zoom",e.SHOW_CHEST="show_chest"}(zn||(zn={})),function(e){e.BG="vpbank_bg"}(Wn||(Wn={})),function(e){e[e.MUSIC=0]="MUSIC",e[e.SOUND_FX=1]="SOUND_FX"}(Hn||(Hn={}));var tr=_t((function e(){var t=this;yt(this,e),this.playingBgMusics=[],this.loadedSounds={},this.soundMuteState={},this.isMusicEnable=!1,this.isSoundFxEnable=!1,this.isFocus=!1,this.loadSound=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new Promise((function(a){t.loadedSounds[n]&&a();var s=new er.Howl({src:["".concat(e).concat(n,".mp3")],volume:i,loop:r,onloaderror:function(e,t){},onplayerror:function(e,t){}});s.once("load",(function(){t.loadedSounds[n]=s;var e=t.isSoundFx(n)?Hn.SOUND_FX:Hn.MUSIC,r=Object.keys(t.soundMuteState).find((function(t){return t==="".concat(n,"_").concat(e)}));if(void 0!==r&&null!==r)try{t.loadedSounds[n].mute(t.soundMuteState[r])}catch(i){console.error(i)}a()}))}))},this.isSoundFx=function(e){return!!Object.values(zn).find((function(t){return t===e}))},this.setIsFocus=function(e){t.isFocus=e},this.setMusicEnable=function(e){t.isMusicEnable=e},this.setSoundFxEnable=function(e){t.isSoundFxEnable=e},this.mute=function(e,n){e===Hn.SOUND_FX&&Object.values(zn).forEach((function(e){t.soundMuteState["".concat(e,"_").concat(Hn.SOUND_FX)]=n})),e===Hn.MUSIC&&Object.values(Wn).forEach((function(e){t.soundMuteState["".concat(e,"_").concat(Hn.MUSIC)]=n}));var r=!0;return Object.keys(t.loadedSounds).forEach((function(i){if(t.isSoundFx(i)&&e===Hn.SOUND_FX||!t.isSoundFx(i)&&e===Hn.MUSIC)try{var a;null===(a=t.loadedSounds[i])||void 0===a||a.mute(n)}catch(s){console.error(s),r=!1}})),r},this.muteAll=function(e){t.isMusicEnable&&t.mute(Hn.MUSIC,e),t.isSoundFxEnable&&t.mute(Hn.SOUND_FX,e)},this.initSounds=function(){var e=s(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.loadSound(n,Wn.BG,!0,.2).then((function(){setTimeout((function(){nr.play(Wn.BG)}),100)})),t.loadSound(n,zn.TIME_LEFT_10S,!0),t.loadSound(n,zn.BUTTON_CLICK),t.loadSound(n,zn.HIT_HIGH_SCORE),t.loadSound(n,zn.HIT_LOW_SCORE),t.loadSound(n,zn.LUCKY_WISH),t.loadSound(n,zn.MEOW),t.loadSound(n,zn.REWARD_NORMAL),t.loadSound(n,zn.REWARD_SPECIAL),t.loadSound(n,zn.SHOW_CHEST),t.loadSound(n,zn.ZOOM),t.loadSound(n,zn.BETTER_NEXT_TIME)]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.play=function(e){var n=t.isBgMusic(e);if(n){if(t.playingBgMusics.includes(e))return;t.playingBgMusics.push(e)}var r=t.loadedSounds[e];if(n&&r&&(null===r||void 0===r||!r.playing())||r)try{r.play()}catch(i){console.error(i)}},this.stop=function(e){if(t.isBgMusic(e)){var n=t.playingBgMusics.findIndex((function(t){return t===e}));n>-1&&t.playingBgMusics.splice(n,1)}try{var r;null===(r=t.loadedSounds[e])||void 0===r||r.stop()}catch(i){console.error(i)}},this.isBgMusic=function(e){return Object.values(Wn).includes(e)},Object.values(Wn).forEach((function(e){t.soundMuteState["".concat(e,"_").concat(Hn.MUSIC)]=!0})),Object.values(zn).forEach((function(e){t.soundMuteState["".concat(e,"_").concat(Hn.SOUND_FX)]=!0}))})),nr=new tr,rr=n(6417),ir=function(e){var t=e.className,n=e.children,r=e.disabled,i=e.frontStyle,a=e.customStyle,s=e.title,o=e.onClick,l={backgroundColor:"transparent",pointerEvents:r?"none":"auto"};return(0,rr.jsx)("button",{className:Xn()(Zn,t,{disabled:r}),disabled:r,style:Object.assign(l,a||{}),tabIndex:-1,title:s,type:"button",onClick:function(){r||(nr.play(zn.BUTTON_CLICK),o&&o())},children:(0,rr.jsx)("div",{className:Jn,style:i,children:n})})},ar=n(1168);function sr(){return sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sr.apply(this,arguments)}function or(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function lr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xt(e,t)}function ur(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var cr=!1,hr=l.createContext(null),fr=function(e){return e.scrollTop},dr="unmounted",pr="exited",vr="entering",mr="entered",gr="exiting",yr=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=pr,r.appearStatus=vr):i=mr:i=t.unmountOnExit||t.mountOnEnter?dr:pr,r.state={status:i},r.nextCallback=null,r}lr(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===dr?{status:pr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==vr&&n!==mr&&(t=vr):n!==vr&&n!==mr||(t=gr)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===vr){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ar.findDOMNode(this);n&&fr(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===pr&&this.setState({status:dr})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[ar.findDOMNode(this),r],a=i[0],s=i[1],o=this.getTimeouts(),l=r?o.appear:o.enter;!e&&!n||cr?this.safeSetState({status:mr},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:vr},(function(){t.props.onEntering(a,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:mr},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ar.findDOMNode(this);t&&!cr?(this.props.onExit(r),this.safeSetState({status:gr},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:pr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:pr},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ar.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===dr)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,or(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(hr.Provider,{value:null},"function"===typeof n?n(e,r):l.cloneElement(l.Children.only(n),r))},t}(l.Component);function br(){}yr.contextType=hr,yr.propTypes={},yr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:br,onEntering:br,onEntered:br,onExit:br,onExiting:br,onExited:br},yr.UNMOUNTED=dr,yr.EXITED=pr,yr.ENTERING=vr,yr.ENTERED=mr,yr.EXITING=gr;var _r=yr,xr=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=ur(n.className,r):n.setAttribute("class",ur(n.className&&n.className.baseVal||"",r)));var n,r}))},wr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}lr(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&fr(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&xr(e,r),i&&xr(e,i),a&&xr(e,a)},n.render=function(){var e=this.props,t=(e.classNames,or(e,["classNames"]));return l.createElement(_r,sr({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);wr.defaultProps={classNames:""},wr.propTypes={};var kr=wr,Mr=document.getElementById("modal"),Tr=function(e){var t=e.backdrop,n=void 0===t||t,r=e.children,i=e.dismissOnBackdropClick,a=void 0===i||i,s=e.visible,o=void 0!==s&&s,u=e.zIndex,c=void 0===u?10:u,h=e.backdropColor,f=void 0===h?"rgba(0,0,0,0.8)":h,d=e.onDismiss,p=e.onEntered,v=vt((0,l.useState)(!1),2),m=v[0],g=v[1],y=vt((0,l.useState)(!1),2),b=y[0],_=y[1],x=(0,l.createRef)(),w=(0,l.useMemo)((function(){return document.createElement("div")}),[]);if((0,l.useEffect)((function(){return null===Mr||void 0===Mr||Mr.appendChild(w),function(){null===Mr||void 0===Mr||Mr.removeChild(w)}}),[w]),(0,l.useEffect)((function(){var e=null;return o?g(!0):(_(!1),e=setTimeout((function(){g(!1)}),500)),function(){e&&clearTimeout(e)}}),[o]),(0,l.useEffect)((function(){m&&_(!0)}),[m]),!m)return null;var k=(0,rr.jsxs)("div",{className:"modal".concat(o?" on":""),style:{zIndex:c},children:[o&&(0,rr.jsx)("div",{className:"backdrop",style:{opacity:n?1:0,backgroundColor:f},onClick:function(){a&&d()}}),(0,rr.jsx)(kr,{classNames:"modal-container",in:b,nodeRef:x,timeout:500,onEntered:p,children:(0,rr.jsx)("div",{className:"modal-content noselect",ref:x,children:r})},"modal-container")]});return ar.createPortal(k,w)},Sr={enableMusic:!0,enableSound:!0,userToken:""},Ar=function(){try{var e=localStorage.getItem("setting::enableMusic");return e?JSON.parse(e):(Er(!0),!0)}catch(t){return Sr.enableMusic}},Er=function(e){try{localStorage.setItem("setting::enableMusic",e.toString())}catch(t){Sr.enableMusic=e}},Lr=function(e){try{localStorage.setItem("setting::enableSound",e.toString())}catch(t){Sr.enableSound=e}},Cr=function(){try{var e=localStorage.getItem("setting::enableSound");return e?JSON.parse(e):(Lr(!0),!0)}catch(t){return Sr.enableSound}},Or=function(){try{return localStorage.getItem("@userToken")}catch(e){return Sr.userToken}},Pr="settingModal_container__Fdj6w",Ir="settingModal_closeButton__X9h8l",Nr="settingModal_header__j1zNu",Rr="settingModal_settingRow__USwm2",Fr="settingModal_settingWrapper__HH82+",Br="settingModal_settingLeft__q2euH",Dr="settingModal_settingRight__UO4bj",jr="settingModal_toggleOn__6-YcI",Ur="settingModal_ruleLink__aPHBe",Vr="settingModal_soundFX__Ruift",Gr="settingModal_custom__rUa8+",zr="settingModal_enableTitle__Mip9f",Wr="settingModal_disableTitle__2q5bR",Hr="../../assets/ui/unmute_enable.png",Yr="../../assets/ui/mute_enable.png",Xr="../../assets/ui/unmute_disable.png",qr="../../assets/ui/mute_disable.png",$r={position:"absolute",bottom:"-20%"},Kr=function(e){var t=e.visible,n=e.onDismiss,r=vt((0,l.useState)(!1),2),a=r[0],o=r[1],u=vt((0,l.useState)(!1),2),c=u[0],h=u[1],f=Tn();(0,l.useEffect)((function(){var e=Ar();h(e);var t=Cr();o(t)}),[]);var d=(0,l.useCallback)(function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nr.mute(Hn.MUSIC,!t)&&(nr.setMusicEnable(t),Er(t),h(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),p=(0,l.useCallback)(function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nr.mute(Hn.SOUND_FX,!t)&&(nr.setSoundFxEnable(t),Lr(t),o(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,rr.jsx)(Tr,{visible:t,onDismiss:n,children:(0,rr.jsxs)("div",{className:Pr,style:{backgroundImage:"url(".concat("../../assets/ui/settings_popup.png",")")},children:[(0,rr.jsx)(ir,{title:"close",onClick:n,customStyle:$r,children:(0,rr.jsx)("div",{className:Ir,style:{backgroundImage:"url(".concat("../../assets/ui/close.png",")")}})}),(0,rr.jsxs)("div",{className:Nr,children:[(0,rr.jsx)("img",{src:"../../assets/ui/settings.png",alt:"",style:{marginRight:5}}),(0,rr.jsx)("div",{className:Xn()(Gr,"sg-bold"),children:"T\xf9y ch\u1ec9nh"})]}),(0,rr.jsxs)("div",{className:Rr,children:[(0,rr.jsx)("div",{className:Xn()(Vr,"sg-regular"),children:"Nh\u1ea1c game"}),(0,rr.jsxs)("div",{className:Fr,children:[(0,rr.jsxs)("div",{className:Xn()(Br,c&&jr),onClick:function(){return d(!0)},children:[(0,rr.jsx)("img",{src:c?Hr:Xr,alt:""}),(0,rr.jsx)("div",{className:c?zr:Wr,children:"B\u1eadt"})]}),(0,rr.jsxs)("div",{className:Xn()(Dr,!c&&jr),onClick:function(){return d(!1)},children:[(0,rr.jsx)("img",{src:c?qr:Yr,alt:""}),(0,rr.jsx)("div",{className:c?Wr:zr,children:"T\u1eaft"})]})]})]}),(0,rr.jsxs)("div",{className:Rr,children:[(0,rr.jsx)("div",{className:Xn()(Vr,"sg-regular"),children:"\xc2m thanh"}),(0,rr.jsxs)("div",{className:Fr,children:[(0,rr.jsxs)("div",{className:Xn()(Br,a&&jr),onClick:function(){return p(!0)},children:[(0,rr.jsx)("img",{src:a?Hr:Xr,alt:""}),(0,rr.jsx)("div",{className:a?zr:Wr,children:"B\u1eadt"})]}),(0,rr.jsxs)("div",{className:Xn()(Dr,!a&&jr),onClick:function(){return p(!1)},children:[(0,rr.jsx)("img",{src:a?qr:Yr,alt:""}),(0,rr.jsx)("div",{className:a?Wr:zr,children:"T\u1eaft"})]})]})]}),(0,rr.jsx)(ir,{title:"",onClick:function(){n(),f("/rule")},children:(0,rr.jsx)("div",{className:Xn()(Ur,"sg-regular"),children:"Th\u1ec3 l\u1ec7 ch\u01b0\u01a1ng tr\xecnh"})})]})})},Qr="header_header__6Odox",Zr="header_settings_btn__SIdhl",Jr="header_username__PSkgY",ei="header_back_btn__78W5E";function ti(e,t){return function(){return e.apply(t,arguments)}}var ni,ri=Object.prototype.toString,ii=Object.getPrototypeOf,ai=(ni=Object.create(null),function(e){var t=ri.call(e);return ni[t]||(ni[t]=t.slice(8,-1).toLowerCase())}),si=function(e){return e=e.toLowerCase(),function(t){return ai(t)===e}},oi=function(e){return function(t){return typeof t===e}},li=Array.isArray,ui=oi("undefined");var ci=si("ArrayBuffer");var hi=oi("string"),fi=oi("function"),di=oi("number"),pi=function(e){return null!==e&&"object"===typeof e},vi=function(e){if("object"!==ai(e))return!1;var t=ii(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mi=si("Date"),gi=si("File"),yi=si("Blob"),bi=si("FileList"),_i=si("URLSearchParams");function xi(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,s=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),li(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,l=s?Object.getOwnPropertyNames(e):Object.keys(e),u=l.length;for(n=0;n<u;n++)o=l[n],t.call(null,e[o],o,e)}}function wi(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var ki="undefined"===typeof self?"undefined"===typeof global?void 0:global:self,Mi=function(e){return!ui(e)&&e!==ki};var Ti,Si=(Ti="undefined"!==typeof Uint8Array&&ii(Uint8Array),function(e){return Ti&&e instanceof Ti}),Ai=si("HTMLFormElement"),Ei=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Li=si("RegExp"),Ci=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};xi(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Oi={isArray:li,isArrayBuffer:ci,isBuffer:function(e){return null!==e&&!ui(e)&&null!==e.constructor&&!ui(e.constructor)&&fi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||ri.call(e)===t||fi(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ci(e.buffer)},isString:hi,isNumber:di,isBoolean:function(e){return!0===e||!1===e},isObject:pi,isPlainObject:vi,isUndefined:ui,isDate:mi,isFile:gi,isBlob:yi,isRegExp:Li,isFunction:fi,isStream:function(e){return pi(e)&&fi(e.pipe)},isURLSearchParams:_i,isTypedArray:Si,isFileList:bi,forEach:xi,merge:function e(){for(var t=Mi(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&wi(r,i)||i;vi(r[a])&&vi(t)?r[a]=e(r[a],t):vi(t)?r[a]=e({},t):li(t)?r[a]=t.slice():r[a]=t},a=0,s=arguments.length;a<s;a++)arguments[a]&&xi(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return xi(t,(function(t,r){n&&fi(t)?e[r]=ti(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,s,o={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)s=i[a],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&ii(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ai,kindOfTest:si,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(li(e))return e;var t=e.length;if(!di(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ai,hasOwnProperty:Ei,hasOwnProp:Ei,reduceDescriptors:Ci,freezeMethods:function(e){Ci(e,(function(t,n){if(fi(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];fi(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return li(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:wi,global:ki,isContextDefined:Mi,toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(pi(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=li(n)?[]:{};return xi(n,(function(t,n){var a=e(t,r+1);!ui(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function Pi(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Oi.inherits(Pi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oi.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ii=Pi.prototype,Ni={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Ni[e]={value:e}})),Object.defineProperties(Pi,Ni),Object.defineProperty(Ii,"isAxiosError",{value:!0}),Pi.from=function(e,t,n,r,i,a){var s=Object.create(Ii);return Oi.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Pi.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};var Ri=Pi,Fi=n(9881);function Bi(e){return Oi.isPlainObject(e)||Oi.isArray(e)}function Di(e){return Oi.endsWith(e,"[]")?e.slice(0,-2):e}function ji(e,t,n){return e?e.concat(t).map((function(e,t){return e=Di(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Ui=Oi.toFlatObject(Oi,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Vi=function(e,t,n){if(!Oi.isObject(e))throw new TypeError("target must be an object");t=t||new(Fi||FormData);var r,i=(n=Oi.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Oi.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&Oi.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!Oi.isFunction(a))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(Oi.isDate(e))return e.toISOString();if(!l&&Oi.isBlob(e))throw new Ri("Blob is not supported. Use a Buffer instead.");return Oi.isArrayBuffer(e)||Oi.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(Oi.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Oi.isArray(e)&&function(e){return Oi.isArray(e)&&!e.some(Bi)}(e)||Oi.isFileList(e)||Oi.endsWith(n,"[]")&&(a=Oi.toArray(e)))return n=Di(n),a.forEach((function(e,r){!Oi.isUndefined(e)&&null!==e&&t.append(!0===o?ji([n],r,s):null===o?n:n+"[]",u(e))})),!1;return!!Bi(e)||(t.append(ji(r,n,s),u(e)),!1)}var h=[],f=Object.assign(Ui,{defaultVisitor:c,convertValue:u,isVisitable:Bi});if(!Oi.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Oi.isUndefined(n)){if(-1!==h.indexOf(n))throw Error("Circular reference detected in "+r.join("."));h.push(n),Oi.forEach(n,(function(n,i){!0===(!(Oi.isUndefined(n)||null===n)&&a.call(t,n,Oi.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])})),h.pop()}}(e),t};function Gi(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function zi(e,t){this._pairs=[],e&&Vi(e,this,t)}var Wi=zi.prototype;Wi.append=function(e,t){this._pairs.push([e,t])},Wi.toString=function(e){var t=e?function(t){return e.call(this,t,Gi)}:Gi;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Hi=zi;function Yi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xi(e,t,n){if(!t)return e;var r,i=n&&n.encode||Yi,a=n&&n.serialize;if(r=a?a(t,n):Oi.isURLSearchParams(t)?t.toString():new Hi(t,n).toString(i)){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var qi=function(){function e(){yt(this,e),this.handlers=[]}return _t(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Oi.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),$i=qi,Ki={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qi="undefined"!==typeof URLSearchParams?URLSearchParams:Hi,Zi=FormData,Ji=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),ea={isBrowser:!0,classes:{URLSearchParams:Qi,FormData:Zi,Blob:Blob},isStandardBrowserEnv:Ji,protocols:["http","https","file","blob","url","data"]};var ta=function(e){function t(e,n,r,i){var a=e[i++],s=Number.isFinite(+a),o=i>=e.length;return a=!a&&Oi.isArray(r)?r.length:a,o?(Oi.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s):(r[a]&&Oi.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Oi.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!s)}if(Oi.isFormData(e)&&Oi.isFunction(e.entries)){var n={};return Oi.forEachEntry(e,(function(e,r){t(function(e){return Oi.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},na={"Content-Type":void 0};var ra={transitional:Ki,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Oi.isObject(e);if(a&&Oi.isHTMLForm(e)&&(e=new FormData(e)),Oi.isFormData(e))return i&&i?JSON.stringify(ta(e)):e;if(Oi.isArrayBuffer(e)||Oi.isBuffer(e)||Oi.isStream(e)||Oi.isFile(e)||Oi.isBlob(e))return e;if(Oi.isArrayBufferView(e))return e.buffer;if(Oi.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Vi(e,new ea.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ea.isNode&&Oi.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Oi.isFileList(e))||r.indexOf("multipart/form-data")>-1){var s=this.env&&this.env.FormData;return Vi(n?{"files[]":e}:e,s&&new s,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Oi.isString(e))try{return(t||JSON.parse)(e),Oi.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||ra.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Oi.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Ri.from(a,Ri.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ea.classes.FormData,Blob:ea.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Oi.forEach(["delete","get","head"],(function(e){ra.headers[e]={}})),Oi.forEach(["post","put","patch"],(function(e){ra.headers[e]=Oi.merge(na)}));var ia=ra,aa=Oi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sa=Symbol("internals");function oa(e){return e&&String(e).trim().toLowerCase()}function la(e){return!1===e||null==e?e:Oi.isArray(e)?e.map(la):String(e)}function ua(e,t,n,r){return Oi.isFunction(r)?r.call(this,t,n):Oi.isString(t)?Oi.isString(r)?-1!==t.indexOf(r):Oi.isRegExp(r)?r.test(t):void 0:void 0}var ca=function(e,t){function n(e){yt(this,n),e&&this.set(e)}return _t(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=oa(t);if(!i)throw new Error("header name must be a non-empty string");var a=Oi.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=la(e))}var a=function(e,t){return Oi.forEach(e,(function(e,n){return i(e,n,t)}))};return Oi.isPlainObject(e)||e instanceof this.constructor?a(e,t):Oi.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&aa[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=oa(e)){var n=Oi.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Oi.isFunction(t))return t.call(this,r,n);if(Oi.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=oa(e)){var n=Oi.findKey(this,e);return!(!n||t&&!ua(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=oa(e)){var i=Oi.findKey(n,e);!i||t&&!ua(0,n[i],i,t)||(delete n[i],r=!0)}}return Oi.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return Oi.forEach(this,(function(r,i){var a=Oi.findKey(n,i);if(a)return t[a]=la(r),void delete t[i];var s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();s!==i&&delete t[i],t[s]=la(r),n[s]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Oi.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Oi.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=vt(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[sa]=this[sa]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=oa(e);t[r]||(!function(e,t){var n=Oi.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Oi.isArray(e)?e.forEach(r):r(e),this}}]),n}();ca.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Oi.freezeMethods(ca.prototype),Oi.freezeMethods(ca);var ha=ca;function fa(e,t){var n=this||ia,r=t||n,i=ha.from(r.headers),a=r.data;return Oi.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function da(e){return!(!e||!e.__CANCEL__)}function pa(e,t,n){Ri.call(this,null==e?"canceled":e,Ri.ERR_CANCELED,t,n),this.name="CanceledError"}Oi.inherits(pa,Ri,{__CANCEL__:!0});var va=pa;var ma=ea.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),Oi.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Oi.isString(r)&&s.push("path="+r),Oi.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function ga(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var ya=ea.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Oi.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var ba=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,s=0;return t=void 0!==t?t:1e3,function(o){var l=Date.now(),u=i[s];n||(n=l),r[a]=o,i[a]=l;for(var c=s,h=0;c!==a;)h+=r[c++],c%=e;if((a=(a+1)%e)===s&&(s=(s+1)%e),!(l-n<t)){var f=u&&l-u;return f?Math.round(1e3*h/f):void 0}}};function _a(e,t){var n=0,r=ba(50,250);return function(i){var a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-n,l=r(o);n=a;var u={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}var xa="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=ha.from(e.headers).normalize(),s=e.responseType;function o(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Oi.isFormData(i)&&ea.isStandardBrowserEnv&&a.setContentType(!1);var l=new XMLHttpRequest;if(e.auth){var u=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(u+":"+c))}var h=ga(e.baseURL,e.url);function f(){if(l){var r=ha.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ri("Request failed with status code "+n.status,[Ri.ERR_BAD_REQUEST,Ri.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),o()}),(function(e){n(e),o()}),{data:s&&"text"!==s&&"json"!==s?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}}if(l.open(e.method.toUpperCase(),Xi(h,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(f)},l.onabort=function(){l&&(n(new Ri("Request aborted",Ri.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new Ri("Network Error",Ri.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Ki;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Ri(t,r.clarifyTimeoutError?Ri.ETIMEDOUT:Ri.ECONNABORTED,e,l)),l=null},ea.isStandardBrowserEnv){var d=(e.withCredentials||ya(h))&&e.xsrfCookieName&&ma.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in l&&Oi.forEach(a.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),Oi.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),s&&"json"!==s&&(l.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",_a(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",_a(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){l&&(n(!t||t.type?new va(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);p&&-1===ea.protocols.indexOf(p)?n(new Ri("Unsupported protocol "+p+":",Ri.ERR_BAD_REQUEST,e)):l.send(i||null)}))},wa={http:null,xhr:xa};Oi.forEach(wa,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var ka=function(e){for(var t,n,r=(e=Oi.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Oi.isString(t)?wa[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Ri("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Oi.hasOwnProp(wa,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Oi.isFunction(n))throw new TypeError("adapter is not a function");return n};function Ma(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new va}function Ta(e){return Ma(e),e.headers=ha.from(e.headers),e.data=fa.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ka(e.adapter||ia.adapter)(e).then((function(t){return Ma(e),t.data=fa.call(e,e.transformResponse,t),t.headers=ha.from(t.headers),t}),(function(t){return da(t)||(Ma(e),t&&t.response&&(t.response.data=fa.call(e,e.transformResponse,t.response),t.response.headers=ha.from(t.response.headers))),Promise.reject(t)}))}var Sa=function(e){return e instanceof ha?e.toJSON():e};function Aa(e,t){t=t||{};var n={};function r(e,t,n){return Oi.isPlainObject(e)&&Oi.isPlainObject(t)?Oi.merge.call({caseless:n},e,t):Oi.isPlainObject(t)?Oi.merge({},t):Oi.isArray(t)?t.slice():t}function i(e,t,n){return Oi.isUndefined(t)?Oi.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Oi.isUndefined(t))return r(void 0,t)}function s(e,t){return Oi.isUndefined(t)?Oi.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:function(e,t){return i(Sa(e),Sa(t),!0)}};return Oi.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=l[r]||i,s=a(e[r],t[r],r);Oi.isUndefined(s)&&a!==o||(n[r]=s)})),n}var Ea="1.2.0",La={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){La[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Ca={};La.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Ri(r(i," has been removed"+(t?" in "+t:"")),Ri.ERR_DEPRECATED);return t&&!Ca[i]&&(Ca[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Oa={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ri("options must be an object",Ri.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],s=t[a];if(s){var o=e[a],l=void 0===o||s(o,a,e);if(!0!==l)throw new Ri("option "+a+" must be "+l,Ri.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ri("Unknown option "+a,Ri.ERR_BAD_OPTION)}},validators:La},Pa=Oa.validators,Ia=function(){function e(t){yt(this,e),this.defaults=t,this.interceptors={request:new $i,response:new $i}}return _t(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Aa(this.defaults,t),i=r.transitional,a=r.paramsSerializer,s=r.headers;void 0!==i&&Oa.assertOptions(i,{silentJSONParsing:Pa.transitional(Pa.boolean),forcedJSONParsing:Pa.transitional(Pa.boolean),clarifyTimeoutError:Pa.transitional(Pa.boolean)},!1),void 0!==a&&Oa.assertOptions(a,{encode:Pa.function,serialize:Pa.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=s&&Oi.merge(s.common,s[t.method]))&&Oi.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete s[e]})),t.headers=ha.concat(n,s);var o=[],l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var h,f=0;if(!l){var d=[Ta.bind(this),void 0];for(d.unshift.apply(d,o),d.push.apply(d,c),h=d.length,u=Promise.resolve(t);f<h;)u=u.then(d[f++],d[f++]);return u}h=o.length;var p=t;for(f=0;f<h;){var v=o[f++],m=o[f++];try{p=v(p)}catch(g){m.call(this,g);break}}try{u=Ta.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}},{key:"getUri",value:function(e){return Xi(ga((e=Aa(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Oi.forEach(["delete","get","head","options"],(function(e){Ia.prototype[e]=function(t,n){return this.request(Aa(n||{},{method:e,url:t,data:(n||{}).data}))}})),Oi.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Aa(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ia.prototype[e]=t(),Ia.prototype[e+"Form"]=t(!0)}));var Na=Ia,Ra=function(){function e(t){if(yt(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new va(e,t,i),n(r.reason))}))}return _t(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Fa=Ra;var Ba=function e(t){var n=new Na(t),r=ti(Na.prototype.request,n);return Oi.extend(r,Na.prototype,n,{allOwnKeys:!0}),Oi.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Aa(t,n))},r}(ia);Ba.Axios=Na,Ba.CanceledError=va,Ba.CancelToken=Fa,Ba.isCancel=da,Ba.VERSION=Ea,Ba.toFormData=Vi,Ba.AxiosError=Ri,Ba.Cancel=Ba.CanceledError,Ba.all=function(e){return Promise.all(e)},Ba.spread=function(e){return function(t){return e.apply(null,t)}},Ba.isAxiosError=function(e){return Oi.isObject(e)&&!0===e.isAxiosError},Ba.AxiosHeaders=ha,Ba.formToJSON=function(e){return ta(Oi.isHTMLForm(e)?new FormData(e):e)},Ba.default=Ba;var Da=Ba,ja=new(n(8041).EventEmitter),Ua={closeable:!0},Va=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ua;ja.emit(Kn,f({visible:!0,notice:e},t))},Ga=Da.create({baseURL:"http://localhost:4000"});Ga.interceptors.request.use(function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Or(),t.headers||(t.headers={}),n&&(t.headers.Authorization=n),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ga.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&"User required!"===e.response.data){if("default_token"===Or())return}else"Network Error"===e.message&&Va("\xd4i, k\u1ebft n\u1ed1i internet b\u1ecb m\u1ea5t r\u1ed3i!");return Promise.reject(e)}));var za,Wa,Ha,Ya,Xa,qa,$a=Ga,Ka=function(){var e=Ae((function(e){return e.userInfo})),t=Le((function(e){return e.setUserInfo}));return[e,(0,l.useCallback)(s(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a.get("/api/user/info");case 2:return n=e.sent,t(f(f({},n.data.user),{},{ticketCount:n.data.ticketCount})),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)}))),[t])]},Qa="assets/ui/settings_btn.png",Za=function(e){var t=e.setSettingModalVisible,n=vt(Ka(),1)[0];return(0,rr.jsxs)("div",{className:Xn()(Qr,"row"),children:[["/","/home"].includes(window.location.pathname)?(0,rr.jsx)(ir,{title:"",onClick:function(){},children:(0,rr.jsx)("img",{src:"assets/ui/back_btn.png",className:ei,alt:"back_btn"})}):(0,rr.jsx)(ir,{title:"",onClick:function(){},children:(0,rr.jsx)("img",{src:Qa,className:Xn()(Zr,"hidden"),alt:"back_btn"})}),n&&(0,rr.jsx)("div",{children:(0,rr.jsx)("div",{className:Xn()(Jr,"sg-regular"),children:n.fullName})}),(0,rr.jsx)(ir,{title:"",onClick:function(){return t(!0)},children:(0,rr.jsx)("img",{src:Qa,className:Zr,alt:"back_btn"})})]})},Ja="layout_container__T+lEo",es="layout_main__NS9px",ts="layout_content__8yNkj",ns=function(e){var t=e.children,n=Mn(),r=vt((0,l.useState)(!1),2),i=r[0],a=r[1];(0,l.useEffect)((function(){var e=new URLSearchParams(n.search),t=e.get("width"),r=e.get("height"),i=e.get("padTop"),a=e.get("padBottom");t&&r&&!isNaN(parseFloat(t))&&!isNaN(parseFloat(r))&&(!function(e,t,n,r){try{localStorage.setItem("screen::resolution",JSON.stringify({width:e,height:t,paddingTop:n,paddingBottom:r}))}catch(i){qn.clientWidth=e,qn.clientHeight=t,qn.paddingTop=n,qn.paddingBottom=r}}(parseFloat(t),parseFloat(r),i&&!isNaN(parseFloat(i))?parseFloat(i):void 0,a&&!isNaN(parseFloat(a))?parseFloat(a):void 0),Qn())}),[n.search]);var s=(0,l.useMemo)((function(){return!n.pathname.includes("/")}),[n.pathname]);return(0,rr.jsxs)("div",{className:Ja,children:[(0,rr.jsx)("div",{className:Xn()(es),children:(0,rr.jsxs)("div",{className:ts,children:[s&&(0,rr.jsx)(Za,{setSettingModalVisible:a}),t]})}),(0,rr.jsx)(Kr,{onDismiss:function(){return a(!1)},visible:i})]})},rs=n(2955),is=function(e){var t,n=e.type,r=void 0===n?6:n,i=e.scale,a=parseFloat(null!==(t=document.documentElement.style.getPropertyValue("--game-width"))&&void 0!==t?t:1),s="number"===typeof i?i:.0031*a;return(0,rr.jsxs)("div",{className:"loader animation-".concat(r),style:{transform:"scale(".concat(s,") rotate(45deg)")},children:[(0,rr.jsx)("div",{className:"shape shape1"}),(0,rr.jsx)("div",{className:"shape shape2"}),(0,rr.jsx)("div",{className:"shape shape3"}),(0,rr.jsx)("div",{className:"shape shape4"})]})},as=function(e){var t,n=e.visible,r=e.className,i=e.bgTheme,a=void 0===i?"theme2":i;return(0,rr.jsx)("div",{className:Xn()("loader-modal-container",r),style:Object.assign({backgroundColor:(t=a,"theme1"===t?"rgba(1,1,1,0)":"rgba(0,0,0,0.5)")},n?{display:"flex"}:{display:"none"}),children:(0,rr.jsx)(is,{})})},ss=new(_t((function e(){yt(this,e),this.WORLD_WIDTH=500,this.WORLD_HEIGHT=1e3,this.UI_WIDTH=this.WORLD_WIDTH*$n/.5,this.UI_HEIGHT=this.UI_WIDTH/$n,this.BG_WIDTH=650,this.BG_HEIGHT=1e3*this.BG_WIDTH/600,this.BG_OFFSET_X_FACTOR=.01*-this.WORLD_WIDTH,this.BG_OFFSET_X=(this.WORLD_WIDTH-this.BG_WIDTH)/2+this.BG_OFFSET_X_FACTOR,this.BG_OFFSET_Y=(this.WORLD_HEIGHT-this.BG_HEIGHT)/2,this.CAT_X=.49*this.WORLD_WIDTH,this.CAT_Y=.94*this.WORLD_HEIGHT,this.CAT_HITBOX_WIDTH=.4*this.WORLD_WIDTH,this.CAT_HITBOX_HEIGHT=.35*this.WORLD_WIDTH,this.CAT_HITBOX_X=this.WORLD_WIDTH/2-this.CAT_HITBOX_WIDTH/2,this.CAT_HITBOX_Y=.77*this.WORLD_HEIGHT,this.ARROW_WIDTH=.1*this.WORLD_WIDTH,this.ARROW_HEIGHT=0,this.ARROW_X=this.WORLD_WIDTH/2-this.ARROW_WIDTH/2,this.ARROW_Y=.72*this.WORLD_HEIGHT,this.ARROW_ORIGINAL_Y=.16*this.WORLD_HEIGHT,this.ARROW_ROTATE_SPEED=.5*Math.PI,this.ARROW_MAX_ANGLE=.35*Math.PI,this.ARROW_MIN_ANGLE=.35*-Math.PI,this.RANGE_WIDTH=.6*this.WORLD_WIDTH,this.RANGE_HEIGHT=0,this.RANGE_X=.505*this.WORLD_WIDTH-this.RANGE_WIDTH/2,this.RANGE_Y=.71*this.WORLD_HEIGHT,this.LM_SPAWN_X=.4*this.WORLD_WIDTH,this.LM_SPAWN_Y=.8*this.WORLD_HEIGHT,this.LM_WIDTH=.08*this.WORLD_WIDTH,this.LM_HEIGHT=137*this.LM_WIDTH/101,this.LM_START_THROW_X=.48*this.WORLD_WIDTH,this.LM_START_THROW_Y=.75*this.WORLD_HEIGHT,this.LM_START_ROTATION=0,this.LM_START_OPACITY=1,this.LM_START_SCALE=1,this.LM_TARGET_SCALE=1,this.LM_TARGET_SCALE_2=-2,this.LM_FADEAWAY_TARGET_OPACITY=.1,this.LM_THROW_DISTANCE=1.2*this.WORLD_HEIGHT,this.CHARACTER_WIDTH=.05*this.WORLD_WIDTH,this.CHARACTER_HEIGHT=0,this.SCORE_TARGET_OFFSET_Y=.07*this.WORLD_HEIGHT,this.SCORE_BADGE_WIDTH=.05*this.WORLD_WIDTH,this.SCORE_BADGE_HEIGHT=this.SCORE_BADGE_WIDTH,this.PLAY_BUTTON_WIDTH=.35*this.WORLD_WIDTH,this.PLAY_BUTTON_HEIGHT=216*this.PLAY_BUTTON_WIDTH/179,this.PLAY_BUTTON_X=this.WORLD_WIDTH/2-this.PLAY_BUTTON_WIDTH/2,this.PLAY_BUTTON_Y=.73*this.WORLD_HEIGHT,this.FLOWER1_WIDTH=.5*this.WORLD_WIDTH,this.FLOWER1_HEIGHT=764*this.FLOWER1_WIDTH/751,this.FLOWER1_X=this.BG_OFFSET_X+this.BG_WIDTH/2-this.UI_WIDTH/2-this.BG_OFFSET_X_FACTOR,this.FLOWER1_Y=this.BG_OFFSET_Y+this.BG_HEIGHT-this.FLOWER1_HEIGHT,this.FLOWER2_WIDTH=.5*this.WORLD_WIDTH,this.FLOWER2_HEIGHT=575*this.FLOWER2_WIDTH/979,this.FLOWER2_X=this.BG_OFFSET_X+this.BG_WIDTH/2+this.UI_WIDTH/2-this.FLOWER2_WIDTH-this.BG_OFFSET_X_FACTOR,this.FLOWER2_Y=this.BG_OFFSET_Y+this.BG_HEIGHT-this.FLOWER2_HEIGHT,this.BOTTOM_OVERLAY_WIDTH=this.UI_WIDTH,this.BOTTOM_OVERLAY_HEIGHT=110*this.BOTTOM_OVERLAY_WIDTH/428,this.BOTTOM_OVERLAY_X=this.BG_OFFSET_X+this.BG_WIDTH/2-this.UI_WIDTH/2-this.BG_OFFSET_X_FACTOR,this.BOTTOM_OVERLAY_Y=this.BG_OFFSET_Y+this.BG_HEIGHT-this.BOTTOM_OVERLAY_HEIGHT,this.WINDOW_CLOSE_TRANSITION_OFFSET_Y=.005*-this.WORLD_HEIGHT,this.WINDOW_CLOSE_TRANSITION_TARGET_OFFSET_Y=0})));!function(e){e.CHAR_1="char1",e.CHAR_2="char2",e.CHAR_3="char3",e.CHAR_4="char4",e.CHAR_5="char5"}(za||(za={})),function(e){e.NULL="Null",e.AM_NO="Am no",e.SUNG_TUC="Sung tuc",e.THINH_VUONG="Thinh vuong"}(Wa||(Wa={})),function(e){e.AM_NO="vpchest3",e.SUNG_TUC="vpchest",e.THINH_VUONG="vpchest2"}(Ha||(Ha={}));var os,ls=.5,us="catvp",cs=[za.CHAR_1,za.CHAR_2,za.CHAR_3,za.CHAR_4,za.CHAR_5],hs=[Ha.AM_NO,Ha.SUNG_TUC,Ha.THINH_VUONG],fs="animation2",ds="animation",ps="animation2",vs="animation",ms=(c(Ya={},za.CHAR_1,.7),c(Ya,za.CHAR_2,1),c(Ya,za.CHAR_3,1),c(Ya,za.CHAR_4,.8),c(Ya,za.CHAR_5,.8),Ya),gs=(c(Xa={},za.CHAR_1,0),c(Xa,za.CHAR_2,0),c(Xa,za.CHAR_3,.005*ss.WORLD_HEIGHT),c(Xa,za.CHAR_4,0),c(Xa,za.CHAR_5,0),Xa),ys=[10,110,360],bs={easy:10,normal:30,hard:50},_s="REQUEST_START_GAME",xs="START_GAME",ws="END_GAME",ks="NEW_SCORE",Ms="START_TIMER",Ts="PAUSE_TIMER",Ss="RESUME_TIMER",As="SHOW_FOCUS_OVERLAY",Es="HIDE_FOCUS_OVERLAY",Ls="SHOW_FTUE_MODAL",Cs="HIDE_FTUE_MODAL",Os="FIRST_SHOT",Ps="RETRY",Is="SHOW_CHEST_MODAL",Ns="START_OPEN_CHEST_ANIMATION",Rs="DONE_OPEN_CHEST_ANIMATION",Fs=(c(qa={},Wa.NULL,""),c(qa,Wa.AM_NO,"\u1ea4m No"),c(qa,Wa.SUNG_TUC,"Sung T\xfac"),c(qa,Wa.THINH_VUONG,"Th\u1ecbnh V\u01b0\u1ee3ng"),qa),Bs=n(2474),Ds=n(9997);function js(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Us(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}!function(e){e[e.A1=0]="A1",e[e.A2=1]="A2",e[e.A3=2]="A3",e[e.A4=3]="A4",e[e.A5=4]="A5",e[e.B1=5]="B1",e[e.B2=6]="B2",e[e.B3=7]="B3",e[e.B4=8]="B4",e[e.B5=9]="B5",e[e.C1=10]="C1",e[e.C2=11]="C2",e[e.C3=12]="C3",e[e.D1=13]="D1",e[e.D2=14]="D2",e[e.D3=15]="D3",e[e.D4=16]="D4",e[e.D5=17]="D5",e[e.D6=18]="D6",e[e.E1=19]="E1",e[e.E2=20]="E2",e[e.E3=21]="E3",e[e.E4=22]="E4",e[e.E5=23]="E5"}(os||(os={}));var Vs,Gs,zs,Ws,Hs,Ys,Xs,qs,$s,Ks,Qs,Zs,Js,eo,to,no,ro,io,ao=function(){var e=s(i().mark((function e(t){var n,r,a,s,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.text();case 6:r=e.sent,a=r.split("\n"),s=[],o=0;case 10:if(!(o<a.length)){e.next=18;break}if(!((l=a[o].replace(" ","").split(",")).length<2)){e.next=14;break}return e.abrupt("continue",15);case 14:s.push({startTime:parseFloat(l[0].split("-")[0]),endTime:parseFloat(l[0].split("-")[1]),windowIndex:os[l[1]],count:parseInt(l[2]),duration:parseFloat(l[3])});case 15:o++,e.next=10;break;case 18:return e.abrupt("return",s);case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",[]);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),so=function(e){return e>=360?Wa.THINH_VUONG:e>=110?Wa.SUNG_TUC:e>=10?Wa.AM_NO:Wa.NULL},oo=function(e,t,n,r){return e.setVector(n).subVector(t).scale(r).addVector(t)},lo=function(e,t,n,r,i){return e.x>t&&e.x<t+r&&e.y>n&&e.y<n+i},uo=function(e,t,n){return e+(t-e)*n};!function(e){e.LOADING="Loading",e.READY_TO_PLAY="Ready to play",e.PLAYING="Playing",e.ENDED="Ended"}(Vs||(Vs={}));var co,ho,fo,po,vo,mo,go,yo,bo,_o,xo,wo,ko,Mo,To,So,Ao,Eo,Lo,Co,Oo,Po,Io,No,Ro,Fo,Bo,Do,jo,Uo,Vo,Go,zo,Wo,Ho,Yo,Xo,qo,$o,Ko=(Gs=(0,Ds.tB)("inputHandler"),zs=(0,Ds.tB)("arrowState"),Ws=(0,Ds.tB)("camera"),Hs=(0,Ds.tB)("effectStates"),Ys=(0,Ds.tB)("gameTimers"),Xs=(0,Ds.tB)("flyingLuckyMoneys"),qs=(0,Ds.tB)("collisions"),$s=(0,Ds.tB)("gameState"),Ks=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"inputHandler",Qs,Tt(e)),js(e,"arrowState",Zs,Tt(e)),js(e,"camera",Js,Tt(e)),js(e,"effectStates",eo,Tt(e)),js(e,"gameTimers",to,Tt(e)),js(e,"flyingLuckyMoneys",no,Tt(e)),js(e,"collisions",ro,Tt(e)),js(e,"gameState",io,Tt(e)),e}return _t(n,[{key:"handleTouch",value:function(){var e=this.inputHandler.getTouchedWorldCoord();this.gameState.uiState===Vs.PLAYING&&this.arrowState.throwable&&lo(e,ss.CAT_HITBOX_X,ss.CAT_HITBOX_Y,ss.CAT_HITBOX_WIDTH,ss.CAT_HITBOX_HEIGHT)&&(this.arrowState.throwable=!1,this.gameTimers.throwDelayTimer.value=.5,this.effectStates.catThrowAnimation||(this.effectStates.catThrowAnimation={time:0,duration:.5}),this.flyingLuckyMoneys.push(function(e){var t={drawTime:0,throwTime:0,expireTime:0,collided:!1,rotation:ss.LM_START_ROTATION,status:"drawing",prevStatus:"none",position:new rs.Vector2(ss.LM_SPAWN_X,ss.LM_SPAWN_Y),source:new rs.Vector2(ss.LM_SPAWN_X,ss.LM_SPAWN_Y),target:new rs.Vector2(ss.LM_START_THROW_X,ss.LM_START_THROW_Y),scale:ss.LM_START_SCALE,sourceScale:ss.LM_START_SCALE,targetScale:ss.LM_TARGET_SCALE,opacity:ss.LM_START_OPACITY,sourceOpacity:ss.LM_START_OPACITY,targetOpacity:ss.LM_START_OPACITY,hitbox:null},n=e.createPolygon(t.position.x-ss.LM_WIDTH/2,t.position.y-ss.LM_HEIGHT/2,[[0,0],[ss.LM_WIDTH,0],[ss.LM_WIDTH,ss.LM_HEIGHT],[0,ss.LM_HEIGHT]]);return t.hitbox=n,t}(this.collisions)),0===this.gameState.shotTimes&&ja.emit(Os),this.gameState.shotTimes+=1),this.gameState.uiState===Vs.READY_TO_PLAY&&lo(e,ss.PLAY_BUTTON_X,ss.PLAY_BUTTON_Y,ss.PLAY_BUTTON_WIDTH,ss.PLAY_BUTTON_HEIGHT)&&ja.emit(_s)}},{key:"initialized",value:function(){var e=this;this.inputHandler.addEventListener(rs.InputEvent.TouchEnd,(function(t,n){e.handleTouch()}))}},{key:"process",value:function(){}}]),n}(Ds.xP),Qs=Us(Ks.prototype,"inputHandler",[Gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=Us(Ks.prototype,"arrowState",[zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Js=Us(Ks.prototype,"camera",[Ws],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=Us(Ks.prototype,"effectStates",[Hs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=Us(Ks.prototype,"gameTimers",[Ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=Us(Ks.prototype,"flyingLuckyMoneys",[Xs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=Us(Ks.prototype,"collisions",[qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=Us(Ks.prototype,"gameState",[$s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ks),Qo=(co=(0,Ds.tB)("batch"),ho=(0,Ds.tB)("assetManager"),fo=(0,Ds.tB)("arrowState"),po=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"polygonBatch",vo,Tt(e)),js(e,"assetManager",mo,Tt(e)),js(e,"arrowState",go,Tt(e)),e.arrowTexture=void 0,e.rangeTexture=void 0,e}return _t(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.arrowTexture=e.findRegion("arrow",-1),this.rangeTexture=e.findRegion("range",-1),this.arrowTexture&&(ss.ARROW_HEIGHT=ss.ARROW_WIDTH*this.arrowTexture.originalHeight/this.arrowTexture.originalWidth),this.rangeTexture&&(ss.RANGE_HEIGHT=ss.RANGE_WIDTH*this.rangeTexture.originalHeight/this.rangeTexture.originalWidth))}},{key:"process",value:function(){this.polygonBatch.begin(),this.rangeTexture&&this.rangeTexture.draw(this.polygonBatch,ss.RANGE_X,ss.RANGE_Y,ss.RANGE_WIDTH,ss.RANGE_HEIGHT),this.arrowTexture&&this.arrowTexture.draw(this.polygonBatch,ss.ARROW_X,ss.ARROW_Y,ss.ARROW_WIDTH,ss.ARROW_HEIGHT,ss.ARROW_WIDTH/2,ss.ARROW_ORIGINAL_Y,this.arrowState.rotation),this.polygonBatch.end()}}]),n}(Ds.xP),vo=Us(po.prototype,"polygonBatch",[co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo=Us(po.prototype,"assetManager",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=Us(po.prototype,"arrowState",[fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),po),Zo=(yo=(0,Ds.tB)("batch"),bo=(0,Ds.tB)("assetManager"),_o=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"polygonBatch",xo,Tt(e)),js(e,"assetManager",wo,Tt(e)),e.bgTexture=void 0,e}return _t(n,[{key:"initialized",value:function(){this.bgTexture=this.assetManager.getTexture("bg_general")}},{key:"process",value:function(){this.bgTexture&&(this.polygonBatch.begin(),this.polygonBatch.setColor(rs.Color.WHITE),this.polygonBatch.draw(this.bgTexture,ss.BG_OFFSET_X,ss.BG_OFFSET_Y,ss.BG_WIDTH,ss.BG_HEIGHT),this.polygonBatch.end())}}]),n}(Ds.xP),xo=Us(_o.prototype,"polygonBatch",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wo=Us(_o.prototype,"assetManager",[bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_o),Jo=(ko=(0,Ds.tB)("batch"),Mo=(0,Ds.tB)("shapeRenderer"),To=(0,Ds.tB)("assetManager"),So=(0,Ds.tB)("skeletonRenderer"),Ao=(0,Ds.tB)("catSpine"),Eo=(0,Ds.tB)("gameState"),Lo=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"polygonBatch",Co,Tt(e)),js(e,"shapeRenderer",Oo,Tt(e)),js(e,"assetManager",Po,Tt(e)),js(e,"skeletonRenderer",Io,Tt(e)),js(e,"catSpine",No,Tt(e)),js(e,"gameState",Ro,Tt(e)),e.playButton=void 0,e.systemStateTime=0,e}return _t(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.playButton=e.findRegion("start_button"))}},{key:"process",value:function(){if(this.systemStateTime+=this.world.delta,this.catSpine&&this.gameState.uiState!==Vs.READY_TO_PLAY&&(this.catSpine.animationState.update(this.world.delta),this.catSpine.animationState.apply(this.catSpine.skeleton),this.catSpine.skeleton.x=ss.CAT_X,this.catSpine.skeleton.y=ss.CAT_Y,this.catSpine.skeleton.scaleX=.11,this.catSpine.skeleton.scaleY=-.11,this.catSpine.skeleton.updateWorldTransform(),this.polygonBatch.begin(),this.skeletonRenderer.draw(this.polygonBatch,this.catSpine.skeleton),this.polygonBatch.end()),this.gameState.uiState===Vs.READY_TO_PLAY&&this.playButton){var e=Math.sin(7*this.systemStateTime),t=(e=(e+1)/2)*ss.WORLD_WIDTH*2e-4;this.polygonBatch.begin(),this.playButton.draw(this.polygonBatch,ss.PLAY_BUTTON_X,ss.PLAY_BUTTON_Y,ss.PLAY_BUTTON_WIDTH,ss.PLAY_BUTTON_HEIGHT,ss.PLAY_BUTTON_WIDTH/2,ss.PLAY_BUTTON_HEIGHT/2,0,1+t,1+t),this.polygonBatch.end()}}}]),n}(Ds.xP),Co=Us(Lo.prototype,"polygonBatch",[ko],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oo=Us(Lo.prototype,"shapeRenderer",[Mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Po=Us(Lo.prototype,"assetManager",[To],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=Us(Lo.prototype,"skeletonRenderer",[So],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),No=Us(Lo.prototype,"catSpine",[Ao],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ro=Us(Lo.prototype,"gameState",[Eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo),el={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return 1===e?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return 0===e?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-el.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*el.Bounce.In(2*e):.5*el.Bounce.Out(2*e-1)+.5}},generatePow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}},tl=el,nl=(Fo=(0,Ds.tB)("arrowState"),Bo=(0,Ds.tB)("flyingLuckyMoneys"),Do=(0,Ds.tB)("collisions"),jo=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"arrowState",Uo,Tt(e)),js(e,"flyingLuckyMoneys",Vo,Tt(e)),js(e,"collisions",Go,Tt(e)),e.tmpVector=new rs.Vector2(0,0),e.tmpRotatedVector=new rs.Vector2(0,0),e}return _t(n,[{key:"checkStatus",value:function(e){if(e.status!==e.prevStatus&&(e.prevStatus=e.status,e.status,"throwing"===e.status)){var t=180*this.arrowState.rotation/Math.PI;this.tmpRotatedVector.set(0,.5*-ss.ARROW_ORIGINAL_Y).rotate(t).add(ss.ARROW_X+ss.ARROW_WIDTH/2,ss.ARROW_Y+ss.ARROW_ORIGINAL_Y),e.source.setVector(this.tmpRotatedVector),this.tmpRotatedVector.set(0,-ss.LM_THROW_DISTANCE).rotate(t).add(ss.ARROW_X+ss.ARROW_WIDTH/2,ss.ARROW_Y+ss.ARROW_ORIGINAL_Y),e.target.setVector(this.tmpRotatedVector),e.rotation=this.arrowState.rotation,e.sourceScale=e.scale,e.targetScale=ss.LM_TARGET_SCALE_2}}},{key:"process",value:function(){for(var e=0;e<this.flyingLuckyMoneys.length;e++){var t=this.flyingLuckyMoneys[e];t.drawTime<=.2?(t.drawTime+=this.world.delta,t.status="drawing",this.checkStatus(t)):t.drawTime>.2&&(t.throwTime+=this.world.delta,t.status="throwing",this.checkStatus(t),t.scale=uo(t.sourceScale,t.targetScale,tl.Quadratic.In(t.throwTime/2.3)),t.collided||oo(t.position,t.source,t.target,tl.Quadratic.Out(t.throwTime/2.3))),t.collided&&(t.expireTime+=this.world.delta,t.targetOpacity=ss.LM_FADEAWAY_TARGET_OPACITY,t.opacity=uo(t.sourceOpacity,t.targetOpacity,tl.Quadratic.Out(t.expireTime/t.expireTime)))}for(var n=this.flyingLuckyMoneys.length-1;n>=0;n--){var r=this.flyingLuckyMoneys[n];r.collided&&r.expireTime>=.1?(this.collisions.remove(r.hitbox),this.flyingLuckyMoneys.splice(n,1)):(r.position.x<-.1*ss.WORLD_WIDTH||r.position.x>1.1*ss.WORLD_WIDTH||r.position.y<-.1*ss.WORLD_HEIGHT||r.position.y>1.1*ss.WORLD_HEIGHT)&&(this.collisions.remove(r.hitbox),this.flyingLuckyMoneys.splice(n,1))}}}]),n}(Ds.xP),Uo=Us(jo.prototype,"arrowState",[Fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vo=Us(jo.prototype,"flyingLuckyMoneys",[Bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Go=Us(jo.prototype,"collisions",[Do],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jo),rl=(zo=(0,Ds.tB)("batch"),Wo=(0,Ds.tB)("assetManager"),Ho=(0,Ds.tB)("flyingLuckyMoneys"),Yo=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"polygonBatch",Xo,Tt(e)),js(e,"assetManager",qo,Tt(e)),js(e,"flyingLuckyMoneys",$o,Tt(e)),e.LMTexture=void 0,e}return _t(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.LMTexture=e.findRegion("lixi",-1),this.LMTexture&&(ss.LM_HEIGHT=ss.LM_WIDTH*this.LMTexture.height/this.LMTexture.width))}},{key:"process",value:function(){this.polygonBatch.begin();for(var e=0;e<this.flyingLuckyMoneys.length;e++){var t=this.flyingLuckyMoneys[e];this.LMTexture&&"throwing"===t.status&&(this.polygonBatch.color.set(1,1,1,t.opacity),this.LMTexture.draw(this.polygonBatch,t.position.x-ss.LM_WIDTH/2,t.position.y-ss.LM_HEIGHT/2,ss.LM_WIDTH,ss.LM_HEIGHT,ss.LM_WIDTH/2,ss.LM_HEIGHT/2,t.rotation,t.scale,t.scale),this.polygonBatch.color.set(1,1,1,1))}this.polygonBatch.end()}}]),n}(Ds.xP),Xo=Us(Yo.prototype,"polygonBatch",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qo=Us(Yo.prototype,"assetManager",[Wo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$o=Us(Yo.prototype,"flyingLuckyMoneys",[Ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yo),il=[],al=function(){function e(){yt(this,e),this._bvh_branch=!0,this._bvh_parent=null,this._bvh_left=null,this._bvh_right=null,this._bvh_sort=0,this._bvh_min_x=0,this._bvh_min_y=0,this._bvh_max_x=0,this._bvh_max_y=0}return _t(e,null,[{key:"getBranch",value:function(){return il.length?il.pop():new e}},{key:"releaseBranch",value:function(e){il.push(e)}},{key:"sortBranches",value:function(e,t){return e._bvh_sort>t._bvh_sort?-1:1}}]),e}(),sl=function(){function e(){yt(this,e),this._hierarchy=null,this._bodies=[],this._dirty_branches=[]}return _t(e,[{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=e._bvh;if(n&&n!==this)throw new Error("Body belongs to another collision system");e._bvh=this,this._bodies.push(e)}var r=e._polygon,i=e.x,a=e.y;r&&(e._dirty_coords||e.x!==e._x||e.y!==e._y||e.angle!==e._angle||e.scale_x!==e._scale_x||e.scale_y!==e._scale_y)&&e._calculateCoords();var s=e._bvh_padding,o=r?0:e.radius*e.scale,l=(r?e._min_x:i-o)-s,u=(r?e._min_y:a-o)-s,c=(r?e._max_x:i+o)+s,h=(r?e._max_y:a+o)+s;e._bvh_min_x=l,e._bvh_min_y=u,e._bvh_max_x=c,e._bvh_max_y=h;var f=this._hierarchy,d=0;if(f)for(;;){if(!f._bvh_branch){var p=f._bvh_parent,v=f._bvh_min_x,m=f._bvh_min_y,g=f._bvh_max_x,y=f._bvh_max_y,b=f._bvh_parent=e._bvh_parent=al.getBranch();b._bvh_parent=p,b._bvh_left=f,b._bvh_right=e,b._bvh_sort=d++,b._bvh_min_x=l<v?l:v,b._bvh_min_y=u<m?u:m,b._bvh_max_x=c>g?c:g,b._bvh_max_y=h>y?h:y,p?p._bvh_left===f?p._bvh_left=b:p._bvh_right=b:this._hierarchy=b;break}var _=f._bvh_left,x=_._bvh_min_y,w=_._bvh_max_x,k=_._bvh_max_y,M=l<_._bvh_min_x?l:_._bvh_min_x,T=u<x?u:x,S=c>w?c:w,A=h>k?h:k,E=(w-_._bvh_min_x)*(k-x),L=(S-M)*(A-T),C=L-E,O=f._bvh_right,P=O._bvh_min_x,I=O._bvh_min_y,N=O._bvh_max_x,R=O._bvh_max_y,F=l<P?l:P,B=u<I?u:I,D=c>N?c:N,j=h>R?h:R,U=(N-P)*(R-I),V=(D-F)*(j-B),G=V-U;f._bvh_sort=d++,f._bvh_min_x=M<F?M:F,f._bvh_min_y=T<B?T:B,f._bvh_max_x=S>D?S:D,f._bvh_max_y=A>j?A:j,f=C<=G?_:O}else this._hierarchy=e}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=e._bvh;if(n&&n!==this)throw new Error("Body belongs to another collision system");e._bvh=null,this._bodies.splice(this._bodies.indexOf(e),1)}if(this._hierarchy!==e){var r=e._bvh_parent,i=r._bvh_parent,a=r._bvh_left,s=a===e?r._bvh_right:a;if(s._bvh_parent=i,s._bvh_branch&&(s._bvh_sort=r._bvh_sort),i){i._bvh_left===r?i._bvh_left=s:i._bvh_right=s;for(var o=i;o;){var l=o._bvh_left,u=l._bvh_min_x,c=l._bvh_min_y,h=l._bvh_max_x,f=l._bvh_max_y,d=o._bvh_right,p=d._bvh_min_x,v=d._bvh_min_y,m=d._bvh_max_x,g=d._bvh_max_y;o._bvh_min_x=u<p?u:p,o._bvh_min_y=c<v?c:v,o._bvh_max_x=h>m?h:m,o._bvh_max_y=f>g?f:g,o=o._bvh_parent}}else this._hierarchy=s;al.releaseBranch(r)}else this._hierarchy=null}},{key:"update",value:function(){for(var e=this._bodies,t=e.length,n=0;n<t;++n){var r=e[n],i=!1;if(i||r.padding===r._bvh_padding||(r._bvh_padding=r.padding,i=!0),!i){var a=r._polygon;a&&(r._dirty_coords||r.x!==r._x||r.y!==r._y||r.angle!==r._angle||r.scale_x!==r._scale_x||r.scale_y!==r._scale_y)&&r._calculateCoords();var s=r.x,o=r.y,l=a?0:r.radius*r.scale,u=a?r._min_x:s-l,c=a?r._min_y:o-l,h=a?r._max_x:s+l,f=a?r._max_y:o+l;i=u<r._bvh_min_x||c<r._bvh_min_y||h>r._bvh_max_x||f>r._bvh_max_y}i&&(this.remove(r,!0),this.insert(r,!0))}}},{key:"potentials",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e._bvh_min_x,i=e._bvh_min_y,a=e._bvh_max_x,s=e._bvh_max_y,o=this._hierarchy,l=!0;if(!o||!o._bvh_branch)return n;for(;o;){if(l){l=!1;for(var u=o._bvh_branch?o._bvh_left:null;u&&u._bvh_max_x>=r&&u._bvh_max_y>=i&&u._bvh_min_x<=a&&u._bvh_min_y<=s;)u=(o=u)._bvh_branch?o._bvh_left:null}var c=o._bvh_branch?o._bvh_right:null;if(c&&c._bvh_max_x>r&&c._bvh_max_y>i&&c._bvh_min_x<a&&c._bvh_min_y<s)o=c,l=!0;else{o._bvh_branch||o===e||t&&!t(e,o)||n.push(o);var h=o._bvh_parent;if(!h)break;for(;h&&h._bvh_right===o;)h=(o=h)._bvh_parent;o=h}}return n}}]),e}();function ol(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e._polygon,a=t._polygon,s=!1;return n&&(n.a=e,n.b=t,n.a_in_b=!0,n.b_in_a=!0,n.overlap=null,n.overlap_x=0,n.overlap_y=0),i&&(e._dirty_coords||e.x!==e._x||e.y!==e._y||e.angle!==e._angle||e.scale_x!==e._scale_x||e.scale_y!==e._scale_y)&&e._calculateCoords(),a&&(t._dirty_coords||t.x!==t._x||t.y!==t._y||t.angle!==t._angle||t.scale_x!==t._scale_x||t.scale_y!==t._scale_y)&&t._calculateCoords(),r&&!Tl(e,t)||(i&&e._dirty_normals&&e._calculateNormals(),a&&t._dirty_normals&&t._calculateNormals(),s=i&&a?Sl(e,t,n):i?Al(e,t,n,!1):a?Al(t,e,n,!0):El(e,t,n)),n&&(n.collision=s),s}var ll,ul,cl,hl,fl,dl,pl,vl,ml,gl,yl,bl,_l,xl,wl,kl,Ml,Tl=function(e,t){var n=e._polygon,r=n?0:e.x,i=n?0:e.y,a=n?0:e.radius*e.scale,s=n?e._min_x:r-a,o=n?e._min_y:i-a,l=n?e._max_x:r+a,u=n?e._max_y:i+a,c=t._polygon,h=c?0:t.x,f=c?0:t.y,d=c?0:t.radius*t.scale,p=c?t._min_x:h-d,v=c?t._min_y:f-d,m=c?t._max_x:h+d,g=c?t._max_y:f+d;return s<m&&o<g&&l>p&&u>v},Sl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e._coords.length,i=t._coords.length;if(2===r&&2===i){var a=e._coords,s=t._coords;return n&&(n.overlap=0),a[0]===s[0]&&a[1]===s[1]}var o=e._coords,l=t._coords,u=e._normals,c=t._normals;if(r>2)for(var h=0,f=1;h<r;h+=2,f+=2)if(Ll(o,l,u[h],u[f],n))return!1;if(i>2)for(var d=0,p=1;d<i;d+=2,p+=2)if(Ll(o,l,c[d],c[p],n))return!1;return!0},Al=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e._coords,a=e._edges,s=e._normals,o=t.x,l=t.y,u=t.radius*t.scale,c=2*u,h=u*u,f=i.length,d=!0,p=!0,v=null,m=0,g=0;if(2===f){var y=o-i[0],b=l-i[1],_=y*y+b*b;if(_>h)return!1;if(n){var x=Math.sqrt(_);v=u-x,m=y/x,g=b/x,p=!1}}else for(var w=0,k=1;w<f;w+=2,k+=2){var M=o-i[w],T=l-i[k],S=a[w],A=a[k],E=M*S+T*A,L=E<0?-1:E>S*S+A*A?1:0,C=!1,O=0,P=0,I=0;if(n&&d&&M*M+T*T>h&&(d=!1),L){var N=-1===L,R=N?0===w?f-2:w-2:w===f-2?0:w+2,F=R+1,B=o-i[R],D=l-i[F],j=a[R],U=a[F],V=B*j+D*U,G=V<0?-1:V>j*j+U*U?1:0;if(G===-L){var z=N?M:B,W=N?T:D,H=z*z+W*W;if(H>h)return!1;if(n){var Y=Math.sqrt(H);C=!0,O=u-Y,P=z/Y,I=W/Y,p=!1}}}else{var X=s[w],q=s[k],$=M*X+T*q,K=$<0?-$:$;if($>0&&K>u)return!1;n&&(C=!0,O=u-$,P=X,I=q,(p&&$>=0||O<c)&&(p=!1))}C&&(null===v||v>O)&&(v=O,m=P,g=I)}return n&&(n.a_in_b=r?p:d,n.b_in_a=r?d:p,n.overlap=v,n.overlap_x=r?-m:m,n.overlap_y=r?-g:g),!0},El=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.radius*e.scale,i=t.radius*t.scale,a=t.x-e.x,s=t.y-e.y,o=r+i,l=a*a+s*s;if(l>o*o)return!1;if(n){var u=Math.sqrt(l);n.a_in_b=r<=i&&u<=i-r,n.b_in_a=i<=r&&u<=r-i,n.overlap=o-u,n.overlap_x=a/u,n.overlap_y=s/u}return!0},Ll=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=e.length,s=t.length;if(!a||!s)return!0;for(var o=null,l=null,u=null,c=null,h=0,f=1;h<a;h+=2,f+=2){var d=e[h]*n+e[f]*r;(null===o||o>d)&&(o=d),(null===l||l<d)&&(l=d)}for(var p=0,v=1;p<s;p+=2,v+=2){var m=t[p]*n+t[v]*r;(null===u||u>m)&&(u=m),(null===c||c<m)&&(c=m)}if(o>c||l<u)return!0;if(i){var g=0;if(o<u)if(i.a_in_b=!1,l<c)g=l-u,i.b_in_a=!1;else{var y=l-u,b=c-o;g=y<b?y:-b}else if(i.b_in_a=!1,l>c)g=o-c,i.a_in_b=!1;else{var _=l-u,x=c-o;g=_<x?_:-x}var w=i.overlap,k=g<0?-g:g;if(null===w||w>k){var M=g<0?-1:1;i.overlap=k,i.overlap_x=n*M,i.overlap_y=r*M}}return!1},Cl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;yt(this,e),this._circle=!1,this._polygon=!1,this._point=!1,this._bvh_branch=!1,this._bvh=null,this._bvh_parent=null,this._bvh_min_x=0,this._bvh_min_y=0,this._bvh_max_x=0,this._bvh_max_y=0,this.x=t,this.y=n,this.padding=r,this._bvh_padding=r}return _t(e,[{key:"collides",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return ol(this,e,t,n)}},{key:"potentials",value:function(e,t){var n=this._bvh;if(null===n)throw new Error("Body does not belong to a collision system");return n.potentials(this,e,t)}},{key:"remove",value:function(){var e=this._bvh;e&&e.remove(this,!1)}}]),e}(),Ol=function(e){wt(n,e);var t=At(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return yt(this,n),(e=t.call(this,r,i,o))._polygon=!1,e._circle=!0,e._point=!1,e.radius=a,e.scale=s,e}return _t(n)}(Cl),Pl=function(e){wt(n,e);var t=At(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return yt(this,n),(e=t.call(this,r,i,u))._polygon=!0,e._circle=!1,e._point=!1,e._min_x=0,e._min_y=0,e._max_x=0,e._max_y=0,e._points=null,e._coords=null,e._edges=null,e._normals=null,e._dirty_coords=!0,e._dirty_normals=!0,e.angle=s,e.scale_x=o,e.scale_y=l,e._x=r,e._y=i,e._angle=s,e._scale_x=o,e._scale_y=l,e.setPoints(a),e}return _t(n,[{key:"setPoints",value:function(e){var t=e.length;this._points=new Float64Array(2*t),this._coords=new Float64Array(2*t),this._edges=new Float64Array(2*t),this._normals=new Float64Array(2*t);for(var n=this._points,r=0,i=0,a=1;r<t;++r,i+=2,a+=2){var s=e[r];n[i]=s[0],n[a]=s[1]}this._dirty_coords=!0}},{key:"_calculateCoords",value:function(){for(var e=this.x,t=this.y,n=this.angle,r=this.scale_x,i=this.scale_y,a=this._points,s=this._coords,o=a.length,l=0,u=0,c=0,h=0,f=0,d=1;f<o;f+=2,d+=2){var p=a[f]*r,v=a[d]*i;if(n){var m=Math.cos(n),g=Math.sin(n),y=p;p=y*m-v*g,v=y*g+v*m}p+=e,v+=t,s[f]=p,s[d]=v,0===f?(l=u=p,c=h=v):(p<l?l=p:p>u&&(u=p),v<c?c=v:v>h&&(h=v))}this._x=e,this._y=t,this._angle=n,this._scale_x=r,this._scale_y=i,this._min_x=l,this._min_y=c,this._max_x=u,this._max_y=h,this._dirty_coords=!1,this._dirty_normals=!0}},{key:"_calculateNormals",value:function(){for(var e=this._coords,t=this._edges,n=this._normals,r=e.length,i=0,a=1;i<r;i+=2,a+=2){var s=i+2<r?i+2:0,o=e[s]-e[i],l=e[s+1]-e[a],u=o||l?Math.sqrt(o*o+l*l):0;t[i]=o,t[a]=l,n[i]=u?l/u:0,n[a]=u?-o/u:0}this._dirty_normals=!1}}]),n}(Cl),Il=function(e){wt(n,e);var t=At(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return yt(this,n),(e=t.call(this,r,i,[[0,0]],0,1,1,a))._polygon=!0,e._circle=!1,e._point=!0,e.setPoints=void 0,e}return _t(n)}(Pl),Nl=function(){function e(){yt(this,e),this._bvh=new sl}return _t(e,[{key:"createCircle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=new Ol(e,t,n,r,i);return this._bvh.insert(a),a}},{key:"createPolygon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[[0,0]],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=new Pl(e,t,n,r,i,a,s);return this._bvh.insert(o),o}},{key:"createPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new Il(e,t,n);return this._bvh.insert(r),r}},{key:"insert",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];this._bvh.insert(a,!1)}return this}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];this._bvh.remove(a,!1)}return this}},{key:"update",value:function(){return this._bvh.update(),this}},{key:"potentials",value:function(e,t,n){return this._bvh.potentials(e,t,n)}},{key:"collides",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return ol(e,t,n,r)}}]),e}(),Rl=_t((function e(){yt(this,e),this.collision=!1,this.a=null,this.b=null,this.a_in_b=!1,this.b_in_a=!1,this.overlap=0,this.overlap_x=0,this.overlap_y=0}));!function(e){e[e.CLOSED=0]="CLOSED",e[e.WAITING=1]="WAITING",e[e.CELEBRATING=2]="CELEBRATING"}(ll||(ll={})),function(e){e.ZOOM_IN="Zoom in",e.SHOWING="Showing",e.ZOOM_OUT="Zoom out"}(ul||(ul={}));var Fl,Bl,Dl,jl,Ul,Vl,Gl,zl,Wl,Hl,Yl,Xl,ql,$l,Kl,Ql,Zl,Jl,eu,tu,nu,ru,iu,au,su,ou,lu,uu,cu,hu,fu,du,pu,vu,mu,gu,yu,bu,_u,xu,wu,ku,Mu,Tu,Su,Au,Eu,Lu,Cu,Ou,Pu,Iu,Nu,Ru,Fu,Bu,Du,ju,Uu,Vu,Gu,zu,Wu,Hu,Yu,Xu,qu,$u,Ku,Qu,Zu,Ju,ec,tc,nc,rc,ic,ac,sc,oc,lc,uc,cc,hc,fc,dc,pc,vc,mc,gc,yc=(cl=(0,Ds.tB)("windows"),hl=(0,Ds.tB)("effectStates"),fl=(0,Ds.tB)("flyingLuckyMoneys"),dl=(0,Ds.tB)("confettis"),pl=(0,Ds.tB)("gameState"),vl=(0,Ds.tB)("gameTimers"),ml=(0,Ds.tB)("timeKeeper"),gl=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"windows",yl,Tt(e)),js(e,"effectStates",bl,Tt(e)),js(e,"flyingLuckyMoneys",_l,Tt(e)),js(e,"confettis",xl,Tt(e)),js(e,"gameState",wl,Tt(e)),js(e,"gameTimers",kl,Tt(e)),js(e,"timeKeeper",Ml,Tt(e)),e.result=new Rl,e}return _t(n,[{key:"process",value:function(){for(var e=this,t=this.flyingLuckyMoneys.length-1;t>=0;t--){var n=this.flyingLuckyMoneys[t];n.hitbox.x=n.position.x-ss.LM_WIDTH/2,n.hitbox.y=n.position.y-ss.LM_HEIGHT/2;for(var r=function(t){var r=e.windows[t];if(!n.collided&&r.state===ll.WAITING&&n.hitbox.collides(r.hitbox,e.result)){n.collided=!0;var i=bs[r.difficulty]||0;e.gameState.score+=i;var a=so(e.gameState.score),s=a!==e.gameState.currentChest;e.gameState.currentChest=a,ja.emit(ks,{score:e.gameState.score,chest:a}),s&&setTimeout((function(){e.timeKeeper.paused=!0,e.gameTimers.zoomDelayTimer.value=3,e.effectStates.zoomTransition={time:0,state:ul.ZOOM_IN,zoomAtPoint:new rs.Vector2(r.boundary.x+r.boundary.width/2,r.boundary.y+r.boundary.height/2),zoomCenterPosition:new rs.Vector2(0,0),zoomScale:.4},ja.emit(Ts),ja.emit(As),nr.play(zn.ZOOM)}),200),e.windows[t].stateTime=0,e.windows[t].duration=3,e.windows[t].state=ll.CELEBRATING,e.effectStates.characterTransitions.push({time:0,duration:3,windowIndex:t}),e.confettis.push({time:0,total:20*Math.random()+30,spawnedAmount:0,items:[],spawn:{x:r.boundary.x+r.boundary.width/2,y:r.boundary.y+r.boundary.height/2}});var o="left"===r.site?1:-1,l=r.boundary.x+r.boundary.width/2+.65*r.boundary.width*o,u=r.boundary.y+r.boundary.height/2;e.effectStates.scoreTransitions.push({time:0,score:i,opacity:1,position:new rs.Vector2(l,u),source:new rs.Vector2(l,u),target:new rs.Vector2(l,u-ss.SCORE_TARGET_OFFSET_Y)}),i<50?nr.play(zn.HIT_LOW_SCORE):nr.play(zn.HIT_HIGH_SCORE)}},i=0;i<this.windows.length;i++)r(i)}}}]),n}(Ds.xP),yl=Us(gl.prototype,"windows",[cl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bl=Us(gl.prototype,"effectStates",[hl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_l=Us(gl.prototype,"flyingLuckyMoneys",[fl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xl=Us(gl.prototype,"confettis",[dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wl=Us(gl.prototype,"gameState",[pl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kl=Us(gl.prototype,"gameTimers",[vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ml=Us(gl.prototype,"timeKeeper",[ml],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gl),bc=(Fl=(0,Ds.tB)("batch"),Bl=(0,Ds.tB)("assetManager"),Dl=(0,Ds.tB)("windows"),jl=(0,Ds.tB)("effectStates"),Ul=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"polygonBatch",Vl,Tt(e)),js(e,"assetManager",Gl,Tt(e)),js(e,"windows",zl,Tt(e)),js(e,"effectStates",Wl,Tt(e)),e.windowTextures=[],e}return _t(n,[{key:"initialized",value:function(){var e=this,t=this.assetManager.getAtlas("game_assets_atlas"),n=this.windows.map((function(e,t){return os[t]}));t&&n.forEach((function(n){e.windowTextures.push(t.findRegion(n,-1))}))}},{key:"process",value:function(){var e=this;this.polygonBatch.begin(),this.polygonBatch.setColor(rs.Color.WHITE);for(var t=function(t){if(e.windowTextures[t]&&e.windows[t].state===ll.CLOSED){var n,r=ss.WINDOW_CLOSE_TRANSITION_OFFSET_Y,i=e.effectStates.windowCloseTransitions.find((function(e){return e.windowIndex===t}));r=i?uo(r,ss.WINDOW_CLOSE_TRANSITION_TARGET_OFFSET_Y,tl.Elastic.Out(i.time/i.duration)):0,null===(n=e.windowTextures[t])||void 0===n||n.draw(e.polygonBatch,e.windows[t].boundary.x,e.windows[t].boundary.y+r,e.windows[t].boundary.width,e.windows[t].boundary.height)}},n=0;n<this.windowTextures.length;n++)t(n);for(var r=0;r<this.effectStates.windowOpenTransitions.length;r++){var i=this.effectStates.windowOpenTransitions[r],a=this.windows[i.windowIndex],s=this.windowTextures[i.windowIndex];if(a&&s){var o=uo(1,.01,tl.Quadratic.Out(i.time/i.duration));this.polygonBatch.color.set(1,1,1,o),s.draw(this.polygonBatch,a.boundary.x,a.boundary.y,a.boundary.width,a.boundary.height),this.polygonBatch.color.set(1,1,1,1)}}this.polygonBatch.end()}}]),n}(Ds.xP),Vl=Us(Ul.prototype,"polygonBatch",[Fl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gl=Us(Ul.prototype,"assetManager",[Bl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zl=Us(Ul.prototype,"windows",[Dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wl=Us(Ul.prototype,"effectStates",[jl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ul),_c=(Hl=(0,Ds.tB)("batch"),Yl=(0,Ds.tB)("assetManager"),Xl=(0,Ds.tB)("skeletonRenderer"),ql=(0,Ds.tB)("windows"),$l=(0,Ds.tB)("characterSpines"),Kl=(0,Ds.tB)("effectStates"),Ql=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"polygonBatch",Zl,Tt(e)),js(e,"assetManager",Jl,Tt(e)),js(e,"skeletonRenderer",eu,Tt(e)),js(e,"windows",tu,Tt(e)),js(e,"characterSpines",nu,Tt(e)),js(e,"effectStates",ru,Tt(e)),e.waitCharaterTexture=void 0,e}return _t(n,[{key:"renderCharacterAnimation",value:function(e,t,n,r,i){var a=this.characterSpines[e];a&&(a.animationState.update(this.world.delta),a.animationState.apply(a.skeleton),a.skeleton.x=t.x,a.skeleton.y=t.y+i,a.skeleton.scaleX=.3*n*r,a.skeleton.scaleY=-.3*n,a.skeleton.updateWorldTransform(),this.polygonBatch.begin(),this.skeletonRenderer.draw(this.polygonBatch,a.skeleton),this.polygonBatch.end())}},{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.waitCharaterTexture=e.findRegion("character_waiting",-1),this.waitCharaterTexture&&(ss.CHARACTER_HEIGHT=ss.CHARACTER_WIDTH*this.waitCharaterTexture.height/this.waitCharaterTexture.width))}},{key:"process",value:function(){for(var e=this,t=function(t){var n=e.windows[t];if(n.state===ll.WAITING||n.state===ll.CELEBRATING){var r=gs[n.characterType]||0,i=ms[n.characterType],a=i,s=e.effectStates.characterShowTransitions.find((function(e){return e.windowIndex===t}));s&&(a=uo(0,i,tl.Elastic.Out(s.time/s.duration))),e.renderCharacterAnimation(t,n.characterPosition,a,n.characterScaleXMulti,r)}},n=0;n<this.windows.length;n++)t(n);for(var r=0;r<this.effectStates.characterHideTransitions.length;r++){var i=this.effectStates.characterHideTransitions[r],a=this.windows[i.windowIndex];if(a&&i){var s=gs[a.characterType]||0,o=ms[a.characterType],l=uo(o,0,tl.Quadratic.Out(i.time/i.duration));this.renderCharacterAnimation(i.windowIndex,a.characterPosition,l,a.characterScaleXMulti,s)}}}}]),n}(Ds.xP),Zl=Us(Ql.prototype,"polygonBatch",[Hl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jl=Us(Ql.prototype,"assetManager",[Yl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eu=Us(Ql.prototype,"skeletonRenderer",[Xl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tu=Us(Ql.prototype,"windows",[ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nu=Us(Ql.prototype,"characterSpines",[$l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ru=Us(Ql.prototype,"effectStates",[Kl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ql),xc=(iu=(0,Ds.tB)("timeKeeper"),au=(0,Ds.tB)("gameState"),su=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"timeKeeper",ou,Tt(e)),js(e,"gameState",lu,Tt(e)),e}return _t(n,[{key:"process",value:function(){this.timeKeeper.paused||(this.timeKeeper.gameTime+=this.world.delta,this.timeKeeper.gameTime>=30&&(this.timeKeeper.paused=!0,ja.emit(ws,{gameState:this.gameState})))}}]),n}(Ds.xP),ou=Us(su.prototype,"timeKeeper",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lu=Us(su.prototype,"gameState",[au],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),su),wc=function(e){return e[Math.floor(Math.random()*e.length)]},kc=(uu=(0,Ds.tB)("timeKeeper"),cu=(0,Ds.tB)("windows"),hu=(0,Ds.tB)("scenarioStates"),fu=(0,Ds.tB)("effectStates"),du=(0,Ds.tB)("characterSpines"),pu=(0,Ds.tB)("spineAssetManager"),vu=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"timeKeeper",mu,Tt(e)),js(e,"windows",gu,Tt(e)),js(e,"scenarioStates",yu,Tt(e)),js(e,"effectStates",bu,Tt(e)),js(e,"characterSpines",_u,Tt(e)),js(e,"spineAssetManager",xu,Tt(e)),e}return _t(n,[{key:"process",value:function(){for(var e=this.scenarioStates.scenarios.length-1;e>=0;e--){var t=this.scenarioStates.scenarios[e];!t.isProcessed&&t.startTime<=this.timeKeeper.gameTime&&(t.isProcessed=!0,this.processScenario(t))}this.processSpawnList()}},{key:"processSpawnList",value:function(){for(var e=this.scenarioStates.spawnList.length-1;e>=0;e--){var t=this.scenarioStates.spawnList[e];if(!(t.time>this.timeKeeper.gameTime)){var n=this.windows[t.windowIndex];if(n.state===ll.CLOSED){var r=wc(Object.values(za)),i=2*Math.round(Math.random())-1,a=new Bs.AtlasAttachmentLoader(this.spineAssetManager.get("".concat(r,".atlas"))),s=new Bs.SkeletonJson(a).readSkeletonData(this.spineAssetManager.get("".concat(r,".json"))),o=new Bs.Skeleton(s),l=new Bs.AnimationState(new Bs.AnimationStateData(s));l.setAnimation(0,fs,!0),this.characterSpines[t.windowIndex]&&(this.characterSpines[t.windowIndex].skeleton=o,this.characterSpines[t.windowIndex].animationState=l),n.state=ll.WAITING,n.stateTime=0,n.duration=t.duration,n.characterScaleXMulti=i,n.characterType=r,this.effectStates.windowOpenTransitions.push({time:0,duration:.5,windowIndex:t.windowIndex}),this.effectStates.characterShowTransitions.push({time:0,duration:.4,windowIndex:t.windowIndex}),this.scenarioStates.spawnList.splice(e,1)}}}}},{key:"processScenario",value:function(e){for(var t=0;t<e.count;t++){var n=(r=e.startTime,i=e.endTime,Math.random()*(i-r)+r);this.scenarioStates.spawnList.push({windowIndex:e.windowIndex,duration:e.duration,time:n})}var r,i}}]),n}(Ds.xP),mu=Us(vu.prototype,"timeKeeper",[uu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gu=Us(vu.prototype,"windows",[cu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=Us(vu.prototype,"scenarioStates",[hu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bu=Us(vu.prototype,"effectStates",[fu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_u=Us(vu.prototype,"characterSpines",[du],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xu=Us(vu.prototype,"spineAssetManager",[pu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vu),Mc=(wu=(0,Ds.tB)("windows"),ku=(0,Ds.tB)("effectStates"),Mu=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"windows",Tu,Tt(e)),js(e,"effectStates",Su,Tt(e)),e}return _t(n,[{key:"process",value:function(){for(var e=0;e<this.windows.length;e++)this.processWindowState(e,this.windows[e],this.world.delta)}},{key:"processWindowState",value:function(e,t,n){return t.stateTime+=n,t.state===ll.WAITING&&t.stateTime>=t.duration||t.state===ll.CELEBRATING&&t.stateTime>=3?(t.stateTime=0,t.state=ll.CLOSED,this.effectStates.windowCloseTransitions.push({time:0,duration:.5,windowIndex:e}),void this.effectStates.characterHideTransitions.push({time:0,duration:.2,windowIndex:e})):void 0}}]),n}(Ds.xP),Tu=Us(Mu.prototype,"windows",[wu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Su=Us(Mu.prototype,"effectStates",[ku],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mu),Tc=(Au=(0,Ds.tB)("effectStates"),Eu=(0,Ds.tB)("characterSpines"),Lu=(0,Ds.tB)("catSpine"),Cu=(0,Ds.tB)("windows"),Ou=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"effectStates",Pu,Tt(e)),js(e,"characterSpines",Iu,Tt(e)),js(e,"catSpine",Nu,Tt(e)),js(e,"windows",Ru,Tt(e)),e}return _t(n,[{key:"process",value:function(){for(var e=this.effectStates.characterTransitions.length-1;e>=0;e--){var t,n,r=this.effectStates.characterTransitions[e];r.time+=this.world.delta;var i=this.characterSpines[r.windowIndex],a=i.animationState.getCurrent(0);a&&(null===(t=a)||void 0===t||null===(n=t.animation)||void 0===n?void 0:n.name)!==fs||(i.animationState.clearTracks(),a=i.animationState.setAnimation(0,ds,!0));var s=this.windows[r.windowIndex];r.time>=r.duration&&(null===s||void 0===s?void 0:s.state)===ll.CLOSED&&(a=i.animationState.setAnimation(0,fs,!0),this.effectStates.characterTransitions.splice(e,1))}if(this.effectStates.catThrowAnimation){var o,l;this.effectStates.catThrowAnimation.time+=this.world.delta;var u=this.catSpine.animationState.getCurrent(0);if(u&&(null===(o=u)||void 0===o||null===(l=o.animation)||void 0===l?void 0:l.name)!==ps||(this.catSpine.animationState.clearTracks(),(u=this.catSpine.animationState.setAnimation(0,vs)).mixDuration=.2,u.animation&&(u.timeScale=u.animation.duration/this.effectStates.catThrowAnimation.duration)),this.effectStates.catThrowAnimation.time>=this.effectStates.catThrowAnimation.duration)this.catSpine.animationState.setAnimation(0,ps,!0).mixDuration=.2,this.effectStates.catThrowAnimation=void 0}for(var c=this.effectStates.windowCloseTransitions.length-1;c>=0;c--){var h=this.effectStates.windowCloseTransitions[c];h.time+=this.world.delta,h.time>=h.duration&&this.effectStates.windowCloseTransitions.splice(c,1)}for(var f=this.effectStates.windowOpenTransitions.length-1;f>=0;f--){var d=this.effectStates.windowOpenTransitions[f];d.time+=this.world.delta,d.time>=d.duration&&this.effectStates.windowOpenTransitions.splice(f,1)}for(var p=this.effectStates.characterShowTransitions.length-1;p>=0;p--){var v=this.effectStates.characterShowTransitions[p];v.time+=this.world.delta,v.time>=v.duration&&this.effectStates.characterShowTransitions.splice(p,1)}for(var m=this.effectStates.characterHideTransitions.length-1;m>=0;m--){var g=this.effectStates.characterHideTransitions[m];g.time+=this.world.delta,g.time>=g.duration&&this.effectStates.characterHideTransitions.splice(m,1)}}}]),n}(Ds.xP),Pu=Us(Ou.prototype,"effectStates",[Au],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iu=Us(Ou.prototype,"characterSpines",[Eu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nu=Us(Ou.prototype,"catSpine",[Lu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ru=Us(Ou.prototype,"windows",[Cu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ou),Sc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;yt(this,e),this.value=void 0,this.onComplete=void 0,this.value=t,this.onComplete=n}return _t(e,[{key:"update",value:function(e){this.value>0&&(this.value-=e,this.value<=0&&(this.value=0,this.onComplete&&this.onComplete()))}},{key:"clear",value:function(){this.value=0}}]),e}(),Ac=(Fu=(0,Ds.tB)("arrowState"),Bu=(0,Ds.tB)("gameTimers"),Du=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"arrowState",ju,Tt(e)),js(e,"gameTimers",Uu,Tt(e)),e}return _t(n,[{key:"handleAfterDelay",value:function(){this.arrowState.throwable=!0}},{key:"process",value:function(){var e=this;this.gameTimers.throwDelayTimer.onComplete||(this.gameTimers.throwDelayTimer.onComplete=function(){return e.handleAfterDelay()}),this.gameTimers.throwDelayTimer.update(this.world.delta)}}]),n}(Ds.xP),ju=Us(Du.prototype,"arrowState",[Fu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uu=Us(Du.prototype,"gameTimers",[Bu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Du),Ec=(Vu=(0,Ds.tB)("arrowState"),Gu=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"arrowState",zu,Tt(e)),e}return _t(n,[{key:"process",value:function(){this.arrowState.throwable&&(this.arrowState.rotation>=this.arrowState.maxAngle?(this.arrowState.rotation=this.arrowState.maxAngle,this.arrowState.movingRight=!1):this.arrowState.rotation<=this.arrowState.minAngle&&(this.arrowState.rotation=this.arrowState.minAngle,this.arrowState.movingRight=!0),this.arrowState.movingRight?this.arrowState.rotation+=this.arrowState.rotateSpeed*this.world.delta:this.arrowState.rotation-=this.arrowState.rotateSpeed*this.world.delta)}}]),n}(Ds.xP),zu=Us(Gu.prototype,"arrowState",[Vu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gu),Lc=(Wu=(0,Ds.tB)("confettis"),Hu=(0,Ds.tB)("assetManager"),Yu=(0,Ds.tB)("batch"),Xu=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"confettis",qu,Tt(e)),js(e,"assetManager",$u,Tt(e)),js(e,"polygonBatch",Ku,Tt(e)),e.gravity=.5*ss.WORLD_HEIGHT,e.spawnOffsetX=.005*ss.WORLD_WIDTH,e.spawnOffsetY=.001*ss.WORLD_HEIGHT,e.maxRotateSpeed=Math.PI/3,e.minRotateSpeed=Math.PI/5,e.scaleSpeed=.8,e.maxSize=.02*ss.WORLD_WIDTH,e.minSize=.01*ss.WORLD_WIDTH,e.maxSpeedX=.2*ss.WORLD_WIDTH,e.minSpeedX=0*ss.WORLD_WIDTH,e.maxSpeedY=.3*ss.WORLD_HEIGHT,e.minSpeedY=.1*ss.WORLD_HEIGHT,e.delay=.01,e.fadeOutTime=.4,e.existTime=.5,e.confettiTextures=[],e}return _t(n,[{key:"processState",value:function(){for(var e=0;e<this.confettis.length;e++){var t=this.confettis[e];if(t.spawnedAmount<t.total)for(var n=0;n<t.total;n++){t.spawnedAmount++;var r=2*Math.round(Math.random())-1;t.items.push({time:0,fadeOutTime:0,texture:wc(this.confettiTextures),opacity:1,rotation:Math.random()*Math.PI,rotationSpeed:r*(Math.random()*(this.maxRotateSpeed-this.minRotateSpeed)+this.minRotateSpeed),scale:1,size:Math.random()*(this.maxSize-this.minSize)+this.minSize,xSpeed:r*(Math.random()*(this.maxSpeedX-this.minSpeedX)+this.minSpeedX),ySpeed:-(Math.random()*(this.maxSpeedY-this.minSpeedY)+this.minSpeedY),position:new rs.Vector2(t.spawn.x+Math.random()*this.spawnOffsetX*r,t.spawn.y+Math.random()*this.spawnOffsetX*r)})}for(var i=0;i<this.confettis[e].items.length;i++){var a=this.confettis[e].items[i];a.time+=this.world.delta,a.time>this.existTime&&(a.fadeOutTime+=this.world.delta,a.opacity=uo(1,.01,Math.min(1,a.fadeOutTime/this.fadeOutTime))),a.ySpeed+=this.gravity*this.world.delta,a.position.y+=a.ySpeed*this.world.delta,a.position.x+=a.xSpeed*this.world.delta,a.rotation+=a.rotationSpeed*this.world.delta,a.scale+=this.scaleSpeed*this.world.delta}for(var s=this.confettis[e].items.length-1;s>=0;s--){this.confettis[e].items[s].fadeOutTime>this.fadeOutTime&&this.confettis[e].items.splice(e,1)}}for(var o=this.confettis.length-1;o>=0;o--){var l=this.confettis[o];l.spawnedAmount>=l.total&&l.items.length<=0&&this.confettis.splice(o,1)}}},{key:"renderConffetis",value:function(){this.polygonBatch.begin();for(var e=0;e<this.confettis.length;e++)for(var t=this.confettis[e],n=0;n<t.items.length;n++){var r=t.items[n];r.texture&&(this.polygonBatch.color.set(1,1,1,r.opacity),r.texture.draw(this.polygonBatch,r.position.x-r.size/2,r.position.y-r.size/2,r.size,r.size,r.size/2,r.size/2,r.rotation,r.scale,r.scale),this.polygonBatch.color.set(1,1,1,1))}this.polygonBatch.end()}},{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.confettiTextures=e.findRegions("confetti"))}},{key:"process",value:function(){this.processState(),this.renderConffetis()}}]),n}(Ds.xP),qu=Us(Xu.prototype,"confettis",[Wu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$u=Us(Xu.prototype,"assetManager",[Hu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ku=Us(Xu.prototype,"polygonBatch",[Yu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xu),Cc=(Qu=(0,Ds.tB)("viewport"),Zu=(0,Ds.tB)("windows"),Ju=(0,Ds.tB)("camera"),ec=(0,Ds.tB)("effectStates"),tc=(0,Ds.tB)("timeKeeper"),nc=(0,Ds.tB)("gameTimers"),rc=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"viewport",ic,Tt(e)),js(e,"windows",ac,Tt(e)),js(e,"camera",sc,Tt(e)),js(e,"effectStates",oc,Tt(e)),js(e,"timeKeeper",lc,Tt(e)),js(e,"gameTimers",uc,Tt(e)),e.opacity=0,e.centerPoint=new rs.Vector2(ss.WORLD_WIDTH/2,ss.WORLD_HEIGHT/2),e}return _t(n,[{key:"handleAfterDelay",value:function(){this.timeKeeper.paused=!1,this.effectStates.zoomTransition=void 0,this.camera.setPosition(ss.WORLD_WIDTH/2,ss.WORLD_HEIGHT/2),this.camera.update(),ja.emit(Ss),ja.emit(Es)}},{key:"initialized",value:function(){}},{key:"process",value:function(){var e=this,t=this.camera,n=this.effectStates.zoomTransition;this.gameTimers.zoomDelayTimer.onComplete||(this.gameTimers.zoomDelayTimer.onComplete=function(){return e.handleAfterDelay()}),this.gameTimers.zoomDelayTimer.update(this.world.delta),n&&(n.time+=this.world.delta,n.state===ul.ZOOM_IN&&(t.zoom=uo(1,n.zoomScale,tl.Quadratic.Out(n.time/ls)),this.opacity=uo(0,.6,tl.Quadratic.Out(n.time/ls)),oo(n.zoomCenterPosition,this.centerPoint,n.zoomAtPoint,tl.Quadratic.Out(n.time/ls)),t.setPosition(n.zoomCenterPosition.x,n.zoomCenterPosition.y),t.update(),n.time>=ls&&(n.time=0,n.state=ul.SHOWING)),n.state===ul.SHOWING&&n.time>=2&&(n.time=0,n.state=ul.ZOOM_OUT,ja.emit(Es)),n.state===ul.ZOOM_OUT&&(t.zoom=uo(n.zoomScale,1,tl.Quadratic.Out(n.time/ls)),this.opacity=uo(.6,.01,tl.Quadratic.Out(n.time/ls)),oo(n.zoomCenterPosition,n.zoomAtPoint,this.centerPoint,tl.Quadratic.Out(n.time/ls)),t.setPosition(n.zoomCenterPosition.x,n.zoomCenterPosition.y),t.update(),n.time>=ls&&(n.time=0)))}},{key:"dispose",value:function(){}}]),n}(Ds.xP),ic=Us(rc.prototype,"viewport",[Qu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac=Us(rc.prototype,"windows",[Zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sc=Us(rc.prototype,"camera",[Ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oc=Us(rc.prototype,"effectStates",[ec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lc=Us(rc.prototype,"timeKeeper",[tc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uc=Us(rc.prototype,"gameTimers",[nc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rc);!function(e){e.HARD="hard",e.NORMAL="normal",e.EASY="easy"}(cc||(cc={}));var Oc,Pc,Ic,Nc,Rc,Fc,Bc,Dc,jc,Uc,Vc,Gc,zc,Wc,Hc,Yc,Xc,qc=(hc=(0,Ds.tB)("batch"),fc=(0,Ds.tB)("effectStates"),dc=(0,Ds.tB)("assetManager"),pc=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"polygonBatch",vc,Tt(e)),js(e,"effectStates",mc,Tt(e)),js(e,"assetManager",gc,Tt(e)),e.scoreTextures={},e}return _t(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.scoreTextures[bs[cc.EASY]]=e.findRegion("green_circle",-1),this.scoreTextures[bs[cc.NORMAL]]=e.findRegion("blue_circle",-1),this.scoreTextures[bs[cc.HARD]]=e.findRegion("red_circle",-1))}},{key:"process",value:function(){for(var e=0;e<this.effectStates.scoreTransitions.length;e++){var t=this.effectStates.scoreTransitions[e];t.time+=this.world.delta,oo(t.position,t.source,t.target,tl.Quadratic.Out(t.time/1)),t.opacity=uo(.2,1,tl.Quadratic.Out(t.time/.8))}for(var n=this.effectStates.scoreTransitions.length-1;n>=0;n--){this.effectStates.scoreTransitions[n].time>1&&this.effectStates.scoreTransitions.splice(n,1)}this.polygonBatch.begin();for(var r=0;r<this.effectStates.scoreTransitions.length;r++){var i,a=this.effectStates.scoreTransitions[r];if(this.scoreTextures[a.score])this.polygonBatch.color.set(1,1,1,a.opacity),null===(i=this.scoreTextures[a.score])||void 0===i||i.draw(this.polygonBatch,a.position.x,a.position.y,ss.SCORE_BADGE_WIDTH,ss.SCORE_BADGE_HEIGHT),this.polygonBatch.color.set(1,1,1,1)}this.polygonBatch.end()}}]),n}(Ds.xP),vc=Us(pc.prototype,"polygonBatch",[hc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mc=Us(pc.prototype,"effectStates",[fc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gc=Us(pc.prototype,"assetManager",[dc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pc),$c=(Oc=(0,Ds.tB)("batch"),Pc=(0,Ds.tB)("assetManager"),Ic=function(e){wt(n,e);var t=At(n);function n(e){var r;return yt(this,n),js(r=t.call(this),"polygonBatch",Nc,Tt(r)),js(r,"assetManager",Rc,Tt(r)),r.isFront=!1,r.flower1Texture=void 0,r.flower2Texture=void 0,r.bottomOverlay=void 0,r.decorB3=void 0,r.decorB4=void 0,r.decorC1=void 0,r.decorC2=void 0,r.decorE2=void 0,r.decorE5=void 0,r.isFront=e,r}return _t(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.flower1Texture=e.findRegion("hoa_dao",-1),this.flower2Texture=e.findRegion("hoa_mai",-1),this.bottomOverlay=e.findRegion("bottom_overlay",-1),this.decorB3=e.findRegion("decor_B3",-1),this.decorB4=e.findRegion("decor_B4",-1),this.decorC1=e.findRegion("decor_C1",-1),this.decorC2=e.findRegion("decor_C2",-1),this.decorE2=e.findRegion("decor_E2",-1),this.decorE5=e.findRegion("decor_E5",-1))}},{key:"process",value:function(){this.polygonBatch.begin(),this.isFront&&(this.flower1Texture&&(this.polygonBatch.color.set(1,1,1,1),this.flower1Texture.draw(this.polygonBatch,ss.FLOWER1_X,ss.FLOWER1_Y,ss.FLOWER1_WIDTH,ss.FLOWER1_HEIGHT)),this.flower2Texture&&(this.polygonBatch.color.set(1,1,1,1),this.flower2Texture.draw(this.polygonBatch,ss.FLOWER2_X,ss.FLOWER2_Y,ss.FLOWER2_WIDTH,ss.FLOWER2_HEIGHT)),this.bottomOverlay&&(this.polygonBatch.color.set(1,1,1,.6),this.bottomOverlay.draw(this.polygonBatch,ss.BOTTOM_OVERLAY_X,ss.BOTTOM_OVERLAY_Y,ss.BOTTOM_OVERLAY_WIDTH,ss.BOTTOM_OVERLAY_HEIGHT),this.polygonBatch.color.set(1,1,1,1)),this.decorB3&&this.decorB3.draw(this.polygonBatch,40,440,130,130*this.decorB3.originalHeight/this.decorB3.originalWidth),this.decorB4&&this.decorB4.draw(this.polygonBatch,15,620,155,155*this.decorB4.originalHeight/this.decorB4.originalWidth),this.decorE5&&this.decorE5.draw(this.polygonBatch,300,700,170,170*this.decorE5.originalHeight/this.decorE5.originalWidth)),this.isFront||(this.decorE2&&this.decorE2.draw(this.polygonBatch,315,482,165,165*this.decorE2.originalHeight/this.decorE2.originalWidth),this.decorC1&&this.decorC1.draw(this.polygonBatch,154,310,50,50*this.decorC1.originalHeight/this.decorC1.originalWidth),this.decorC2&&this.decorC2.draw(this.polygonBatch,155,352,68,68*this.decorC2.originalHeight/this.decorC2.originalWidth)),this.polygonBatch.end()}}]),n}(Ds.xP),Nc=Us(Ic.prototype,"polygonBatch",[Oc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rc=Us(Ic.prototype,"assetManager",[Pc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ic),Kc=(Fc=(0,Ds.tB)("effectStates"),Bc=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"effectStates",Dc,Tt(e)),e}return _t(n,[{key:"process",value:function(){this.effectStates.catSound.time+=this.world.delta,this.effectStates.catSound.time>this.effectStates.catSound.meowAt&&(this.effectStates.catSound.meowAt=5*Math.random()+5,this.effectStates.catSound.time=0,nr.play(zn.MEOW))}}]),n}(Ds.xP),Dc=Us(Bc.prototype,"effectStates",[Fc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bc),Qc=(jc=(0,Ds.tB)("batch"),Uc=(0,Ds.tB)("shapeRenderer"),Vc=(0,Ds.tB)("spineAssetManager"),Gc=(0,Ds.tB)("skeletonRenderer"),zc=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return js(e=t.call.apply(t,[this].concat(i)),"polygonBatch",Wc,Tt(e)),js(e,"shapeRenderer",Hc,Tt(e)),js(e,"spineAssetManager",Yc,Tt(e)),js(e,"skeletonRenderer",Xc,Tt(e)),e.opened=!0,e.spine=void 0,e.handleStartAnimation=function(t){var n=t.chest,r=null;if(n===Wa.AM_NO&&(r=Ha.AM_NO),n===Wa.SUNG_TUC&&(r=Ha.SUNG_TUC),n===Wa.THINH_VUONG&&(r=Ha.THINH_VUONG),r){e.opened=!1;var i=new Bs.AtlasAttachmentLoader(e.spineAssetManager.get("".concat(r,".atlas"))),a=new Bs.SkeletonJson(i).readSkeletonData(e.spineAssetManager.get("".concat(r,".json"))),s=new Bs.Skeleton(a),o=new Bs.AnimationState(new Bs.AnimationStateData(a));o.setAnimation(0,"animation",!1).listener={complete:function(){e.opened=!0,ja.emit(Rs)}},e.spine={skeleton:s,animationState:o}}else ja.emit(Ps)},e}return _t(n,[{key:"initialized",value:function(){ja.addListener(Ns,this.handleStartAnimation)}},{key:"process",value:function(){this.spine&&!this.opened&&(this.shapeRenderer.begin(),this.shapeRenderer.setColorWith(0,0,0,.8),this.shapeRenderer.rect(!0,ss.BG_OFFSET_X,ss.BG_OFFSET_Y,ss.BG_WIDTH,ss.BG_HEIGHT),this.shapeRenderer.setColorWith(1,1,1,1),this.shapeRenderer.end(),this.spine.animationState.update(this.world.delta),this.spine.animationState.apply(this.spine.skeleton),this.spine.skeleton.x=.5*ss.WORLD_WIDTH,this.spine.skeleton.y=.7*ss.WORLD_HEIGHT,this.spine.skeleton.scaleX=.5,this.spine.skeleton.scaleY=-.5,this.spine.skeleton.updateWorldTransform(),this.polygonBatch.begin(),this.skeletonRenderer.draw(this.polygonBatch,this.spine.skeleton),this.polygonBatch.end()),this.opened&&(this.spine=void 0)}},{key:"dispose",value:function(){ja.removeListener(Ns,this.handleStartAnimation)}}]),n}(Ds.xP),Wc=Us(zc.prototype,"polygonBatch",[jc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hc=Us(zc.prototype,"shapeRenderer",[Uc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yc=Us(zc.prototype,"spineAssetManager",[Vc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xc=Us(zc.prototype,"skeletonRenderer",[Gc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zc),Zc=function(e,t,n,r,i){var a=e.getContext(),s=e.getCamera(),o=new Nl,l=new rs.PolygonBatch(a),u=new rs.ShapeRenderer(a),c=new Bs.SkeletonRenderer(a,!0),h=new rs.ViewportInputHandler(e);s.setYDown(!0),l.setYDown(!0);for(var d=[],p=[],v={score:0,currentChest:Wa.NULL,shotTimes:0,uiState:Vs.READY_TO_PLAY},m={scenarios:[],spawnList:[]},g={throwable:!0,movingRight:!0,rotation:0,rotateSpeed:ss.ARROW_ROTATE_SPEED,maxAngle:ss.ARROW_MAX_ANGLE,minAngle:ss.ARROW_MIN_ANGLE},y={gameTime:0,paused:!0},b={catSound:{time:0,meowAt:5*Math.random()+5},characterTransitions:[],scoreTransitions:[],windowOpenTransitions:[],windowCloseTransitions:[],characterHideTransitions:[],characterShowTransitions:[]},_={throwDelayTimer:new Sc,zoomDelayTimer:new Sc},x=[],w=[],k=function(){!function(){v.currentChest=Wa.NULL,v.score=0,v.shotTimes=0,v.uiState=Vs.READY_TO_PLAY,m.spawnList.length=0,m.scenarios.length=0;for(var e=wc(i),t=0;t<e.length;t++){var n=e[t];m.scenarios.push(f(f({},n),{},{isProcessed:!1}))}g.throwable=!0,g.movingRight=!0,g.rotation=0,y.gameTime=0,y.paused=!0,b.catSound={time:0,meowAt:5*Math.random()+5},b.characterTransitions.length=0,b.scoreTransitions.length=0,b.windowCloseTransitions.length=0,b.windowOpenTransitions.length=0,b.characterHideTransitions.length=0,b.characterShowTransitions.length=0,_.throwDelayTimer=new Sc,_.zoomDelayTimer=new Sc,x.length=0,w.length=0;for(var r=0;r<p.length;r++){var a=p[r];o.remove(a.hitbox),p.splice(r,1)}for(var s=0;s<d.length;s++){var l=d[s];l.state=ll.CLOSED,l.stateTime=0,l.characterType=wc(Object.values(za))}}(),d.forEach((function(e){var t=new Bs.AtlasAttachmentLoader(n.get("".concat(e.characterType,".atlas"))),r=new Bs.SkeletonJson(t).readSkeletonData(n.get("".concat(e.characterType,".json"))),i=new Bs.Skeleton(r),a=new Bs.AnimationState(new Bs.AnimationStateData(r));a.setAnimation(0,fs,!0),w.push({skeleton:i,animationState:a})}))},M=0;M<Object.keys(r.window).length;M++){var T=Object.keys(r.window)[M];if(!isNaN(parseInt(T))){var S=parseInt(T),A=r.window[S],E=r.characterSpawnPositions[S],L=2*Math.round(Math.random())-1;d.push({stateTime:0,duration:0,hitbox:o.createPolygon(A.boundary.x,A.boundary.y,gt(A.hitbox.map((function(e){return[e.x,e.y]})))),boundary:A.boundary,difficulty:A.difficulty,site:A.direction,state:ll.CLOSED,characterPosition:E,characterScaleXMulti:L,characterType:wc(Object.values(za))})}}var C=new Bs.AtlasAttachmentLoader(n.get("".concat(us,".atlas"))),O=new Bs.SkeletonJson(C).readSkeletonData(n.get("".concat(us,".json"))),P=new Bs.Skeleton(O),I=new Bs.AnimationState(new Bs.AnimationStateData(O));I.setAnimation(0,ps,!0);var N={skeleton:P,animationState:I};k();var R=new Ds.q3;R.register("viewport",e),R.register("camera",s),R.register("batch",l),R.register("shapeRenderer",u),R.register("skeletonRenderer",c),R.register("assetManager",t),R.register("spineAssetManager",n),R.register("inputHandler",h),R.register("collisions",o),R.register("gameState",v),R.register("scenarioStates",m),R.register("mapData",r),R.register("arrowState",g),R.register("windows",d),R.register("scenarios",i),R.register("timeKeeper",y),R.register("characterSpines",w),R.register("catSpine",N),R.register("effectStates",b),R.register("gameTimers",_),R.register("flyingLuckyMoneys",p),R.register("confettis",x),R.addSystem(new xc,!0),R.addSystem(new kc,!0),R.addSystem(new Mc,!0),R.addSystem(new Ko,!0),R.addSystem(new nl,!0),R.addSystem(new yc,!0),R.addSystem(new Tc,!0),R.addSystem(new Kc,!0),R.addSystem(new Ac,!0),R.addSystem(new Ec,!0),R.addSystem(new Zo,!1),R.addSystem(new Qo,!1),R.addSystem(new $c(!1),!1),R.addSystem(new bc,!1),R.addSystem(new _c,!1),R.addSystem(new Lc,!1),R.addSystem(new Jo,!1),R.addSystem(new $c(!0),!1),R.addSystem(new rl,!1),R.addSystem(new qc,!1),R.addSystem(new Cc,!1),R.addSystem(new Qc,!1);var F=function(){k()},B=function(){y.paused=!1,v.uiState=Vs.PLAYING,ja.emit(Ms)},D=function(){v.uiState===Vs.PLAYING&&(y.paused=!0,ja.emit(Ts))},j=function(){v.uiState===Vs.PLAYING&&(y.paused=!1,ja.emit(Ss))};return ja.addListener(Ps,F),ja.addListener(xs,B),ja.addListener(Ls,D),ja.addListener(Cs,j),{update:function(e){l.setProjection(s.combined),u.setProjection(s.combined),R.setDelta(e),y.paused||R.processActiveSystem(),R.processPassiveSystem()},dispose:function(){R.dispose(),l.dispose(),u.dispose(),h.cleanup(),ja.removeListener(Ps,F),ja.removeListener(xs,B),ja.removeListener(Ls,D),ja.removeListener(Cs,j)}}},Jc=function(){var e=s(i().mark((function e(t){var n,r,a,s,o,l,u,c,h,f,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r={},e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,o=ss.BG_WIDTH/600,l=ss.BG_HEIGHT/1e3,u=s.layers.find((function(e){return"characters"===e.name})),u.objects.forEach((function(e){var t=e.x*o,r=e.y*l;n[os[e.name]]={x:t+ss.BG_OFFSET_X,y:r+ss.BG_OFFSET_Y}})),c=0,h=0,f=0,d=0,p=s.layers.find((function(e){return"windows"===e.name})),p.objects.forEach((function(e){var t=e.class.split(":")[0],n=e.class.split(":")[1],i=e.x*o,a=e.y*l,s=e.polygon.map((function(e){return e.x*o+ss.BG_OFFSET_X})),u=e.polygon.map((function(e){return e.y*l+ss.BG_OFFSET_Y}));c=Math.min.apply(Math,gt(s)),h=Math.max.apply(Math,gt(s)),f=Math.min.apply(Math,gt(u)),d=Math.max.apply(Math,gt(u));var p={x:i+c,y:a+f,width:h-c,height:d-f},v=[];e.polygon.forEach((function(e){var t=e.x*o,n=e.y*l;v.push({x:t,y:n})})),r[os[e.name]]={direction:n,difficulty:t,boundary:p,hitbox:v}})),e.abrupt("return",{window:r,characterSpawnPositions:n});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),eh=function(){var e=s(i().mark((function e(t,n){var r,a,o,l,u,c,h,f,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getContext(),a=new rs.AssetManager(r),o=new Bs.SpineAssetManager(r,"../../assets/spine/"),l=function(){var e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.loadTexture("assets/ingame/bg_general.jpg","bg_general"),a.loadAtlas("assets/atlas/vpbank_assets_30112022.atlas","game_assets_atlas"),o.loadTextureAtlas("".concat(us,".atlas")),o.loadJson("".concat(us,".json")),cs.forEach((function(e){o.loadTextureAtlas("".concat(e,".atlas")),o.loadJson("".concat(e,".json"))})),hs.forEach((function(e){o.loadTextureAtlas("".concat(e,".atlas")),o.loadJson("".concat(e,".json"))})),e.next=8,Promise.all([a.finishLoading(),o.loadAll()]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,l();case 6:return e.next=8,Jc("../../assets/tilesmap/bg_general_tilemap.json");case 8:return u=e.sent,c=[],e.next=12,ao("../../level/game_pattern_1.csv");case 12:return h=e.sent,e.next=15,ao("../../level/game_pattern_2.csv");case 15:return f=e.sent,c.push(h),c.push(f),rs.Game.shared.setScreen(Zc(n,a,o,u,c)),r.clear(r.COLOR_BUFFER_BIT),d=(0,rs.createGameLoop)((function(e){r.clearColor(0,0,0,1),rs.Game.shared.update(e)})),e.abrupt("return",{dispose:function(){d.stop(),rs.Game.shared.currentScreen.dispose&&rs.Game.shared.currentScreen.dispose(),a.disposeAll(),o.dispose()}});case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),th="gameScreen_container__oXuf9",nh="gameScreen_canvas__AJNlx",rh="ingameModal_container__Aut6t",ih="ingameModal_hide__ROaF0",ah="ingameModal_content__IWb1u";function sh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kt(e)););return e}function oh(){return oh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=sh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},oh.apply(this,arguments)}function lh(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=dt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}var uh=Th(),ch=function(e){return xh(e,uh)},hh=Th();ch.write=function(e){return xh(e,hh)};var fh=Th();ch.onStart=function(e){return xh(e,fh)};var dh=Th();ch.onFrame=function(e){return xh(e,dh)};var ph=Th();ch.onFinish=function(e){return xh(e,ph)};var vh=[];ch.setTimeout=function(e,t){var n=ch.now()+t,r={time:n,handler:e,cancel:function e(){var t=vh.findIndex((function(t){return t.cancel==e}));~t&&vh.splice(t,1),bh-=~t?1:0}};return vh.splice(mh(n),0,r),bh+=1,wh(),r};var mh=function(e){return~(~vh.findIndex((function(t){return t.time>e}))||~vh.length)};ch.cancel=function(e){fh.delete(e),dh.delete(e),ph.delete(e),uh.delete(e),hh.delete(e)},ch.sync=function(e){_h=!0,ch.batchedUpdates(e),_h=!1},ch.throttle=function(e){var t;function n(){try{e.apply(void 0,gt(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,ch.onStart(n)}return r.handler=e,r.cancel=function(){fh.delete(n),t=null},r};var gh="undefined"!=typeof window?window.requestAnimationFrame:function(){};ch.use=function(e){return gh=e},ch.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,ch.batchedUpdates=function(e){return e()},ch.catch=console.error,ch.frameLoop="always",ch.advance=function(){"demand"!==ch.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Mh()};var yh=-1,bh=0,_h=!1;function xh(e,t){_h?(t.delete(e),e(0)):(t.add(e),wh())}function wh(){yh<0&&(yh=0,"demand"!==ch.frameLoop&&gh(kh))}function kh(){~yh&&(gh(kh),ch.batchedUpdates(Mh))}function Mh(){var e=yh;yh=ch.now();var t=mh(yh);t&&(Sh(vh.splice(0,t),(function(e){return e.handler()})),bh-=t),bh?(fh.flush(),uh.flush(e?Math.min(64,yh-e):16.667),dh.flush(),hh.flush(),ph.flush()):yh=-1}function Th(){var e=new Set,t=e;return{add:function(n){bh+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return bh-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,bh-=t.size,Sh(t,(function(t){return t(n)&&e.add(t)})),bh+=e.size,t=e)}}}function Sh(e,t){e.forEach((function(e){try{t(e)}catch(n){ch.catch(n)}}))}function Ah(){}var Eh={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function Lh(e,t){if(Eh.arr(e)){if(!Eh.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Ch=function(e,t){return e.forEach(t)};function Oh(e,t,n){if(Eh.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var Ph=function(e){return Eh.und(e)?[]:Eh.arr(e)?e:[e]};function Ih(e,t){if(e.size){var n=Array.from(e);e.clear(),Ch(n,t)}}var Nh,Rh,Fh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ih(e,(function(e){return e.apply(void 0,n)}))},Bh=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},Dh=null,jh=!1,Uh=Ah,Vh=function(e){e.to&&(Rh=e.to),e.now&&(ch.now=e.now),void 0!==e.colors&&(Dh=e.colors),null!=e.skipAnimation&&(jh=e.skipAnimation),e.createStringInterpolator&&(Nh=e.createStringInterpolator),e.requestAnimationFrame&&ch.use(e.requestAnimationFrame),e.batchedUpdates&&(ch.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Uh=e.willAdvance),e.frameLoop&&(ch.frameLoop=e.frameLoop)},Gh=Object.freeze({__proto__:null,get createStringInterpolator(){return Nh},get to(){return Rh},get colors(){return Dh},get skipAnimation(){return jh},get willAdvance(){return Uh},assign:Vh}),zh=new Set,Wh=[],Hh=[],Yh=0,Xh={get idle(){return!zh.size&&!Wh.length},start:function(e){Yh>e.priority?(zh.add(e),ch.onStart(qh)):($h(e),ch(Qh))},advance:Qh,sort:function(e){if(Yh)ch.onFrame((function(){return Xh.sort(e)}));else{var t=Wh.indexOf(e);~t&&(Wh.splice(t,1),Kh(e))}},clear:function(){Wh=[],zh.clear()}};function qh(){zh.forEach($h),zh.clear(),ch(Qh)}function $h(e){Wh.includes(e)||Kh(e)}function Kh(e){Wh.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(Wh,(function(t){return t.priority>e.priority})),0,e)}function Qh(e){for(var t=Hh,n=0;n<Wh.length;n++){var r=Wh[n];Yh=r.priority,r.idle||(Uh(r),r.advance(e),r.idle||t.push(r))}return Yh=0,(Hh=Wh).length=0,(Wh=t).length>0}var Zh="[-+]?\\d*\\.?\\d+",Jh=Zh+"%";function ef(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var tf=new RegExp("rgb"+ef(Zh,Zh,Zh)),nf=new RegExp("rgba"+ef(Zh,Zh,Zh,Zh)),rf=new RegExp("hsl"+ef(Zh,Jh,Jh)),af=new RegExp("hsla"+ef(Zh,Jh,Jh,Zh)),sf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,of=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,lf=/^#([0-9a-fA-F]{6})$/,uf=/^#([0-9a-fA-F]{8})$/;function cf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hf(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=cf(i,r,e+1/3),s=cf(i,r,e),o=cf(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*s)<<16|Math.round(255*o)<<8}function ff(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function df(e){return(parseFloat(e)%360+360)%360/360}function pf(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function vf(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function mf(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=lf.exec(e))?parseInt(t[1]+"ff",16)>>>0:Dh&&void 0!==Dh[e]?Dh[e]:(t=tf.exec(e))?(ff(t[1])<<24|ff(t[2])<<16|ff(t[3])<<8|255)>>>0:(t=nf.exec(e))?(ff(t[1])<<24|ff(t[2])<<16|ff(t[3])<<8|pf(t[4]))>>>0:(t=sf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=uf.exec(e))?parseInt(t[1],16)>>>0:(t=of.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=rf.exec(e))?(255|hf(df(t[1]),vf(t[2]),vf(t[3])))>>>0:(t=af.exec(e))?(hf(df(t[1]),vf(t[2]),vf(t[3]))|pf(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var gf=function e(t,n,r){if(Eh.fun(t))return t;if(Eh.arr(t))return e({range:t,output:n,extrapolate:r});if(Eh.str(t.output[0]))return Nh(t);var i=t,a=i.output,s=i.range||[0,1],o=i.extrapolateLeft||i.extrapolate||"extend",l=i.extrapolateRight||i.extrapolate||"extend",u=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,s);return function(e,t,n,r,i,a,s,o,l){var u=l?l(e):e;if(u<t){if("identity"===s)return u;"clamp"===s&&(u=t)}if(u>n){if("identity"===o)return u;"clamp"===o&&(u=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=a(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(e,s[t],s[t+1],a[t],a[t+1],u,o,l,i.map)}};function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yf.apply(this,arguments)}var bf=Symbol.for("FluidValue.get"),_f=Symbol.for("FluidValue.observers"),xf=function(e){return Boolean(e&&e[bf])},wf=function(e){return e&&e[bf]?e[bf]():e},kf=function(e){return e[_f]||null};function Mf(e,t){var n=e[_f];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Tf=_t((function e(t){if(yt(this,e),this[bf]=void 0,this[_f]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Sf(this,t)})),Sf=function(e,t){return Cf(e,bf,t)};function Af(e,t){if(e[bf]){var n=e[_f];n||Cf(e,_f,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ef(e,t){var n=e[_f];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[_f]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Lf,Cf=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},Of=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Pf=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,If=new RegExp("(".concat(Of.source,")(%|[a-z]+)"),"i"),Nf=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Rf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ff=function e(t){var n=vt(Bf(t),2),r=n[0],i=n[1];if(!r||Bh())return t;var a=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(a)return a.trim();if(i&&i.startsWith("--")){var s=window.getComputedStyle(document.documentElement).getPropertyValue(i);return s||t}return i&&Rf.test(i)?e(i):i||t},Bf=function(e){var t=Rf.exec(e);if(!t)return[,];var n=vt(t,3);return[n[1],n[2]]},Df=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},jf=function(e){Lf||(Lf=Dh?new RegExp("(".concat(Object.keys(Dh).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return wf(e).replace(Rf,Ff).replace(Pf,mf).replace(Lf,mf)})),n=t.map((function(e){return e.match(Of).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})),i=r.map((function(t){return gf(yf({},e,{output:t}))}));return function(e){var n,r=!If.test(t[0])&&(null==(n=t.find((function(e){return If.test(e)})))?void 0:n.replace(Of,"")),a=0;return t[0].replace(Of,(function(){return"".concat(i[a++](e)).concat(r||"")})).replace(Nf,Df)}},Uf="react-spring: ",Vf=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(Uf,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},Gf=Vf(console.warn);function zf(){Gf("".concat(Uf,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var Wf=Vf(console.warn);function Hf(e){return Eh.str(e)&&("#"==e[0]||/\d/.test(e)||!Bh()&&Rf.test(e)||e in(Dh||{}))}var Yf=Bh()?l.useEffect:l.useLayoutEffect;function Xf(){var e=(0,l.useState)()[1],t=function(){var e=(0,l.useRef)(!1);return Yf((function(){return e.current=!0,function(){e.current=!1}}),[]),e}();return function(){t.current&&e(Math.random())}}var qf=function(e){return(0,l.useEffect)(e,$f)},$f=[];function Kf(e){var t=(0,l.useRef)();return(0,l.useEffect)((function(){t.current=e})),t.current}var Qf=Symbol.for("Animated:node"),Zf=function(e){return e&&e[Qf]},Jf=function(e,t){return n=e,r=Qf,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},ed=function(e){return e&&e[Qf]&&e[Qf].getPayload()},td=function(){function e(){yt(this,e),this.payload=void 0,Jf(this,this)}return _t(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),nd=function(e){wt(n,e);var t=At(n);function n(e){var r;return yt(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,Eh.num(r._value)&&(r.lastPosition=r._value),r}return _t(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return Eh.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,Eh.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(td),rd=function(e){wt(n,e);var t=At(n);function n(e){var r;return yt(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=gf({output:[e,e]}),r}return _t(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(Eh.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!oh(kt(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=gf({output:[this.getValue(),e]})),this._value=0,oh(kt(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(nd),id={dependencies:null},ad=function(e){wt(n,e);var t=At(n);function n(e){var r;return yt(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return _t(n,[{key:"getValue",value:function(e){var t={};return Oh(this.source,(function(n,r){var i;(i=n)&&i[Qf]===i?t[r]=n.getValue(e):xf(n)?t[r]=wf(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Ch(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Oh(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;id.dependencies&&xf(e)&&id.dependencies.add(e);var n=ed(e);n&&Ch(n,(function(e){return t.add(e)}))}}]),n}(td),sd=function(e){wt(n,e);var t=At(n);function n(e){return yt(this,n),t.call(this,e)}return _t(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(oh(kt(n.prototype),"setValue",this).call(this,e.map(od)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(ad);function od(e){return(Hf(e)?rd:nd).create(e)}function ld(e){var t=Zf(e);return t?t.constructor:Eh.arr(e)?sd:Hf(e)?rd:nd}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(this,arguments)}var cd=function(e,t){var n=!Eh.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,l.forwardRef)((function(r,i){var a=(0,l.useRef)(null),s=n&&(0,l.useCallback)((function(e){a.current=function(e,t){e&&(Eh.fun(e)?e(t):e.current=t);return t}(i,e)}),[i]),o=function(e,t){var n=new Set;id.dependencies=n,e.style&&(e=ud({},e,{style:t.createAnimatedStyle(e.style)}));return e=new ad(e),id.dependencies=null,[e,n]}(r,t),u=vt(o,2),c=u[0],h=u[1],f=Xf(),d=function(){var e=a.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,c.getValue(!0)))&&f()},p=new hd(d,h),v=(0,l.useRef)();Yf((function(){return v.current=p,Ch(h,(function(e){return Af(e,p)})),function(){v.current&&(Ch(v.current.deps,(function(e){return Ef(e,v.current)})),ch.cancel(v.current.update))}})),(0,l.useEffect)(d,[]),qf((function(){return function(){var e=v.current;Ch(e.deps,(function(t){return Ef(t,e)}))}}));var m=t.getComponentProps(c.getValue());return l.createElement(e,ud({},m,{ref:s}))}))},hd=function(){function e(t,n){yt(this,e),this.update=t,this.deps=n}return _t(e,[{key:"eventObserved",value:function(e){"change"==e.type&&ch.write(this.update)}}]),e}();var fd=Symbol.for("AnimatedComponent"),dd=function(e){return Eh.str(e)?e:e&&Eh.str(e.displayName)?e.displayName:Eh.fun(e)&&e.name||null};function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pd.apply(this,arguments)}function vd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Eh.fun(e)?e.apply(void 0,n):e}var md=function(e,t){return!0===e||!!(t&&e&&(Eh.fun(e)?e(t):Ph(e).includes(t)))},gd=function(e,t){return Eh.obj(e)?t&&e[t]:e},yd=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},bd=function(e){return e},_d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bd,n=xd;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=lh(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,o=t(e[s],s);Eh.und(o)||(i[s]=o)}}catch(l){a.e(l)}finally{a.f()}return i},xd=["config","onProps","onStart","onChange","onPause","onResume","onRest"],wd={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function kd(e){var t=function(e){var t={},n=0;if(Oh(e,(function(e,r){wd[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Oh(e,(function(e,r){return r in t||(n[r]=e)})),n}return pd({},e)}function Md(e){return e=wf(e),Eh.arr(e)?e.map(Md):Hf(e)?Gh.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Td(e){for(var t in e)return!0;return!1}function Sd(e){return Eh.fun(e)||Eh.arr(e)&&Eh.obj(e[0])}function Ad(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function Ed(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var Ld=1.70158,Cd=1.525*Ld,Od=Ld+1,Pd=2*Math.PI/3,Id=2*Math.PI/4.5,Nd=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Rd={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return Od*e*e*e-Ld*e*e},easeOutBack:function(e){return 1+Od*Math.pow(e-1,3)+Ld*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-Cd)/2:(Math.pow(2*e-2,2)*((Cd+1)*(2*e-2)+Cd)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Pd)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Pd)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Id)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Id)/2+1},easeInBounce:function(e){return 1-Nd(1-e)},easeOutBounce:Nd,easeInOutBounce:function(e){return e<.5?(1-Nd(1-2*e))/2:(1+Nd(2*e-1))/2}},Fd=pd({},{tension:170,friction:26},{mass:1,damping:1,easing:Rd.linear,clamp:!1}),Bd=_t((function e(){yt(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Fd)}));function Dd(e,t){if(Eh.und(t.decay)){var n=!Eh.und(t.tension)||!Eh.und(t.friction);!n&&Eh.und(t.frequency)&&Eh.und(t.damping)&&Eh.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var jd=[],Ud=_t((function e(){yt(this,e),this.changed=!1,this.values=jd,this.toValues=null,this.fromValues=jd,this.to=void 0,this.from=void 0,this.config=new Bd,this.immediate=!1}));function Vd(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,s=t.actions;return new Promise((function(t,o){var l,u,c,h=md(null!=(l=r.cancel)?l:null==i?void 0:i.cancel,n);if(h)v();else{Eh.und(r.pause)||(a.paused=md(r.pause,n));var f=null==i?void 0:i.pause;!0!==f&&(f=a.paused||md(f,n)),u=vd(r.delay||0,n),f?(a.resumeQueue.add(p),s.pause()):(s.resume(),p())}function d(){a.resumeQueue.add(p),a.timeouts.delete(c),c.cancel(),u=c.time-ch.now()}function p(){u>0&&!Gh.skipAnimation?(a.delayed=!0,c=ch.setTimeout(v,u),a.pauseQueue.add(d),a.timeouts.add(c)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(d),a.timeouts.delete(c),e<=(a.cancelId||0)&&(h=!0);try{s.start(pd({},r,{callId:e,cancel:h}),t)}catch(n){o(n)}}}))}var Gd=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?Hd(e.get()):t.every((function(e){return e.noop}))?zd(e.get()):Wd(e.get(),t.every((function(e){return e.finished})))},zd=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},Wd=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},Hd=function(e){return{value:e,cancelled:!0,finished:!1}};function Yd(e,t,n,r){var a=t.callId,o=t.parentId,l=t.onRest,u=n.asyncTo,c=n.promise;return o||e!==u||t.reset?n.promise=s(i().mark((function h(){var f,d,p,v,m,g,y,b;return i().wrap((function(h){for(;;)switch(h.prev=h.next){case 0:if(n.asyncId=a,n.asyncTo=e,f=_d(t,(function(e,t){return"onRest"===t?void 0:e})),v=new Promise((function(e,t){return d=e,p=t})),m=function(e){var t=a<=(n.cancelId||0)&&Hd(r)||a!==n.asyncId&&Wd(r,!1);if(t)throw e.result=t,p(e),e},g=function(e,t){var o=new qd,l=new $d;return s(i().mark((function s(){var u,c;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!Gh.skipAnimation){i.next=5;break}throw Xd(n),l.result=Wd(r,!1),p(l),l;case 5:return m(o),(u=Eh.obj(e)?pd({},e):pd({},t,{to:e})).parentId=a,Oh(f,(function(e,t){Eh.und(u[t])&&(u[t]=e)})),i.next=11,r.start(u);case 11:if(c=i.sent,m(o),!n.paused){i.next=16;break}return i.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return i.abrupt("return",c);case 17:case"end":return i.stop()}}),s)})))()},!Gh.skipAnimation){h.next=9;break}return Xd(n),h.abrupt("return",Wd(r,!1));case 9:return h.prev=9,b=Eh.arr(e)?function(){var e=s(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lh(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,g(a);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(g,r.stop.bind(r))),h.next=13,Promise.all([b.then(d),v]);case 13:y=Wd(r.get(),!0,!1),h.next=27;break;case 16:if(h.prev=16,h.t0=h.catch(9),!(h.t0 instanceof qd)){h.next=22;break}y=h.t0.result,h.next=27;break;case 22:if(!(h.t0 instanceof $d)){h.next=26;break}y=h.t0.result,h.next=27;break;case 26:throw h.t0;case 27:return h.prev=27,a==n.asyncId&&(n.asyncId=o,n.asyncTo=o?u:void 0,n.promise=o?c:void 0),h.finish(27);case 30:return Eh.fun(l)&&ch.batchedUpdates((function(){l(y,r,r.item)})),h.abrupt("return",y);case 32:case"end":return h.stop()}}),h,null,[[9,16,27,30]])})))():c}function Xd(e,t){Ih(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var qd=function(e){wt(n,e);var t=At(n);function n(){var e;return yt(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return _t(n)}(Lt(Error)),$d=function(e){wt(n,e);var t=At(n);function n(){var e;return yt(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return _t(n)}(Lt(Error)),Kd=function(e){return e instanceof Zd},Qd=1,Zd=function(e){wt(n,e);var t=At(n);function n(){var e;yt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=Qd++,e.key=void 0,e._priority=0,e}return _t(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Zf(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gh.to(this,t)}},{key:"interpolate",value:function(){zf();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gh.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Mf(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||Xh.sort(this),Mf(this,{type:"priority",parent:this,priority:e})}}]),n}(Tf),Jd=Symbol.for("SpringPhase"),ep=function(e){return(1&e[Jd])>0},tp=function(e){return(2&e[Jd])>0},np=function(e){return(4&e[Jd])>0},rp=function(e,t){return t?e[Jd]|=3:e[Jd]&=-3},ip=function(e,t){return t?e[Jd]|=4:e[Jd]&=-5},ap=function(e){wt(n,e);var t=At(n);function n(e,r){var i;if(yt(this,n),(i=t.call(this)).key=void 0,i.animation=new Ud,i.queue=void 0,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!Eh.und(e)||!Eh.und(r)){var a=Eh.obj(e)?pd({},e):pd({},r,{from:e});Eh.und(a.default)&&(a.default=!0),i.start(a)}return i}return _t(n,[{key:"idle",get:function(){return!(tp(this)||this._state.asyncTo)||np(this)}},{key:"goal",get:function(){return wf(this.animation.to)}},{key:"velocity",get:function(){var e=Zf(this);return e instanceof nd?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return ep(this)}},{key:"isAnimating",get:function(){return tp(this)}},{key:"isPaused",get:function(){return np(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,s=i.toValues,o=ed(i.to);!o&&xf(i.to)&&(s=Ph(wf(i.to))),i.values.forEach((function(l,u){if(!l.done){var c=l.constructor==rd?1:o?o[u].lastPosition:s[u],h=i.immediate,f=c;if(!h){if(f=l.lastPosition,a.tension<=0)return void(l.done=!0);var d,p=l.elapsedTime+=e,v=i.fromValues[u],m=null!=l.v0?l.v0:l.v0=Eh.arr(a.velocity)?a.velocity[u]:a.velocity,g=a.precision||(v==c?.005:Math.min(1,.001*Math.abs(c-v)));if(Eh.und(a.duration))if(a.decay){var y=!0===a.decay?.998:a.decay,b=Math.exp(-(1-y)*p);f=v+m/(1-y)*(1-b),h=Math.abs(l.lastPosition-f)<=g,d=m*b}else{d=null==l.lastVelocity?m:l.lastVelocity;for(var _=a.restVelocity||g/10,x=a.clamp?0:a.bounce,w=!Eh.und(x),k=v==c?l.v0>0:v<c,M=Math.ceil(e/1),T=0;T<M&&(Math.abs(d)>_||!(h=Math.abs(c-f)<=g));++T){w&&(f==c||f>c==k)&&(d=-d*x,f=c),f+=1*(d+=1*((1e-6*-a.tension*(f-c)+.001*-a.friction*d)/a.mass))}}else{var S=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,l.durationProgress>0&&(l.elapsedTime=a.duration*l.durationProgress,p=l.elapsedTime+=e)),S=(S=(a.progress||0)+p/t._memoizedDuration)>1?1:S<0?0:S,l.durationProgress=S),d=((f=v+a.easing(S)*(c-v))-l.lastPosition)/e,h=1==S}l.lastVelocity=d,Number.isNaN(f)&&(console.warn("Got NaN while animating:",t),h=!0)}o&&!o[u].done&&(h=!1),h?l.done=!0:n=!1,l.setValue(f,a.round)&&(r=!0)}}));var l=Zf(this),u=l.getValue();if(n){var c=wf(i.to);u===c&&!r||a.decay?r&&a.decay&&this._onChange(u):(l.setValue(c),this._onChange(c)),this._stop()}else r&&this._onChange(u)}},{key:"set",value:function(e){var t=this;return ch.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(tp(this)){var t=this.animation,n=t.to,r=t.config;ch.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return Eh.und(e)?(n=this.queue||[],this.queue=[]):n=[Eh.obj(e)?e:pd({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return Gd(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),Xd(this._state,e&&this._lastCallId),ch.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=Eh.obj(n)?n[t]:n)||Sd(n))&&(n=void 0),null==(r=Eh.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!ep(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=wf(r),Eh.und(r)?Zf(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=pd({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,_d(r,(function(e,t){return/^on/.test(t)?gd(e,i):e}))),hp(this,r,"onProps"),fp(this,"onProps",r,this);var s=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var o=this._state;return Vd(++this._lastCallId,{key:i,props:r,defaultProps:a,state:o,actions:{pause:function(){np(n)||(ip(n,!0),Fh(o.pauseQueue),fp(n,"onPause",Wd(n,sp(n,n.animation.to)),n))},resume:function(){np(n)&&(ip(n,!1),tp(n)&&n._resume(),Fh(o.resumeQueue),fp(n,"onResume",Wd(n,sp(n,n.animation.to)),n))},start:this._merge.bind(this,s)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=op(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(Hd(this));var i=!Eh.und(e.to),a=!Eh.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(Hd(this));this._lastToId=t.callId}var s=this.key,o=this.defaultProps,l=this.animation,u=l.to,c=l.from,h=e.to,f=void 0===h?u:h,d=e.from,p=void 0===d?c:d;if(!a||i||t.default&&!Eh.und(f)||(f=p),t.reverse){var v=[p,f];f=v[0],p=v[1]}var m=!Lh(p,c);m&&(l.from=p),p=wf(p);var g=!Lh(f,u);g&&this._focus(f);var y=Sd(t.to),b=l.config,_=b.decay,x=b.velocity;(i||a)&&(b.velocity=0),t.config&&!y&&function(e,t,n){for(var r in n&&(Dd(n=pd({},n),t),t=pd({},n,t)),Dd(e,t),Object.assign(e,t),Fd)null==e[r]&&(e[r]=Fd[r]);var i=e.mass,a=e.frequency,s=e.damping;Eh.und(a)||(a<.01&&(a=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*s*i/a)}(b,vd(t.config,s),t.config!==o.config?vd(o.config,s):void 0);var w=Zf(this);if(!w||Eh.und(f))return n(Wd(this,!0));var k=Eh.und(t.reset)?a&&!t.default:!Eh.und(p)&&md(t.reset,s),M=k?p:this.get(),T=Md(f),S=Eh.num(T)||Eh.arr(T)||Hf(T),A=!y&&(!S||md(o.immediate||t.immediate,s));if(g){var E=ld(f);if(E!==w.constructor){if(!A)throw Error("Cannot animate between ".concat(w.constructor.name," and ").concat(E.name,', as the "to" prop suggests'));w=this._set(T)}}var L=w.constructor,C=xf(f),O=!1;if(!C){var P=k||!ep(this)&&m;(g||P)&&(C=!(O=Lh(Md(M),T))),(Lh(l.immediate,A)||A)&&Lh(b.decay,_)&&Lh(b.velocity,x)||(C=!0)}if(O&&tp(this)&&(l.changed&&!k?C=!0:C||this._stop(u)),!y&&((C||xf(u))&&(l.values=w.getPayload(),l.toValues=xf(f)?null:L==rd?[1]:Ph(T)),l.immediate!=A&&(l.immediate=A,A||k||this._set(u)),C)){var I=l.onRest;Ch(cp,(function(e){return hp(r,t,e)}));var N=Wd(this,sp(this,u));Fh(this._pendingCalls,N),this._pendingCalls.add(n),l.changed&&ch.batchedUpdates((function(){l.changed=!k,null==I||I(N,r),k?vd(o.onRest,N):null==l.onStart||l.onStart(N,r)}))}k&&this._set(M),y?n(Yd(t.to,t,this._state,this)):C?this._start():tp(this)&&!g?this._pendingCalls.add(n):n(zd(M))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(kf(this)&&this._detach(),t.to=e,kf(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;xf(t)&&(Af(t,this),Kd(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;xf(e)&&Ef(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=wf(e);if(!Eh.und(r)){var i=Zf(this);if(!i||!Lh(r,i.getValue())){var a=ld(r);i&&i.constructor==a?i.setValue(r):Jf(this,a.create(r)),i&&ch.batchedUpdates((function(){t._onChange(r,n)}))}}return Zf(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,fp(this,"onStart",Wd(this,sp(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),vd(this.animation.onChange,e,this)),vd(this.defaultProps.onChange,e,this),oh(kt(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;Zf(this).reset(wf(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),tp(this)||(rp(this,!0),np(this)||this._resume())}},{key:"_resume",value:function(){Gh.skipAnimation?this.finish():Xh.start(this)}},{key:"_stop",value:function(e,t){if(tp(this)){rp(this,!1);var n=this.animation;Ch(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Mf(this,{type:"idle",parent:this});var r=t?Hd(this.get()):Wd(this.get(),sp(this,null!=e?e:n.to));Fh(this._pendingCalls,r),n.changed&&(n.changed=!1,fp(this,"onRest",r,this))}}}]),n}(Zd);function sp(e,t){var n=Md(t);return Lh(Md(e.get()),n)}function op(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=vd(t);if(r){var i=!0!==r&&kd(r),a=(i||e).reverse,s=!i||i.reset;return lp(pd({},e,{loop:t,default:!1,pause:void 0,to:!a||Sd(n)?n:void 0,from:s?e.from:void 0,reset:s},i))}}function lp(e){var t=e=kd(e),n=t.to,r=t.from,i=new Set;return Eh.obj(n)&&up(n,i),Eh.obj(r)&&up(r,i),e.keys=i.size?Array.from(i):null,e}function up(e,t){Oh(e,(function(e,n){return null!=e&&t.add(n)}))}var cp=["onStart","onRest","onChange","onPause","onResume"];function hp(e,t,n){e.animation[n]=t[n]!==yd(t,n)?gd(t[n],e.key):void 0}function fp(e,t){for(var n,r,i,a,s,o,l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];null==(i=(a=e.animation)[t])||(n=i).call.apply(n,[a].concat(u)),null==(s=(o=e.defaultProps)[t])||(r=s).call.apply(r,[o].concat(u))}var dp=["onStart","onChange","onRest"],pp=1,vp=function(){function e(t,n){yt(this,e),this.id=pp++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(pd({default:!0},t))}return _t(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];Eh.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(lp(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Ph(e).map(lp):this.queue=[],this._flush?this._flush(this,t):(kp(this,t),mp(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Ch(Ph(t),(function(t){return n[t].stop(!!e)}))}else Xd(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(Eh.und(e))this.start({pause:!0});else{var t=this.springs;Ch(Ph(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(Eh.und(e))this.start({pause:!1});else{var t=this.springs;Ch(Ph(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Oh(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,a=this._active.size>0,s=this._changed.size>0;(a&&!this._started||s&&!this._started)&&(this._started=!0,Ih(n,(function(t){var n=vt(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var o=!a&&this._started,l=s||o&&i.size?this.get():null;s&&r.size&&Ih(r,(function(t){var n=vt(t,2),r=n[0],i=n[1];i.value=l,r(i,e,e._item)})),o&&(this._started=!1,Ih(i,(function(t){var n=vt(t,2),r=n[0],i=n[1];i.value=l,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}ch.onFrame(this._onFrame)}}]),e}();function mp(e,t){return Promise.all(t.map((function(t){return gp(e,t)}))).then((function(t){return Gd(e,t)}))}function gp(e,t,n){return yp.apply(this,arguments)}function yp(){return yp=s(i().mark((function e(t,n,r){var a,s,o,l,u,c,h,f,d,p,v,m,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.keys,s=n.to,o=n.from,l=n.loop,u=n.onRest,c=n.onResolve,h=Eh.obj(n.default)&&n.default,l&&(n.loop=!1),!1===s&&(n.to=null),!1===o&&(n.from=null),(f=Eh.arr(s)||Eh.fun(s)?s:void 0)?(n.to=void 0,n.onRest=void 0,h&&(h.onRest=void 0)):Ch(dp,(function(e){var r=n[e];if(Eh.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},h&&(h[e]=n[e])}})),d=t._state,n.pause===!d.paused?(d.paused=n.pause,Fh(n.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(n.pause=!0),p=(a||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),v=!0===n.cancel||!0===yd(n,"cancel"),(f||v&&d.asyncId)&&p.push(Vd(++t._lastAsyncId,{props:n,state:d,actions:{pause:Ah,resume:Ah,start:function(e,n){v?(Xd(d,t._lastAsyncId),n(Hd(t))):(e.onRest=u,n(Yd(f,e,d,t)))}}})),!d.paused){e.next=15;break}return e.next=15,new Promise((function(e){d.resumeQueue.add(e)}));case 15:return e.t0=Gd,e.t1=t,e.next=19,Promise.all(p);case 19:if(e.t2=e.sent,m=(0,e.t0)(e.t1,e.t2),!l||!m.finished||r&&m.noop){e.next=26;break}if(!(g=op(n,l,s))){e.next=26;break}return kp(t,[g]),e.abrupt("return",gp(t,g,!0));case 26:return c&&ch.batchedUpdates((function(){return c(m,t,t.item)})),e.abrupt("return",m);case 28:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function bp(e,t){var n=pd({},e.springs);return t&&Ch(Ph(t),(function(e){Eh.und(e.keys)&&(e=lp(e)),Eh.obj(e.to)||(e=pd({},e,{to:void 0})),wp(n,e,(function(e){return xp(e)}))})),_p(e,n),n}function _p(e,t){Oh(t,(function(t,n){e.springs[n]||(e.springs[n]=t,Af(t,e))}))}function xp(e,t){var n=new ap;return n.key=e,t&&Af(n,t),n}function wp(e,t,n){t.keys&&Ch(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function kp(e,t){Ch(t,(function(t){wp(e.springs,t,(function(t){return xp(t,e)}))}))}function Mp(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Tp=["children"],Sp=function(e){var t=e.children,n=Mp(e,Tp),r=(0,l.useContext)(Ap),i=n.pause||!!r.pause,a=n.immediate||!!r.immediate;n=function(e,t){var n=vt((0,l.useState)((function(){return{inputs:t,result:e()}})),1)[0],r=(0,l.useRef)(),i=r.current,a=i;if(a){var s=Boolean(t&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.inputs));s||(a={inputs:t,result:e()})}else a=n;return(0,l.useEffect)((function(){r.current=a,i==n&&(n.inputs=n.result=void 0)}),[a]),a.result}((function(){return{pause:i,immediate:a}}),[i,a]);var s=Ap.Provider;return l.createElement(s,{value:n},t)},Ap=function(e,t){return Object.assign(e,l.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}(Sp,{});Sp.Provider=Ap.Provider,Sp.Consumer=Ap.Consumer;var Ep=function(){var e=[],t=function(t){Wf("".concat(Uf,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return Ch(e,(function(e,i){if(Eh.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return Ch(e,(function(e){return e.pause.apply(e,gt(t))})),this},t.resume=function(){var t=arguments;return Ch(e,(function(e){return e.resume.apply(e,gt(t))})),this},t.set=function(t){Ch(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return Ch(e,(function(e,i){if(Eh.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return Ch(e,(function(e){return e.stop.apply(e,gt(t))})),this},t.update=function(t){var n=this;return Ch(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return Eh.fun(e)?e(n,t):e};return t._getProps=n,t};var Lp;function Cp(e,t,n){var r=arguments,i=Eh.fun(t)&&t,a=i?i():t,s=a.reset,o=a.sort,u=a.trail,c=void 0===u?0:u,h=a.expires,f=void 0===h||h,d=a.exitBeforeEnter,p=void 0!==d&&d,v=a.onDestroyed,m=a.ref,g=a.config,y=(0,l.useMemo)((function(){return i||3==r.length?Ep():void 0}),[]),b=Ph(e),_=[],x=(0,l.useRef)(null),w=s?null:x.current;Yf((function(){x.current=_})),qf((function(){return Ch(_,(function(e){null==y||y.add(e.ctrl),e.ctrl.ref=y})),function(){Ch(x.current,(function(e){e.expired&&clearTimeout(e.expirationId),Ad(e.ctrl,y),e.ctrl.stop(!0)}))}}));var k=Pp(b,i?i():t,w),M=s&&x.current||[];Yf((function(){return Ch(M,(function(e){var t=e.ctrl,n=e.item,r=e.key;Ad(t,y),vd(v,n,r)}))}));var T=[];if(w&&Ch(w,(function(e,t){e.expired?(clearTimeout(e.expirationId),M.push(e)):~(t=T[t]=k.indexOf(e.key))&&(_[t]=e)})),Ch(b,(function(e,t){_[t]||(_[t]={key:k[t],item:e,phase:Lp.MOUNT,ctrl:new vp},_[t].ctrl.item=e)})),T.length){var S=-1,A=i?i():t,E=A.leave;Ch(T,(function(e,t){var n=w[t];~e?(S=_.indexOf(n),_[S]=pd({},n,{item:b[e]})):E&&_.splice(++S,0,n)}))}Eh.fun(o)&&_.sort((function(e,t){return o(e.item,t.item)}));var L=-c,C=Xf(),O=_d(t),P=new Map,I=(0,l.useRef)(new Map),N=(0,l.useRef)(!1);Ch(_,(function(e,n){var r,a,s=e.key,o=e.phase,l=i?i():t,u=vd(l.delay||0,s);if(o==Lp.MOUNT)r=l.enter,a=Lp.ENTER;else{var h=k.indexOf(s)<0;if(o!=Lp.LEAVE)if(h)r=l.leave,a=Lp.LEAVE;else{if(!(r=l.update))return;a=Lp.UPDATE}else{if(h)return;r=l.enter,a=Lp.ENTER}}if(r=vd(r,e.item,n),!(r=Eh.obj(r)?kd(r):{to:r}).config){var d=g||O.config;r.config=vd(d,e.item,n,a)}var v=pd({},O,{delay:u+(L+=c),ref:m,immediate:l.immediate,reset:!1},r);if(a==Lp.ENTER&&Eh.und(v.from)){var y=i?i():t,b=Eh.und(y.initial)||w?y.from:y.initial;v.from=vd(b,e.item,n)}var _=v.onResolve;v.onResolve=function(e){vd(_,e);var t=x.current,n=t.find((function(e){return e.key===s}));if(n&&(!e.cancelled||n.phase==Lp.UPDATE)&&n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if(n.phase==Lp.LEAVE){var i=vd(f,n.item);if(!1!==i){var a=!0===i?0:i;if(n.expired=!0,!r&&a>0)return void(a<=2147483647&&(n.expirationId=setTimeout(C,a)))}}r&&t.some((function(e){return e.expired}))&&(I.current.delete(n),p&&(N.current=!0),C())}};var M=bp(e.ctrl,v);a===Lp.LEAVE&&p?I.current.set(e,{phase:a,springs:M,payload:v}):P.set(e,{phase:a,springs:M,payload:v})}));var R=(0,l.useContext)(Sp),F=Kf(R),B=R!==F&&Td(R);Yf((function(){B&&Ch(_,(function(e){e.ctrl.start({default:R})}))}),[R]),Ch(P,(function(e,t){if(I.current.size){var n=_.findIndex((function(e){return e.key===t.key}));_.splice(n,1)}})),Yf((function(){Ch(I.current.size?I.current:P,(function(e,t){var n=e.phase,r=e.payload,i=t.ctrl;t.phase=n,null==y||y.add(i),B&&n==Lp.ENTER&&i.start({default:R}),r&&(Ed(i,r.ref),!i.ref&&!y||N.current?(i.start(r),N.current&&(N.current=!1)):i.update(r))}))}),s?void 0:n);var D=function(e){return l.createElement(l.Fragment,null,_.map((function(t,n){var r=(P.get(t)||t.ctrl).springs,i=e(pd({},r),t.item,t,n);return i&&i.type?l.createElement(i.type,pd({},i.props,{key:Eh.str(t.key)||Eh.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i})))};return y?[D,y]:D}!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Lp||(Lp={}));var Op=1;function Pp(e,t,n){var r=t.key,i=t.keys,a=void 0===i?r:i;if(null===a){var s=new Set;return e.map((function(e){var t=n&&n.find((function(t){return t.item===e&&t.phase!==Lp.LEAVE&&!s.has(t)}));return t?(s.add(t),t.key):Op++}))}return Eh.und(a)?e:Eh.fun(a)?e.map(a):Ph(a)}var Ip=function(e){wt(n,e);var t=At(n);function n(e,r){var i;yt(this,n),(i=t.call(this)).key=void 0,i.idle=!0,i.calc=void 0,i._active=new Set,i.source=e,i.calc=gf.apply(void 0,gt(r));var a=i._get(),s=ld(a);return Jf(Tt(i),s.create(a)),i}return _t(n,[{key:"advance",value:function(e){var t=this._get();Lh(t,this.get())||(Zf(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Rp(this._active)&&Fp(this)}},{key:"_get",value:function(){var e=Eh.arr(this.source)?this.source.map(wf):Ph(wf(this.source));return this.calc.apply(this,gt(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Rp(this._active)&&(this.idle=!1,Ch(ed(this),(function(e){e.done=!1})),Gh.skipAnimation?(ch.batchedUpdates((function(){return e.advance()})),Fp(this)):Xh.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Ch(Ph(this.source),(function(n){xf(n)&&Af(n,e),Kd(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Ch(Ph(this.source),(function(t){xf(t)&&Ef(t,e)})),this._active.clear(),Fp(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Ph(this.source).reduce((function(e,t){return Math.max(e,(Kd(t)?t.priority:0)+1)}),0))}}]),n}(Zd);function Np(e){return!1!==e.idle}function Rp(e){return!e.size||Array.from(e).every(Np)}function Fp(e){e.idle||(e.idle=!0,Ch(ed(e),(function(e){e.done=!0})),Mf(e,{type:"idle",parent:e}))}Gh.assign({createStringInterpolator:jf,to:function(e,t){return new Ip(e,t)}});Xh.advance;function Bp(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Dp=["style","children","scrollTop","scrollLeft"],jp=/^--/;function Up(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||jp.test(e)||Gp.hasOwnProperty(e)&&Gp[e]?(""+t).trim():t+"px"}var Vp={};var Gp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zp=["Webkit","Ms","Moz","O"];Gp=Object.keys(Gp).reduce((function(e,t){return zp.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),Gp);var Wp=["x","y","z"],Hp=/^(matrix|translate|scale|rotate|skew)/,Yp=/^(translate)/,Xp=/^(rotate|skew)/,qp=function(e,t){return Eh.num(e)&&0!==e?e+t:e},$p=function e(t,n){return Eh.arr(t)?t.every((function(t){return e(t,n)})):Eh.num(t)?t===n:parseFloat(t)===n},Kp=function(e){wt(n,e);var t=At(n);function n(e){yt(this,n);var r=e.x,i=e.y,a=e.z,s=Bp(e,Wp),o=[],l=[];return(r||i||a)&&(o.push([r||0,i||0,a||0]),l.push((function(e){return["translate3d(".concat(e.map((function(e){return qp(e,"px")})).join(","),")"),$p(e,0)]}))),Oh(s,(function(e,t){if("transform"===t)o.push([e||""]),l.push((function(e){return[e,""===e]}));else if(Hp.test(t)){if(delete s[t],Eh.und(e))return;var n=Yp.test(t)?"px":Xp.test(t)?"deg":"";o.push(Ph(e)),l.push("rotate3d"===t?function(e){var t=vt(e,4),r=t[0],i=t[1],a=t[2],s=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(a,",").concat(qp(s,n),")"),$p(s,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return qp(e,n)})).join(","),")"),$p(e,t.startsWith("scale")?1:0)]})}})),o.length&&(s.transform=new Qp(o,l)),t.call(this,s)}return _t(n)}(ad),Qp=function(e){wt(n,e);var t=At(n);function n(e,r){var i;return yt(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return _t(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Ch(this.inputs,(function(r,i){var a=wf(r[0]),s=vt(e.transforms[i](Eh.arr(a)?a:r.map(wf)),2),o=s[0],l=s[1];t+=" "+o,n=n&&l})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&Ch(this.inputs,(function(e){return Ch(e,(function(e){return xf(e)&&Af(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&Ch(this.inputs,(function(e){return Ch(e,(function(e){return xf(e)&&Ef(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),Mf(this,e)}}]),n}(Tf),Zp=["scrollTop","scrollLeft"];Gh.assign({batchedUpdates:ar.unstable_batchedUpdates,createStringInterpolator:jf,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Jp,ev,tv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new ad(e)}:i,s=t.getComponentProps,o=void 0===s?function(e){return e}:s,l={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:o},u=function e(t){var n=dd(t)||"Anonymous";return(t=Eh.str(t)?e[t]||(e[t]=cd(t,l)):t[fd]||(t[fd]=cd(t,l))).displayName="Animated(".concat(n,")"),t};return Oh(e,(function(t,n){Eh.arr(e)&&(n=dd(t)),u[n]=u(t)})),{animated:u}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,a=r.children,s=r.scrollTop,o=r.scrollLeft,l=Bp(r,Dp),u=Object.values(l),c=Object.keys(l).map((function(t){return n||e.hasAttribute(t)?t:Vp[t]||(Vp[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var h in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(h)){var f=Up(h,i[h]);jp.test(h)?e.style.setProperty(h,f):e.style[h]=f}c.forEach((function(t,n){e.setAttribute(t,u[n])})),void 0!==s&&(e.scrollTop=s),void 0!==o&&(e.scrollLeft=o)},createAnimatedStyle:function(e){return new Kp(e)},getComponentProps:function(e){return Bp(e,Zp)}}),nv=tv.animated,rv=n(4384),iv=n.n(rv),av="topBar_container__8pk2x",sv="topBar_contentWrapper__sGpq4",ov="topBar_content__uzje9",lv="topBar_timer__KH6R1",uv="topBar_scoreWrapper__UhYfq",cv="topBar_score__lywmF",hv="topBar_scoreProgress__OUMqV",fv="topBar_progressMilestones__WeQJF",dv="topBar_milestone__lNOVN",pv="topBar_progressBarWrapper__CdivR",vv="topBar_progressBar__YBi+p",mv="topBar_chestWrapper__dn1pU",gv=function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.round(e%60);return[t,n>9?n:"0"+n,r>9?r:"0"+r].filter(Boolean).join(":")},yv=function(e){var t=e.duration,n=vt((0,l.useState)({isPaused:!0,timeLeft:t,elapsed:t}),2),r=n[0],i=n[1],a=vt((0,l.useState)(),2),s=a[0],o=a[1],u=(0,l.useCallback)((function(){var e=setInterval((function(){i((function(t){var n,r=f({},t);return r.isPaused||(r.timeLeft=Math.max(0,r.timeLeft-1),r.timeLeft<10&&(null===(n=nr.loadedSounds[zn.TIME_LEFT_10S])||void 0===n||!n.playing())&&nr.play(zn.TIME_LEFT_10S),r.timeLeft<=0&&(nr.stop(zn.TIME_LEFT_10S),clearInterval(e))),r}))}),1e3);return e}),[]);return(0,l.useEffect)((function(){return function(){nr.stop(zn.TIME_LEFT_10S),s&&clearInterval(s)}}),[s]),(0,l.useEffect)((function(){o(u())}),[u]),(0,l.useEffect)((function(){var e=function(){i((function(e){var t=f({},e);return t.isPaused=!1,t}))},n=function(){i((function(e){var t=f({},e);return t.isPaused=!0,t.elapsed=t.timeLeft,t}))},r=function(){i((function(e){var t=f({},e);return t.isPaused=!1,t.timeLeft=t.elapsed,t}))},a=function(){i((function(e){var n=f({},e);return n.isPaused=!0,n.timeLeft=t,n.elapsed=t,n})),o((function(e){return nr.stop(zn.TIME_LEFT_10S),clearInterval(e),u()}))};return ja.addListener(Ms,e),ja.addListener(Ts,n),ja.addListener(Ss,r),ja.addListener(Ps,a),function(){ja.removeListener(Ms,e),ja.removeListener(Ts,n),ja.removeListener(Ss,r),ja.removeListener(Ps,a)}}),[t,u]),(0,rr.jsx)("span",{children:gv(r.timeLeft)})},bv=(0,l.memo)(yv),_v=iv()(.61,.16,.24,1.53),xv=function(e){var t=e.chest,n=e.score,r=(e.started,Cp(t,{config:{duration:400,easing:function(e){return _v(e)}},from:{opacity:.2,transform:"scaleX(0.3) scaleY(0.3)"},enter:{opacity:1,transform:"scaleX(1) scaleY(1)"}}));return(0,rr.jsx)("div",{className:av,children:(0,rr.jsx)("div",{className:sv,children:(0,rr.jsxs)("div",{className:ov,style:{backgroundImage:"url(".concat(wv(t),")")},children:[(0,rr.jsx)("div",{className:lv,style:{backgroundImage:"url(".concat("../../assets/ingame-ui/timer_bd.png",")")},children:(0,rr.jsx)(bv,{duration:30})}),(0,rr.jsxs)("div",{className:uv,children:[(0,rr.jsxs)("div",{className:Xn()(cv,"sg-regular"),children:["\u0110i\u1ec3m c\u1ee7a b\u1ea1n: ",(0,rr.jsx)("span",{className:"sg-bold",children:n})]}),(0,rr.jsxs)("div",{className:hv,children:[(0,rr.jsx)("div",{className:fv,children:ys.map((function(e,t){return(0,rr.jsx)("div",{className:Xn()(dv,"sg-bold"),style:{left:"calc(var(--progress-bar-width) * ".concat(Math.min(1,e/ys[ys.length-1]),")")},children:e},"score_ms_".concat(t))}))}),(0,rr.jsx)("div",{className:pv,style:{backgroundColor:Mv(t)},children:(0,rr.jsx)("div",{className:vv,style:{backgroundColor:Tv(t),width:"calc(var(--progress-bar-width) * ".concat(Math.min(1,n/ys[ys.length-1]),")")}})})]})]}),t!==Wa.NULL&&r((function(e,n){return n?(0,rr.jsxs)(nv.div,{className:mv,style:e,children:[(0,rr.jsx)("img",{src:kv(t),alt:""}),(0,rr.jsxs)("span",{className:"sg-bold",style:{color:Tv(t)},children:["R\u01b0\u01a1ng",(0,rr.jsx)("br",{}),Fs[t]]})]}):null}))]})})})},wv=function(e){switch(e){case Wa.NULL:return"../../assets/ingame-ui/null_banner.png";case Wa.AM_NO:return"../../assets/ingame-ui/amno_banner.png";case Wa.SUNG_TUC:return"../../assets/ingame-ui/sungtuc_banner.png";case Wa.THINH_VUONG:return"../../assets/ingame-ui/thinhvuong_banner.png"}},kv=function(e){switch(e){case Wa.AM_NO:return"../../assets/ingame-ui/amno_chest.png";case Wa.SUNG_TUC:return"../../assets/ingame-ui/sungtuc_chest.png";case Wa.THINH_VUONG:return"../../assets/ingame-ui/thinhvuong_chest.png"}},Mv=function(e){return e===Wa.SUNG_TUC?"#158A5A":e===Wa.THINH_VUONG?"#B1141A":"#7FA5B8"},Tv=function(e){return e===Wa.THINH_VUONG?"#FFFFFF":"#000072"},Sv="bottomBar_container__jZrRp",Av="bottomBar_contentWrapper__Xy+ja",Ev="bottomBar_content__wtu-N",Lv="bottomBar_homeButton__Zbq8r",Cv="bottomBar_homeButtonPlaceholder__NojUm",Ov="bottomBar_turnWrapper__tbvYi",Pv=function(e){var t=e.uiState,n=Tn(),r=vt(Ka(),1)[0],i=(0,l.useCallback)((function(){n("/home",{replace:!0})}),[n]);return(0,rr.jsx)("div",{className:Sv,children:(0,rr.jsx)("div",{className:Av,children:(0,rr.jsxs)("div",{className:Ev,children:[t===Vs.READY_TO_PLAY?(0,rr.jsx)(ir,{title:"Home",onClick:i,children:(0,rr.jsx)("div",{className:Lv,style:{backgroundImage:"url(".concat("../../assets/ingame-ui/home_button.png",")")}})}):(0,rr.jsx)("div",{className:Cv}),(0,rr.jsxs)("div",{className:Ov,children:[(0,rr.jsx)("img",{src:"../../assets/ingame-ui/ticket.png",alt:""}),(0,rr.jsxs)("span",{className:"sg-bold",children:[(null===r||void 0===r?void 0:r.ticketCount)||0," ",(0,rr.jsx)("span",{className:"sg-regular",children:"Th\u1ebb M\xe8o"})]})]})]})})})},Iv="zoomOverlay_container__A7MLa",Nv="zoomOverlay_hide__0CQOM",Rv="zoomOverlay_show__MuSqG",Fv="zoomOverlay_quote__Tdb-u",Bv=function(){var e=vt((0,l.useState)(!1),2),t=e[0],n=e[1],r=vt((0,l.useState)(!1),2),i=r[0],a=r[1],s=Cp(i,{config:{duration:300},from:{opacity:0},enter:{opacity:1}});return(0,l.useEffect)((function(){var e=function(){n(!0),setTimeout((function(){a(!0)}),100)},t=function(){n(!1),a(!1)};return ja.addListener(As,e),ja.addListener(Es,t),function(){ja.removeListener(As,e),ja.removeListener(Es,t)}}),[]),(0,rr.jsx)("div",{className:Xn()(Iv,!t&&Nv,t&&Rv),children:s((function(e,t){return t?(0,rr.jsxs)(nv.div,{className:Xn()(Fv,"sg-bold"),style:e,children:["Ch\xfac b\u1ea1n ti\u1ec1n v\xe0o c\u1eeda tr\u01b0\u1edbc,",(0,rr.jsx)("br",{}),"ti\u1ec1n l\u1ebbn c\u1eeda sau, hai c\xe1i va v\xe0o",(0,rr.jsx)("br",{}),"nhau bay v\xe0o k\xe9t s\u1eaft!"]}):null}))})},Dv="ingameFtueModal_container__oR12z",jv="ingameFtueModal_hide__Fi+iJ",Uv="ingameFtueModal_show__Ew7HW",Vv="ingameFtueModal_content__b9j4r",Gv="ingameFtueModal_quote1__gwKJU",zv="ingameFtueModal_demoCat__C-mqw",Wv="ingameFtueModal_demoTopBar__UIvun",Hv="ingameFtueModal_quote2__k+YQ+",Yv="ingameFtueModal_page3Container__6Ea2O",Xv="ingameFtueModal_page3Content__oT3tp",qv="ingameFtueModal_quote3__9RzSZ",$v="ingameFtueModal_vplogo__j-iPK",Kv="ingameFtueModal_actionButton__IeSAJ",Qv="ingameFtueModal_exitButton__GVW7j",Zv="ingameFtueModal_continueButton__OFUxb",Jv=function(){var e=vt((0,l.useState)(!1),2),t=e[0],n=e[1],r=vt((0,l.useState)(0),2),i=r[0],a=r[1],s=vt((0,l.useState)(!0),2),o=s[0],u=s[1];(0,l.useEffect)((function(){var e=function(e){var t=e.showActionButton;n(!0),u(t)};return ja.addListener(Ls,e),function(){ja.removeListener(Ls,e)}}),[]);var c=(0,l.useCallback)((function(){a(0),n(!1),u(!0),ja.emit(Cs)}),[]),h=(0,l.useCallback)((function(){}),[]),f=(0,l.useMemo)((function(){return 0===i?(0,rr.jsxs)("div",{className:Vv,children:[(0,rr.jsxs)("div",{className:Xn()(Gv,"sg-regular"),onClick:function(){return a((function(e){return e+1}))},children:[(0,rr.jsxs)("span",{children:["Tay c\u1ee7a M\xe8o Fast L\u1ed9c s\u1ebd ch\u1ec9 h\u01b0\u1edbng b\u1eafn",(0,rr.jsx)("br",{}),"l\xec x\xec cho b\u1ea1n. Khi b\u1eafn l\xec x\xec tr\xfang m\u1ee5c ti\xeau,",(0,rr.jsx)("br",{}),"b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c c\u1ed9ng \u0111i\u1ec3m"]}),(0,rr.jsx)("span",{className:"sg-bold",children:"Ch\u1ea1m v\xe0o \u0111\u1ec3 ti\u1ebfp t\u1ee5c"})]}),(0,rr.jsx)("img",{className:zv,src:"../../assets/ingame-ui/demo_cat.png",alt:""})]}):1===i?(0,rr.jsxs)("div",{className:Vv,children:[(0,rr.jsx)("img",{className:Wv,src:"../../assets/ingame-ui/demo_topbar.png",alt:""}),(0,rr.jsxs)("div",{className:Xn()(Hv,"sg-regular"),onClick:function(){return a((function(e){return e+1}))},children:[(0,rr.jsxs)("span",{children:["\u0110i\u1ec3m \u0111\u01b0\u1ee3c t\xednh khi ph\xe1t l\xec x\xec th\xe0nh c\xf4ng.",(0,rr.jsx)("br",{}),"C\xe1c m\u1ee9c \u0111i\u1ec3m g\u1ed3m ",(0,rr.jsx)("span",{className:"sg-bold",children:"10 \u0111i\u1ec3m"}),","," ",(0,rr.jsx)("span",{className:"sg-bold",children:"30 \u0111i\u1ec3m"})," v\xe0",(0,rr.jsx)("br",{}),(0,rr.jsx)("span",{className:"sg-bold",children:"50 \u0111i\u1ec3m"})," tu\u1ef3 theo v\u1ecb tr\xed xa - g\u1ea7n c\u1ee7a t\u1eebng",(0,rr.jsx)("br",{}),"nh\xe2n v\u1eadt \u0111\u01b0\u1ee3c nh\u1eadn l\xec x\xec.",(0,rr.jsx)("br",{}),"T\xedch lu\u1ef9 \u0111i\u1ec3m c\xe0ng cao s\u1ebd nh\u1eadn r\u01b0\u01a1ng qu\xe0",(0,rr.jsx)("br",{}),"c\xe0ng gi\xe1 tr\u1ecb."]}),(0,rr.jsx)("span",{className:"sg-bold",children:"Ch\u1ea1m v\xe0o \u0111\u1ec3 ti\u1ebfp t\u1ee5c"})]})]}):2===i?(0,rr.jsx)("div",{className:Vv,children:(0,rr.jsx)("div",{className:Yv,children:(0,rr.jsxs)("div",{className:Xv,children:[(0,rr.jsx)("div",{className:Xn()(qv,"sg-regular"),children:(0,rr.jsxs)("span",{children:["Khi tham gia ph\xe1t l\xec x\xec c\xf9ng M\xe8o Fast L\u1ed9c,",(0,rr.jsx)("br",{}),"h\xe3y s\u01b0u t\u1ea7m c\xe1c m\u1ea3nh gh\xe9p c\u1ee7a hoa",(0,rr.jsx)("br",{}),"Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t \u0111\u1ec3 c\xf3 c\u01a1 h\u1ed9i s\u1edf h\u1eefu s\u1ed5",(0,rr.jsx)("br",{}),"ti\u1ebft ki\u1ec7m tr\u1ecb gi\xe1 ",(0,rr.jsx)("span",{children:"123,456,789 VN\u0110."})]})}),(0,rr.jsx)("img",{className:$v,src:"../../assets/ingame-ui/demo_vplogo.png",alt:""}),o&&(0,rr.jsx)(ir,{title:"explorer",customStyle:{marginTop:"6%"},onClick:h,children:(0,rr.jsx)("div",{className:Kv,style:{backgroundImage:"url(".concat("../../assets/ingame-ui/explorer_button.png",")")}})}),o&&(0,rr.jsx)(ir,{title:"playnow",customStyle:{marginTop:"2%"},onClick:c,children:(0,rr.jsx)("div",{className:Kv,style:{backgroundImage:"url(".concat("../../assets/ingame-ui/playnow_button.png",")")}})}),!o&&(0,rr.jsx)(ir,{title:"continue",customStyle:{marginTop:"20%"},onClick:c,children:(0,rr.jsx)("div",{className:Xn()(Zv,"sg-bold"),style:{backgroundImage:"url(".concat("../../assets/ui/primary_btn.png",")")},children:"Ti\u1ebfp t\u1ee5c"})}),(0,rr.jsx)(ir,{title:"exit",customStyle:{position:"absolute",bottom:"-18%"},onClick:c,children:(0,rr.jsx)("div",{className:Qv,style:{backgroundImage:"url(".concat("../../assets/ui/exit_button.png",")")}})})]})})}):null}),[c,h,i]);return(0,rr.jsx)("div",{className:Xn()(Dv,!t&&jv,t&&Uv),children:f})},em="questionButton_button__DpxcA",tm=function(){var e=(0,l.useCallback)((function(){ja.emit(Ls,{showActionButton:!1})}),[]);return(0,rr.jsx)(ir,{title:"question",onClick:e,customStyle:{position:"absolute",left:"calc(var(--ingame-width) - var(--ingame-width) * 0.1)",top:"calc(var(--ingame-width) * 0.23)"},children:(0,rr.jsx)("div",{className:em,style:{backgroundImage:"url(".concat("../../assets/ingame-ui/question_button.png",")")}})})},nm="remindModal_container__I2Bgv",rm="remindModal_hide__k3Kyt",im="remindModal_show__4vEGa",am=function(){var e=vt((0,l.useState)(!0),2),t=e[0],n=e[1];return(0,l.useEffect)((function(){var e=function(){n(!1)};return ja.addListener(Os,e),function(){ja.removeListener(Os,e)}}),[]),(0,rr.jsxs)("div",{className:Xn()(nm,!t&&rm,t&&im,"sg-medium"),style:{backgroundImage:"url(".concat("../../assets/ingame-ui/remind_bd.png",")")},children:["Click v\xe0o m\xecnh v\xe0",(0,rr.jsx)("br",{}),"ph\xe1t l\xec x\xec cho \xedt nh\u1ea5t",(0,rr.jsx)("br",{}),"1 ng\u01b0\u1eddi \u0111\u1ec3 nh\u1eadn",(0,rr.jsx)("br",{}),"\u0111\u01b0\u1ee3c qu\xe0 nh\xe9"]})},sm=(c(Jp={},Wa.NULL,{name:"R\u01b0\u01a1ng",chestImage:"",theme:""}),c(Jp,Wa.AM_NO,{name:"R\u01b0\u01a1ng \u1ea4m No",chestImage:"../../assets/ingame-ui/amno_chest.png",theme:"#9FD1D8"}),c(Jp,Wa.SUNG_TUC,{name:"R\u01b0\u01a1ng Sung T\xfac",chestImage:"../../assets/ingame-ui/sungtuc_chest.png",theme:"#00AF4C"}),c(Jp,Wa.THINH_VUONG,{name:"R\u01b0\u01a1ng Th\u1ecbnh V\u01b0\u1ee3ng",chestImage:"../../assets/ingame-ui/thinhvuong_chest.png",theme:"#F83A41"}),Jp),om="chestModal_container__ZehqM",lm="chestModal_hide__f0DM2",um="chestModal_content__SdF6e",cm="chestModal_text1__tY2XG",hm="chestModal_text2__EKGMj",fm="chestModal_text3__xiUBJ",dm="chestModal_chestWrapper__a1Ztz",pm="chestModal_chestGlow__K5oP+",vm="chestModal_chest__cCavi",mm="chestModal_text4__ND8nx",gm=function(e){var t=e.visible,n=e.chestInfo,r=e.onDimiss,i=vt((0,l.useState)(),2),a=i[0],s=i[1],o=vt((0,l.useState)(0),2),u=o[0],c=o[1];(0,l.useEffect)((function(){t||(c(0),s(void 0))}),[t]),(0,l.useEffect)((function(){return function(){nr.stop(zn.SHOW_CHEST),a&&clearInterval(a)}}),[a]),(0,l.useEffect)((function(){n.score>0&&s((function(e){nr.play(zn.SHOW_CHEST),e&&clearInterval(e);var t=setInterval((function(){c((function(e){var r=e+n.score/200;return r>=n.score&&(r=n.score,clearInterval(t),nr.stop(zn.SHOW_CHEST)),r}))}),n.score/2e3);return t}))}),[n]);var h=Cp(t,{config:{duration:200},from:{opacity:.2,transform:"scaleX(0.2) scaleY(0.2)"},enter:{opacity:1,transform:"scaleX(1) scaleY(1)"}}),f=(0,l.useCallback)((function(){n.chestType!==Wa.NULL?ja.emit(Ns,{chest:n.chestType}):ja.emit(Ps),r()}),[n.chestType,r]);return(0,rr.jsx)("div",{className:Xn()(om,!t&&lm),children:h((function(e,t){return t?(0,rr.jsxs)(nv.div,{className:Xn()(um,"sg-bold"),style:e,children:[(0,rr.jsx)("div",{className:cm,children:"\u0110i\u1ec3m c\u1ee7a b\u1ea1n"}),(0,rr.jsx)("div",{className:hm,children:(r=Math.round(u),r.toString().replace(/./g,(function(e,t,n){return t>0&&"."!==e&&(n.length-t)%3===0?","+e:e})))}),(0,rr.jsxs)("div",{className:fm,children:["Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 nh\u1eadn",(0,rr.jsx)("br",{}),"\u0111\u01b0\u1ee3c 1 ",sm[n.chestType].name]}),(0,rr.jsxs)("div",{className:dm,onClick:f,children:[(0,rr.jsx)("img",{src:"../../assets/ingame-ui/chest_glow.png",alt:"",className:pm}),(0,rr.jsx)("img",{src:sm[n.chestType].chestImage,alt:"",className:vm})]}),(0,rr.jsxs)("div",{className:mm,style:{color:sm[n.chestType].theme},children:["Ch\u1ea1m \u0111\u1ec3 m\u1edf qu\xe0 c\u1ee7a",(0,rr.jsx)("br",{}),"M\xe8o Fast L\u1ed9c n\xe0o!"]})]}):null;var r}))})},ym=function(e){var t=e.uiState,n=e.gameStarted,r=e.viewport,i=function(){var e=vt((0,l.useState)({width:0,height:0}),2),t=e[0],n=e[1];return(0,l.useEffect)((function(){var e=function(){var e=window.innerWidth,t=window.innerHeight;n({width:e,height:t})};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]),[t]}(),a=vt(i,1)[0],s=vt((0,l.useState)(Wa.NULL),2),o=s[0],u=s[1],c=vt((0,l.useState)(0),2),h=c[0],f=c[1],d=vt((0,l.useState)({visible:!1,chestInfo:{chestType:Wa.NULL,score:0}}),2),p=d[0],v=d[1];(0,l.useEffect)((function(){var e=function(e){var t=e.score,n=e.chest;f(t),u(n)},t=function(){f(0),u(Wa.NULL)};return ja.addListener(Ps,t),ja.addListener(ks,e),function(){ja.removeListener(Ps,t),ja.removeListener(ks,e)}}),[]),(0,l.useEffect)((function(){var e=function(){v({visible:!0,chestInfo:{score:h,chestType:o}})};return ja.addListener(Is,e),function(){ja.removeListener(Is,e)}}),[o,h]);var m=(0,l.useMemo)((function(){var e=null===r||void 0===r?void 0:r.getViewportInfo();if(e){var t,n,i=ss.WORLD_WIDTH/ss.WORLD_HEIGHT;i<e.width/e.height?(n=e.height,t=e.height*i):(t=e.width,n=e.width/i);var a=(e.width-t)/2,s=(e.height-n)/2,o=Math.min(2,window.devicePixelRatio)||window.devicePixelRatio||1;return{x:a/o,y:s/o}}return{x:0,y:0}}),[r,a]),g={marginLeft:m.x,marginTop:m.y};return(0,rr.jsxs)("div",{className:Xn()(rh,"noselect"),children:[(0,rr.jsxs)("div",{className:Xn()(ah,t===Vs.LOADING&&ih),style:g,children:[t!==Vs.ENDED&&(0,rr.jsx)(xv,{started:n,chest:o,score:h}),t!==Vs.ENDED&&(0,rr.jsx)(tm,{}),t===Vs.PLAYING&&(0,rr.jsx)(am,{}),t!==Vs.ENDED&&(0,rr.jsx)(Pv,{uiState:t})]}),(0,rr.jsx)(Bv,{}),(0,rr.jsx)(Jv,{}),(0,rr.jsx)(gm,{visible:p.visible,chestInfo:p.chestInfo,onDimiss:function(){v((function(e){return{visible:!1,chestInfo:{score:0,chestType:Wa.NULL}}}))}})]})},bm=[{text1:"Tadaa b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c m\u1ed9t l\u1eddi ch\xfac",text2:"Ch\xfac b\u1ea1n 12 th\xe1ng ph\xfa qu\xfd,\n365 ng\xe0y ph\xe1t t\xe0i, 8.760 gi\u1edd sung t\xfac,\n525.600 ph\xfat th\xe0nh c\xf4ng\nv\xe0 31.536.000 gi\xe2y h\u1ea1nh ph\xfac."},{text1:"Nh\xe2n d\u1ecbp n\u0103m c\u1ee7a m\xecnh,\nM\xe8o L\u1ed9c Fast t\u1eb7ng b\u1ea1n c\xe2u ch\xfac",text2:"Ch\xfac b\u1ea1n B\u1ea7u tr\u1eddi S\u1ee9c kh\u1ecfe,\nBi\u1ec3n c\u1ea3 T\xecnh th\u01b0\u01a1ng,\n\u0110\u1ea1i d\u01b0\u01a1ng T\xecnh b\u1ea1n."},{text1:"T\u1ebft t\u1ebft t\u1ebft t\u1ebft \u0111\u1ebfn r\u1ed3i, ch\xfac m\u1eebng\nb\u1ea1n \u0111\xe3 nh\u1eadn \u0111\u01b0\u1ee3c m\u1ed9t l\u1eddi ch\xfac\nn\u0103m m\u1edbi",text2:"N\u0103m h\u1ebft T\u1ebft \u0111\u1ebfn,\n\u0110\u1ea1i l\u1ed9c x\u1ed3ng x\u1ed9c v\xe0o nh\xe0"},{text1:"Meow...meow...\nT\u1ebft \u0111\u1ebfn xu\xe2n v\u1ec1, M\xe8o Fast L\u1ed9c\nm\u1ebfn ch\xfac",text2:"Ch\xfac b\u1ea1n Ph\xe1t T\xe0i,\nSum V\u1ea7y H\u1ea1nh Ph\xfac"},{text1:"\xda o\xe0, qu\xe0 t\u1eb7ng c\u1ee7a b\u1ea1n l\xe0 m\u1ed9t\nl\u1eddi ch\xfac",text2:"N\u0103m c\u0169 qua \u0111i\nN\u0103m m\u1edbi \u0111\xe3 t\u1edbi\nS\u1ef1 nghi\u1ec7p s\xe1ng ng\u1eddi\nGia \u0111\xecnh Th\u1ecbnh V\u01b0\u1ee3ng"},{text1:"Th\u1eadt b\u1ea5t ng\u1edd, trong r\u01b0\u01a1ng n\xe0y\nc\xf3 m\u1ed9t l\u1eddi ch\xfac",text2:"Ch\xfac b\u1ea1n V\xe0ng B\u1ea1c \u0110\u1ea7y T\u1ee7,\nC\u1ea3 N\u0103m No \u0110\u1ee7"}],_m="luckyWishModal_container__Qn55n",xm="luckyWishModal_headerImage__snu7L",wm="luckyWishModal_info__17hFz",km="luckyWishModal_text1__1IedW",Mm="luckyWishModal_text2__65l-s",Tm="luckyWishModal_actionRow__Ml5J6",Sm="luckyWishModal_actionButton__lTj2L",Am="luckyWishModal_exitButton__wC0xD",Em=function(e){var t=e.chest,n=e.visible,r=e.onDismiss,i=vt((0,l.useState)(""),2),a=i[0],s=i[1],o=vt((0,l.useState)(""),2),u=o[0],c=o[1];(0,l.useEffect)((function(){if(n){var e=wc(bm);s(e.text1),c(e.text2),setTimeout((function(){nr.play(zn.LUCKY_WISH)}),100)}}),[n]);var h=(0,l.useCallback)((function(){r(),ja.emit(Ps)}),[r]);return(0,rr.jsx)(Tr,{visible:n,onDismiss:h,children:(0,rr.jsxs)("div",{className:_m,style:{backgroundImage:"url(".concat("../../assets/ui/lucky_wish_bd.png",")")},children:[(0,rr.jsx)("img",{src:Lm[t],alt:"",className:xm}),(0,rr.jsxs)("div",{className:wm,children:[(0,rr.jsx)("div",{className:Xn()(km,"sg-regular"),children:a}),(0,rr.jsx)("div",{className:Xn()(Mm,"sg-semibold"),children:u})]}),(0,rr.jsx)("div",{className:Tm,children:(0,rr.jsx)(ir,{title:"mission",onClick:h,customStyle:{position:"absolute",bottom:"20%"},children:(0,rr.jsx)("div",{className:Xn()(Sm,"sg-bold"),style:{backgroundImage:"url(".concat("../../assets/ui/primary_btn.png",")")},children:"Ch\u01a1i ti\u1ebfp"})})}),(0,rr.jsx)(ir,{title:"exit",customStyle:{position:"absolute",bottom:"-10%"},onClick:h,children:(0,rr.jsx)("div",{className:Am,style:{backgroundImage:"url(".concat("../../assets/ui/exit_button.png",")")}})})]})})},Lm=(c(ev={},Wa.NULL,"../../assets/ui/blue_chest_deco.png"),c(ev,Wa.AM_NO,"../../assets/ui/blue_chest_deco.png"),c(ev,Wa.SUNG_TUC,"../../assets/ui/green_chest_deco.png"),c(ev,Wa.THINH_VUONG,"../../assets/ui/red_chest_deco.png"),ev),Cm="outOfTicketModal_container__5ZXY9",Om="outOfTicketModal_info__VtKla",Pm="outOfTicketModal_title__uNkKn",Im="outOfTicketModal_subTitle__W2Ttx",Nm="outOfTicketModal_banner__YUyGH",Rm="outOfTicketModal_actionRow__PB96W",Fm="outOfTicketModal_actionButton__NaYqu",Bm="outOfTicketModal_exitButton__reGVp",Dm=function(e){var t=e.visible,n=e.onDismiss,r=Tn();return(0,rr.jsx)(Tr,{visible:t,onDismiss:n,children:(0,rr.jsxs)("div",{className:Cm,style:{backgroundImage:"url(".concat("../../assets/ui/modal_bd_1.png",")")},children:[(0,rr.jsxs)("div",{className:Om,children:[(0,rr.jsx)("div",{className:Xn()(Pm,"sg-bold"),children:"\u1ed0 \u1ed3, b\u1ea1n \u0111\xe3 h\u1ebft l\u01b0\u1ee3t ch\u01a1i r\u1ed3i!"}),(0,rr.jsxs)("div",{className:Xn()(Im,"sg-regular"),children:["C\xf9ng m\xecnh l\xe0m nhi\u1ec7m v\u1ee5 \u0111\u1ec3 c\xf3 th\xeam",(0,rr.jsx)("br",{}),"nhi\u1ec1u l\u01b0\u1ee3t n\u1eefa n\xe0o!"]}),(0,rr.jsx)("img",{className:Nm,src:"../../assets/ui/banner_deco_2.png",alt:""})]}),(0,rr.jsxs)("div",{className:Rm,children:[(0,rr.jsx)(ir,{title:"home",onClick:function(){r("/home",{replace:!0})},children:(0,rr.jsx)("div",{className:Xn()(Fm,"sg-bold"),style:{backgroundImage:"url(".concat("../../assets/ui/blue_button.png",")")},children:"Home"})}),(0,rr.jsx)(ir,{title:"mission",onClick:function(){r("/mission",{replace:!0})},children:(0,rr.jsx)("div",{className:Xn()(Fm,"sg-bold"),style:{backgroundImage:"url(".concat("../../assets/ui/primary_btn.png",")")},children:"Nhi\u1ec7m v\u1ee5"})})]}),(0,rr.jsx)(ir,{title:"exit",customStyle:{position:"absolute",bottom:"-12%"},onClick:n,children:(0,rr.jsx)("div",{className:Bm,style:{backgroundImage:"url(".concat("../../assets/ui/exit_button.png",")")}})})]})})},jm="rewardModal_container__7lAFd",Um="rewardModal_headerImage__-Rtt5",Vm="rewardModal_content__TIrG3",Gm="rewardModal_info__od+hd",zm="rewardModal_actionRow__7YCqO",Wm="rewardModal_actionButton__CE2s+",Hm="rewardModal_exitButton__dhObj",Ym="rewardModal_contentWrapper__kIQTm",Xm="rewardModal_logoWrapper__GXt8I",qm="rewardModal_rewardText__BcZbH",$m="rewardModal_subText__0N8Gb",Km="rewardModal_contentWrapper2__zZLpl",Qm="rewardModal_logoWrapper2__jnUWc",Zm="rewardModal_vpPieces__C9yu5",Jm="rewardModal_vpPieces2__khVF5",eg="rewardModal_piece__hl0UZ",tg="rewardModal_rewardText2__kocM+",ng="assets/ui/top_right_piece_2.png",rg="assets/ui/bottom_left_peace_2.png",ig="assets/ui/top_left_piece_2.png",ag="assets/ui/bottom_right_piece_2.png",sg=function(e){var t=e.visible,n=e.reward,r=e.onDismiss,i=Tn(),a=(0,l.useMemo)((function(){return!(!n||"phat-4"!==n.type)}),[n]),s=(0,l.useCallback)((function(){r(),ja.emit(Ps)}),[r]),o=(0,l.useCallback)((function(){i("/basket",{replace:!0,state:{tab:a?2:1}})}),[a,i]),u=(0,l.useMemo)((function(){return a?"\u0110\u1ed5i qu\xe0 ngay":"Xem gi\u1ecf qu\xe0"}),[a]),c=(0,l.useCallback)((function(e){if(e.startsWith("cash-")){var t=e.substring(5,e.length).replaceAll("k","000");if(!isNaN(parseInt(t)))return parseInt(t)}return 0}),[]),h=(0,l.useMemo)((function(){if(!n)return null;if(n.type.startsWith("cash-")){var e=function(e){return e.toString().replace(/./g,(function(e,t,n){return t>0&&","!==e&&(n.length-t)%3===0?"."+e:e}))}(c(n.type));return(0,rr.jsxs)("div",{className:Ym,children:[(0,rr.jsxs)("div",{className:Xm,children:[(0,rr.jsx)("img",{src:"../../assets/ui/gift_cash.png",alt:"",className:"logo"}),(0,rr.jsxs)("span",{className:"sg-bold",children:[e," VN\u0110"]})]}),(0,rr.jsxs)("div",{className:Xn()(qm,"sg-bold"),children:["L\xec x\xec may m\u1eafn ",e," VN\u0110"]}),(0,rr.jsxs)("div",{className:$m,children:["Tadaaa! Th\u1ea7n t\xe0i \u0111\u1ebfn nh\xe0, t\u1eb7ng b\u1ea1n l\xec x\xec",(0,rr.jsx)("br",{}),"may m\u1eafn ",e," VN\u0110."]})]})}return n.type.startsWith("phat-")?a?(0,rr.jsxs)("div",{className:Km,children:[(0,rr.jsxs)("div",{className:Qm,children:[(0,rr.jsx)("img",{alt:"",src:"assets/ui/vpb_pieces_2.png",className:Jm}),"phat-1"===n.type&&(0,rr.jsx)("img",{alt:"",src:ig,className:eg}),"phat-2"===n.type&&(0,rr.jsx)("img",{alt:"",src:ng,className:eg}),"phat-3"===n.type&&(0,rr.jsx)("img",{alt:"",src:rg,className:eg}),"phat-4"===n.type&&(0,rr.jsx)("img",{alt:"",src:ag,className:eg})]}),(0,rr.jsxs)("div",{className:Xn()(tg,"sg-bold"),children:["X\u1eddi, tuy\u1ec7t v\u1eddi!",(0,rr.jsx)("br",{}),"B\u1ea1n \u0111\xe3 nh\u1eadn \u0111\u01b0\u1ee3c m\u1ea3nh gh\xe9p",(0,rr.jsx)("br",{}),"cu\u1ed1i c\xf9ng c\u1ee7a Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t"]}),(0,rr.jsxs)("div",{className:$m,children:["Ch\xfang ta x\u1ee9ng \u0111\xe1ng c\xf3 m\u1ed9t s\u1ed5 ti\u1ebft ki\u1ec7m nhi\u1ec1u ti\u1ec1n",(0,rr.jsx)("br",{}),"h\u01a1n! VPBank s\u1ebd l\xe0 ng\u01b0\u1eddi l\xe0m \u0111i\u1ec1u \u0111\xf3 cho b\u1ea1n.",(0,rr.jsx)("br",{}),"T\u1eb7ng b\u1ea1n s\u1ed5 ti\u1ebft ki\u1ec7m tr\u1ecb gi\xe1 123.456.789 VN\u0110."]})]}):(0,rr.jsxs)("div",{className:Km,children:[(0,rr.jsxs)("div",{className:Qm,children:[(0,rr.jsx)("img",{alt:"",src:"assets/ui/vpb_pieces.png",className:Zm}),"phat-1"===n.type&&(0,rr.jsx)("img",{alt:"",src:ig,className:eg}),"phat-2"===n.type&&(0,rr.jsx)("img",{alt:"",src:ng,className:eg}),"phat-3"===n.type&&(0,rr.jsx)("img",{alt:"",src:rg,className:eg}),"phat-4"===n.type&&(0,rr.jsx)("img",{alt:"",src:ag,className:eg})]}),(0,rr.jsxs)("div",{className:Xn()(qm,"sg-bold"),children:["M\u1ea3nh gh\xe9p",(0,rr.jsx)("br",{}),"hoa Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t"]}),(0,rr.jsxs)("div",{className:$m,children:["Ulatroi! B\u1ea1n v\u1eeba nh\u1eadn \u0111\u01b0\u1ee3c 1 m\u1ea3nh gh\xe9p hoa",(0,rr.jsx)("br",{}),"Th\u1ecbnh V\u01b0\u1ee3ng- Ph\xe1t (s\u01b0u t\u1ea7m c\xe1c m\u1ea3nh c\xf2n l\u1ea1i \u0111\u1ec3",(0,rr.jsx)("br",{}),"s\u1edf h\u1eefu s\u1ed5 ti\u1ebft ki\u1ec7m gi\xe1 tr\u1ecb nh\xe9)."]})]}):"lynkid"===n.type?(0,rr.jsxs)("div",{className:Ym,children:[(0,rr.jsx)("div",{className:Xm,children:(0,rr.jsx)("img",{src:"../../assets/ui/gift_lid.png",alt:"",className:"logo"})}),(0,rr.jsx)("div",{className:Xn()(qm,"sg-bold"),children:"LynkID Voucher"}),(0,rr.jsxs)("div",{className:$m,children:["V\u1ea1n k\u1ebft n\u1ed1i - v\xf4 v\xe0n qu\xe0 t\u1eb7ng.",(0,rr.jsx)("br",{}),"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 tr\xfang",(0,rr.jsx)("br",{}),"combo eVoucher LynkiD.",(0,rr.jsx)("br",{}),"Tha h\u1ed3 s\u1eafm T\u1ebft th\u1ea3 ga n\xe0o!"]})]}):"tai"===n.type?(0,rr.jsxs)("div",{className:Ym,children:[(0,rr.jsx)("div",{className:Xm,children:(0,rr.jsx)("img",{src:"../../assets/ui/gift_tvt.png",alt:"",className:"logo"})}),(0,rr.jsx)("div",{className:Xn()(qm,"sg-bold"),children:"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - T\xe0i"}),(0,rr.jsxs)("div",{className:$m,children:["T\xe0i T\xe0i T\xe0i T\xe0i \u0111\u1ebfn r\u1ed3i!",(0,rr.jsx)("br",{}),"T\u1eb7ng b\u1ea1n l\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - T\xe0i tr\u1ecb gi\xe1",(0,rr.jsx)("br",{}),"6.666.666 VN\u0110 v\xe0o t\xe0i kho\u1ea3n VPBank."]})]}):"loc"===n.type?(0,rr.jsxs)("div",{className:Ym,children:[(0,rr.jsx)("div",{className:Xm,children:(0,rr.jsx)("img",{src:"../../assets/ui/gift_tvl.png",alt:"",className:"logo"})}),(0,rr.jsx)("div",{className:Xn()(qm,"sg-bold"),children:"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c"}),(0,rr.jsxs)("div",{className:$m,children:["M\xf9a xu\xe2n \u0111\xe3 \u0111\u1ebfn tr\u0103m hoa \u0111ua n\u1edf, c\xe2y c\u1ed1i",(0,rr.jsx)("br",{}),"\u0111\xe2m tr\u1ed3i, L\xec x\xec n\u1ea3y \u201cL\u1ed9c\u201d. Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3",(0,rr.jsx)("br",{}),"tr\xfang l\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c tr\u1ecb gi\xe1 8.888.888",(0,rr.jsx)("br",{}),"VN\u0110 v\xe0o t\xe0i kho\u1ea3n VPBank"]})]}):null}),[c,a,n]);return(0,rr.jsx)(Tr,{visible:t,onDismiss:s,children:(0,rr.jsxs)("div",{className:jm,children:[(0,rr.jsx)("img",{src:"../../assets/ui/reward_popup_header.png",alt:"",className:Um}),(0,rr.jsxs)("div",{className:Vm,children:[(0,rr.jsx)("div",{className:Gm,children:h}),(0,rr.jsxs)("div",{className:zm,children:[(0,rr.jsx)(ir,{title:"play",onClick:s,children:(0,rr.jsx)("div",{className:Xn()(Wm,"sg-bold"),style:{backgroundImage:"url(".concat("../../assets/ui/primary_btn.png",")")},children:"Ch\u01a1i ti\u1ebfp"})}),(0,rr.jsx)(ir,{title:"view",onClick:o,children:(0,rr.jsx)("div",{className:Xn()(Wm,"sg-bold"),style:{backgroundImage:"url(".concat("../../assets/ui/blue_button.png",")")},children:u})})]}),(0,rr.jsx)(ir,{title:"exit",customStyle:{position:"absolute",bottom:"-12%"},onClick:s,children:(0,rr.jsx)("div",{className:Hm,style:{backgroundImage:"url(".concat("../../assets/ui/exit_button.png",")")}})})]})]})})},og="zeroScoreModal_container__QoXQz",lg="zeroScoreModal_info__lXuAA",ug="zeroScoreModal_title__4uFwC",cg="zeroScoreModal_banner__cfNLG",hg="zeroScoreModal_actionRow__c-Uoq",fg="zeroScoreModal_actionButton__Cj6tD",dg="zeroScoreModal_exitButton__9JxkH",pg=function(e){var t=e.visible,n=e.onDismiss;(0,l.useEffect)((function(){t&&setTimeout((function(){nr.play(zn.BETTER_NEXT_TIME)}),100)}),[t]);var r=(0,l.useCallback)((function(){n(),ja.emit(Ps)}),[n]);return(0,rr.jsx)(Tr,{visible:t,onDismiss:r,children:(0,rr.jsxs)("div",{className:og,style:{backgroundImage:"url(".concat("../../assets/ui/modal_bd_1.png",")")},children:[(0,rr.jsxs)("div",{className:lg,children:[(0,rr.jsxs)("div",{className:Xn()(ug,"sg-bold"),children:["D\u1eabu bi\u1ebft b\u1ea1n \u0111\xe3 ph\xe1t l\xec x\xec ch\u01b0a",(0,rr.jsx)("br",{}),"th\xe0nh c\xf4ng nh\u01b0ng M\xe8o Fast L\u1ed9c v\u1eabn",(0,rr.jsx)("br",{}),"\u0111\u1ee9ng n\u01a1i \u0111\xe2y v\xe0 ch\u1edd b\u1ea1n.",(0,rr.jsx)("br",{}),"Ph\xe1t tr\xfang \xedt nh\u1ea5t 01 ng\u01b0\u1eddi \u0111\u1ec3 rinh",(0,rr.jsx)("br",{}),"qu\xe0 v\u1ec1 nh\xe0 nh\xe9!"]}),(0,rr.jsx)("img",{className:cg,src:"../../assets/ui/banner_deco_1.png",alt:""})]}),(0,rr.jsx)("div",{className:hg,children:(0,rr.jsx)(ir,{title:"retry",onClick:r,customStyle:{position:"absolute",bottom:"7%"},children:(0,rr.jsx)("div",{className:Xn()(fg,"sg-bold"),style:{backgroundImage:"url(".concat("../../assets/ui/primary_btn.png",")")},children:"Ch\u01a1i l\u1ea1i"})})}),(0,rr.jsx)(ir,{title:"exit",customStyle:{position:"absolute",bottom:"-12%"},onClick:r,children:(0,rr.jsx)("div",{className:dg,style:{backgroundImage:"url(".concat("../../assets/ui/exit_button.png",")")}})})]})})},vg=function(){var e,t=Mn(),n=vt((0,l.useState)(!1),2),r=n[0],a=n[1],o=vt((0,l.useState)(),2),u=o[0],c=o[1],h=vt((0,l.useState)(),2),f=h[0],d=h[1],p=vt((0,l.useState)(),2),v=p[0],m=p[1],g=vt((0,l.useState)(!1),2),y=g[0],b=g[1],_=vt((0,l.useState)(Vs.LOADING),2),x=_[0],w=_[1],k=vt((0,l.useState)(!1),2),M=k[0],T=k[1],S=vt((0,l.useState)(),2),A=S[0],E=S[1],L=vt((0,l.useState)({score:0,chest:Wa.NULL}),2),C=L[0],O=L[1],P=vt((0,l.useState)(!1),2),I=P[0],N=P[1],R=vt((0,l.useState)(!1),2),F=R[0],B=R[1],D=vt((0,l.useState)(!1),2),j=D[0],U=D[1],V=function(){var e=(0,l.useCallback)(s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a.post("/api/game/start");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),[]),t=(0,l.useCallback)(function(){var e=s(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a.post("/api/game/end",{score:t,gameData:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);return[e,t]}(),G=vt(V,2),z=G[0],W=G[1],H=vt(Ka(),2)[1];(0,l.useEffect)((function(){var e;v&&((null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.firstPlay)&&ja.emit(Ls,{showActionButton:!0}))}),[v,null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.firstPlay]),(0,l.useEffect)((function(){return function(){v&&v.dispose()}}),[v]),(0,l.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a(!0),b(!0),w(Vs.PLAYING),ja.emit(xs)}catch(i){(r=null===i||void 0===i||null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)&&"No more ticket"===r&&N(!0)}finally{a(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=s(i().mark((function e(t){var n,r,s,o,l,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.gameState;try{O({score:n.score,chest:n.currentChest}),w(Vs.ENDED),a(!0),"Try harder"===(null===(s={data:{type:"loc"}})||void 0===s?void 0:s.message)&&B(!0),null!==s&&void 0!==s&&null!==(r=s.data)&&void 0!==r&&r.type&&("gl"!==s.data.type&&E({type:s.data.type}),ja.emit(Is))}catch(i){ja.emit(Ps),null!==i&&void 0!==i&&null!==(o=i.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.message&&Va(null===i||void 0===i||null===(u=i.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.message)}finally{a(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){O({score:0,chest:Wa.NULL}),w(Vs.READY_TO_PLAY)};return ja.addListener(Ps,n),ja.addListener(_s,e),ja.addListener(ws,t),function(){ja.removeListener(Ps,n),ja.removeListener(_s,e),ja.removeListener(ws,t)}}),[W,H,z]),(0,l.useEffect)((function(){var e=function(){A?(A.type.includes("cash")||A.type.includes("lynkid")?setTimeout((function(){nr.play(zn.REWARD_NORMAL)}),200):(A.type.includes("phat-")||A.type.includes("tai")||A.type.includes("loc"))&&setTimeout((function(){nr.play(zn.REWARD_SPECIAL)}),200),T(!0)):U(!0)};return ja.addListener(Rs,e),function(){ja.removeListener(Rs,e)}}),[A]);var Y=function(e){if(e&&!u){var t=(0,rs.createViewport)(e,ss.WORLD_WIDTH,ss.WORLD_HEIGHT,{autoUpdate:!0,crop:!1,pixelRatio:Math.min(2,window.devicePixelRatio),contextOption:{antialias:!1}});c(t),d(e)}};(0,l.useEffect)((function(){f&&u&&!v&&s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,eh(f,u);case 4:t=e.sent,m(t),w(Vs.READY_TO_PLAY),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,a(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}),[f,u,v]);var X=(0,l.useMemo)((function(){return(0,rr.jsx)("canvas",{className:nh,ref:Y})}),[]);return(0,rr.jsxs)("div",{className:th,children:[X,(0,rr.jsx)(ym,{uiState:x,viewport:u,gameStarted:y}),(0,rr.jsx)(sg,{visible:M,onDismiss:function(){E(void 0),T(!1)},reward:A}),(0,rr.jsx)(Dm,{visible:I,onDismiss:function(){return N(!1)}}),(0,rr.jsx)(pg,{visible:F,onDismiss:function(){return B(!1)}}),(0,rr.jsx)(Em,{chest:C.chest,visible:j,onDismiss:function(){return U(!1)}}),(0,rr.jsx)(as,{visible:r})]})},mg=ut({userInfo:null,setUserInfo:Pe((function(e,t){e.userInfo=t}))});function gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gg(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bg={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},_g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yt(this,e),this.init(t,n)}return _t(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||bg,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,yg(yg({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),xg=new _g,wg=function(){function e(){yt(this,e),this.observers={}}return _t(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function kg(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function Mg(e){return null==e?"":""+e}function Tg(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function Sg(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var a="string"!==typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var s=r(a.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return i()?{}:{obj:e,k:r(a.shift())}}function Ag(e,t,n){var r=Sg(e,t,Object);r.obj[r.k]=n}function Eg(e,t){var n=Sg(e,t),r=n.obj,i=n.k;if(r)return r[i]}function Lg(e,t,n){var r=Eg(e,n);return void 0!==r?r:Eg(t,n)}function Cg(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):Cg(e[r],t[r],n):e[r]=t[r]);return e}function Og(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Pg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Ig(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Pg[e]})):e}var Ng="undefined"!==typeof window&&window.navigator&&"undefined"===typeof window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Rg=[" ",",","?","!",";"];function Fg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fg(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kt(e);if(t){var i=kt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return St(this,n)}}function jg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,a=0;a<r.length;++a){if(!i)return;if("string"===typeof i[r[a]]&&a+1<r.length)return;if(void 0===i[r[a]]){for(var s=2,o=r.slice(a,a+s).join(n),l=i[o];void 0===l&&r.length>a+s;)s++,l=i[o=r.slice(a,a+s).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(o)){if("string"===typeof l)return l;if(o&&"string"===typeof l[o])return l[o]}var u=r.slice(a+s).join(n);return u?jg(l,u,n):void 0}i=i[r[a]]}return i}}var Ug=function(e){wt(n,e);var t=Dg(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return yt(this,n),r=t.call(this),Ng&&wg.call(Tt(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return _t(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[e,t];n&&"string"!==typeof n&&(s=s.concat(n)),n&&"string"===typeof n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=e.split("."));var o=Eg(this.data,s);return o||!a||"string"!==typeof n?o:jg(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var s=[e,t];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=t,t=(s=e.split("."))[1]),this.addNamespaces(t),Ag(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var o=Eg(this.data,s)||{};r?Cg(o,n,i):o=Bg(Bg({},o),n),Ag(this.data,s,o),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Bg(Bg({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(wg),Vg={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))})),t}};function Gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gg(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kt(e);if(t){var i=kt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return St(this,n)}}var Hg={},Yg=function(e){wt(n,e);var t=Wg(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yt(this,n),r=t.call(this),Ng&&wg.call(Tt(r)),Tg(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,Tt(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=xg.create("translator"),r}return _t(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var r=Rg.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!i.test(e);if(!a){var s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(a=!0)}return a}(e,n,r);if(a&&!s){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,i){var a=this;if("object"!==r(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var s=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,l=this.extractFromKey(e[e.length-1],t),u=l.key,c=l.namespaces,h=c[c.length-1],f=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(d){var p=t.nsSeparator||this.options.nsSeparator;return s?(v.res="".concat(h).concat(p).concat(u),v):"".concat(h).concat(p).concat(u)}return s?(v.res=u,v):u}var v=this.resolve(e,t),m=v&&v.res,g=v&&v.usedKey||u,y=v&&v.exactUsedKey||u,b=Object.prototype.toString.apply(m),_=["[object Number]","[object Function]","[object RegExp]"],x=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!==typeof m&&"boolean"!==typeof m&&"number"!==typeof m;if(w&&m&&k&&_.indexOf(b)<0&&("string"!==typeof x||"[object Array]"!==b)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,zg(zg({},t),{},{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return s?(v.res=M,v):M}if(o){var T="[object Array]"===b,S=T?[]:{},A=T?y:g;for(var E in m)if(Object.prototype.hasOwnProperty.call(m,E)){var L="".concat(A).concat(o).concat(E);S[E]=this.translate(L,zg(zg({},t),{joinArrays:!1,ns:c})),S[E]===L&&(S[E]=m[E])}m=S}}else if(w&&"string"===typeof x&&"[object Array]"===b)(m=m.join(x))&&(m=this.extendTranslation(m,e,t,i));else{var C=!1,O=!1,P=void 0!==t.count&&"string"!==typeof t.count,I=n.hasDefaultValue(t),N=P?this.pluralResolver.getSuffix(f,t.count,t):"",R=t["defaultValue".concat(N)]||t.defaultValue;!this.isValidLookup(m)&&I&&(C=!0,m=R),this.isValidLookup(m)||(O=!0,m=u);var F=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,B=F&&O?void 0:m,D=I&&R!==m&&this.options.updateMissing;if(O||C||D){if(this.logger.log(D?"updateKey":"missingKey",f,h,u,D?R:m),o){var j=this.resolve(u,zg(zg({},t),{},{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var U=[],V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&V&&V[0])for(var G=0;G<V.length;G++)U.push(V[G]);else"all"===this.options.saveMissingTo?U=this.languageUtils.toResolveHierarchy(t.lng||this.language):U.push(t.lng||this.language);var z=function(e,n,r){var i=I&&r!==m?r:B;a.options.missingKeyHandler?a.options.missingKeyHandler(e,h,n,i,D,t):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,h,n,i,D,t),a.emit("missingKey",e,h,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?U.forEach((function(e){a.pluralResolver.getSuffixes(e,t).forEach((function(n){z([e],u+n,t["defaultValue".concat(n)]||R)}))})):z(U,u,R))}m=this.extendTranslation(m,e,t,v,i),O&&m===u&&this.options.appendNamespaceToMissingKey&&(m="".concat(h,":").concat(u)),(O||C)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(h,":").concat(u):u,C?m:void 0):this.options.parseMissingKeyHandler(m))}return s?(v.res=m,v):m}},{key:"extendTranslation",value:function(e,t,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,zg(zg({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(zg(zg({},n),{interpolation:zg(zg({},this.options.interpolation),n.interpolation)}));var s,o="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(o){var l=e.match(this.interpolator.nestingRegexp);s=l&&l.length}var u=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=zg(zg({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),o){var c=e.match(this.interpolator.nestingRegexp);s<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i&&i[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate.apply(a,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,f="string"===typeof h?[h]:h;return void 0!==e&&null!==e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=Vg.handle(f,e,t,this.options&&this.options.postProcessPassResolved?zg({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,a,s=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var l=s.extractFromKey(e,o),u=l.key;n=u;var c=l.namespaces;s.options.fallbackNS&&(c=c.concat(s.options.fallbackNS));var h=void 0!==o.count&&"string"!==typeof o.count,f=h&&!o.ordinal&&0===o.count&&s.pluralResolver.shouldUseIntlApi(),d=void 0!==o.context&&("string"===typeof o.context||"number"===typeof o.context)&&""!==o.context,p=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);c.forEach((function(e){s.isValidLookup(t)||(a=e,!Hg["".concat(p[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(a)&&(Hg["".concat(p[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!s.isValidLookup(t)){i=n;var a,l=[u];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(l,u,n,e,o);else{var c;h&&(c=s.pluralResolver.getSuffix(n,o.count,o));var p="".concat(s.options.pluralSeparator,"zero");if(h&&(l.push(u+c),f&&l.push(u+p)),d){var v="".concat(u).concat(s.options.contextSeparator).concat(o.context);l.push(v),h&&(l.push(v+c),f&&l.push(v+p))}}for(;a=l.pop();)s.isValidLookup(t)||(r=a,t=s.getResource(n,e,a,o))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:a}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(wg);function Xg(e){return e.charAt(0).toUpperCase()+e.slice(1)}var qg=function(){function e(t){yt(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xg.create("languageUtils")}return _t(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Xg(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Xg(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Xg(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"===typeof e&&a(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))})),i}}]),e}(),$g=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Kg={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Qg=["v1","v2","v3"],Zg={zero:0,one:1,two:2,few:3,many:4,other:5};function Jg(){var e={};return $g.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:Kg[t.fc]}}))})),e}var ey=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yt(this,e),this.languageUtils=t,this.options=n,this.logger=xg.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Jg()}return _t(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return Zg[e]-Zg[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Qg.includes(this.options.compatibilityJSON)}}]),e}();function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ry=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yt(this,e),this.logger=xg.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return _t(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Ig,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Og(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Og(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Og(t.nestingPrefix):t.nestingPrefixEscaped||Og("$t("),this.nestingSuffix=t.nestingSuffix?Og(t.nestingSuffix):t.nestingSuffixEscaped||Og(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,a,s,o=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(o.formatSeparator)<0){var i=Lg(t,l,e);return o.alwaysFormat?o.format(i,void 0,n,ny(ny(ny({},r),t),{},{interpolationkey:e})):i}var a=e.split(o.formatSeparator),s=a.shift().trim(),u=a.join(o.formatSeparator).trim();return o.format(Lg(t,l,s),u,n,ny(ny(ny({},r),t),{},{interpolationkey:s}))};this.resetRegExp();var h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return o.escapeValue?u(o.escape(e)):u(e)}}].forEach((function(t){for(s=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(a=c(n)))if("function"===typeof h){var l=h(e,i,r);a="string"===typeof l?l:""}else if(r&&r.hasOwnProperty(n))a="";else{if(f){a=i[0];continue}o.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"===typeof a||o.useRawValueToEscape||(a=Mg(a));var u=t.safeValue(a);if(e=e.replace(i[0],u),f?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++s>=o.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=ny({},a);function o(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0];var a=(i=this.interpolate(i,s)).match(/'/g),o=i.match(/"/g);(a&&a.length%2===0&&!o||o.length%2!==0)&&(i=i.replace(/'/g,'"'));try{s=JSON.parse(i),t&&(s=ny(ny({},t),s))}catch(l){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),l),"".concat(e).concat(n).concat(i)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0}if((r=t(o.call(this,n[1].trim(),s),s))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=Mg(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=l.reduce((function(e,t){return i.format(e,t,a.lng,ny(ny({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iy(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sy(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if("currency"===t&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if("relativetime"===t&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{i.split(";").forEach((function(e){if(e){var t,r=e.split(":"),i=ht(t=r)||mt(t)||dt(t)||pt(),a=i[0],s=i.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=s),"false"===s&&(n[a.trim()]=!1),"true"===s&&(n[a.trim()]=!0),isNaN(s)||(n[a.trim()]=parseInt(s,10))}}))}}return{formatName:t,formatOptions:n}}function oy(e){var t={};return function(n,r,i){var a=r+JSON.stringify(i),s=t[a];return s||(s=e(r,i),t[a]=s),s(n)}}var ly=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yt(this,e),this.logger=xg.create("formatter"),this.options=t,this.formats={number:oy((function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}})),currency:oy((function(e,t){var n=new Intl.NumberFormat(e,ay(ay({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:oy((function(e,t){var n=new Intl.DateTimeFormat(e,ay({},t));return function(e){return n.format(e)}})),relativetime:oy((function(e,t){var n=new Intl.RelativeTimeFormat(e,ay({},t));return function(e){return n.format(e,t.range||"day")}})),list:oy((function(e,t){var n=new Intl.ListFormat(e,ay({},t));return function(e){return n.format(e)}}))},this.init(t)}return _t(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=oy(t)}},{key:"format",value:function(e,t,n,r){var i=this,a=t.split(this.formatSeparator).reduce((function(e,t){var a=sy(t),s=a.formatName,o=a.formatOptions;if(i.formats[s]){var l=e;try{var u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},c=u.locale||u.lng||r.locale||r.lng||n;l=i.formats[s](e,c,ay(ay(ay({},o),r),u))}catch(h){i.logger.warn(h)}return l}return i.logger.warn("there was no format function for ".concat(s)),e}),e);return a}}]),e}();function uy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uy(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kt(e);if(t){var i=kt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return St(this,n)}}var fy=function(e){wt(n,e);var t=hy(n);function n(e,r,i){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return yt(this,n),a=t.call(this),Ng&&wg.call(Tt(a)),a.backend=e,a.store=r,a.services=i,a.languageUtils=i.languageUtils,a.options=s,a.logger=xg.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=s.maxParallelReads||10,a.readingCalls=0,a.maxRetries=s.maxRetries>=0?s.maxRetries:5,a.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,s.backend,s),a}return _t(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,a={},s={},o={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var o="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[o]=2:i.state[o]<0||(1===i.state[o]?void 0===s[o]&&(s[o]=!0):(i.state[o]=1,r=!1,void 0===s[o]&&(s[o]=!0),void 0===a[o]&&(a[o]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(o[e]=!0)})),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),n&&this.store.addResourceBundle(i,a,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){!function(e,t,n,r){var i=Sg(e,t,Object),a=i.obj,s=i.k;a[s]=a[s]||[],r&&(a[s]=a[s].concat(n)),r||a[s].push(n)}(n.loaded,[i],a),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:a,callback:s}):(this.readingCalls++,this.backend[n](e,t,(function(o,l){if(r.readingCalls--,r.waitingReads.length>0){var u=r.waitingReads.shift();r.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}o&&l&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*a,s)}),a):s(o,l)}))):s(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(function(r,s){r&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(i," failed"),r),!r&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(i),s),t.loaded(e,r,s)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,cy(cy({},a),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}(wg);function dy(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===r(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===r(e[2])||"object"===r(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function py(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function vy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function my(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vy(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kt(e);if(t){var i=kt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return St(this,n)}}function yy(){}function by(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"===typeof e[t]&&(e[t]=e[t].bind(e))}))}var _y=function(e){wt(n,e);var t=gy(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(yt(this,n),e=t.call(this),Ng&&wg.call(Tt(e)),e.options=py(r),e.services={},e.logger=xg,e.modules={external:[]},by(Tt(e)),i&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,i),St(e,Tt(e));setTimeout((function(){e.init(r,i)}),0)}return e}return _t(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=dy();function i(e){return e?"function"===typeof e?new e:e:null}if(this.options=my(my(my({},r),this.options),py(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=my(my({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?xg.init(i(this.modules.logger),this.options):xg.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!==typeof Intl&&(a=ly);var s=new qg(this.options);this.store=new Ug(this.options.resources,this.options);var o=this.services;o.logger=xg,o.resourceStore=this.store,o.languageUtils=s,o.pluralResolver=new ey(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(a),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new ry(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new fy(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new Yg(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=yy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var h=kg(),f=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),h.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),h}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yy,r=n,i="string"===typeof e?e:this.language;if("function"===typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var a=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};if(i)s(i);else{var o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(a,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=kg();return e||(e=this.languages),t||(t=this.options.ns),n||(n=yy),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Vg.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=kg();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var s="string"===typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);s&&(n.language||i(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,a){a?(i(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var i=this,a=function e(t,a){var s;if("object"!==r(a)){for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];s=i.options.overloadTranslationOptionHandler([t,a].concat(l))}else s=my({},a);s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,s.keyPrefix=s.keyPrefix||n||e.keyPrefix;var c=i.options.keySeparator||".",h=s.keyPrefix?"".concat(s.keyPrefix).concat(c).concat(t):t;return i.t(h,s)};return"string"===typeof e?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var o=n.precheck(this,s);if(void 0!==o)return o}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(r,e)||i&&!s(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=kg();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=kg();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yy,i=my(my(my({},this.options),t),{isClone:!0}),a=new n(i);void 0===t.debug&&void 0===t.prefix||(a.logger=a.logger.clone(t));var s=["store","services","language"];return s.forEach((function(t){a[t]=e[t]})),a.services=my({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new Yg(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))})),a.init(i,r),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(wg);c(_y,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new _y(e,t)}));var xy=_y.createInstance();xy.createInstance=_y.createInstance;xy.createInstance,xy.init,xy.loadResources,xy.reloadResources,xy.use,xy.changeLanguage,xy.getFixedT,xy.t,xy.exists,xy.setDefaultNamespace,xy.hasLoadedNamespace,xy.loadNamespaces,xy.loadLanguages;var wy=xy,ky=JSON.parse('{"loading":{"wait":"Meow...Meow...S\u1eafp xong r\xf9i!"},"home":{"hello":"Xin ch\xe0o {{username}}","play":"Ch\u01a1i ngay","mission":"Th\u1eed th\xe1ch","basket":"Gi\u1ecf qu\xe0 c\u1ee7a b\u1ea1n","treasure":"C\u01a1 c\u1ea5u gi\u1ea3i th\u01b0\u1edfng","guide":"H\u01b0\u1edbng d\u1eabn ch\u01a1i game","turns":"L\u01b0\u1ee3t ch\u01a1i c\xf2n l\u1ea1i: {{turns}}","catStoryPre":"B\u1ea1n uiiii,\\nnghe M\xe8o Fast L\u1ed9c\\nk\u1ec3 chuy\u1ec7n nh\xe9!","rule":"Th\u1ec3 l\u1ec7 ch\u01b0\u01a1ng tr\xecnh"},"rule":{"home":"Home","title":"Th\u1ec3 l\u1ec7 ch\u01b0\u01a1ng tr\xecnh"},"treasure":{"title":"C\u01a0 C\u1ea4U GI\u1ea2I TH\u01af\u1edeNG","count":"S\u1ed1 l\u01b0\u1ee3ng: ","voucher":"Voucher tr\xean LynkID","value":"Tr\u1ecb gi\xe1 {{value}} VN\u0110","otherGifts":"H\xe0ng ng\xe0n gi\u1ea3i th\u01b0\u1edfng ti\u1ec1n m\u1eb7t tr\u1ecb gi\xe1 868 VN\u0110, 2.023 VN\u0110, 6.868 VN\u0110, 10.000 VN\u0110, 20.000 VN\u0110, 50.000 VN\u0110, 100.000 VN\u0110"},"mission":{"title":"DANH S\xc1CH NHI\u1ec6M V\u1ee4","depositsTab":"Ti\u1ec1n g\u1eedi & Vay tr\u1ef1c tuy\u1ebfn","transferTab":"Chuy\u1ec3n kho\u1ea3n & thanh to\xe1n","newAccountTab":"T\xe0i kho\u1ea3n m\u1edbi & h\u1ed9i vi\xean","action":"Th\u1ef1c hi\u1ec7n ngay","catCard":"+{{count}} Th\u1ebb M\xe8o","limit":"Gi\u1edbi h\u1ea1n: {{count}}/{{limit}}","now":"Nh\u1eadn l\u01b0\u1ee3t ngay l\u1eadp t\u1ee9c","2weeks":"Nh\u1eadn l\u01b0\u1ee3t sau 2 tu\u1ea7n","more":"T\xecm hi\u1ec3u th\xeam","done":"\u0110\xe3 ho\xe0n th\xe0nh","saveMoneyOnline":"Ti\u1ec1n g\u1eedi Online","onlineLoans":"Vay Online"},"basket":{"title":"GI\u1ece QU\xc0 C\u1ee6A B\u1ea0N","gifts":"Ph\u1ea7n th\u01b0\u1edfng","puzzlePieces":"M\u1ea3nh gh\xe9p","notReceivedTitle":"Ch\u01b0a nh\u1eadn","receivedTitle":"\u0110\xe3 nh\u1eadn","detail":"Chi ti\u1ebft","rewardedAt":"Ng\xe0y tr\xfang gi\u1ea3i: ","collection":"S\u01b0u t\u1eadp ngay 4 c\xe1nh hoa Th\u1ecbnh V\u01b0\u1ee3ng \u0111\u1ec3 c\xf3 c\u01a1 h\u1ed9i s\u1edf h\u1eefu s\u1ed5 ti\u1ebft ki\u1ec7m tr\u1ecb gi\xe1 <b>123.456.789 VN\u0110</b> t\u1eeb VPBank","tvp":"Th\u1ecbnh v\u01b0\u1ee3ng - Ph\xe1t","tvpValue":"123.456.789 VN\u0110","graft":"Gh\xe9p","noGift":"Hi\u1ec7n t\u1ea1i b\u1ea1n ch\u01b0a c\xf3 qu\xe0 n\xe0o, ti\u1ebfp t\u1ee5c ch\u01a1i game b\u1ea1n nh\xe9","date":"Ng\xe0y tr\xfang gi\u1ea3i: {{date}}","gift":{"868":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","2023":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","6868":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","10k":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","20k":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","50k":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","100k":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","phat1":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nM\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","phat2":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nM\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","phat3":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nM\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","phat4":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nM\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","lynkid":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang gi\u1ea3i Voucher LynkID, qu\xe0 t\u1eb7ng s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o v\xed LynkID sau 3 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y tr\xfang gi\u1ea3i. \u0110\u0103ng nh\u1eadp \u1ee9ng d\u1ee5ng LynkID \u0111\u1ec3 nh\u1eadn qu\xe0!","tai":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nTh\u1ecbnh V\u01b0\u1ee3ng - T\xe0i tr\u1ecb gi\xe1 6.666.666 VN\u0110, qu\xe0 t\u1eb7ng s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank NEO trong 5 ng\xe0y l\xe0m vi\u1ec7c.","loc":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nTh\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c tr\u1ecb gi\xe1 8.888.888 VN\u0110, qu\xe0 t\u1eb7ng s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank NEO trong 5 ng\xe0y l\xe0m vi\u1ec7c. ","tvp":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nS\u1ed5 ti\u1ebft ki\u1ec7m tr\u1ecb gi\xe1 123.456.789 VN\u0110\\nVPBank s\u1ebd ch\u1ee7 \u0111\u1ed9ng li\xean h\u1ec7 v\xe0 h\u01b0\u1edbng d\u1eabn c\xe1ch th\u1ee9c nh\u1eadn gi\u1ea3i th\u01b0\u1edfng"}},"gift":{"tvp":"Th\u1ecbnh v\u01b0\u1ee3ng - Ph\xe1t","tvl":"Th\u1ecbnh v\u01b0\u1ee3ng - L\u1ed9c","tvt":"Th\u1ecbnh v\u01b0\u1ee3ng - T\xe0i","lid":"Qu\xe0 LynkID","name":{"TVP":"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","TVT":"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - T\xe0i","LIXI50":"L\xec x\xec 50.000 VN\u0110","LIXI20":"L\xec x\xec 20.000 VN\u0110","TVL":"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c"}},"modal":{"gift":{"cash":"L\xec x\xec may m\u1eafn","lynkid":"LynkID\\nVoucher","tai":"L\xec X\xec\\nTh\u1ecbnh V\u01b0\u1ee3ng - T\xe0i","loc":"L\xec X\xec\\nTh\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c","tvp":"S\u1ed5 ti\u1ebft ki\u1ec7m\\nTh\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","phat1":"M\u1ea3nh gh\xe9p\\nmay m\u1eafn","phat2":"M\u1ea3nh gh\xe9p\\nmay m\u1eafn","phat3":"M\u1ea3nh gh\xe9p\\nmay m\u1eafn","phat4":"M\u1ea3nh gh\xe9p\\nmay m\u1eafn"}}}');wy.init({lng:"vi",resources:{en:{translation:{}},vi:{translation:ky}}});var My=wy,Ty=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Sy={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Ay=function(e){return Sy[e]};var Ey,Ly={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(Ty,Ay)}},Cy=(0,l.createContext)();function Oy(){return Ly}var Py=function(){function e(){yt(this,e),this.usedNamespaces={}}return _t(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Iy(){return Ey}function Ny(e){var t=e.i18n,n=e.defaultNS,r=e.children,i=(0,l.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return(0,l.createElement)(Cy.Provider,{value:i},r)}var Ry="home_container__gc+Y2",Fy="home_background__RNuQu",By="home_content__2EyLi",Dy="home_btn__Bu7v-",jy="home_btn_title__20sKZ",Uy="home_btn_bg__J8ios",Vy="home_turns__TAo+-",Gy="home_bottom__cKzWK",zy="home_catStory__YEIAg",Wy="home_mrTop__aLdC5",Hy="home_catStoryImg__GTDJF",Yy="home_catStoryBox__zJaZl",Xy="home_rule__xBd9X";function qy(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var $y={};function Ky(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&$y[t[0]]||("string"===typeof t[0]&&($y[t[0]]=new Date),qy.apply(void 0,t))}function Qy(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function Zy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!s(r,e)||i&&!s(a,e))))}function Jy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return Ky("i18n.languages were undefined or empty",t.languages),!0;var r=void 0!==t.options.ignoreJSONStructure;return r?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):Zy(e,t,n)}function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nb=function(e,t){var n=(0,l.useRef)();return(0,l.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};function rb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=(0,l.useContext)(Cy)||{},i=r.i18n,a=r.defaultNS,s=n||i||Iy();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Py),!s){Ky("You will need to pass in an i18next instance by using initReactI18next");var o=function(e){return Array.isArray(e)?e[e.length-1]:e},u=[o,{},!1];return u.t=o,u.i18n={},u.ready=!1,u}s.options.react&&void 0!==s.options.react.wait&&Ky("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=tb(tb(tb({},Oy()),s.options.react),t),h=c.useSuspense,f=c.keyPrefix,d=e||a||s.options&&s.options.defaultNS;d="string"===typeof d?[d]:d||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(d);var p=(s.isInitialized||s.initializedStoreOnce)&&d.every((function(e){return Jy(e,s,c)}));function v(){return s.getFixedT(null,"fallback"===c.nsMode?d:d[0],f)}var m=(0,l.useState)(v),g=vt(m,2),y=g[0],b=g[1],_=d.join(),x=nb(_),w=(0,l.useRef)(!0);(0,l.useEffect)((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){w.current&&b(v)}return w.current=!0,p||h||Qy(s,d,(function(){w.current&&b(v)})),p&&x&&x!==_&&w.current&&b(v),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){w.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,_]);var k=(0,l.useRef)(!0);(0,l.useEffect)((function(){w.current&&!k.current&&b(v),k.current=!1}),[s,f]);var M=[y,s,p];if(M.t=y,M.i18n=s,M.ready=p,p)return M;if(!p&&!h)return M;throw new Promise((function(e){Qy(s,d,(function(){e()}))}))}var ib="assets/ui/home_secondary_btn.png",ab=function(){var e=Tn(),t=rb().t,n=vt(Ka(),1)[0],r=vt((0,l.useState)(!1),2),i=r[0],a=r[1];return(0,l.useEffect)((function(){if(!n){if(!i)return void a(!0);console.log(111),e("/")}}),[n,i,e]),(0,rr.jsxs)("div",{draggable:!1,className:Ry,children:[(0,rr.jsx)("img",{draggable:"false",src:"assets/ui/home_bg.png",alt:"",className:Xn()(Fy,"img")}),(0,rr.jsxs)("div",{className:By,children:[(0,rr.jsx)("div",{className:Xn()(Vy,"sg-regular"),children:t("home.turns",{turns:null===n||void 0===n?void 0:n.ticketCount})}),(0,rr.jsxs)(ir,{onClick:function(){return e("/game",{state:{firstPlay:null===n||void 0===n?void 0:n.firstPlay}})},title:"",className:Dy,children:[(0,rr.jsx)("img",{src:"assets/ui/home_primary_btn.png",className:Uy,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(jy,"sg-bold"),children:[t("home.play")," "]})]}),(0,rr.jsxs)(ir,{onClick:function(){return e("/mission")},title:"",className:Dy,children:[(0,rr.jsx)("img",{src:ib,className:Uy,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(jy,"sg-bold"),children:[t("home.mission")," "]})]}),(0,rr.jsxs)(ir,{onClick:function(){return e("/basket")},title:"",className:Dy,children:[(0,rr.jsx)("img",{src:ib,className:Uy,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(jy,"sg-bold"),children:[t("home.basket")," "]})]}),(0,rr.jsxs)(ir,{onClick:function(){return e("/treasure")},title:"",className:Dy,children:[(0,rr.jsx)("img",{src:ib,className:Uy,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(jy,"sg-bold"),children:[t("home.treasure")," "]})]}),(0,rr.jsxs)(ir,{onClick:function(){return e("/game",{state:{firstPlay:!0}})},title:"",className:Dy,children:[(0,rr.jsx)("img",{src:ib,className:Uy,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(jy,"sg-bold"),children:[t("home.guide")," "]})]})]}),(0,rr.jsxs)("div",{className:Gy,children:[(0,rr.jsxs)(ir,{title:"",className:Xn()(Yy,"row"),children:[(0,rr.jsx)("div",{children:(0,rr.jsx)("div",{className:Xn()(zy,Wy,"sg-regular"),children:t("home.catStoryPre")})}),(0,rr.jsx)("img",{src:"assets/ui/cat-story.png",alt:"cat-story",className:Hy})]}),(0,rr.jsx)(ir,{title:"",onClick:function(){return e("/rule")},children:(0,rr.jsx)("div",{className:Xn()(Xy,"sg-regular"),children:t("home.rule")})})]})]})},sb="mission_container__sGFAW",ob="mission_background__hZ63k",lb="mission_btn__3t64F",ub="mission_btn_title__uC16G",cb="mission_btn_bg__2e-e2",hb="mission_bottom__a+frT",fb="mission_title__XROrP",db="mission_content__oOpX4",pb="mission_tabs__gT6T5",vb="mission_tab_btn__IMCsA",mb="mission_tab_btn_title__kp9NO",gb="mission_moc1__dhWhc",yb="mission_moc2__j+nsy",bb={container:"mainTab_container__lKhPf",main_content:"mainTab_main_content__QaJqf",mission:"mainTab_mission__dOwmu",second:"mainTab_second__RfLPc",bg:"mainTab_bg__k-3Gr",content:"mainTab_content__rLDKM",text:"mainTab_text__bMBM8",longText:"mainTab_longText__vyznb",btn:"mainTab_btn__rUe88",btn_title:"mainTab_btn_title__jjH8u",done_btn_title:"mainTab_done_btn_title__d7cVU",btn_bg:"mainTab_btn_bg__Sm23-",title:"mainTab_title__9YSvs",description:"mainTab_description__1uLRW",bottom:"mainTab_bottom__ib-RI",bottom2:"mainTab_bottom2__BGJ4i",catCard:"mainTab_catCard__MNSp2",ticketGain:"mainTab_ticketGain__r1aYY",limit:"mainTab_limit__YJ4hq",realtime:"mainTab_realtime__JE-Ec",more:"mainTab_more__hoSYm",main_title:"mainTab_main_title__4SGP7",main_title_2:"mainTab_main_title_2__r2RmM",main_limit_container:"mainTab_main_limit_container__Kw6e6",center:"mainTab_center__EDMED",specialBottom:"mainTab_specialBottom__3S1R2",specialCenter:"mainTab_specialCenter__oLqwK"},_b="assets/ui/mission_bg_btn.png",xb="assets/ui/active_card.png",wb="assets/ui/card.png",kb="assets/ui/kim_bai_heo.png",Mb="assets/ui/done_btn.png",Tb=function(e){var t,n,r,i=e.missions,a=e.showRealTime,s=e.showGuide,o=e.secondMissions,l=e.title,u=e.mainLimit,c=e.activeTab,h=e.specialMissions,f=rb().t;return(0,rr.jsxs)("div",{className:bb.container,children:[(0,rr.jsxs)("div",{className:bb.main_content,children:[l&&(0,rr.jsx)("div",{className:Xn()(bb.main_title,"sg-bold"),children:l}),u&&(0,rr.jsxs)("div",{className:Xn()(bb.main_limit_container,"sg-medium","row"),children:[(0,rr.jsx)("div",{className:bb.main_limit,children:f("mission.limit",{limit:u,count:1})}),(0,rr.jsx)("div",{className:bb.center,children:"|"}),(0,rr.jsx)("div",{className:bb.main_real_time,children:f("mission.now")})]}),i.map((function(e){var t,n;return(0,rr.jsxs)("div",{className:bb.mission,children:[(0,rr.jsx)("img",{alt:"card",src:e.ticketCount===(null===(t=e.limit)||void 0===t?void 0:t.times)?xb:wb,className:bb.bg}),(0,rr.jsxs)("div",{className:bb.content,children:[(0,rr.jsxs)("div",{className:e.hiddenActionBtn?bb.longText:bb.text,children:[(0,rr.jsx)("div",{className:Xn()(bb.title,"sg-semibold"),children:e.name}),(0,rr.jsx)("div",{className:Xn()(bb.description,"sg-regular"),dangerouslySetInnerHTML:{__html:e.description}})]}),e.hiddenActionBtn?null:e.ticketCount===(null===(n=e.limit)||void 0===n?void 0:n.times)?(0,rr.jsxs)(ir,{onClick:function(){},title:"",className:bb.btn,children:[(0,rr.jsx)("img",{src:Mb,className:bb.btn_bg,alt:"back_btn"}),(0,rr.jsx)("div",{className:Xn()(bb.done_btn_title,"sg-bold"),children:f("mission.done")})]}):(0,rr.jsxs)(ir,{onClick:function(){},title:"",className:bb.btn,children:[(0,rr.jsx)("img",{src:_b,className:bb.btn_bg,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(bb.btn_title,"sg-bold"),children:[f("mission.action")," "]})]})]}),s.includes(e.code)&&(0,rr.jsx)(ir,{title:"",customStyle:{zIndex:3,position:"relative"},children:(0,rr.jsx)("div",{className:Xn()(bb.more,"sg-regular"),children:f("mission.more")})}),(0,rr.jsxs)("div",{className:a?bb.bottom:bb.bottom2,children:[(0,rr.jsxs)("div",{className:"row",style:{alignItems:"flex-end"},children:[(0,rr.jsx)("img",{src:kb,alt:"kim_bai_heo",className:bb.catCard}),(0,rr.jsx)("div",{className:Xn()(bb.ticketGain,"sg-bold"),children:f("mission.catCard",{count:e.ticketGain})})]}),a&&(0,rr.jsx)("div",{children:"|"}),a&&e.limit&&e.limit.times&&(0,rr.jsx)("div",{className:Xn()(bb.limit,"sg-regular"),children:f("mission.limit",{limit:e.limit.times,count:e.ticketCount})}),a&&(0,rr.jsx)("div",{children:"|"}),a&&(0,rr.jsx)("div",{className:Xn()(bb.realtime,"sg-regular"),children:e.realtime?f("mission.now"):f("mission.2weeks")})]})]},e.code)})),3===c&&(0,rr.jsxs)("div",{className:bb.mission,children:[(0,rr.jsx)("img",{alt:"card",src:h[0].ticketCount===(null===(t=h[0].limit)||void 0===t?void 0:t.times)?xb:wb,className:bb.bg}),(0,rr.jsxs)("div",{className:bb.content,children:[(0,rr.jsxs)("div",{className:h[0].hiddenActionBtn?bb.longText:bb.text,children:[(0,rr.jsx)("div",{className:Xn()(bb.title,"sg-semibold"),children:h[0].name}),(0,rr.jsx)("div",{className:Xn()(bb.description,"sg-regular"),dangerouslySetInnerHTML:{__html:h[0].description}})]}),h[0].hiddenActionBtn?null:h[0].ticketCount===(null===(n=h[0].limit)||void 0===n?void 0:n.times)?(0,rr.jsxs)(ir,{onClick:function(){},title:"",className:bb.btn,children:[(0,rr.jsx)("img",{src:Mb,className:bb.btn_bg,alt:"back_btn"}),(0,rr.jsx)("div",{className:Xn()(bb.done_btn_title,"sg-bold"),children:f("mission.done")})]}):(0,rr.jsxs)(ir,{onClick:function(){},title:"",className:bb.btn,children:[(0,rr.jsx)("img",{src:_b,className:bb.btn_bg,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(bb.btn_title,"sg-bold"),children:[f("mission.action")," "]})]})]}),s.includes(h[0].code)&&(0,rr.jsx)(ir,{title:"",customStyle:{zIndex:3,position:"relative"},children:(0,rr.jsx)("div",{className:Xn()(bb.more,"sg-regular"),children:f("mission.more")})}),(0,rr.jsxs)("div",{className:bb.bottom,children:[(0,rr.jsxs)("div",{className:"row",style:{alignItems:"flex-end"},children:[(0,rr.jsx)("img",{src:kb,alt:"kim_bai_heo",className:bb.catCard}),(0,rr.jsx)("div",{className:Xn()(bb.ticketGain,"sg-bold"),children:f("mission.catCard",{count:h[0].ticketGain})})]}),a&&(0,rr.jsx)("div",{children:"|"}),a&&h[0].limit&&h[0].limit.times&&(0,rr.jsx)("div",{className:Xn()(bb.limit,"sg-regular"),children:f("mission.limit",{limit:h[0].limit.times,count:h[0].ticketCount})}),a&&(0,rr.jsx)("div",{children:"|"}),a&&(0,rr.jsx)("div",{className:Xn()(bb.realtime,"sg-regular"),children:h[0].realtime?f("mission.now"):f("mission.2weeks")})]}),(0,rr.jsx)("div",{className:bb.specialCenter}),(0,rr.jsxs)("div",{className:bb.content,children:[(0,rr.jsx)("div",{className:h[1].hiddenActionBtn?bb.longText:bb.text,children:(0,rr.jsx)("div",{className:Xn()(bb.description,"sg-regular",bb.specialBottom),dangerouslySetInnerHTML:{__html:h[1].description}})}),h[1].hiddenActionBtn?null:h[1].ticketCount===(null===(r=h[1].limit)||void 0===r?void 0:r.times)?(0,rr.jsxs)(ir,{onClick:function(){},title:"",className:bb.btn,children:[(0,rr.jsx)("img",{src:Mb,className:bb.btn_bg,alt:"back_btn"}),(0,rr.jsx)("div",{className:Xn()(bb.done_btn_title,"sg-bold"),children:f("mission.done")})]}):(0,rr.jsxs)(ir,{onClick:function(){},title:"",className:bb.btn,children:[(0,rr.jsx)("img",{src:_b,className:bb.btn_bg,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(bb.btn_title,"sg-bold"),children:[f("mission.action")," "]})]})]}),(0,rr.jsxs)("div",{className:bb.bottom,children:[(0,rr.jsxs)("div",{className:"row",style:{alignItems:"flex-end"},children:[(0,rr.jsx)("img",{src:kb,alt:"kim_bai_heo",className:bb.catCard}),(0,rr.jsx)("div",{className:Xn()(bb.ticketGain,"sg-bold"),children:f("mission.catCard",{count:h[0].ticketGain})})]}),a&&(0,rr.jsx)("div",{children:"|"}),a&&h[1].limit&&h[1].limit.times&&(0,rr.jsx)("div",{className:Xn()(bb.limit,"sg-regular"),children:f("mission.limit",{limit:h[1].limit.times,count:h[1].ticketCount})}),a&&(0,rr.jsx)("div",{children:"|"}),a&&(0,rr.jsx)("div",{className:Xn()(bb.realtime,"sg-regular"),children:h[0].realtime?f("mission.now"):f("mission.2weeks")})]})]},h[0].code)]}),o.length>0&&(0,rr.jsxs)("div",{className:Xn()(bb.main_content,bb.second),children:[l&&(0,rr.jsx)("div",{className:Xn()(bb.main_title_2,"sg-bold"),children:f("mission.onlineLoans")}),o.map((function(e){var t,n;return(0,rr.jsxs)("div",{className:bb.mission,children:[(0,rr.jsx)("img",{alt:"card",src:e.ticketCount===(null===(t=e.limit)||void 0===t?void 0:t.times)?xb:wb,className:bb.bg}),(0,rr.jsxs)("div",{className:bb.content,children:[(0,rr.jsxs)("div",{className:e.hiddenActionBtn?bb.longText:bb.text,children:[(0,rr.jsx)("div",{className:Xn()(bb.title,"sg-semibold"),children:e.name}),(0,rr.jsx)("div",{className:Xn()(bb.description,"sg-regular"),dangerouslySetInnerHTML:{__html:e.description}})]}),e.hiddenActionBtn?null:e.ticketCount===(null===(n=e.limit)||void 0===n?void 0:n.times)?(0,rr.jsxs)(ir,{onClick:function(){},title:"",className:bb.btn,children:[(0,rr.jsx)("img",{src:Mb,className:bb.btn_bg,alt:"back_btn"}),(0,rr.jsx)("div",{className:Xn()(bb.done_btn_title,"sg-bold"),children:f("mission.done")})]}):(0,rr.jsxs)(ir,{onClick:function(){},title:"",className:bb.btn,children:[(0,rr.jsx)("img",{src:_b,className:bb.btn_bg,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(bb.btn_title,"sg-bold"),children:[f("mission.action")," "]})]})]}),s.includes(e.code)&&(0,rr.jsx)(ir,{title:"",customStyle:{zIndex:3,position:"relative"},children:(0,rr.jsx)("div",{className:Xn()(bb.more,"sg-regular"),children:f("mission.more")})}),(0,rr.jsxs)("div",{className:bb.bottom,children:[(0,rr.jsxs)("div",{className:"row",style:{alignItems:"flex-end"},children:[(0,rr.jsx)("img",{src:kb,alt:"kim_bai_heo",className:bb.catCard}),(0,rr.jsx)("div",{className:Xn()(bb.ticketGain,"sg-bold"),children:f("mission.catCard",{count:e.ticketGain})})]}),(0,rr.jsx)("div",{children:"|"}),e.limit&&e.limit.times&&(0,rr.jsx)("div",{className:Xn()(bb.limit,"sg-regular"),children:f("mission.limit",{limit:e.limit.times,count:e.ticketCount})}),(0,rr.jsx)("div",{children:"|"}),(0,rr.jsx)("div",{className:Xn()(bb.realtime,"sg-regular"),children:e.realtime?f("mission.now"):f("mission.2weeks")})]})]},e.code)}))]})]})},Sb={depositsTab:[{code:"O1",name:"M\u1edf ti\u1ec1n g\u1eedi < 100.000.000 VN\u0110",description:"M\u1edf m\u1edbi ti\u1ec1n g\u1eedi Online d\u01b0\u1edbi 100.000.00 VN\u0110 c\xf3 k\u1ef3 h\u1ea1n t\u1eeb 1 th\xe1ng tr\u1edf l\xean tr\xean VPBank NEO",ticketGain:3,limit:{},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O2",name:"M\u1edf ti\u1ec1n g\u1eedi \u2265 100.000.000 VN\u0110",description:"M\u1edf m\u1edbi ti\u1ec1n g\u1eedi Online t\u1eeb 100.000.00 VN\u0110 c\xf3 k\u1ef3 h\u1ea1n t\u1eeb 1 th\xe1ng tr\u1edf l\xean tr\xean VPBank NEO",ticketGain:10,limit:{},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O3",name:"V\u1ed1n s\u01b0\u01a1ng s\u01b0\u01a1ng",description:"M\u1edf m\u1edbi kho\u1ea3n vay h\u1ea1n m\u1ee9c th\u1ea5u chi Online d\u01b0\u1edbi 30.000.000 VN\u0110",ticketGain:2,limit:{times:1},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O4",name:"V\u1ed1n \u0111\u1ea7y v\xed",description:"M\u1edf m\u1edbi kho\u1ea3n vay h\u1ea1n m\u1ee9c th\u1ea5u chi Online t\u1eeb 30.000.000 VN\u0110 t\u1edbi 50.000.000 VN\u0110",ticketGain:3,limit:{times:1},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O5",name:"V\u1ed1n d\u1ed3i d\xe0o",description:"M\u1edf m\u1edbi kho\u1ea3n vay h\u1ea1n m\u1ee9c th\u1ea5u chi Online t\u1eeb 50.000.000 VN\u0110 tr\u1edf l\xean",ticketGain:5,limit:{times:1},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O6",name:"V\u1ed1n si\xeau t\u1ed1c",description:"Gi\u1ea3i ng\xe2n kho\u1ea3n vay t\xedn ch\u1ea5p th\xe0nh c\xf4ng tr\xean VPBank NEO",ticketGain:2,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0}],transferTab:[{code:"T1",name:"Chuy\u1ec3n kho\u1ea3n th\u1ea7n t\u1ed1c",description:"Th\u1ef1c hi\u1ec7n chuy\u1ec3n ti\u1ec1n t\u1edbi t\xe0i kho\u1ea3n ng\u01b0\u1eddi nh\u1eadn kh\xe1c gi\xe1 tr\u1ecb t\u1eeb 50.000 VN\u0110 tr\u1edf l\xean tr\xean VPBank NEO",ticketGain:1,limit:{times:45,duration:{amount:1,unit:"months"}},realtime:!0,hiddenActionBtn:!1,ticketCount:0},{code:"T2",name:"Chuy\u1ec3n ti\u1ec1n t\u1edbi VNPOST",description:'S\u1eed d\u1ee5ng t\xednh n\u0103ng chuy\u1ec3n ti\u1ec1n "T\u1edbi ng\u01b0\u1eddi nh\u1eadn t\u1ea1i VNPOST',ticketGain:1,limit:{times:5},realtime:!0,hiddenActionBtn:!1,ticketCount:0},{code:"T3",name:"Thanh to\xe1n nhanh g\u1ecdn",description:"Thanh to\xe1n h\xf3a \u0111\u01a1n t\u1eeb 50.000 VN\u0110 tr\u1edf l\xean (\u0111i\u1ec7n, n\u01b0\u1edbc, truy\u1ec1n h\xecnh, h\u1ecdc ph\xed, n\u1ea1p ti\u1ec1n ch\u1ee9ng kho\xe1n,...) tr\xean VPBank NEO",ticketGain:1,limit:{times:20},realtime:!0,hiddenActionBtn:!1,ticketCount:0},{code:"T4",name:"N\u1ea1p ti\u1ec1n d\u1ebf y\xeau",description:"N\u1ea1p ti\u1ec1n \u0111i\u1ec7n tho\u1ea1i: Tr\u1ea3 tr\u01b0\u1edbc, tr\u1ea3 sau, mua m\xe3 th\u1ebb c\xe0o.\nMua g\xf3i c\u01b0\u1edbc data: N\u1ea1p ti\u1ec1n, mua m\xe3 th\u1ebb c\xe0o\nGi\xe1 tr\u1ecb t\u1eeb 50.000 VN\u0110 tr\u1edf l\xean",ticketGain:1,limit:{times:20},realtime:!0,hiddenActionBtn:!1,ticketCount:0},{code:"T5",name:"S\u1eafm T\u1ebft th\u1ea3 ga v\u1edbi th\u1ebb t\xedn d\u1ee5ng",description:"S\u1edf h\u1eefu t\xe0i kho\u1ea3n thanh to\xe1n t\u1ea1i VPBank v\xe0 chi ti\xeau v\u1edbi th\u1ebb t\xedn d\u1ee5ng t\u1eeb 5.000.000 VN\u0110",ticketGain:1,limit:{times:20},realtime:!1,hiddenActionBtn:!1,ticketCount:0}],newAccountTab:[{code:"N4",name:"V\u1ecb th\u1ebf quy\u1ec1n n\u0103ng",description:"\u0110\u1ecbnh danh l\xe0 H\u1ed9i vi\xean VPBank Diamond th\xe0nh c\xf4ng trong th\u1eddi gian di\u1ec5n ra ch\u01b0\u01a1ng tr\xecnh",ticketGain:40,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0},{code:"N3",name:"B\u1ee9t ph\xe1 s\xe0nh \u0111i\u1ec7u",description:"\u0110\u1ecbnh danh l\xe0 H\u1ed9i vi\xean VPBank Prime th\xe0nh c\xf4ng trong th\u1eddi gian di\u1ec5n ra ch\u01b0\u01a1ng tr\xecnh",ticketGain:1,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0},{code:"N1",name:"M\u1edf t\xe0i kho\u1ea3n VPBank NEO",description:"\u0110\u1ecbnh danh l\xe0 H\u1ed9i vi\xean VPBank Prime th\xe0nh c\xf4ng trong th\u1eddi gian di\u1ec5n ra ch\u01b0\u01a1ng tr\xecnh",ticketGain:5,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0},{code:"N2",name:"",description:"Duy tr\xec s\u1ed1 d\u01b0 b\xecnh qu\xe2n t\xe0i kho\u1ea3n thanh to\xe1n t\u1eeb 500.000 VN\u0110 tr\u1edf l\xean",ticketGain:5,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0}]},Ab="assets/ui/moc.png",Eb=["depositsTab","transferTab","newAccountTab"],Lb=function(){var e=rb().t,t=Tn(),n=vt((0,l.useState)(1),2),r=n[0],a=n[1],o=vt((0,l.useState)([]),2),u=o[0],c=o[1],h=(0,l.useCallback)(s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a.get("/api/tickets/list");case 2:(t=e.sent).data&&c((null===(n=t.data)||void 0===n?void 0:n.tickets)||{});case 4:case"end":return e.stop()}}),e)}))),[]);return(0,l.useEffect)((function(){h()}),[h]),(0,rr.jsxs)("div",{className:sb,children:[(0,rr.jsx)("img",{src:"assets/ui/mission_bg.png",alt:"",className:ob}),(0,rr.jsx)("div",{className:Xn()(fb,"sg-bold"),children:e("mission.title")}),(0,rr.jsxs)("div",{className:db,children:[(0,rr.jsx)("div",{className:pb,children:[1,2,3].map((function(t){return(0,rr.jsxs)(ir,{onClick:function(){return a(t)},title:"",className:vb,children:[(0,rr.jsx)("img",{src:r===t?"assets/ui/active_tab.png":"assets/ui/inactive_tab.png",className:cb,alt:"activeTab"}),(0,rr.jsx)("div",{className:r===t?Xn()(mb,"sg-bold"):Xn()(mb,"sg-regular"),children:e("mission.".concat(Eb[t-1]))}),r===t&&(0,rr.jsx)("img",{className:gb,src:Ab,alt:"moc"}),r===t&&(0,rr.jsx)("img",{className:yb,src:Ab,alt:"moc"})]},t)}))}),1===r&&(0,rr.jsx)(Tb,{showGuide:["POWERFULL_POSITION","STYLIST_BREAKOUT"],showRealTime:!1,missions:Sb[Eb[r-1]].slice(0,2).map((function(e){return u[e.code]&&u[e.code]>0?f(f({},e),{},{ticketCount:u[e.code]}):e})),secondMissions:Sb[Eb[r-1]].slice(2,6).map((function(e){return u[e.code]&&u[e.code]>0?f(f({},e),{},{ticketCount:u[e.code]}):e})),specialMissions:"",mainLimit:100,title:e("mission.saveMoneyOnline"),activeTab:r}),2===r&&(0,rr.jsx)(Tb,{secondMissions:[],showGuide:["POWERFULL_POSITION","STYLIST_BREAKOUT"],showRealTime:!0,missions:Sb[Eb[1]].map((function(e){return u[e.code]&&u[e.code]>0?f(f({},e),{},{ticketCount:u[e.code]}):e})),specialMissions:"",title:"",mainLimit:"",activeTab:r}),3===r&&(0,rr.jsx)(Tb,{secondMissions:[],showGuide:["POWERFULL_POSITION","STYLIST_BREAKOUT"],showRealTime:!0,missions:Sb[Eb[2]].slice(0,2).map((function(e){return u[e.code]&&u[e.code]>0?f(f({},e),{},{ticketCount:u[e.code]}):e})),specialMissions:Sb[Eb[2]].slice(2,4).map((function(e){return u[e.code]&&u[e.code]>0?f(f({},e),{},{ticketCount:u[e.code]}):e})),title:"",mainLimit:"",activeTab:r})]}),(0,rr.jsx)("div",{className:hb,children:(0,rr.jsxs)(ir,{onClick:function(){return t("/home")},title:"",className:lb,children:[(0,rr.jsx)("img",{src:"assets/ui/primary_btn.png",className:cb,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(ub,"sg-bold"),children:[e("rule.home")," "]})]})})]})},Cb="basket_container__f0S-6",Ob="basket_background__8QY9r",Pb="basket_btn__B521C",Ib="basket_btn_title__sWzq8",Nb="basket_btn_bg__I5O7u",Rb="basket_bottom__vpCSG",Fb="basket_title__Jd2nr",Bb="basket_content__AOqqJ",Db="basket_tabs__0ZBld",jb="basket_tab_btn__qwxLJ",Ub="basket_tab_btn_title__bKw9a",Vb="basket_moc1__tSZiy",Gb="basket_moc2__TmyNJ",zb="gift_container__WPXr-",Wb="gift_main_content__e-oC2",Hb="gift_gift_content__x9VPq",Yb="gift_second__89Wav",Xb="gift_bg__R8PqX",qb="gift_content__FM6IU",$b="gift_giftBtn__Lhaq3",Kb="gift_text__lJJZw",Qb="gift_title__21AhX",Zb="gift_description__3Xlxw",Jb="gift_detail__Wu+oH",e_="gift_main_title__2L1eg",t_="gift_moc1__giBfs",n_="gift_moc2__He+dv",r_="gift_gift__ovG0b",i_="gift_giftContainer__VaOon",a_="gift_money__JiUsZ",s_="gift_value__J+a21",o_="gift_vnd__AYnIp",l_=n(658),u_=n.n(l_),c_="giftModal_container__Rjn7E",h_="giftModal_closeButton__kcseN",f_="giftModal_header__v1hUv",d_="giftModal_custom__0FxjJ",p_="giftModal_taiLocTitle__P8-GG",v_="giftModal_gift__n-zIM",m_="giftModal_moc1__cRsvM",g_="giftModal_moc2__3DLd3",y_="giftModal_bottom__DoxLd",b_="giftModal_date__HnM8E",__="giftModal_congrat__Usscg",x_="giftModal_money__0RxZr",w_="giftModal_giftContainer__kRjbW",k_="giftModal_value__dP3VW",M_="assets/ui/moc.png",T_={position:"absolute",bottom:"-10%"},S_=function(e){var t=e.visible,n=e.onDismiss,r=e.gift,i=rb().t;return(0,rr.jsx)(Tr,{visible:t,onDismiss:n,children:(0,rr.jsxs)("div",{children:[(0,rr.jsxs)("div",{className:c_,style:{backgroundImage:"url(".concat("../../assets/ui/gift_top_bg.png",")")},children:[(0,rr.jsx)("div",{className:f_,children:(0,rr.jsx)("div",{className:Xn()(r.type.includes("cash")?d_:p_,"sg-bold"),children:i("modal.gift.".concat(r.type.includes("cash")?"cash":r.key))})}),r.type.includes("cash")?(0,rr.jsxs)("div",{className:w_,children:[(0,rr.jsx)("img",{alt:"gift",src:r.url,className:v_}),(0,rr.jsx)("div",{className:x_,children:(0,rr.jsx)("div",{className:Xn()(k_,"sg-semibold"),children:"".concat(r.value," VN\u0110")})})]}):(0,rr.jsx)("img",{alt:"gift",src:r.url,className:v_}),(0,rr.jsx)("img",{className:m_,src:M_,alt:"moc"}),(0,rr.jsx)("img",{className:g_,src:M_,alt:"moc"})]}),(0,rr.jsxs)("div",{className:y_,children:[(0,rr.jsx)("div",{className:Xn()(b_,"sg-medium"),children:"".concat(i("basket.rewardedAt")).concat(u_()(r.rewardedAt).format("DD/M/YYYY"))}),(0,rr.jsx)("div",{className:Xn()(__,"sg-regular"),children:i("basket.gift.".concat(r.key))}),(0,rr.jsx)(ir,{title:"close",onClick:n,customStyle:T_,children:(0,rr.jsx)("div",{className:h_,style:{backgroundImage:"url(".concat("../../assets/ui/close.png",")")}})})]})]})})},A_="assets/ui/gift_card.png",E_="assets/ui/moc.png",L_=function(e){var t=e.rewards,n=rb().t,r=vt((0,l.useState)([]),2),i=r[0],a=r[1],s=vt((0,l.useState)([]),2),o=s[0],u=s[1],c=vt((0,l.useState)(),2),h=c[0],f=c[1],d=vt((0,l.useState)(!1),2),p=d[0],v=d[1],m=(0,l.useCallback)((function(e){f(e),v(!0)}),[]);return(0,l.useEffect)((function(){t&&t.length>0&&(a(t.filter((function(e){return!!e.issued}))),u(t.filter((function(e){return!e.issued}))))}),[t]),(0,rr.jsxs)("div",{className:zb,children:[h&&(0,rr.jsx)(S_,{gift:h,visible:p,onDismiss:function(){return v(!1)}}),(0,rr.jsxs)("div",{className:Wb,children:[(0,rr.jsx)("div",{className:Xn()(e_,"sg-bold"),children:0===o.length&&0===i.length?n("basket.noGift"):n("basket.notReceivedTitle")}),o.map((function(e){return(0,rr.jsx)(ir,{className:$b,title:"",onClick:function(){return m(e)},children:(0,rr.jsxs)("div",{className:Hb,children:[(0,rr.jsx)("img",{alt:"card",src:A_,className:Xb}),(0,rr.jsxs)("div",{className:qb,children:[e.type.includes("cash")?(0,rr.jsxs)("div",{className:i_,children:[(0,rr.jsx)("img",{alt:"gift",src:e.url,className:r_}),(0,rr.jsxs)("div",{className:a_,children:[(0,rr.jsx)("div",{className:Xn()(s_,"sg-semibold"),children:e.value}),(0,rr.jsx)("div",{className:Xn()(o_,"sg-semibold"),children:"VN\u0110"})]})]}):(0,rr.jsx)("img",{alt:"gift",src:e.url,className:r_}),(0,rr.jsxs)("div",{className:Kb,children:[(0,rr.jsx)("div",{className:Xn()(Qb,"sg-semibold"),children:e.name}),(0,rr.jsx)("div",{className:Xn()(Zb,"sg-regular"),children:"".concat(n("basket.rewardedAt")).concat(u_()(e.rewardedAt).format("DD/M/YYYY"))})]}),(0,rr.jsxs)("div",{className:Xn()(Jb,"sg-semibold"),children:[n("basket.detail")," "]})]})]})},e._id)}))]}),i&&i.length>0&&(0,rr.jsxs)("div",{className:Xn()(Wb,Yb),children:[(0,rr.jsx)("div",{className:Xn()(e_,"sg-bold"),children:n("basket.receivedTitle")}),(0,rr.jsx)("img",{className:t_,src:E_,alt:"moc"}),(0,rr.jsx)("img",{className:n_,src:E_,alt:"moc"}),i.map((function(e){return(0,rr.jsx)(ir,{className:$b,title:"",onClick:function(){return m(e)},children:(0,rr.jsxs)("div",{className:Hb,children:[(0,rr.jsx)("img",{alt:"card",src:A_,className:Xb}),(0,rr.jsxs)("div",{className:qb,children:[e.type.includes("cash")?(0,rr.jsxs)("div",{className:i_,children:[(0,rr.jsx)("img",{alt:"gift",src:e.url,className:r_}),(0,rr.jsxs)("div",{className:a_,children:[(0,rr.jsx)("div",{className:Xn()(s_,"sg-semibold"),children:e.value}),(0,rr.jsx)("div",{className:Xn()(o_,"sg-semibold"),children:"VN\u0110"})]})]}):(0,rr.jsx)("img",{alt:"gift",src:e.url,className:r_}),(0,rr.jsxs)("div",{className:Kb,children:[(0,rr.jsx)("div",{className:Xn()(Qb,"sg-semibold"),children:e.name}),(0,rr.jsx)("div",{className:Xn()(Zb,"sg-regular"),children:"".concat(n("basket.rewardedAt")).concat(u_()(e.rewardedAt).format("DD/M/YYYY"))})]}),(0,rr.jsxs)("div",{className:Xn()(Jb,"sg-semibold"),children:[n("basket.detail")," "]})]})]})},e._id)}))]})]})},C_="pieces_container__20Yc7",O_="pieces_main_content__AuCw1",P_="pieces_main_title__YL+de",I_="pieces_pieces__hHu3K",N_="pieces_piecesBg__yM-4d",R_="pieces_content__mVKHE",F_="pieces_top_left_piece__FKk0E",B_="pieces_phat1__c-Zc4",D_="pieces_top_right_piece__za-Br",j_="pieces_phat2__Qc7-i",U_="pieces_bottom_left_peace__lg2Pc",V_="pieces_phat3__33nnn",G_="pieces_bottom_right_piece__PMidp",z_="pieces_phat4__Rugm6",W_="pieces_vp_pieces__jBg8n",H_="pieces_tvp__Kl5Vx",Y_="pieces_tvpValue__hlbLx",X_="pieces_btn__VUN0p",q_="pieces_btn_title__Xw9CT",$_="pieces_btn_bg__sLY6A",K_="pieces_piecesCount__+TraX",Q_="combine_container__v6lAg",Z_="combine_closeButton__ycL+C",J_="combine_header__nAwop",ex="combine_custom__Nmfo3",tx="combine_gift__+nQTg",nx="combine_bottom__IDsqL",rx="combine_btn__SaI8X",ix="combine_btn_title__HMrbu",ax="combine_btn_bg__L+OrP",sx="combine_btns__xQ9QM",ox="combine_done__Deiuw",lx="combine_tvp__Dnfgi",ux={position:"absolute",bottom:"-10%"},cx=function(e){var t=e.visible,n=e.onDismiss,r=rb().t,i=Tn();return(0,rr.jsx)(Tr,{visible:t,onDismiss:n,children:(0,rr.jsxs)("div",{children:[(0,rr.jsxs)("div",{className:Q_,style:{backgroundImage:"url(".concat("../../assets/ui/gift_top_bg.png",")")},children:[(0,rr.jsx)("div",{className:J_,children:(0,rr.jsx)("div",{className:Xn()(ex,"sg-bold"),children:"Ch\xfac m\u1eebng!"})}),(0,rr.jsx)("img",{alt:"gift",src:"assets/ui/gift_tvp.png",className:tx}),(0,rr.jsx)("div",{className:Xn()(ox,"sg-regular"),children:"B\u1ea1n \u0111\xe3 gh\xe9p th\xe0nh c\xf4ng"}),(0,rr.jsx)("div",{className:Xn()(lx,"sg-bold"),children:"hoa Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t!"}),(0,rr.jsxs)("div",{className:sx,children:[(0,rr.jsxs)(ir,{onClick:function(){return i("/home")},title:"",className:rx,children:[(0,rr.jsx)("img",{src:"assets/ui/primary_btn.png",className:ax,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(ix,"sg-bold"),children:[r("rule.home")," "]})]}),(0,rr.jsxs)(ir,{onClick:function(){return i("/basket")},title:"",className:rx,children:[(0,rr.jsx)("img",{src:"assets/ui/blue_btn.png",className:ax,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(ix,"sg-bold"),children:[r("rule.home")," "]})]})]})]}),(0,rr.jsx)("div",{className:nx,children:(0,rr.jsx)(ir,{title:"close",onClick:n,customStyle:ux,children:(0,rr.jsx)("div",{className:Z_,style:{backgroundImage:"url(".concat("../../assets/ui/close.png",")")}})})})]})})},hx=function(e){var t=e.rewards,n=rb().t,r=vt((0,l.useState)(!1),2),a=r[0],o=r[1],u=vt((0,l.useState)(!1),2),c=u[0],h=u[1],f=(0,l.useMemo)((function(){var e=t.filter((function(e){return!!e.issued}));return{phat1:e.filter((function(e){return"phat1"===e.key})).length,phat2:e.filter((function(e){return"phat2"===e.key})).length,phat3:e.filter((function(e){return"phat3"===e.key})).length,phat4:e.filter((function(e){return"phat4"===e.key})).length}}),[t]),d=(0,l.useMemo)((function(){return!f.phat1||!f.phat2||!f.phat3||!f.phat4}),[f]),p=(0,l.useCallback)(s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,$a.post("/api/rewards/combine");case 4:(t=e.sent).data.ok?(h(!1),o(!0)):(h(!1),Va(t.data.message)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),h(!1),Va(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]);return(0,rr.jsxs)("div",{className:C_,children:[(0,rr.jsxs)("div",{className:O_,children:[(0,rr.jsx)("div",{className:Xn()(P_,"sg-regular"),dangerouslySetInnerHTML:{__html:n("basket.collection")}}),(0,rr.jsxs)("div",{className:I_,children:[(0,rr.jsx)("img",{alt:"pieces",src:"assets/ui/pieces_bg.png",className:N_}),(0,rr.jsxs)("div",{className:R_,children:[(0,rr.jsx)("img",{alt:"vp_pieces",src:"assets/ui/vpb_pieces.png",className:W_}),f.phat1>0&&(0,rr.jsxs)("div",{children:[(0,rr.jsx)("img",{alt:"top_left_piece",src:"assets/ui/top_left_piece.png",className:F_}),(0,rr.jsx)("div",{className:Xn()(K_,"sg-bold",B_),children:"X".concat(f.phat1)})]}),f.phat2>0&&(0,rr.jsxs)("div",{children:[(0,rr.jsx)("img",{alt:"top_right_piece",src:"assets/ui/top_right_piece.png",className:D_}),(0,rr.jsx)("div",{className:Xn()(K_,"sg-bold",j_),children:"X".concat(f.phat2)})]}),f.phat3>0&&(0,rr.jsxs)("div",{children:[(0,rr.jsx)("img",{alt:"bottom_left_peace",src:"assets/ui/bottom_left_peace.png",className:U_}),(0,rr.jsx)("div",{className:Xn()(K_,"sg-bold",V_),children:"X".concat(f.phat3)})]}),f.phat4>0&&(0,rr.jsxs)("div",{children:[(0,rr.jsx)("img",{alt:"bottom_right_piece",src:"assets/ui/bottom_right_piece.png",className:G_}),(0,rr.jsx)("div",{className:Xn()(K_,"sg-bold",z_),children:"X".concat(f.phat4)})]}),(0,rr.jsx)("div",{className:Xn()(H_,"sg-bold"),children:n("gift.tvp")}),(0,rr.jsx)("div",{className:Xn()(Y_,"sg-semibold"),children:n("basket.tvpValue")})]}),(0,rr.jsxs)(ir,{disabled:d,onClick:function(){return p()},title:"",className:X_,children:[(0,rr.jsx)("img",{src:d?"assets/ui/disabledBtn.png":"assets/ui/primary_btn.png",className:$_,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(q_,"sg-bold"),children:[n("basket.graft")," "]})]})]})]}),(0,rr.jsx)(cx,{visible:a,onDismiss:function(){return o(!1)}}),(0,rr.jsx)(as,{visible:c})]})},fx={TVP:{url:"assets/ui/gift_tvp.png",name:"tvp",value:"123.456.789",treasureTextColor:"#D81C23",treasureBottomBgColor:"linear-gradient(180deg, #D81C23 0%, #9B030A 100%)"},TVL:{url:"assets/ui/gift_tvl.png",name:"tvl",value:"8.888.888",treasureTextColor:"#158A5A",treasureBottomBgColor:"linear-gradient(180deg, #24E076 0%, #128946 100%)"},TVT:{url:"assets/ui/gift_tvt.png",name:"tvt",value:"6.666.666",treasureTextColor:"#3CAE9C",treasureBottomBgColor:"linear-gradient(180deg, #49B6A4 0%, #2D8A7A 100%)"},LID:{url:"assets/ui/gift_lid.png",name:"lid",value:"2.023.000",treasureTextColor:"#700B9F",treasureBottomBgColor:"linear-gradient(180deg, #A36FCC 0%, #7A29C8 100%)"}},dx=[{key:"868",type:"cash-868",name:"L\xec x\xec 868 VN\u0110",url:"assets/ui/gift_cash.png",value:"868"},{key:"2023",type:"cash-2023",name:"L\xec x\xec 2.023 VN\u0110",url:"assets/ui/gift_cash.png",value:"2.023"},{key:"6868",type:"cash-6868",name:"L\xec x\xec 6.868 VN\u0110",url:"assets/ui/gift_cash.png",value:"6.868"},{key:"10k",type:"cash-10k",name:"L\xec x\xec 10.000 VN\u0110",url:"assets/ui/gift_cash.png",value:"10.000"},{key:"20k",type:"cash-20k",name:"L\xec x\xec 20.000 VN\u0110",url:"assets/ui/gift_cash.png",value:"20.000"},{key:"50k",type:"cash-50k",name:"L\xec x\xec 50.000 VN\u0110",url:"assets/ui/gift_cash.png",value:"50.000"},{key:"100k",type:"cash-100k",name:"L\xec x\xec 100.000 VN\u0110",url:"assets/ui/gift_cash.png",value:"100.000"},{key:"phat1",type:"phat-1",name:"M\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t",url:"assets/ui/gift_phat_1.png"},{key:"phat2",type:"phat-2",name:"M\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t",url:"assets/ui/gift_phat_2.png"},{key:"phat3",type:"phat-3",name:"M\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t",url:"assets/ui/gift_phat_3.png"},{key:"phat4",type:"phat-4",name:"M\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t",url:"assets/ui/gift_phat_4.png"},{key:"lynkid",type:"lynkid",name:"Voucher LynkID",url:"assets/ui/gift_lid.png"},{key:"tai",type:"tai",name:"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - T\xe0i",url:"assets/ui/gift_tvt.png"},{key:"loc",type:"loc",name:"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c",url:"assets/ui/gift_tvl.png"}],px="assets/ui/moc.png",vx=["gifts","puzzlePieces"],mx=function(){var e=rb().t,t=Tn(),n=vt((0,l.useState)(1),2),r=n[0],a=n[1],o=Mn(),u=vt((0,l.useState)([]),2),c=u[0],h=u[1],d=(0,l.useCallback)(s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a.get("/api/rewards/");case 2:(t=e.sent).data&&t.data.rewards&&h(t.data.rewards.map((function(e){var t,n,r,i;return f(f({},e),{},{name:null===(t=dx.find((function(t){return t.type===e.type})))||void 0===t?void 0:t.name,url:null===(n=dx.find((function(t){return t.type===e.type})))||void 0===n?void 0:n.url,key:null===(r=dx.find((function(t){return t.type===e.type})))||void 0===r?void 0:r.key,value:null===(i=dx.find((function(t){return t.type===e.type})))||void 0===i?void 0:i.value})})));case 4:case"end":return e.stop()}}),e)}))),[]);return(0,l.useEffect)((function(){d()}),[d]),(0,l.useEffect)((function(){var e,t=null===o||void 0===o||null===(e=o.state)||void 0===e?void 0:e.tab;"number"===typeof t&&a(t)}),[o.state]),(0,rr.jsxs)("div",{className:Cb,children:[(0,rr.jsx)("img",{src:"assets/ui/basket_bg.png",alt:"",className:Ob}),(0,rr.jsx)("div",{className:Xn()(Fb,"sg-bold"),children:e("basket.title")}),(0,rr.jsxs)("div",{className:Bb,children:[(0,rr.jsx)("div",{className:Db,children:[1,2].map((function(t){return(0,rr.jsxs)(ir,{onClick:function(){return a(t)},title:"",className:jb,children:[(0,rr.jsx)("img",{src:r===t?"assets/ui/active_tab.png":"assets/ui/inactive_tab.png",className:Nb,alt:"activeTab"}),(0,rr.jsx)("div",{className:r===t?Xn()(Ub,"sg-bold"):Xn()(Ub,"sg-regular"),children:e("basket.".concat(vx[t-1]))}),r===t&&(0,rr.jsx)("img",{className:Vb,src:px,alt:"moc"}),r===t&&(0,rr.jsx)("img",{className:Gb,src:px,alt:"moc"})]},t)}))}),1===r&&(0,rr.jsx)(L_,{rewards:c}),2===r&&(0,rr.jsx)(hx,{rewards:c})]}),(0,rr.jsx)("div",{className:Rb,children:(0,rr.jsxs)(ir,{onClick:function(){return t("/home")},title:"",className:Pb,children:[(0,rr.jsx)("img",{src:"assets/ui/primary_btn.png",className:Nb,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(Ib,"sg-bold"),children:[e("rule.home")," "]})]})})]})},gx="treasure_container__HWb+n",yx="treasure_background__xcjnB",bx="treasure_btn__nUYXe",_x="treasure_btn_title__SCLVU",xx="treasure_btn_bg__KvOa9",wx="treasure_bottom__Duzp9",kx="treasure_title__A9lL0",Mx="treasure_content__1YrlB",Tx="treasure_gifts__1nYzx",Sx="treasure_otherGift__ibbRi",Ax="treasure_lixi__9LIsu",Ex="treasure_otherRewards__iHXt8",Lx="giftItem_itemContainer__1LTOE",Cx="giftItem_giftImg__Qh4Ss",Ox="giftItem_bigGiftImg__wHPeM",Px="giftItem_bottom__6CI6g",Ix="giftItem_content__Jdzzf",Nx="giftItem_value__Z-aEO",Rx="giftItem_count__A-cPy",Fx="giftItem_name__K7Fb2",Bx="giftItem_text__IbTEp",Dx=function(e){var t=e.code,n=e.count,r=e.url,i=e.name,a=e.value,s=e.t,o=e.treasureTextColor,l=e.treasureBottomBgColor;return(0,rr.jsxs)("div",{className:Lx,children:[(0,rr.jsxs)("div",{className:Ix,children:[(0,rr.jsx)("img",{src:r,alt:"gift_".concat(i),className:"TVP"===t?Ox:Cx}),(0,rr.jsxs)("div",{className:Bx,children:[(0,rr.jsx)("div",{className:Xn()(Fx,"sg-bold"),style:{color:o},children:s("gift.".concat(i))}),"LID"===t&&(0,rr.jsx)("div",{className:Xn()(Nx,"sg-regular"),children:s("treasure.voucher")}),(0,rr.jsx)("div",{className:Xn()(Nx,"sg-regular"),children:s("treasure.value",{value:a})})]})]}),(0,rr.jsx)("div",{className:Xn()(Px),style:{background:l},children:(0,rr.jsxs)("div",{className:Xn()(Rx,"sg-regular"),children:[(0,rr.jsx)("div",{children:s("treasure.count")}),(0,rr.jsx)("div",{className:"sg-semibold",style:{marginLeft:3},children:n<10?"0".concat(n):n})]})})]})},jx=[{code:"TVP",count:3},{code:"TVL",count:6},{code:"TVT",count:8},{code:"LID",count:300}],Ux=function(){var e=rb().t,t=Tn();return(0,rr.jsxs)("div",{className:gx,children:[(0,rr.jsx)("img",{src:"assets/ui/treasure_bg.png",alt:"",className:yx}),(0,rr.jsx)("div",{className:Xn()(kx,"sg-bold"),children:e("treasure.title")}),(0,rr.jsxs)("div",{className:Mx,children:[(0,rr.jsx)("div",{className:Tx,children:jx.map((function(t){return(0,rr.jsx)(Dx,f({code:t.code,count:t.count,t:e},fx[t.code]),t.code)}))}),(0,rr.jsxs)("div",{className:Sx,children:[(0,rr.jsx)("img",{alt:"lixi",src:"assets/ui/lixi.png",className:Ax}),(0,rr.jsx)("div",{className:Xn()(Ex,"sg-medium"),children:e("treasure.otherGifts")})]})]}),(0,rr.jsx)("div",{className:wx,children:(0,rr.jsxs)(ir,{onClick:function(){return t("/home")},title:"",className:bx,children:[(0,rr.jsx)("img",{src:"assets/ui/primary_btn.png",className:xx,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(_x,"sg-semibold"),children:[e("rule.home")," "]})]})})]})},Vx="rule_container__OUnGJ",Gx="rule_background__kYXVF",zx="rule_btn__C8tiw",Wx="rule_btn_title__iD0lV",Hx="rule_btn_bg__uhSrv",Yx="rule_content__rBVbU",Xx="rule_bottom__vlkiZ",qx="rule_ruleContent__vHshx",$x="rule_title__Bo48o",Kx=function(){var e=rb().t,t=Tn();return(0,rr.jsxs)("div",{className:Vx,children:[(0,rr.jsx)("img",{src:"assets/ui/main_bg.png",alt:"",className:Gx}),(0,rr.jsx)("div",{className:Xn()($x,"sg-bold"),children:e("rule.title")}),(0,rr.jsx)("div",{className:Yx,children:(0,rr.jsx)("div",{className:Xn()(qx,"sg-regular"),children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever sinc Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever sinc Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged."})}),(0,rr.jsx)("div",{className:Xx,children:(0,rr.jsxs)(ir,{onClick:function(){return t("/home")},title:"",className:zx,children:[(0,rr.jsx)("img",{src:"assets/ui/primary_btn.png",className:Hx,alt:"back_btn"}),(0,rr.jsxs)("div",{className:Xn()(Wx,"sg-bold"),children:[e("rule.home")," "]})]})})]})},Qx="noticeModal_container__oWpwM",Zx="noticeModal_closeButton__iyAgv",Jx="noticeModal_title__FzOeW",ew={position:"absolute",bottom:"-20%"},tw=function(e){var t=e.visible,n=e.onDismiss,r=e.notice;e.closeable;return(0,rr.jsx)(Tr,{visible:t,onDismiss:n,zIndex:1e9,children:(0,rr.jsxs)("div",{className:Qx,style:{backgroundImage:"url(".concat("../../assets/ui/settings_popup.png",")")},children:[(0,rr.jsx)(ir,{title:"close",onClick:n,customStyle:ew,children:(0,rr.jsx)("div",{className:Zx,style:{backgroundImage:"url(".concat("../../assets/ui/close.png",")")}})}),(0,rr.jsx)("div",{className:Xn()(Jx,"sg-semibold"),children:r})]})})},nw=(0,l.createContext)({state:{visible:!1,notice:"",closeable:!0},setState:function(){}}),rw=function(e){var t=e.children,n=vt((0,l.useState)({visible:!1,notice:"",closeable:!0}),2),r=n[0],i=n[1],a=(0,l.useMemo)((function(){return{state:r,setState:i}}),[r]);return(0,l.useEffect)((function(){var e=function(e){i(f({},e))};return ja.addListener(Kn,e),function(){ja.removeListener(Kn,e)}}),[]),(0,rr.jsxs)(nw.Provider,{value:a,children:[t,(0,rr.jsx)(tw,{visible:r.visible,notice:r.notice,closeable:r.closeable,onDismiss:function(){r.closeable&&i((function(e){return f(f({},e),{},{visible:!1,notice:""})}))}})]})};function iw(){return(0,l.useEffect)((function(){s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr.initSounds("../../assets/sounds/");case 2:case"end":return e.stop()}}),e)})))()}),[]),(0,l.useEffect)((function(){var e=Ar();nr.setMusicEnable(e),nr.mute(Hn.MUSIC,!e);var t=Cr();nr.setSoundFxEnable(t),nr.mute(Hn.SOUND_FX,!t)}),[]),(0,l.useEffect)((function(){var e=function(){"visible"===document.visibilityState?(nr.setIsFocus(!0),nr.muteAll(!1)):(nr.setIsFocus(!1),nr.muteAll(!0))};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),(0,rr.jsx)(Un,{children:(0,rr.jsx)(Ny,{i18n:My,children:(0,rr.jsx)(ns,{children:(0,rr.jsxs)(Bn,{children:[(0,rr.jsx)(Rn,{path:"*",element:(0,rr.jsx)(Nn,{to:"/"})}),(0,rr.jsx)(Rn,{path:"/game",element:(0,rr.jsx)(vg,{})}),(0,rr.jsx)(Rn,{path:"/",element:(0,rr.jsx)(vg,{})}),(0,rr.jsx)(Rn,{path:"/home",element:(0,rr.jsx)(ab,{})}),(0,rr.jsx)(Rn,{path:"/mission",element:(0,rr.jsx)(Lb,{})}),(0,rr.jsx)(Rn,{path:"/basket",element:(0,rr.jsx)(mx,{})}),(0,rr.jsx)(Rn,{path:"/treasure",element:(0,rr.jsx)(Ux,{})}),(0,rr.jsx)(Rn,{path:"/rule",element:(0,rr.jsx)(Kx,{})})]})})})})}var aw=function(){return(0,rr.jsx)(ct,{store:mg,children:(0,rr.jsx)(rw,{children:(0,rr.jsx)(iw,{})})})},sw=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ow(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}Qn(),window.addEventListener("resize",(function(){Qn()})),e.createRoot(document.getElementById("root")).render((0,rr.jsx)(aw,{})),t(),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");console.log(t),sw?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ow(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ow(t,e)}))}}()}()}();