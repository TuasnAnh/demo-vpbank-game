/*! For license information please see main.da70adef.js.LICENSE.txt */
!function(){var e={9881:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},4384:function(e){var t=.1,n="function"===typeof Float32Array;function i(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function a(e){return 3*e}function s(e,t,n){return((i(t,n)*e+r(t,n))*e+a(t))*e}function o(e,t,n){return 3*i(t,n)*e*e+2*r(t,n)*e+a(t)}function l(e){return e}e.exports=function(e,i,r,a){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===i&&r===a)return l;for(var u=n?new Float32Array(11):new Array(11),c=0;c<11;++c)u[c]=s(c*t,e,r);function h(n){for(var i=0,a=1;10!==a&&u[a]<=n;++a)i+=t;--a;var l=i+(n-u[a])/(u[a+1]-u[a])*t,c=o(l,e,r);return c>=.001?function(e,t,n,i){for(var r=0;r<4;++r){var a=o(t,n,i);if(0===a)return t;t-=(s(t,n,i)-e)/a}return t}(n,l,e,r):0===c?l:function(e,t,n,i,r){var a,o,l=0;do{(a=s(o=t+(n-t)/2,i,r)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++l<10);return o}(n,i,i+t,e,r)}return function(e){return 0===e?0:1===e?1:s(h(e),i,a)}}},6123:function(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)i.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},658:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",a="minute",s="hour",o="day",l="week",u="month",c="quarter",h="year",f="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+g(i,2,"0")+":"+g(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,u),a=n-r<0,s=t.clone().add(i+(a?-1:1),u);return+(-(i+(n-r)/(a?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:h,w:l,d:o,D:f,h:s,m:a,s:r,ms:i,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",b={};b[_]=m;var x=function(e){return e instanceof T},w=function e(t,n,i){var r;if(!t)return _;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(r=a),n&&(b[a]=n,r=a);var s=t.split("-");if(!r&&s.length>1)return e(s[0])}else{var o=t.name;b[o]=t,r=o}return!i&&r&&(_=r),r||!i&&_},k=function(e,t){if(x(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},M=y;M.l=w,M.i=x,M.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function m(e){this.$L=w(e.locale,null,!0),this.parse(e)}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(M.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(p);if(i){var r=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return M},g.isValid=function(){return!(this.$d.toString()===d)},g.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return k(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<k(e)},g.$g=function(e,t,n){return M.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,i=!!M.u(t)||t,c=M.p(e),d=function(e,t){var r=M.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(o)},p=function(e,t){return M.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case h:return i?d(1,0):d(31,11);case u:return i?d(1,m):d(0,m+1);case l:var _=this.$locale().weekStart||0,b=(v<_?v+7:v)-_;return d(i?g-b:g+(6-b),m);case o:case f:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case a:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,l=M.p(e),c="set"+(this.$u?"UTC":""),d=(n={},n[o]=c+"Date",n[f]=c+"Date",n[u]=c+"Month",n[h]=c+"FullYear",n[s]=c+"Hours",n[a]=c+"Minutes",n[r]=c+"Seconds",n[i]=c+"Milliseconds",n)[l],p=l===o?this.$D+(t-this.$W):t;if(l===u||l===h){var v=this.clone().set(f,1);v.$d[d](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[M.p(e)]()},g.add=function(i,c){var f,d=this;i=Number(i);var p=M.p(c),v=function(e){var t=k(d);return M.w(t.date(t.date()+Math.round(e*i)),d)};if(p===u)return this.set(u,this.$M+i);if(p===h)return this.set(h,this.$y+i);if(p===o)return v(1);if(p===l)return v(7);var m=(f={},f[a]=t,f[s]=n,f[r]=e,f)[p]||1,g=this.$d.getTime()+i*m;return M.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=M.z(this),a=this.$H,s=this.$m,o=this.$M,l=n.weekdays,u=n.months,c=function(e,n,r,a){return e&&(e[n]||e(t,i))||r[n].slice(0,a)},h=function(e){return M.s(a%12||12,e,"0")},f=n.meridiem||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:M.s(o+1,2,"0"),MMM:c(n.monthsShort,o,u,3),MMMM:c(u,o),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,l,2),ddd:c(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:M.s(a,2,"0"),h:h(1),hh:h(2),a:f(a,s,!0),A:f(a,s,!1),m:String(s),mm:M.s(s,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:r};return i.replace(v,(function(e,t){return t||p[e]||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(i,f,d){var p,v=M.p(f),m=k(i),g=(m.utcOffset()-this.utcOffset())*t,y=this-m,_=M.m(this,m);return _=(p={},p[h]=_/12,p[u]=_,p[c]=_/3,p[l]=(y-g)/6048e5,p[o]=(y-g)/864e5,p[s]=y/n,p[a]=y/t,p[r]=y/e,p)[v]||y,d?_:M.a(_)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=w(e,t,!0);return i&&(n.$L=i),n},g.clone=function(){return M.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),S=T.prototype;return k.prototype=S,[["$ms",i],["$s",r],["$m",a],["$H",s],["$W",o],["$M",u],["$y",h],["$D",f]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,T,k),e.$i=!0),k},k.locale=w,k.isDayjs=x,k.unix=function(e){return k(1e3*e)},k.en=b[_],k.Ls=b,k.p={},k}()},8041:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,i=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,a),i(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,a,s,u;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"===typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=l(e))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=c.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):p(r,r.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"===typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(a){i.once&&e.removeEventListener(t,r),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=a[e];if(void 0===l)return!1;if("function"===typeof l)i(l,this,t);else{var u=l.length,c=p(l,u);for(n=0;n<u;++n)i(c[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,a,s;if(o(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9165:function(e,t,n){"use strict";var i=n(4704).default;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;var o,l=i(t.entries());try{for(l.s();!(o=l.n()).done;)if(a=o.value,!n.has(a[0]))return!1}catch(p){l.e(p)}finally{l.f()}var u,c=i(t.entries());try{for(c.s();!(u=c.n()).done;)if(!e((a=u.value)[1],n.get(a[0])))return!1}catch(p){c.e(p)}finally{c.f()}return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;var h,f=i(t.entries());try{for(f.s();!(h=f.n()).done;)if(a=h.value,!n.has(a[0]))return!1}catch(p){f.e(p)}finally{f.f()}return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(t[a]!==n[a])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,s[a]))return!1;for(a=r;0!==a--;){var d=s[a];if(!e(t[d],n[d]))return!1}return!0}return t!==t&&n!==n}},9434:function(e,t,n){"use strict";var i=n(4704).default;function r(e){if(this.words=[],null!=(a=e)&&void 0!==a[Symbol.iterator]){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.add(r)}}catch(s){n.e(s)}finally{n.f()}}var a}r.prototype.add=function(e){this.resize(e),this.words[e>>>5]|=1<<e},r.prototype.flip=function(e){this.resize(e),this.words[e>>>5]^=1<<e},r.prototype.clear=function(){this.words=[]},r.prototype.remove=function(e){this.resize(e),this.words[e>>>5]&=~(1<<e)},r.prototype.isEmpty=function(e){for(var t=this.words.length,n=0;n<t;n++)if(0!==this.words[n])return!1;return!0},r.prototype.has=function(e){return 0!==(this.words[e>>>5]&1<<e)},r.prototype.checkedAdd=function(e){this.resize(e);var t=this.words[e>>>5],n=t|1<<e;return this.words[e>>>5]=n,(n^t)>>>e},r.prototype.trim=function(e){for(var t=this.words.length;t>0&&0===this.words[t-1];)t--;this.words=this.words.slice(0,t)},r.prototype.resize=function(e){for(var t=e+32>>>5,n=this.words.length;n<t;n++)this.words[n]=0},r.prototype.hammingWeight=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},r.prototype.hammingWeight4=function(e,t,n,i){return 16843009*((e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(n=(n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)+(i=(i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135))>>>24},r.prototype.size=function(){for(var e=0,t=this.words.length,n=this.words,i=0;i<t;i++)e+=this.hammingWeight(n[i]);return e},r.prototype.array=function(){for(var e=new Array(this.size()),t=0,n=this.words.length,i=0;i<n;++i)for(var r=this.words[i];0!=r;){var a=r&-r;e[t++]=(i<<5)+this.hammingWeight(a-1|0),r^=a}return e},r.prototype.forEach=function(e){for(var t=this.words.length,n=0;n<t;++n)for(var i=this.words[n];0!=i;){var r=i&-i;e((n<<5)+this.hammingWeight(r-1|0)),i^=r}},r.prototype.clone=function(){var e=Object.create(r.prototype);return e.words=this.words.slice(),e},r.prototype.intersects=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n<t;++n)if(0!==(this.words[n]&e.words[n]))return!0;return!1},r.prototype.intersection=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n+7<t;n+=8)this.words[n]&=e.words[n],this.words[n+1]&=e.words[n+1],this.words[n+2]&=e.words[n+2],this.words[n+3]&=e.words[n+3],this.words[n+4]&=e.words[n+4],this.words[n+5]&=e.words[n+5],this.words[n+6]&=e.words[n+6],this.words[n+7]&=e.words[n+7];for(;n<t;++n)this.words[n]&=e.words[n];var i=this.words.length;for(n=t;n<i;++n)this.words[n]=0;return this},r.prototype.intersection_size=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0,i=0;i<t;++i)n+=this.hammingWeight(this.words[i]&e.words[i]);return n},r.prototype.new_intersection=function(e){var t=Object.create(r.prototype),n=Math.min(this.words.length,e.words.length);t.words=new Array(n);for(var i=n,a=0;a+7<i;a+=8)t.words[a]=this.words[a]&e.words[a],t.words[a+1]=this.words[a+1]&e.words[a+1],t.words[a+2]=this.words[a+2]&e.words[a+2],t.words[a+3]=this.words[a+3]&e.words[a+3],t.words[a+4]=this.words[a+4]&e.words[a+4],t.words[a+5]=this.words[a+5]&e.words[a+5],t.words[a+6]=this.words[a+6]&e.words[a+6],t.words[a+7]=this.words[a+7]&e.words[a+7];for(;a<i;++a)t.words[a]=this.words[a]&e.words[a];return t},r.prototype.equals=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n<t;++n)if(this.words[n]!=e.words[n])return!1;if(this.words.length<e.words.length){var i=e.words.length;for(n=this.words.length;n<i;++n)if(0!=e.words[n])return!1}else if(e.words.length<this.words.length)for(i=this.words.length,n=e.words.length;n<i;++n)if(0!=this.words[n])return!1;return!0},r.prototype.difference=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n+7<t;n+=8)this.words[n]&=~e.words[n],this.words[n+1]&=~e.words[n+1],this.words[n+2]&=~e.words[n+2],this.words[n+3]&=~e.words[n+3],this.words[n+4]&=~e.words[n+4],this.words[n+5]&=~e.words[n+5],this.words[n+6]&=~e.words[n+6],this.words[n+7]&=~e.words[n+7];for(;n<t;++n)this.words[n]&=~e.words[n];return this},r.prototype.difference_size=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0,i=0;i<t;++i)n+=this.hammingWeight(this.words[i]&~e.words[i]);for(var r=this.words.length;i<r;++i)n+=this.hammingWeight(this.words[i]);return n},r.prototype.toString=function(){return"{"+this.array().join(",")+"}"},r.prototype.union=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0;n+7<t;n+=8)this.words[n]|=e.words[n],this.words[n+1]|=e.words[n+1],this.words[n+2]|=e.words[n+2],this.words[n+3]|=e.words[n+3],this.words[n+4]|=e.words[n+4],this.words[n+5]|=e.words[n+5],this.words[n+6]|=e.words[n+6],this.words[n+7]|=e.words[n+7];for(;n<t;++n)this.words[n]|=e.words[n];if(this.words.length<e.words.length){this.resize((e.words.length<<5)-1);var i=e.words.length;for(n=t;n<i;++n)this.words[n]=e.words[n]}return this},r.prototype.new_union=function(e){var t=Object.create(r.prototype),n=Math.max(this.words.length,e.words.length);t.words=new Array(n);for(var i=Math.min(this.words.length,e.words.length),a=0;a+7<i;a+=8)t.words[a]=this.words[a]|e.words[a],t.words[a+1]=this.words[a+1]|e.words[a+1],t.words[a+2]=this.words[a+2]|e.words[a+2],t.words[a+3]=this.words[a+3]|e.words[a+3],t.words[a+4]=this.words[a+4]|e.words[a+4],t.words[a+5]=this.words[a+5]|e.words[a+5],t.words[a+6]=this.words[a+6]|e.words[a+6],t.words[a+7]=this.words[a+7]|e.words[a+7];for(;a<i;++a)t.words[a]=this.words[a]|e.words[a];var s=this.words.length;for(a=i;a<s;++a)t.words[a]=this.words[a];var o=e.words.length;for(a=i;a<o;++a)t.words[a]=e.words[a];return t},r.prototype.new_difference=function(e){return this.clone().difference(e)},r.prototype.union_size=function(e){for(var t=Math.min(this.words.length,e.words.length),n=0,i=0;i<t;++i)n+=this.hammingWeight(this.words[i]|e.words[i]);if(this.words.length<e.words.length){var r=e.words.length;for(i=this.words.length;i<r;++i)n+=this.hammingWeight(0|e.words[i])}else for(r=this.words.length,i=e.words.length;i<r;++i)n+=this.hammingWeight(0|this.words[i]);return n},e.exports=r},1281:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Archetype=void 0;var s=a(n(9434)),o=i((function e(t){r(this,e),this.componentBits=new s.default,this.componentBitsInitialized=!1,this.componentTypes=t}));t.Archetype=o},3713:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var a=i((function e(){r(this,e)}));t.Component=a},9179:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentMapper=void 0;var a=function(){function e(){i(this,e),this.data=[]}return r(e,[{key:"add",value:function(e,t){this.data[e]=t}},{key:"get",value:function(e){return this.data[e]}},{key:"remove",value:function(e){delete this.data[e]}}]),e}();t.ComponentMapper=a},1218:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default,s=n(1588).default,o=n(3808).default,l=n(1655).default,u=n(6389).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EntityIteratingSystem=void 0;var h=n(4905),f=c(n(9434)),d=function(e){l(n,e);var t=u(n);function n(e){var i;return r(this,n),(i=t.call(this)).componentBits=new f.default,i.types=e,i}return a(n,[{key:"setWorld",value:function(e){s(o(n.prototype),"setWorld",this).call(this,e);var t,r=i(this.types);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.componentBits.add(e.getComponentIndex(a))}}catch(l){r.e(l)}finally{r.f()}}},{key:"process",value:function(){this.begin(),this.world.getEntities(this.componentBits,this.processEntity.bind(this)),this.end()}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),n}(h.System);t.EntityIteratingSystem=d},2645:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EntitySystem=void 0;var o=function(e){a(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).entities=[],e}return r(n,[{key:"process",value:function(){this.entities.length=0,this.begin(),this.world.getEntities(this.componentBits,this.processEntity.bind(this)),this.processEntities(this.entities),this.end()}},{key:"processEntity",value:function(e){this.entities.push(e)}}]),n}(n(1218).EntityIteratingSystem);t.EntitySystem=o},6310:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Inject=void 0,t.Inject=function(e){return function(t,n){var i=t.constructor;i.hasOwnProperty("__inject__")||(i.__inject__={}),i.__inject__[n]=e}}},1185:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InjectMapper=void 0,t.InjectMapper=function(e){return function(t,n){var i=t.constructor;i.hasOwnProperty("__injectMapper__")||(i.__injectMapper__={}),i.__injectMapper__[n]=e}}},4905:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.System=void 0;var a=function(){function e(){i(this,e)}return r(e,[{key:"setWorld",value:function(e){this.world=e}},{key:"initialized",value:function(){}},{key:"dispose",value:function(){}}]),e}();t.System=a},8293:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(9434)),l=n(9179),u=function(){function e(){r(this,e),this.index=0,this.mappers={},this.componentBitsMap=[],this.componentIndices=new Map,this.currentComponentIndex=0,this.activeSystems=[],this.passiveSystems=[],this.injectionRegistry={},this.delta=0}return a(e,[{key:"getNewId",value:function(){return this.index++}},{key:"createEntity",value:function(){return this.getNewId()}},{key:"getComponentBits",value:function(e){return this.componentBitsMap[e]||(this.componentBitsMap[e]=new o.default),this.componentBitsMap[e]}},{key:"getMapper",value:function(e){var t=this.getComponentIndex(e);return this.getMapperByIndex(t)}},{key:"getMapperByIndex",value:function(e){return this.mappers[e]||(this.mappers[e]=new l.ComponentMapper),this.mappers[e]}},{key:"getComponentIndex",value:function(e){var t=this.componentIndices.get(e);return void 0===t&&(t=this.currentComponentIndex++,this.componentIndices.set(e,t)),t}},{key:"createEntityByArchetype",value:function(e){var t=this,n=this.getNewId();return e.componentTypes.forEach((function(i){var r=new i;e.componentBitsInitialized||e.componentBits.add(t.getComponentIndex(i)),t.addComponent(n,r,!1)})),this.componentBitsMap[n]=e.componentBits,n}},{key:"addComponent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.getComponentIndex(t.constructor),r=this.getMapperByIndex(i);return r.add(e,t),n&&this.getComponentBits(e).add(i),t}},{key:"getComponent",value:function(e,t){return this.getMapper(t).get(e)}},{key:"getEntities",value:function(e,t){for(var n=0;n<this.componentBitsMap.length;n++)if(this.componentBitsMap[n]){var i=this.componentBitsMap[n];e.union_size(i)===i.size()&&t(n)}}},{key:"addSystem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?this.activeSystems.push(e):this.passiveSystems.push(e),e.setWorld(this),this.injectMapper(e),this.inject(e),e.initialized()}},{key:"injectMapper",value:function(e){var t=e.constructor.__injectMapper__||{};for(var n in t){var i=t[n];e[n]=this.getMapper(i)}}},{key:"register",value:function(e,t){this.injectionRegistry[e]=t}},{key:"inject",value:function(e){var t=e.constructor.__inject__||{};for(var n in t){var i=t[n];e[n]=this.injectionRegistry[i]}}},{key:"dispose",value:function(){var e,t=i(this.activeSystems);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(a){t.e(a)}finally{t.f()}var n,r=i(this.passiveSystems);try{for(r.s();!(n=r.n()).done;){n.value.dispose()}}catch(a){r.e(a)}finally{r.f()}}},{key:"setDelta",value:function(e){this.delta=e}},{key:"processActiveSystem",value:function(){var e,t=i(this.activeSystems);try{for(t.s();!(e=t.n()).done;){e.value.process()}}catch(n){t.e(n)}finally{t.f()}}},{key:"processPassiveSystem",value:function(){var e,t=i(this.passiveSystems);try{for(t.s();!(e=t.n()).done;){e.value.process()}}catch(n){t.e(n)}finally{t.f()}}},{key:"deleteEntity",value:function(e){for(var t in this.mappers)this.mappers[t].remove(e);delete this.componentBitsMap[e]}},{key:"isEntityActive",value:function(e){return!!this.componentBitsMap[e]}}]),e}();t.default=u},9997:function(e,t,n){"use strict";var i=n(8293);Object.defineProperty(t,"q3",{enumerable:!0,get:function(){return i.default}});var r=n(1281);var a=n(3713);var s=n(9179);var o=n(1218);var l=n(2645);var u=n(4905);Object.defineProperty(t,"xP",{enumerable:!0,get:function(){return u.System}});var c=n(1185);var h=n(6310);Object.defineProperty(t,"tB",{enumerable:!0,get:function(){return h.Inject}})},951:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonRenderer=void 0;var a=n(6914),s=n(2955),o=n(6160),l=i((function e(t,n,i){r(this,e),this.vertices=t,this.numVertices=n,this.numFloats=i})),u=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r(this,e),this.premultipliedAlpha=!1,this.tempColor=new a.Color,this.tempColor2=new a.Color,this.vertexSize=8,this.twoColorTint=!1,this.renderable=new l([],0,0),this.clipper=new a.SkeletonClipping,this.temp=new s.Vector2,this.temp2=new s.Vector2,this.temp3=new a.Color,this.temp4=new a.Color,this.twoColorTint=n,n&&(this.vertexSize+=4),this.vertices=a.Utils.newFloatArray(1024*this.vertexSize)}return i(e,[{key:"draw",value:function(t,n){var i,r,s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,c=this.clipper,h=this.premultipliedAlpha,f=this.twoColorTint,d=null,p=this.renderable,v=n.drawOrder,m=n.color,g=f?12:8,y=!1;-1===l&&(y=!0);for(var _=0,b=v.length;_<b;_++){var x=c.isClipping()?2:g,w=v[_];if(w.bone.active)if(l>=0&&l===w.data.index&&(y=!0),y){u>=0&&u===w.data.index&&(y=!1);var k=w.getAttachment(),M=void 0;if(k instanceof a.RegionAttachment){var T=k;p.vertices=this.vertices,p.numVertices=4,p.numFloats=x<<2,T.computeWorldVertices(w,p.vertices,0,x),r=e.QUAD_TRIANGLES,i=T.uvs,M=T.region.renderObject.page.texture,s=T.color}else{if(!(k instanceof a.MeshAttachment)){if(k instanceof a.ClippingAttachment){var S=k;c.clipStart(w,S);continue}c.clipEndWithSlot(w);continue}var A=k;p.vertices=this.vertices,p.numVertices=A.worldVerticesLength>>1,p.numFloats=p.numVertices*x,p.numFloats>p.vertices.length&&(p.vertices=this.vertices=a.Utils.newFloatArray(p.numFloats)),A.computeWorldVertices(w,0,A.worldVerticesLength,p.vertices,0,x),r=A.triangles,M=A.region.renderObject.page.texture,i=A.uvs,s=A.color}if(M){var E=w.color,L=this.tempColor;L.r=m.r*E.r*s.r,L.g=m.g*E.g*s.g,L.b=m.b*E.b*s.b,L.a=m.a*E.a*s.a,h&&(L.r*=L.a,L.g*=L.a,L.b*=L.a);var C=this.tempColor2;w.darkColor?(h?(C.r=w.darkColor.r*L.a,C.g=w.darkColor.g*L.a,C.b=w.darkColor.b*L.a):C.setFromColor(w.darkColor),C.a=h?1:0):C.set(0,0,0,1);var O=w.data.blendMode;if(O!==d&&(d=O,t.setBlendMode(o.WebGLBlendModeConverter.getSourceColorGLBlendMode(d,h),o.WebGLBlendModeConverter.getSourceAlphaGLBlendMode(d),o.WebGLBlendModeConverter.getDestGLBlendMode(d))),c.isClipping()){c.clipTriangles(p.vertices,p.numFloats,r,r.length,i,L,C,f);var P=new Float32Array(c.clippedVertices),I=c.clippedTriangles;t.drawVertices(M,P,I)}else{var N=p.vertices;if(f)for(var R=2,F=0,B=p.numFloats;R<B;R+=g,F+=2)N[R]=L.r,N[R+1]=L.g,N[R+2]=L.b,N[R+3]=L.a,N[R+4]=i[F],N[R+5]=i[F+1],N[R+6]=C.r,N[R+7]=C.g,N[R+8]=C.b,N[R+9]=C.a;else for(var D=2,j=0,U=p.numFloats;D<U;D+=g,j+=2)N[D]=L.r,N[D+1]=L.g,N[D+2]=L.b,N[D+3]=L.a,N[D+4]=i[j],N[D+5]=i[j+1];var V=p.vertices.subarray(0,p.numFloats);t.drawVertices(M,V,r)}}c.clipEndWithSlot(w)}else c.clipEndWithSlot(w);else c.clipEndWithSlot(w)}c.clipEnd()}}]),e}();t.SkeletonRenderer=u,u.QUAD_TRIANGLES=[0,1,2,2,3,0]},2246:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpineAssetManager=void 0;var o=n(6914),l=n(2955),u=function(e){a(n,e);var t=s(n);function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o.Downloader;return r(this,n),t.call(this,(function(t){return new l.Texture(e,t)}),i,a)}return i(n)}(o.AssetManagerBase);t.SpineAssetManager=u},6160:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBlendModeConverter=void 0;var a=n(6914),s=770,o=771,l=function(){function e(){i(this,e)}return r(e,null,[{key:"getDestGLBlendMode",value:function(e){switch(e){case a.BlendMode.Normal:return o;case a.BlendMode.Additive:return 1;case a.BlendMode.Multiply:case a.BlendMode.Screen:return o;default:throw new Error("Unknown blend mode: "+e)}}},{key:"getSourceColorGLBlendMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case a.BlendMode.Normal:case a.BlendMode.Additive:return t?1:s;case a.BlendMode.Multiply:return 774;case a.BlendMode.Screen:return 1;default:throw new Error("Unknown blend mode: "+e)}}},{key:"getSourceAlphaGLBlendMode",value:function(e){switch(e){case a.BlendMode.Normal:case a.BlendMode.Additive:return 1;case a.BlendMode.Multiply:return o;case a.BlendMode.Screen:return 769;default:throw new Error("Unknown blend mode: "+e)}}}]),e}();t.WebGLBlendModeConverter=l},2474:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(951),t),r(n(6914),t),r(n(2246),t),r(n(6160),t)},9889:function(e,t,n){"use strict";var i=n(1655).default,r=n(6389).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceTimeline=t.PathConstraintMixTimeline=t.PathConstraintSpacingTimeline=t.PathConstraintPositionTimeline=t.TransformConstraintTimeline=t.IkConstraintTimeline=t.DrawOrderTimeline=t.EventTimeline=t.DeformTimeline=t.AttachmentTimeline=t.RGB2Timeline=t.RGBA2Timeline=t.AlphaTimeline=t.RGBTimeline=t.RGBATimeline=t.ShearYTimeline=t.ShearXTimeline=t.ShearTimeline=t.ScaleYTimeline=t.ScaleXTimeline=t.ScaleTimeline=t.TranslateYTimeline=t.TranslateXTimeline=t.TranslateTimeline=t.RotateTimeline=t.CurveTimeline2=t.CurveTimeline1=t.CurveTimeline=t.Timeline=t.MixDirection=t.MixBlend=t.Animation=void 0;var o,l,u=n(353),c=n(4153),h=n(6436),f=function(){function e(t,n,i){if(a(this,e),this.timelines=[],this.timelineIds=new c.StringSet,!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(n),this.duration=i}return s(e,[{key:"setTimelines",value:function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var t=0;t<e.length;t++)this.timelineIds.addAll(e[t].getPropertyIds())}},{key:"hasTimeline",value:function(e){for(var t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1}},{key:"apply",value:function(e,t,n,i,r,a,s,o){if(!e)throw new Error("skeleton cannot be null.");i&&0!==this.duration&&(n%=this.duration,t>0&&(t%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(e,t,n,r,a,s,o)}}]),e}();t.Animation=f,function(e){e[e.setup=0]="setup",e[e.first=1]="first",e[e.replace=2]="replace",e[e.add=3]="add"}(o=t.MixBlend||(t.MixBlend={})),function(e){e[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut"}(l=t.MixDirection||(t.MixDirection={}));var d=0,p=1,v=2,m=3,g=4,y=5,_=6,b=7,x=8,w=9,k=10,M=11,T=12,S=13,A=14,E=15,L=16,C=17,O=18,P=19,I=function(){function e(t,n){a(this,e),this.propertyIds=n,this.frames=c.Utils.newFloatArray(t*this.getFrameEntries())}return s(e,[{key:"getPropertyIds",value:function(){return this.propertyIds}},{key:"getFrameEntries",value:function(){return 1}},{key:"getFrameCount",value:function(){return this.frames.length/this.getFrameEntries()}},{key:"getDuration",value:function(){return this.frames[this.frames.length-this.getFrameEntries()]}}],[{key:"search1",value:function(e,t){for(var n=e.length,i=1;i<n;i++)if(e[i]>t)return i-1;return n-1}},{key:"search",value:function(e,t,n){for(var i=e.length,r=n;r<i;r+=n)if(e[r]>t)return r-n;return i-n}}]),e}();t.Timeline=I;var N=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,r)).curves=c.Utils.newFloatArray(e+18*i),s.curves[e-1]=1,s}return s(n,[{key:"setLinear",value:function(e){this.curves[e]=0}},{key:"setStepped",value:function(e){this.curves[e]=1}},{key:"shrink",value:function(e){var t=this.getFrameCount()+18*e;if(this.curves.length>t){var n=c.Utils.newFloatArray(t);c.Utils.arrayCopy(this.curves,0,n,0,t),this.curves=n}}},{key:"setBezier",value:function(e,t,n,i,r,a,s,o,l,u,c){var h=this.curves,f=this.getFrameCount()+18*e;0===n&&(h[t]=2+f);for(var d=.03*(i-2*a+o),p=.03*(r-2*s+l),v=.006*(3*(a-o)-i+u),m=.006*(3*(s-l)-r+c),g=2*d+v,y=2*p+m,_=.3*(a-i)+d+.16666667*v,b=.3*(s-r)+p+.16666667*m,x=i+_,w=r+b,k=f+18;f<k;f+=2)h[f]=x,h[f+1]=w,_+=g,b+=y,g+=v,y+=m,x+=_,w+=b}},{key:"getBezierValue",value:function(e,t,n,i){var r=this.curves;if(r[i]>e){var a=this.frames[t],s=this.frames[t+n];return s+(e-a)/(r[i]-a)*(r[i+1]-s)}var o=i+18;for(i+=2;i<o;i+=2)if(r[i]>=e){var l=r[i-2],u=r[i-1];return u+(e-l)/(r[i]-l)*(r[i+1]-u)}t+=this.getFrameEntries();var c=r[o-2],h=r[o-1];return h+(e-c)/(this.frames[t]-c)*(this.frames[t+n]-h)}}]),n}(I);t.CurveTimeline=N;var R=function(e){i(n,e);var t=r(n);function n(e,i,r){return a(this,n),t.call(this,e,i,[r])}return s(n,[{key:"getFrameEntries",value:function(){return 2}},{key:"setFrame",value:function(e,t,n){e<<=1,this.frames[e]=t,this.frames[e+1]=n}},{key:"getCurveValue",value:function(e){for(var t=this.frames,n=t.length-2,i=2;i<=n;i+=2)if(t[i]>e){n=i-2;break}var r=this.curves[n>>1];switch(r){case 0:var a=t[n],s=t[n+1];return s+(e-a)/(t[n+2]-a)*(t[n+2+1]-s);case 1:return t[n+1]}return this.getBezierValue(e,n,1,r-2)}}]),n}(N);t.CurveTimeline1=R;var F=function(e){i(n,e);var t=r(n);function n(e,i,r,s){return a(this,n),t.call(this,e,i,[r,s])}return s(n,[{key:"getFrameEntries",value:function(){return 3}},{key:"setFrame",value:function(e,t,n,i){e*=3,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=i}}]),n}(N);t.CurveTimeline2=F;var B=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,d+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.rotation=l.data.rotation);case o.first:l.rotation+=(l.data.rotation-l.rotation)*r}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.rotation=l.data.rotation+u*r;break;case o.first:case o.replace:u+=l.data.rotation-l.rotation;case o.add:l.rotation+=u*r}}}}]),n}(R);t.RotateTimeline=B;var D=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,p+"|"+r,v+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(n<u[0])switch(a){case o.setup:return l.x=l.data.x,void(l.y=l.data.y);case o.first:l.x+=(l.data.x-l.x)*r,l.y+=(l.data.y-l.y)*r}else{var c=0,h=0,f=I.search(u,n,3),d=this.curves[f/3];switch(d){case 0:var p=u[f];c=u[f+1],h=u[f+2];var v=(n-p)/(u[f+3]-p);c+=(u[f+3+1]-c)*v,h+=(u[f+3+2]-h)*v;break;case 1:c=u[f+1],h=u[f+2];break;default:c=this.getBezierValue(n,f,1,d-2),h=this.getBezierValue(n,f,2,d+18-2)}switch(a){case o.setup:l.x=l.data.x+c*r,l.y=l.data.y+h*r;break;case o.first:case o.replace:l.x+=(l.data.x+c-l.x)*r,l.y+=(l.data.y+h-l.y)*r;break;case o.add:l.x+=c*r,l.y+=h*r}}}}}]),n}(F);t.TranslateTimeline=D;var j=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,p+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.x=l.data.x);case o.first:l.x+=(l.data.x-l.x)*r}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.x=l.data.x+u*r;break;case o.first:case o.replace:l.x+=(l.data.x+u-l.x)*r;break;case o.add:l.x+=u*r}}}}]),n}(R);t.TranslateXTimeline=j;var U=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,v+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.y=l.data.y);case o.first:l.y+=(l.data.y-l.y)*r}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.y=l.data.y+u*r;break;case o.first:case o.replace:l.y+=(l.data.y+u-l.y)*r;break;case o.add:l.y+=u*r}}}}]),n}(R);t.TranslateYTimeline=U;var V=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,m+"|"+r,g+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var u=e.bones[this.boneIndex];if(u.active){var h=this.frames;if(n<h[0])switch(a){case o.setup:return u.scaleX=u.data.scaleX,void(u.scaleY=u.data.scaleY);case o.first:u.scaleX+=(u.data.scaleX-u.scaleX)*r,u.scaleY+=(u.data.scaleY-u.scaleY)*r}else{var f,d,p=I.search(h,n,3),v=this.curves[p/3];switch(v){case 0:var m=h[p];f=h[p+1],d=h[p+2];var g=(n-m)/(h[p+3]-m);f+=(h[p+3+1]-f)*g,d+=(h[p+3+2]-d)*g;break;case 1:f=h[p+1],d=h[p+2];break;default:f=this.getBezierValue(n,p,1,v-2),d=this.getBezierValue(n,p,2,v+18-2)}if(f*=u.data.scaleX,d*=u.data.scaleY,1===r)a===o.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=d-u.data.scaleY):(u.scaleX=f,u.scaleY=d);else{var y=0,_=0;if(s===l.mixOut)switch(a){case o.setup:y=u.data.scaleX,_=u.data.scaleY,u.scaleX=y+(Math.abs(f)*c.MathUtils.signum(y)-y)*r,u.scaleY=_+(Math.abs(d)*c.MathUtils.signum(_)-_)*r;break;case o.first:case o.replace:y=u.scaleX,_=u.scaleY,u.scaleX=y+(Math.abs(f)*c.MathUtils.signum(y)-y)*r,u.scaleY=_+(Math.abs(d)*c.MathUtils.signum(_)-_)*r;break;case o.add:u.scaleX+=(f-u.data.scaleX)*r,u.scaleY+=(d-u.data.scaleY)*r}else switch(a){case o.setup:y=Math.abs(u.data.scaleX)*c.MathUtils.signum(f),_=Math.abs(u.data.scaleY)*c.MathUtils.signum(d),u.scaleX=y+(f-y)*r,u.scaleY=_+(d-_)*r;break;case o.first:case o.replace:y=Math.abs(u.scaleX)*c.MathUtils.signum(f),_=Math.abs(u.scaleY)*c.MathUtils.signum(d),u.scaleX=y+(f-y)*r,u.scaleY=_+(d-_)*r;break;case o.add:u.scaleX+=(f-u.data.scaleX)*r,u.scaleY+=(d-u.data.scaleY)*r}}}}}}]),n}(F);t.ScaleTimeline=V;var G=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,m+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var u=e.bones[this.boneIndex];if(u.active)if(n<this.frames[0])switch(a){case o.setup:return void(u.scaleX=u.data.scaleX);case o.first:u.scaleX+=(u.data.scaleX-u.scaleX)*r}else{var h=this.getCurveValue(n)*u.data.scaleX;if(1===r)a===o.add?u.scaleX+=h-u.data.scaleX:u.scaleX=h;else{var f=0;if(s===l.mixOut)switch(a){case o.setup:f=u.data.scaleX,u.scaleX=f+(Math.abs(h)*c.MathUtils.signum(f)-f)*r;break;case o.first:case o.replace:f=u.scaleX,u.scaleX=f+(Math.abs(h)*c.MathUtils.signum(f)-f)*r;break;case o.add:u.scaleX+=(h-u.data.scaleX)*r}else switch(a){case o.setup:f=Math.abs(u.data.scaleX)*c.MathUtils.signum(h),u.scaleX=f+(h-f)*r;break;case o.first:case o.replace:f=Math.abs(u.scaleX)*c.MathUtils.signum(h),u.scaleX=f+(h-f)*r;break;case o.add:u.scaleX+=(h-u.data.scaleX)*r}}}}}]),n}(R);t.ScaleXTimeline=G;var z=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,g+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var u=e.bones[this.boneIndex];if(u.active)if(n<this.frames[0])switch(a){case o.setup:return void(u.scaleY=u.data.scaleY);case o.first:u.scaleY+=(u.data.scaleY-u.scaleY)*r}else{var h=this.getCurveValue(n)*u.data.scaleY;if(1===r)a===o.add?u.scaleY+=h-u.data.scaleY:u.scaleY=h;else{var f=0;if(s===l.mixOut)switch(a){case o.setup:f=u.data.scaleY,u.scaleY=f+(Math.abs(h)*c.MathUtils.signum(f)-f)*r;break;case o.first:case o.replace:f=u.scaleY,u.scaleY=f+(Math.abs(h)*c.MathUtils.signum(f)-f)*r;break;case o.add:u.scaleY+=(h-u.data.scaleY)*r}else switch(a){case o.setup:f=Math.abs(u.data.scaleY)*c.MathUtils.signum(h),u.scaleY=f+(h-f)*r;break;case o.first:case o.replace:f=Math.abs(u.scaleY)*c.MathUtils.signum(h),u.scaleY=f+(h-f)*r;break;case o.add:u.scaleY+=(h-u.data.scaleY)*r}}}}}]),n}(R);t.ScaleYTimeline=z;var W=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,y+"|"+r,_+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(n<u[0])switch(a){case o.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case o.first:l.shearX+=(l.data.shearX-l.shearX)*r,l.shearY+=(l.data.shearY-l.shearY)*r}else{var c=0,h=0,f=I.search(u,n,3),d=this.curves[f/3];switch(d){case 0:var p=u[f];c=u[f+1],h=u[f+2];var v=(n-p)/(u[f+3]-p);c+=(u[f+3+1]-c)*v,h+=(u[f+3+2]-h)*v;break;case 1:c=u[f+1],h=u[f+2];break;default:c=this.getBezierValue(n,f,1,d-2),h=this.getBezierValue(n,f,2,d+18-2)}switch(a){case o.setup:l.shearX=l.data.shearX+c*r,l.shearY=l.data.shearY+h*r;break;case o.first:case o.replace:l.shearX+=(l.data.shearX+c-l.shearX)*r,l.shearY+=(l.data.shearY+h-l.shearY)*r;break;case o.add:l.shearX+=c*r,l.shearY+=h*r}}}}}]),n}(F);t.ShearTimeline=W;var H=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,y+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.shearX=l.data.shearX);case o.first:l.shearX+=(l.data.shearX-l.shearX)*r}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.shearX=l.data.shearX+u*r;break;case o.first:case o.replace:l.shearX+=(l.data.shearX+u-l.shearX)*r;break;case o.add:l.shearX+=u*r}}}}]),n}(R);t.ShearXTimeline=H;var Y=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,_+"|"+r)).boneIndex=0,s.boneIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.bones[this.boneIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.shearY=l.data.shearY);case o.first:l.shearY+=(l.data.shearY-l.shearY)*r}else{var u=this.getCurveValue(n);switch(a){case o.setup:l.shearY=l.data.shearY+u*r;break;case o.first:case o.replace:l.shearY+=(l.data.shearY+u-l.shearY)*r;break;case o.add:l.shearY+=u*r}}}}]),n}(R);t.ShearYTimeline=Y;var X=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,[b+"|"+r,x+"|"+r])).slotIndex=0,s.slotIndex=r,s}return s(n,[{key:"getFrameEntries",value:function(){return 5}},{key:"setFrame",value:function(e,t,n,i,r,a){e*=5,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=i,this.frames[e+3]=r,this.frames[e+4]=a}},{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(n<u[0]){var h=l.data.color;switch(a){case o.setup:return void c.setFromColor(h);case o.first:c.add((h.r-c.r)*r,(h.g-c.g)*r,(h.b-c.b)*r,(h.a-c.a)*r)}}else{var f=0,d=0,p=0,v=0,m=I.search(u,n,5),g=this.curves[m/5];switch(g){case 0:var y=u[m];f=u[m+1],d=u[m+2],p=u[m+3],v=u[m+4];var _=(n-y)/(u[m+5]-y);f+=(u[m+5+1]-f)*_,d+=(u[m+5+2]-d)*_,p+=(u[m+5+3]-p)*_,v+=(u[m+5+4]-v)*_;break;case 1:f=u[m+1],d=u[m+2],p=u[m+3],v=u[m+4];break;default:f=this.getBezierValue(n,m,1,g-2),d=this.getBezierValue(n,m,2,g+18-2),p=this.getBezierValue(n,m,3,g+36-2),v=this.getBezierValue(n,m,4,g+54-2)}1===r?c.set(f,d,p,v):(a===o.setup&&c.setFromColor(l.data.color),c.add((f-c.r)*r,(d-c.g)*r,(p-c.b)*r,(v-c.a)*r))}}}}]),n}(N);t.RGBATimeline=X;var q=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,[b+"|"+r])).slotIndex=0,s.slotIndex=r,s}return s(n,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(e,t,n,i,r){e<<=2,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=i,this.frames[e+3]=r}},{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(n<u[0]){var h=l.data.color;switch(a){case o.setup:return c.r=h.r,c.g=h.g,void(c.b=h.b);case o.first:c.r+=(h.r-c.r)*r,c.g+=(h.g-c.g)*r,c.b+=(h.b-c.b)*r}}else{var f=0,d=0,p=0,v=I.search(u,n,4),m=this.curves[v>>2];switch(m){case 0:var g=u[v];f=u[v+1],d=u[v+2],p=u[v+3];var y=(n-g)/(u[v+4]-g);f+=(u[v+4+1]-f)*y,d+=(u[v+4+2]-d)*y,p+=(u[v+4+3]-p)*y;break;case 1:f=u[v+1],d=u[v+2],p=u[v+3];break;default:f=this.getBezierValue(n,v,1,m-2),d=this.getBezierValue(n,v,2,m+18-2),p=this.getBezierValue(n,v,3,m+36-2)}if(1===r)c.r=f,c.g=d,c.b=p;else{if(a===o.setup){var _=l.data.color;c.r=_.r,c.g=_.g,c.b=_.b}c.r+=(f-c.r)*r,c.g+=(d-c.g)*r,c.b+=(p-c.b)*r}}}}}]),n}(N);t.RGBTimeline=q;var $=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,x+"|"+r)).slotIndex=0,s.slotIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(n<this.frames[0]){var c=l.data.color;switch(a){case o.setup:return void(u.a=c.a);case o.first:u.a+=(c.a-u.a)*r}}else{var h=this.getCurveValue(n);1===r?u.a=h:(a===o.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*r)}}}}]),n}(R);t.AlphaTimeline=$;var K=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,[b+"|"+r,x+"|"+r,w+"|"+r])).slotIndex=0,s.slotIndex=r,s}return s(n,[{key:"getFrameEntries",value:function(){return 8}},{key:"setFrame",value:function(e,t,n,i,r,a,s,o,l){e<<=3,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=i,this.frames[e+3]=r,this.frames[e+4]=a,this.frames[e+5]=s,this.frames[e+6]=o,this.frames[e+7]=l}},{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,h=l.darkColor;if(n<u[0]){var f=l.data.color,d=l.data.darkColor;switch(a){case o.setup:return c.setFromColor(f),h.r=d.r,h.g=d.g,void(h.b=d.b);case o.first:c.add((f.r-c.r)*r,(f.g-c.g)*r,(f.b-c.b)*r,(f.a-c.a)*r),h.r+=(d.r-h.r)*r,h.g+=(d.g-h.g)*r,h.b+=(d.b-h.b)*r}}else{var p=0,v=0,m=0,g=0,y=0,_=0,b=0,x=I.search(u,n,8),w=this.curves[x>>3];switch(w){case 0:var k=u[x];p=u[x+1],v=u[x+2],m=u[x+3],g=u[x+4],y=u[x+5],_=u[x+6],b=u[x+7];var M=(n-k)/(u[x+8]-k);p+=(u[x+8+1]-p)*M,v+=(u[x+8+2]-v)*M,m+=(u[x+8+3]-m)*M,g+=(u[x+8+4]-g)*M,y+=(u[x+8+5]-y)*M,_+=(u[x+8+6]-_)*M,b+=(u[x+8+7]-b)*M;break;case 1:p=u[x+1],v=u[x+2],m=u[x+3],g=u[x+4],y=u[x+5],_=u[x+6],b=u[x+7];break;default:p=this.getBezierValue(n,x,1,w-2),v=this.getBezierValue(n,x,2,w+18-2),m=this.getBezierValue(n,x,3,w+36-2),g=this.getBezierValue(n,x,4,w+54-2),y=this.getBezierValue(n,x,5,w+72-2),_=this.getBezierValue(n,x,6,w+90-2),b=this.getBezierValue(n,x,7,w+108-2)}if(1===r)c.set(p,v,m,g),h.r=y,h.g=_,h.b=b;else{if(a===o.setup){c.setFromColor(l.data.color);var T=l.data.darkColor;h.r=T.r,h.g=T.g,h.b=T.b}c.add((p-c.r)*r,(v-c.g)*r,(m-c.b)*r,(g-c.a)*r),h.r+=(y-h.r)*r,h.g+=(_-h.g)*r,h.b+=(b-h.b)*r}}}}}]),n}(N);t.RGBA2Timeline=K;var Q=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,[b+"|"+r,w+"|"+r])).slotIndex=0,s.slotIndex=r,s}return s(n,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(e,t,n,i,r,a,s,o){e*=7,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=i,this.frames[e+3]=r,this.frames[e+4]=a,this.frames[e+5]=s,this.frames[e+6]=o}},{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,h=l.darkColor;if(n<u[0]){var f=l.data.color,d=l.data.darkColor;switch(a){case o.setup:return c.r=f.r,c.g=f.g,c.b=f.b,h.r=d.r,h.g=d.g,void(h.b=d.b);case o.first:c.r+=(f.r-c.r)*r,c.g+=(f.g-c.g)*r,c.b+=(f.b-c.b)*r,h.r+=(d.r-h.r)*r,h.g+=(d.g-h.g)*r,h.b+=(d.b-h.b)*r}}else{var p=0,v=0,m=0,g=0,y=0,_=0,b=I.search(u,n,7),x=this.curves[b/7];switch(x){case 0:var w=u[b];p=u[b+1],v=u[b+2],m=u[b+3],g=u[b+4],y=u[b+5],_=u[b+6];var k=(n-w)/(u[b+7]-w);p+=(u[b+7+1]-p)*k,v+=(u[b+7+2]-v)*k,m+=(u[b+7+3]-m)*k,g+=(u[b+7+4]-g)*k,y+=(u[b+7+5]-y)*k,_+=(u[b+7+6]-_)*k;break;case 1:p=u[b+1],v=u[b+2],m=u[b+3],g=u[b+4],y=u[b+5],_=u[b+6];break;default:p=this.getBezierValue(n,b,1,x-2),v=this.getBezierValue(n,b,2,x+18-2),m=this.getBezierValue(n,b,3,x+36-2),g=this.getBezierValue(n,b,4,x+54-2),y=this.getBezierValue(n,b,5,x+72-2),_=this.getBezierValue(n,b,6,x+90-2)}if(1===r)c.r=p,c.g=v,c.b=m,h.r=g,h.g=y,h.b=_;else{if(a===o.setup){var M=l.data.color,T=l.data.darkColor;c.r=M.r,c.g=M.g,c.b=M.b,h.r=T.r,h.g=T.g,h.b=T.b}c.r+=(p-c.r)*r,c.g+=(v-c.g)*r,c.b+=(m-c.b)*r,h.r+=(g-h.r)*r,h.g+=(y-h.g)*r,h.b+=(_-h.b)*r}}}}}]),n}(N);t.RGB2Timeline=Q;var Z=function(e){i(n,e);var t=r(n);function n(e,i){var r;return a(this,n),(r=t.call(this,e,[k+"|"+i])).slotIndex=0,r.slotIndex=i,r.attachmentNames=new Array(e),r}return s(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n}},{key:"apply",value:function(e,t,n,i,r,a,s){var u=e.slots[this.slotIndex];u.bone.active&&(s!==l.mixOut?n<this.frames[0]?a!==o.setup&&a!==o.first||this.setAttachment(e,u,u.data.attachmentName):this.setAttachment(e,u,this.attachmentNames[I.search1(this.frames,n)]):a===o.setup&&this.setAttachment(e,u,u.data.attachmentName))}},{key:"setAttachment",value:function(e,t,n){t.setAttachment(n?e.getAttachment(this.slotIndex,n):null)}}]),n}(I);t.AttachmentTimeline=Z;var J=function(e){i(n,e);var t=r(n);function n(e,i,r,s){var o;return a(this,n),(o=t.call(this,e,i,[M+"|"+r+"|"+s.id])).slotIndex=0,o.slotIndex=r,o.attachment=s,o.vertices=new Array(e),o}return s(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.vertices[e]=n}},{key:"setBezier",value:function(e,t,n,i,r,a,s,o,l,u,c){var h=this.curves,f=this.getFrameCount()+18*e;0===n&&(h[t]=2+f);for(var d=.03*(i-2*a+o),p=.03*l-.06*s,v=.006*(3*(a-o)-i+u),m=.018*(s-l+.33333333),g=2*d+v,y=2*p+m,_=.3*(a-i)+d+.16666667*v,b=.3*s+p+.16666667*m,x=i+_,w=b,k=f+18;f<k;f+=2)h[f]=x,h[f+1]=w,_+=g,b+=y,g+=v,y+=m,x+=_,w+=b}},{key:"getCurvePercent",value:function(e,t){var n=this.curves,i=n[t];switch(i){case 0:var r=this.frames[t];return(e-r)/(this.frames[t+this.getFrameEntries()]-r);case 1:return 0}if(n[i-=2]>e){var a=this.frames[t];return n[i+1]*(e-a)/(n[i]-a)}var s=i+18;for(i+=2;i<s;i+=2)if(n[i]>=e){var o=n[i-2],l=n[i-1];return l+(e-o)/(n[i]-o)*(n[i+1]-l)}var u=n[s-2],c=n[s-1];return c+(1-c)*(e-u)/(this.frames[t+this.getFrameEntries()]-u)}},{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.slots[this.slotIndex];if(l.bone.active){var h=l.getAttachment();if(h&&h instanceof u.VertexAttachment&&h.timelineAttachment===this.attachment){var f=l.deform;0===f.length&&(a=o.setup);var d=this.vertices,p=d[0].length,v=this.frames;if(n<v[0])switch(a){case o.setup:return void(f.length=0);case o.first:if(1===r)return void(f.length=0);f.length=p;var m=h;if(m.bones){r=1-r;for(y=0;y<p;y++)f[y]*=r}else for(var g=m.vertices,y=0;y<p;y++)f[y]+=(g[y]-f[y])*r}else if(f.length=p,n>=v[v.length-1]){var _=d[v.length-1];if(1===r)if(a===o.add){var b=h;if(b.bones)for(var x=0;x<p;x++)f[x]+=_[x];else for(var w=b.vertices,k=0;k<p;k++)f[k]+=_[k]-w[k]}else c.Utils.arrayCopy(_,0,f,0,p);else switch(a){case o.setup:var M=h;if(M.bones)for(var T=0;T<p;T++)f[T]=_[T]*r;else for(var S=M.vertices,A=0;A<p;A++){var E=S[A];f[A]=E+(_[A]-E)*r}break;case o.first:case o.replace:for(var L=0;L<p;L++)f[L]+=(_[L]-f[L])*r;break;case o.add:var C=h;if(C.bones)for(var O=0;O<p;O++)f[O]+=_[O]*r;else for(var P=C.vertices,N=0;N<p;N++)f[N]+=(_[N]-P[N])*r}}else{var R=I.search1(v,n),F=this.getCurvePercent(n,R),B=d[R],D=d[R+1];if(1===r)if(a===o.add){var j=h;if(j.bones)for(var U=0;U<p;U++){var V=B[U];f[U]+=V+(D[U]-V)*F}else for(var G=j.vertices,z=0;z<p;z++){var W=B[z];f[z]+=W+(D[z]-W)*F-G[z]}}else for(var H=0;H<p;H++){var Y=B[H];f[H]=Y+(D[H]-Y)*F}else switch(a){case o.setup:var X=h;if(X.bones)for(var q=0;q<p;q++){var $=B[q];f[q]=($+(D[q]-$)*F)*r}else for(var K=X.vertices,Q=0;Q<p;Q++){var Z=B[Q],J=K[Q];f[Q]=J+(Z+(D[Q]-Z)*F-J)*r}break;case o.first:case o.replace:for(var ee=0;ee<p;ee++){var te=B[ee];f[ee]+=(te+(D[ee]-te)*F-f[ee])*r}break;case o.add:var ne=h;if(ne.bones)for(var ie=0;ie<p;ie++){var re=B[ie];f[ie]+=(re+(D[ie]-re)*F)*r}else for(var ae=ne.vertices,se=0;se<p;se++){var oe=B[se];f[se]+=(oe+(D[se]-oe)*F-ae[se])*r}}}}}}}]),n}(N);t.DeformTimeline=J;var ee=function(e){i(n,e);var t=r(n);function n(e){var i;return a(this,n),(i=t.call(this,e,n.propertyIds)).events=new Array(e),i}return s(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t){this.frames[e]=t.time,this.events[e]=t}},{key:"apply",value:function(e,t,n,i,r,a,s){if(i){var o=this.frames,l=this.frames.length;if(t>n)this.apply(e,t,Number.MAX_VALUE,i,r,a,s),t=-1;else if(t>=o[l-1])return;if(!(n<o[0])){var u=0;if(t<o[0])u=0;else for(var c=o[u=I.search1(o,t)+1];u>0&&o[u-1]===c;)u--;for(;u<l&&n>=o[u];u++)i.push(this.events[u])}}}}]),n}(I);t.EventTimeline=ee,ee.propertyIds=[""+T];var te=function(e){i(n,e);var t=r(n);function n(e){var i;return a(this,n),(i=t.call(this,e,n.propertyIds)).drawOrders=new Array(e),i}return s(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n}},{key:"apply",value:function(e,t,n,i,r,a,s){if(s!==l.mixOut)if(n<this.frames[0])a!==o.setup&&a!==o.first||c.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var u=I.search1(this.frames,n),h=this.drawOrders[u];if(h)for(var f=e.drawOrder,d=e.slots,p=0,v=h.length;p<v;p++)f[p]=d[h[p]];else c.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}else a===o.setup&&c.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}}]),n}(I);t.DrawOrderTimeline=te,te.propertyIds=[""+S];var ne=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,[A+"|"+r])).ikConstraintIndex=0,s.ikConstraintIndex=r,s}return s(n,[{key:"getFrameEntries",value:function(){return 6}},{key:"setFrame",value:function(e,t,n,i,r,a,s){e*=6,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=i,this.frames[e+3]=r,this.frames[e+4]=a?1:0,this.frames[e+5]=s?1:0}},{key:"apply",value:function(e,t,n,i,r,a,s){var u=e.ikConstraints[this.ikConstraintIndex];if(u.active){var c=this.frames;if(n<c[0])switch(a){case o.setup:return u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,void(u.stretch=u.data.stretch);case o.first:u.mix+=(u.data.mix-u.mix)*r,u.softness+=(u.data.softness-u.softness)*r,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}else{var h=0,f=0,d=I.search(c,n,6),p=this.curves[d/6];switch(p){case 0:var v=c[d];h=c[d+1],f=c[d+2];var m=(n-v)/(c[d+6]-v);h+=(c[d+6+1]-h)*m,f+=(c[d+6+2]-f)*m;break;case 1:h=c[d+1],f=c[d+2];break;default:h=this.getBezierValue(n,d,1,p-2),f=this.getBezierValue(n,d,2,p+18-2)}a===o.setup?(u.mix=u.data.mix+(h-u.data.mix)*r,u.softness=u.data.softness+(f-u.data.softness)*r,s===l.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=c[d+3],u.compress=0!==c[d+4],u.stretch=0!==c[d+5])):(u.mix+=(h-u.mix)*r,u.softness+=(f-u.softness)*r,s===l.mixIn&&(u.bendDirection=c[d+3],u.compress=0!==c[d+4],u.stretch=0!==c[d+5]))}}}}]),n}(N);t.IkConstraintTimeline=ne;var ie=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,[E+"|"+r])).transformConstraintIndex=0,s.transformConstraintIndex=r,s}return s(n,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(e,t,n,i,r,a,s,o){var l=this.frames;l[e*=7]=t,l[e+1]=n,l[e+2]=i,l[e+3]=r,l[e+4]=a,l[e+5]=s,l[e+6]=o}},{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(n<u[0]){var c=l.data;switch(a){case o.setup:return l.mixRotate=c.mixRotate,l.mixX=c.mixX,l.mixY=c.mixY,l.mixScaleX=c.mixScaleX,l.mixScaleY=c.mixScaleY,void(l.mixShearY=c.mixShearY);case o.first:l.mixRotate+=(c.mixRotate-l.mixRotate)*r,l.mixX+=(c.mixX-l.mixX)*r,l.mixY+=(c.mixY-l.mixY)*r,l.mixScaleX+=(c.mixScaleX-l.mixScaleX)*r,l.mixScaleY+=(c.mixScaleY-l.mixScaleY)*r,l.mixShearY+=(c.mixShearY-l.mixShearY)*r}}else{var h,f,d,p,v,m,g=I.search(u,n,7),y=this.curves[g/7];switch(y){case 0:var _=u[g];h=u[g+1],f=u[g+2],d=u[g+3],p=u[g+4],v=u[g+5],m=u[g+6];var b=(n-_)/(u[g+7]-_);h+=(u[g+7+1]-h)*b,f+=(u[g+7+2]-f)*b,d+=(u[g+7+3]-d)*b,p+=(u[g+7+4]-p)*b,v+=(u[g+7+5]-v)*b,m+=(u[g+7+6]-m)*b;break;case 1:h=u[g+1],f=u[g+2],d=u[g+3],p=u[g+4],v=u[g+5],m=u[g+6];break;default:h=this.getBezierValue(n,g,1,y-2),f=this.getBezierValue(n,g,2,y+18-2),d=this.getBezierValue(n,g,3,y+36-2),p=this.getBezierValue(n,g,4,y+54-2),v=this.getBezierValue(n,g,5,y+72-2),m=this.getBezierValue(n,g,6,y+90-2)}if(a===o.setup){var x=l.data;l.mixRotate=x.mixRotate+(h-x.mixRotate)*r,l.mixX=x.mixX+(f-x.mixX)*r,l.mixY=x.mixY+(d-x.mixY)*r,l.mixScaleX=x.mixScaleX+(p-x.mixScaleX)*r,l.mixScaleY=x.mixScaleY+(v-x.mixScaleY)*r,l.mixShearY=x.mixShearY+(m-x.mixShearY)*r}else l.mixRotate+=(h-l.mixRotate)*r,l.mixX+=(f-l.mixX)*r,l.mixY+=(d-l.mixY)*r,l.mixScaleX+=(p-l.mixScaleX)*r,l.mixScaleY+=(v-l.mixScaleY)*r,l.mixShearY+=(m-l.mixShearY)*r}}}}]),n}(N);t.TransformConstraintTimeline=ie;var re=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,L+"|"+r)).pathConstraintIndex=0,s.pathConstraintIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.position=l.data.position);case o.first:l.position+=(l.data.position-l.position)*r}else{var u=this.getCurveValue(n);a===o.setup?l.position=l.data.position+(u-l.data.position)*r:l.position+=(u-l.position)*r}}}]),n}(R);t.PathConstraintPositionTimeline=re;var ae=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,C+"|"+r)).pathConstraintIndex=0,s.pathConstraintIndex=r,s}return s(n,[{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<this.frames[0])switch(a){case o.setup:return void(l.spacing=l.data.spacing);case o.first:l.spacing+=(l.data.spacing-l.spacing)*r}else{var u=this.getCurveValue(n);a===o.setup?l.spacing=l.data.spacing+(u-l.data.spacing)*r:l.spacing+=(u-l.spacing)*r}}}]),n}(R);t.PathConstraintSpacingTimeline=ae;var se=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,i,[O+"|"+r])).pathConstraintIndex=0,s.pathConstraintIndex=r,s}return s(n,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(e,t,n,i,r){var a=this.frames;a[e<<=2]=t,a[e+1]=n,a[e+2]=i,a[e+3]=r}},{key:"apply",value:function(e,t,n,i,r,a,s){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(n<u[0])switch(a){case o.setup:return l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,void(l.mixY=l.data.mixY);case o.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*r,l.mixX+=(l.data.mixX-l.mixX)*r,l.mixY+=(l.data.mixY-l.mixY)*r}else{var c,h,f,d=I.search(u,n,4),p=this.curves[d>>2];switch(p){case 0:var v=u[d];c=u[d+1],h=u[d+2],f=u[d+3];var m=(n-v)/(u[d+4]-v);c+=(u[d+4+1]-c)*m,h+=(u[d+4+2]-h)*m,f+=(u[d+4+3]-f)*m;break;case 1:c=u[d+1],h=u[d+2],f=u[d+3];break;default:c=this.getBezierValue(n,d,1,p-2),h=this.getBezierValue(n,d,2,p+18-2),f=this.getBezierValue(n,d,3,p+36-2)}if(a===o.setup){var g=l.data;l.mixRotate=g.mixRotate+(c-g.mixRotate)*r,l.mixX=g.mixX+(h-g.mixX)*r,l.mixY=g.mixY+(f-g.mixY)*r}else l.mixRotate+=(c-l.mixRotate)*r,l.mixX+=(h-l.mixX)*r,l.mixY+=(f-l.mixY)*r}}}}]),n}(N);t.PathConstraintMixTimeline=se;var oe=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,e,[P+"|"+i+"|"+r.sequence.id])).slotIndex=i,s.attachment=r,s}return s(n,[{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"getSlotIndex",value:function(){return this.slotIndex}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setFrame",value:function(e,t,i,r,a){var s=this.frames;s[e*=n.ENTRIES]=t,s[e+n.MODE]=i|r<<4,s[e+n.DELAY]=a}},{key:"apply",value:function(e,t,i,r,a,s,l){var c=e.slots[this.slotIndex];if(c.bone.active){var f=c.attachment,d=this.attachment;if(f===d||f instanceof u.VertexAttachment&&f.timelineAttachment===d){var p=this.frames;if(i<p[0])s!==o.setup&&s!==o.first||(c.sequenceIndex=-1);else{var v=I.search(p,i,n.ENTRIES),m=p[v],g=p[v+n.MODE],y=p[v+n.DELAY];if(this.attachment.sequence){var _=g>>4,b=this.attachment.sequence.regions.length,x=h.SequenceModeValues[15&g];if(x!==h.SequenceMode.hold)switch(_+=(i-m)/y+1e-5|0,x){case h.SequenceMode.once:_=Math.min(b-1,_);break;case h.SequenceMode.loop:_%=b;break;case h.SequenceMode.pingpong:var w=(b<<1)-2;(_=0===w?0:_%w)>=b&&(_=w-_);break;case h.SequenceMode.onceReverse:_=Math.max(b-1-_,0);break;case h.SequenceMode.loopReverse:_=b-1-_%b;break;case h.SequenceMode.pingpongReverse:var k=(b<<1)-2;(_=0===k?0:(_+b-1)%k)>=b&&(_=k-_)}c.sequenceIndex=_}}}}}}]),n}(I);t.SequenceTimeline=oe,oe.ENTRIES=3,oe.MODE=1,oe.DELAY=2},1700:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT=t.SETUP=t.HOLD_MIX=t.HOLD_FIRST=t.HOLD_SUBSEQUENT=t.FIRST=t.SUBSEQUENT=t.AnimationStateAdapter=t.EventType=t.EventQueue=t.TrackEntry=t.AnimationState=void 0;var a=n(9889),s=n(4153),o=function(){function e(t){i(this,e),this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new c(this),this.propertyIDs=new s.StringSet,this.animationsChanged=!1,this.trackEntryPool=new s.Pool((function(){return new l})),this.data=t}return r(e,[{key:"update",value:function(e){e*=this.timeScale;for(var t=this.tracks,n=0,i=t.length;n<i;n++){var r=t[n];if(r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var a=e*r.timeScale;if(r.delay>0){if(r.delay-=a,r.delay>0)continue;a=-r.delay,r.delay=0}var s=r.next;if(s){var o=r.trackLast-s.delay;if(o>=0){for(s.delay=0,s.trackTime+=0===r.timeScale?0:(o/r.timeScale+e)*s.timeScale,r.trackTime+=a,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&!r.mixingFrom){t[n]=null,this.queue.end(r),this.clearNext(r);continue}if(r.mixingFrom&&this.updateMixingFrom(r,e)){var l=r.mixingFrom;for(r.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}r.trackTime+=a}}this.queue.drain()}},{key:"updateMixingFrom",value:function(e,t){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,t);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?(0!==n.totalAlpha&&0!==e.mixDuration||(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=t*n.timeScale,e.mixTime+=t,!1)}},{key:"apply",value:function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,i=this.tracks,r=!1,o=0,l=i.length;o<l;o++){var u=i[o];if(u&&!(u.delay>0)){r=!0;var c=0===o?a.MixBlend.first:u.mixBlend,h=u.alpha;u.mixingFrom?h*=this.applyMixingFrom(u,e,c):u.trackTime>=u.trackEnd&&!u.next&&(h=0);var f=u.animationLast,d=u.getAnimationTime(),p=d,v=n;u.reverse&&(p=u.animation.duration-p,v=null);var m=u.animation.timelines,g=m.length;if(0===o&&1===h||c===a.MixBlend.add)for(var y=0;y<g;y++){s.Utils.webkit602BugfixHelper(h,c);var _=m[y];_ instanceof a.AttachmentTimeline?this.applyAttachmentTimeline(_,e,p,c,!0):_.apply(e,f,p,v,h,c,a.MixDirection.mixIn)}else{var b=u.timelineMode,x=u.shortestRotation,w=!x&&u.timelinesRotation.length!==g<<1;w&&(u.timelinesRotation.length=g<<1);for(var k=0;k<g;k++){var M=m[k],T=b[k]===t.SUBSEQUENT?c:a.MixBlend.setup;!x&&M instanceof a.RotateTimeline?this.applyRotateTimeline(M,e,p,h,T,u.timelinesRotation,k<<1,w):M instanceof a.AttachmentTimeline?this.applyAttachmentTimeline(M,e,p,c,!0):(s.Utils.webkit602BugfixHelper(h,c),M.apply(e,f,p,v,h,T,a.MixDirection.mixIn))}}this.queueEvents(u,d),n.length=0,u.nextAnimationLast=d,u.nextTrackLast=u.trackTime}}for(var S=this.unkeyedState+t.SETUP,A=e.slots,E=0,L=e.slots.length;E<L;E++){var C=A[E];if(C.attachmentState===S){var O=C.data.attachmentName;C.setAttachment(O?e.getAttachment(C.data.index,O):null)}}return this.unkeyedState+=2,this.queue.drain(),r}},{key:"applyMixingFrom",value:function(e,n,i){var r=e.mixingFrom;r.mixingFrom&&this.applyMixingFrom(r,n,i);var o=0;0===e.mixDuration?(o=1,i===a.MixBlend.first&&(i=a.MixBlend.setup)):((o=e.mixTime/e.mixDuration)>1&&(o=1),i!==a.MixBlend.first&&(i=r.mixBlend));var l=o<r.attachmentThreshold,u=o<r.drawOrderThreshold,c=r.animation.timelines,h=c.length,f=r.alpha*e.interruptAlpha,d=f*(1-o),p=r.animationLast,v=r.getAnimationTime(),m=v,g=null;if(r.reverse?m=r.animation.duration-m:o<r.eventThreshold&&(g=this.events),i===a.MixBlend.add)for(var y=0;y<h;y++)c[y].apply(n,p,m,g,d,i,a.MixDirection.mixOut);else{var _=r.timelineMode,b=r.timelineHoldMix,x=r.shortestRotation,w=!x&&r.timelinesRotation.length!==h<<1;w&&(r.timelinesRotation.length=h<<1),r.totalAlpha=0;for(var k=0;k<h;k++){var M=c[k],T=a.MixDirection.mixOut,S=void 0,A=0;switch(_[k]){case t.SUBSEQUENT:if(!u&&M instanceof a.DrawOrderTimeline)continue;S=i,A=d;break;case t.FIRST:S=a.MixBlend.setup,A=d;break;case t.HOLD_SUBSEQUENT:S=i,A=f;break;case t.HOLD_FIRST:S=a.MixBlend.setup,A=f;break;default:S=a.MixBlend.setup;var E=b[k];A=f*Math.max(0,1-E.mixTime/E.mixDuration)}r.totalAlpha+=A,!x&&M instanceof a.RotateTimeline?this.applyRotateTimeline(M,n,m,A,S,r.timelinesRotation,k<<1,w):M instanceof a.AttachmentTimeline?this.applyAttachmentTimeline(M,n,m,S,l):(s.Utils.webkit602BugfixHelper(A,i),u&&M instanceof a.DrawOrderTimeline&&S===a.MixBlend.setup&&(T=a.MixDirection.mixIn),M.apply(n,p,m,g,A,S,T))}}return e.mixDuration>0&&this.queueEvents(r,v),this.events.length=0,r.nextAnimationLast=v,r.nextTrackLast=r.trackTime,o}},{key:"applyAttachmentTimeline",value:function(e,n,i,r,s){var o=n.slots[e.slotIndex];o.bone.active&&(i<e.frames[0]?r!==a.MixBlend.setup&&r!==a.MixBlend.first||this.setAttachment(n,o,o.data.attachmentName,s):this.setAttachment(n,o,e.attachmentNames[a.Timeline.search1(e.frames,i)],s),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP))}},{key:"setAttachment",value:function(e,n,i,r){n.setAttachment(i?e.getAttachment(n.data.index,i):null),r&&(n.attachmentState=this.unkeyedState+t.CURRENT)}},{key:"applyRotateTimeline",value:function(e,t,n,i,r,o,l,u){if(u&&(o[l]=0),1!==i){var c=t.bones[e.boneIndex];if(c.active){var h=0,f=0;if(n<e.frames[0])switch(r){case a.MixBlend.setup:c.rotation=c.data.rotation;default:return;case a.MixBlend.first:h=c.rotation,f=c.data.rotation}else h=r===a.MixBlend.setup?c.data.rotation:c.rotation,f=c.data.rotation+e.getCurveValue(n);var d=0,p=f-h;if(0===(p-=360*(16384-(16384.499999999996-p/360|0))))d=o[l];else{var v=0,m=0;u?(v=0,m=p):(v=o[l],m=o[l+1]);var g=p>0,y=v>=0;s.MathUtils.signum(m)!==s.MathUtils.signum(p)&&Math.abs(m)<=90&&(Math.abs(v)>180&&(v+=360*s.MathUtils.signum(v)),y=g),d=p+v-v%360,y!==g&&(d+=360*s.MathUtils.signum(v)),o[l]=d}o[l+1]=p,c.rotation=h+d*i}}else e.apply(t,0,n,null,1,r,a.MixDirection.mixIn)}},{key:"queueEvents",value:function(e,t){for(var n=e.animationStart,i=e.animationEnd,r=i-n,a=e.trackLast%r,s=this.events,o=0,l=s.length;o<l;o++){var u=s[o];if(u.time<a)break;u.time>i||this.queue.event(e,u)}for((e.loop?0===r||a>e.trackTime%r:t>=i&&e.animationLast<i)&&this.queue.complete(e);o<l;o++){var c=s[o];c.time<n||this.queue.event(e,c)}}},{key:"clearTracks",value:function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()}},{key:"clearTrack",value:function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(t){this.queue.end(t),this.clearNext(t);for(var n=t;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[t.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(e,t,n){var i=this.expandToIndex(e);this.tracks[e]=t,t.previous=null,i&&(n&&this.queue.interrupt(i),t.mixingFrom=i,i.mixingTo=t,t.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(t.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(t)}},{key:"setAnimation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.data.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: "+t);return this.setAnimationWith(e,i,n)}},{key:"setAnimationWith",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)throw new Error("animation cannot be null.");var i=!0,r=this.expandToIndex(e);r&&(-1===r.nextTrackLast?(this.tracks[e]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.clearNext(r),r=r.mixingFrom,i=!1):this.clearNext(r));var a=this.trackEntry(e,t,n,r);return this.setCurrent(e,a,i),this.queue.drain(),a}},{key:"addAnimation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this.data.skeletonData.findAnimation(t);if(!r)throw new Error("Animation not found: "+t);return this.addAnimationWith(e,r,n,i)}},{key:"addAnimationWith",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t)throw new Error("animation cannot be null.");var r=this.expandToIndex(e);if(r)for(;r.next;)r=r.next;var a=this.trackEntry(e,t,n,r);return r?(r.next=a,a.previous=r,i<=0&&(i+=r.getTrackComplete()-a.mixDuration)):(this.setCurrent(e,a,!0),this.queue.drain()),a.delay=i,a}},{key:"setEmptyAnimation",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.setAnimationWith(t,e.emptyAnimation(),!1);return i.mixDuration=n,i.trackEnd=n,i}},{key:"addEmptyAnimation",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.addAnimationWith(t,e.emptyAnimation(),!1,i);return i<=0&&(r.delay+=r.mixDuration-n),r.mixDuration=n,r.trackEnd=n,r}},{key:"setEmptyAnimations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var r=this.tracks[n];r&&this.setEmptyAnimation(r.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()}},{key:"expandToIndex",value:function(e){return e<this.tracks.length?this.tracks[e]:(s.Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)}},{key:"trackEntry",value:function(e,t,n,i){var r=this.trackEntryPool.obtain();return r.reset(),r.trackIndex=e,r.animation=t,r.loop=n,r.holdPrevious=!1,r.reverse=!1,r.shortestRotation=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=t.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.mixTime=0,r.mixDuration=i?this.data.getMix(i.animation,t):0,r.interruptAlpha=1,r.totalAlpha=0,r.mixBlend=a.MixBlend.replace,r}},{key:"clearNext",value:function(e){for(var t=e.next;t;)this.queue.dispose(t),t=t.next;e.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,t=0,n=e.length;t<n;t++){var i=e[t];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do{i.mixingTo&&i.mixBlend===a.MixBlend.add||this.computeHold(i),i=i.mixingTo}while(i)}}}},{key:"computeHold",value:function(e){var n=e.mixingTo,i=e.animation.timelines,r=e.animation.timelines.length,s=e.timelineMode;s.length=r;var o=e.timelineHoldMix;o.length=0;var l=this.propertyIDs;if(n&&n.holdPrevious)for(var u=0;u<r;u++)s[u]=l.addAll(i[u].getPropertyIds())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;else e:for(var c=0;c<r;c++){var h=i[c],f=h.getPropertyIds();if(l.addAll(f))if(!n||h instanceof a.AttachmentTimeline||h instanceof a.DrawOrderTimeline||h instanceof a.EventTimeline||!n.animation.hasTimeline(f))s[c]=t.FIRST;else{for(var d=n.mixingTo;d;d=d.mixingTo)if(!d.animation.hasTimeline(f)){if(e.mixDuration>0){s[c]=t.HOLD_MIX,o[c]=d;continue e}break}s[c]=t.HOLD_FIRST}else s[c]=t.SUBSEQUENT}}},{key:"getCurrent",value:function(e){return e>=this.tracks.length?null:this.tracks[e]}},{key:"addListener",value:function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}}],[{key:"emptyAnimation",value:function(){return e._emptyAnimation}}]),e}();t.AnimationState=o,o._emptyAnimation=new a.Animation("<empty>",[],0);var l=function(){function e(){i(this,e),this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=a.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return r(e,[{key:"reset",value:function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var e=this.animationEnd-this.animationStart;return 0===e?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(e){this.animationLast=e,this.nextAnimationLast=e}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"getTrackComplete",value:function(){var e=this.animationEnd-this.animationStart;if(0!==e){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime}}]),e}();t.TrackEntry=l;var u,c=function(){function e(t){i(this,e),this.objects=[],this.drainDisabled=!1,this.animState=t}return r(e,[{key:"start",value:function(e){this.objects.push(u.start),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(e){this.objects.push(u.interrupt),this.objects.push(e)}},{key:"end",value:function(e){this.objects.push(u.end),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"dispose",value:function(e){this.objects.push(u.dispose),this.objects.push(e)}},{key:"complete",value:function(e){this.objects.push(u.complete),this.objects.push(e)}},{key:"event",value:function(e,t){this.objects.push(u.event),this.objects.push(e),this.objects.push(t)}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];switch(i){case u.start:r.listener&&r.listener.start&&r.listener.start(r);for(var a=0;a<t.length;a++){var s=t[a];s.start&&s.start(r)}break;case u.interrupt:r.listener&&r.listener.interrupt&&r.listener.interrupt(r);for(var o=0;o<t.length;o++){var l=t[o];l.interrupt&&l.interrupt(r)}break;case u.end:r.listener&&r.listener.end&&r.listener.end(r);for(var c=0;c<t.length;c++){var h=t[c];h.end&&h.end(r)}case u.dispose:r.listener&&r.listener.dispose&&r.listener.dispose(r);for(var f=0;f<t.length;f++){var d=t[f];d.dispose&&d.dispose(r)}this.animState.trackEntryPool.free(r);break;case u.complete:r.listener&&r.listener.complete&&r.listener.complete(r);for(var p=0;p<t.length;p++){var v=t[p];v.complete&&v.complete(r)}break;case u.event:var m=e[2+n++];r.listener&&r.listener.event&&r.listener.event(r,m);for(var g=0;g<t.length;g++){var y=t[g];y.event&&y.event(r,m)}}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}]),e}();t.EventQueue=c,function(e){e[e.start=0]="start",e[e.interrupt=1]="interrupt",e[e.end=2]="end",e[e.dispose=3]="dispose",e[e.complete=4]="complete",e[e.event=5]="event"}(u=t.EventType||(t.EventType={}));var h=function(){function e(){i(this,e)}return r(e,[{key:"start",value:function(e){}},{key:"interrupt",value:function(e){}},{key:"end",value:function(e){}},{key:"dispose",value:function(e){}},{key:"complete",value:function(e){}},{key:"event",value:function(e,t){}}]),e}();t.AnimationStateAdapter=h,t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2},1657:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationStateData=void 0;var a=function(){function e(t){if(i(this,e),this.animationToMixTime={},this.defaultMix=0,!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return r(e,[{key:"setMix",value:function(e,t,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var r=this.skeletonData.findAnimation(t);if(!r)throw new Error("Animation not found: "+t);this.setMixWith(i,r,n)}},{key:"setMixWith",value:function(e,t,n){if(!e)throw new Error("from cannot be null.");if(!t)throw new Error("to cannot be null.");var i=e.name+"."+t.name;this.animationToMixTime[i]=n}},{key:"getMix",value:function(e,t){var n=e.name+"."+t.name,i=this.animationToMixTime[n];return void 0===i?this.defaultMix:i}}]),e}();t.AnimationStateData=a},2957:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Downloader=t.AssetManagerBase=void 0;var s=n(3416),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new l;r(this,e),this.pathPrefix="",this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=t,this.pathPrefix=n,this.downloader=i}return a(e,[{key:"start",value:function(e){return this.toLoad++,this.pathPrefix+e}},{key:"success",value:function(e,t,n){this.toLoad--,this.loaded++,this.assets[t]=n,e&&e(t,n)}},{key:"error",value:function(e,t,n){this.toLoad--,this.loaded++,this.errors[t]=n,e&&e(t,n)}},{key:"loadAll",value:function(){var e=this;return new Promise((function(t,n){requestAnimationFrame((function i(){e.isLoadingComplete()?e.hasErrors()?n(e.errors):t(e):requestAnimationFrame(i)}))}))}},{key:"setRawDataURI",value:function(e,t){this.downloader.rawDataUris[this.pathPrefix+e]=t}},{key:"loadBinary",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e=this.start(e),this.downloader.downloadBinary(e,(function(i){t.success(n,e,i)}),(function(n,r){t.error(i,e,"Couldn't load binary ".concat(e,": status ").concat(n,", ").concat(r))}))}},{key:"loadText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e=this.start(e),this.downloader.downloadText(e,(function(i){t.success(n,e,i)}),(function(n,r){t.error(i,e,"Couldn't load text ".concat(e,": status ").concat(n,", ").concat(r))}))}},{key:"loadJson",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e=this.start(e),this.downloader.downloadJson(e,(function(i){t.success(n,e,i)}),(function(n,r){t.error(i,e,"Couldn't load JSON ".concat(e,": status ").concat(n,", ").concat(r))}))}},{key:"loadTexture",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e=this.start(e);var r=!("undefined"===typeof window||"undefined"===typeof navigator||!window.document),a=!r;if(a)fetch(e,{mode:"cors"}).then((function(n){return n.ok?n.blob():(t.error(i,e,"Couldn't load image: ".concat(e)),null)})).then((function(e){return e?createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"}):null})).then((function(i){i&&t.success(n,e,t.textureLoader(i))}));else{var s=new Image;s.crossOrigin="anonymous",s.onload=function(){t.success(n,e,t.textureLoader(s))},s.onerror=function(){t.error(i,e,"Couldn't load image: ".concat(e))},this.downloader.rawDataUris[e]&&(e=this.downloader.rawDataUris[e]),s.src=e}}},{key:"loadTextureAtlas",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3?arguments[3]:void 0,o=e.lastIndexOf("/"),l=o>=0?e.substring(0,o+1):"";e=this.start(e),this.downloader.downloadText(e,(function(o){try{!function(){var u,c=new s.TextureAtlas(o),h=c.pages.length,f=!1,d=i(c.pages);try{var p=function(){var i=u.value;t.loadTexture(a?a[i.name]:l+i.name,(function(r,a){f||(i.setTexture(a),0===--h&&t.success(n,e,c))}),(function(n,i){f||t.error(r,e,"Couldn't load texture atlas ".concat(e," page image: ").concat(n)),f=!0}))};for(d.s();!(u=d.n()).done;)p()}catch(v){d.e(v)}finally{d.f()}}()}catch(u){t.error(r,e,"Couldn't parse texture atlas ".concat(e,": ").concat(u.message))}}),(function(n,i){t.error(r,e,"Couldn't load texture atlas ".concat(e,": status ").concat(n,", ").concat(i))}))}},{key:"get",value:function(e){return this.assets[this.pathPrefix+e]}},{key:"require",value:function(e){e=this.pathPrefix+e;var t=this.assets[e];if(t)return t;var n=this.errors[e];throw Error("Asset not found: "+e+(n?"\n"+n:""))}},{key:"remove",value:function(e){e=this.pathPrefix+e;var t=this.assets[e];return t.dispose&&t.dispose(),delete this.assets[e],t}},{key:"removeAll",value:function(){for(var e in this.assets){var t=this.assets[e];t.dispose&&t.dispose()}this.assets={}}},{key:"isLoadingComplete",value:function(){return 0===this.toLoad}},{key:"getToLoad",value:function(){return this.toLoad}},{key:"getLoaded",value:function(){return this.loaded}},{key:"dispose",value:function(){this.removeAll()}},{key:"hasErrors",value:function(){return Object.keys(this.errors).length>0}},{key:"getErrors",value:function(){return this.errors}}]),e}();t.AssetManagerBase=o;var l=function(){function e(){r(this,e),this.callbacks={},this.rawDataUris={}}return a(e,[{key:"dataUriToString",value:function(e){if(!e.startsWith("data:"))throw new Error("Not a data URI.");var t=e.indexOf("base64,");return-1!==t?(t+="base64,".length,atob(e.substr(t))):e.substr(e.indexOf(",")+1)}},{key:"base64ToUint8Array",value:function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=t.charCodeAt(r);return i}},{key:"dataUriToUint8Array",value:function(e){if(!e.startsWith("data:"))throw new Error("Not a data URI.");var t=e.indexOf("base64,");if(-1===t)throw new Error("Not a binary data URI.");return t+="base64,".length,this.base64ToUint8Array(e.substr(t))}},{key:"downloadText",value:function(e,t,n){var i=this;if(!this.start(e,t,n))if(this.rawDataUris[e])try{var r=this.rawDataUris[e];this.finish(e,200,this.dataUriToString(r))}catch(o){this.finish(e,400,JSON.stringify(o))}else{var a=new XMLHttpRequest;a.overrideMimeType("text/html"),a.open("GET",e,!0);var s=function(){i.finish(e,a.status,a.responseText)};a.onload=s,a.onerror=s,a.send()}}},{key:"downloadJson",value:function(e,t,n){this.downloadText(e,(function(e){t(JSON.parse(e))}),n)}},{key:"downloadBinary",value:function(e,t,n){var i=this;if(!this.start(e,t,n))if(this.rawDataUris[e])try{var r=this.rawDataUris[e];this.finish(e,200,this.dataUriToUint8Array(r))}catch(o){this.finish(e,400,JSON.stringify(o))}else{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer";var s=function(){i.finish(e,a.status,a.response)};a.onload=function(){200===a.status||0===a.status?i.finish(e,200,new Uint8Array(a.response)):s()},a.onerror=s,a.send()}}},{key:"start",value:function(e,t,n){var i=this.callbacks[e];try{if(i)return!0;this.callbacks[e]=i=[]}finally{i.push(t,n)}}},{key:"finish",value:function(e,t,n){var i=this.callbacks[e];delete this.callbacks[e];for(var r=200===t||0===t?[n]:[t,n],a=r.length-1,s=i.length;a<s;a+=2)i[a].apply(null,r)}}]),e}();t.Downloader=l},3006:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AtlasAttachmentLoader=void 0;var a=n(9374),s=n(2024),o=n(8582),l=n(397),u=n(630),c=n(7045),h=function(){function e(t){i(this,e),this.atlas=t}return r(e,[{key:"loadSequence",value:function(e,t,n){for(var i=n.regions,r=0,a=i.length;r<a;r++){var s=n.getPath(t,r),o=this.atlas.findRegion(s);if(null===o)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[r]=o,i[r].renderObject=i[r]}}},{key:"newRegionAttachment",value:function(e,t,n,i){var r=new c.RegionAttachment(t,n);if(null!==i)this.loadSequence(t,n,i);else{var a=this.atlas.findRegion(n);if(!a)throw new Error("Region not found in atlas: "+n+" (region attachment: "+t+")");a.renderObject=a,r.region=a}return r}},{key:"newMeshAttachment",value:function(e,t,n,i){var r=new o.MeshAttachment(t,n);if(null!==i)this.loadSequence(t,n,i);else{var a=this.atlas.findRegion(n);if(!a)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+t+")");a.renderObject=a,r.region=a}return r}},{key:"newBoundingBoxAttachment",value:function(e,t){return new a.BoundingBoxAttachment(t)}},{key:"newPathAttachment",value:function(e,t){return new l.PathAttachment(t)}},{key:"newPointAttachment",value:function(e,t){return new u.PointAttachment(t)}},{key:"newClippingAttachment",value:function(e,t){return new s.ClippingAttachment(t)}}]),e}();t.AtlasAttachmentLoader=h},1362:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Bone=void 0;var a=n(196),s=n(4153),o=function(){function e(t,n,r){if(i(this,e),this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=n,this.parent=r,this.setToSetupPose()}return r(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(e,t,n,i,r,o,l){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=i,this.ascaleY=r,this.ashearX=o,this.ashearY=l;var u=this.parent;if(!u){var c=this.skeleton,h=n+90+l,f=c.scaleX,d=c.scaleY;return this.a=s.MathUtils.cosDeg(n+o)*i*f,this.b=s.MathUtils.cosDeg(h)*r*f,this.c=s.MathUtils.sinDeg(n+o)*i*d,this.d=s.MathUtils.sinDeg(h)*r*d,this.worldX=e*f+c.x,void(this.worldY=t*d+c.y)}var p=u.a,v=u.b,m=u.c,g=u.d;switch(this.worldX=p*e+v*t+u.worldX,this.worldY=m*e+g*t+u.worldY,this.data.transformMode){case a.TransformMode.Normal:var y=n+90+l,_=s.MathUtils.cosDeg(n+o)*i,b=s.MathUtils.cosDeg(y)*r,x=s.MathUtils.sinDeg(n+o)*i,w=s.MathUtils.sinDeg(y)*r;return this.a=p*_+v*x,this.b=p*b+v*w,this.c=m*_+g*x,void(this.d=m*b+g*w);case a.TransformMode.OnlyTranslation:var k=n+90+l;this.a=s.MathUtils.cosDeg(n+o)*i,this.b=s.MathUtils.cosDeg(k)*r,this.c=s.MathUtils.sinDeg(n+o)*i,this.d=s.MathUtils.sinDeg(k)*r;break;case a.TransformMode.NoRotationOrReflection:var M=p*p+m*m,T=0;M>1e-4?(M=Math.abs(p*g-v*m)/M,p/=this.skeleton.scaleX,v=(m/=this.skeleton.scaleY)*M,g=p*M,T=Math.atan2(m,p)*s.MathUtils.radDeg):(p=0,m=0,T=90-Math.atan2(g,v)*s.MathUtils.radDeg);var S=n+o-T,A=n+l-T+90,E=s.MathUtils.cosDeg(S)*i,L=s.MathUtils.cosDeg(A)*r,C=s.MathUtils.sinDeg(S)*i,O=s.MathUtils.sinDeg(A)*r;this.a=p*E-v*C,this.b=p*L-v*O,this.c=m*E+g*C,this.d=m*L+g*O;break;case a.TransformMode.NoScale:case a.TransformMode.NoScaleOrReflection:var P=s.MathUtils.cosDeg(n),I=s.MathUtils.sinDeg(n),N=(p*P+v*I)/this.skeleton.scaleX,R=(m*P+g*I)/this.skeleton.scaleY,F=Math.sqrt(N*N+R*R);F>1e-5&&(F=1/F),N*=F,R*=F,F=Math.sqrt(N*N+R*R),this.data.transformMode===a.TransformMode.NoScale&&p*g-v*m<0!==(this.skeleton.scaleX<0!==this.skeleton.scaleY<0)&&(F=-F);var B=Math.PI/2+Math.atan2(R,N),D=Math.cos(B)*F,j=Math.sin(B)*F,U=s.MathUtils.cosDeg(o)*i,V=s.MathUtils.cosDeg(90+l)*r,G=s.MathUtils.sinDeg(o)*i,z=s.MathUtils.sinDeg(90+l)*r;this.a=N*U+D*G,this.b=N*V+D*z,this.c=R*U+j*G,this.d=R*V+j*z}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}},{key:"setToSetupPose",value:function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.c,this.a)*s.MathUtils.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.d,this.b)*s.MathUtils.radDeg}},{key:"getWorldScaleX",value:function(){return Math.sqrt(this.a*this.a+this.c*this.c)}},{key:"getWorldScaleY",value:function(){return Math.sqrt(this.b*this.b+this.d*this.d)}},{key:"updateAppliedTransform",value:function(){var e=this.parent;if(!e)return this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*s.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*s.MathUtils.radDeg);var t=e.a,n=e.b,i=e.c,r=e.d,a=1/(t*r-n*i),o=this.worldX-e.worldX,l=this.worldY-e.worldY;this.ax=o*r*a-l*n*a,this.ay=l*t*a-o*i*a;var u=a*r,c=a*t,h=a*n,f=a*i,d=u*this.a-h*this.c,p=u*this.b-h*this.d,v=c*this.c-f*this.a,m=c*this.d-f*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(d*d+v*v),this.ascaleX>1e-4){var g=d*m-p*v;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(d*p+v*m,g)*s.MathUtils.radDeg,this.arotation=Math.atan2(v,d)*s.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(p*p+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,p)*s.MathUtils.radDeg}},{key:"worldToLocal",value:function(e){var t=1/(this.a*this.d-this.b*this.c),n=e.x-this.worldX,i=e.y-this.worldY;return e.x=n*this.d*t-i*this.b*t,e.y=i*this.a*t-n*this.c*t,e}},{key:"localToWorld",value:function(e){var t=e.x,n=e.y;return e.x=t*this.a+n*this.b+this.worldX,e.y=t*this.c+n*this.d+this.worldY,e}},{key:"worldToLocalRotation",value:function(e){var t=s.MathUtils.sinDeg(e),n=s.MathUtils.cosDeg(e);return Math.atan2(this.a*t-this.c*n,this.d*n-this.b*t)*s.MathUtils.radDeg+this.rotation-this.shearX}},{key:"localToWorldRotation",value:function(e){e-=this.rotation-this.shearX;var t=s.MathUtils.sinDeg(e),n=s.MathUtils.cosDeg(e);return Math.atan2(n*this.c+t*this.d,n*this.a+t*this.b)*s.MathUtils.radDeg}},{key:"rotateWorld",value:function(e){var t=this.a,n=this.b,i=this.c,r=this.d,a=s.MathUtils.cosDeg(e),o=s.MathUtils.sinDeg(e);this.a=a*t-o*i,this.b=a*n-o*r,this.c=o*t+a*i,this.d=o*n+a*r}}]),e}();t.Bone=o},196:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TransformMode=t.BoneData=void 0;var a,s=n(4153),o=i((function e(t,n,i){if(r(this,e),this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=a.Normal,this.skinRequired=!1,this.color=new s.Color,t<0)throw new Error("index must be >= 0.");if(!n)throw new Error("name cannot be null.");this.index=t,this.name=n,this.parent=i}));t.BoneData=o,function(e){e[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection"}(a=t.TransformMode||(t.TransformMode={}))},5221:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConstraintData=void 0;var a=i((function e(t,n,i){r(this,e),this.name=t,this.order=n,this.skinRequired=i}));t.ConstraintData=a},300:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var a=i((function e(t,n){if(r(this,e),this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!n)throw new Error("data cannot be null.");this.time=t,this.data=n}));t.Event=a},4013:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EventData=void 0;var a=i((function e(t){r(this,e),this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=t}));t.EventData=a},7111:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IkConstraint=void 0;var a=n(196),s=n(4153),o=function(){function e(t,n){if(i(this,e),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++){var a=n.findBone(t.bones[r].name);if(!a)throw new Error("Couldn't find bone ".concat(t.bones[r].name));this.bones.push(a)}var s=n.findBone(t.target.name);if(!s)throw new Error("Couldn't find bone ".concat(t.target.name));this.target=s}return r(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){if(0!==this.mix){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}}},{key:"apply1",value:function(e,t,n,i,r,o,l){var u=e.parent;if(!u)throw new Error("IK bone must have parent.");var c=u.a,h=u.b,f=u.c,d=u.d,p=-e.ashearX-e.arotation,v=0,m=0;switch(e.data.transformMode){case a.TransformMode.OnlyTranslation:v=t-e.worldX,m=n-e.worldY;break;case a.TransformMode.NoRotationOrReflection:var g=Math.abs(c*d-h*f)/(c*c+f*f),y=c/e.skeleton.scaleX,_=f/e.skeleton.scaleY;h=-_*g*e.skeleton.scaleX,d=y*g*e.skeleton.scaleY,p+=Math.atan2(_,y)*s.MathUtils.radDeg;default:var b=t-u.worldX,x=n-u.worldY,w=c*d-h*f;v=(b*d-x*h)/w-e.ax,m=(x*c-b*f)/w-e.ay}p+=Math.atan2(m,v)*s.MathUtils.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var k=e.ascaleX,M=e.ascaleY;if(i||r){switch(e.data.transformMode){case a.TransformMode.NoScale:case a.TransformMode.NoScaleOrReflection:v=t-e.worldX,m=n-e.worldY}var T=e.data.length*k,S=Math.sqrt(v*v+m*m);if(i&&S<T||r&&S>T&&T>1e-4){var A=(S/T-1)*l+1;k*=A,o&&(M*=A)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*l,k,M,e.ashearX,e.ashearY)}},{key:"apply2",value:function(e,t,n,i,r,a,o,l,u){var c=e.ax,h=e.ay,f=e.ascaleX,d=e.ascaleY,p=f,v=d,m=t.ascaleX,g=0,y=0,_=0;f<0?(f=-f,g=180,_=-1):(g=0,_=1),d<0&&(d=-d,_=-_),m<0?(m=-m,y=180):y=0;var b=t.ax,x=0,w=0,k=0,M=e.a,T=e.b,S=e.c,A=e.d,E=Math.abs(f-d)<=1e-4;!E||a?(x=0,w=M*b+e.worldX,k=S*b+e.worldY):(w=M*b+T*(x=t.ay)+e.worldX,k=S*b+A*x+e.worldY);var L=e.parent;if(!L)throw new Error("IK parent must itself have a parent.");M=L.a,T=L.b,S=L.c;var C,O,P=1/(M*(A=L.d)-T*S),I=w-L.worldX,N=k-L.worldY,R=(I*A-N*T)*P-c,F=(N*M-I*S)*P-h,B=Math.sqrt(R*R+F*F),D=t.data.length*m;if(B<1e-4)return this.apply1(e,n,i,!1,a,!1,u),void t.updateWorldTransformWith(b,x,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);var j=((I=n-L.worldX)*A-(N=i-L.worldY)*T)*P-c,U=(N*M-I*S)*P-h,V=j*j+U*U;if(0!==l){l*=f*(m+1)*.5;var G=Math.sqrt(V),z=G-B-D*f+l;if(z>0){var W=Math.min(1,z/(2*l))-1;V=(j-=(W=(z-l*(1-W*W))/G)*j)*j+(U-=W*U)*U}}e:if(E){var H=(V-B*B-(D*=f)*D)/(2*B*D);H<-1?(H=-1,O=Math.PI*r):H>1?(H=1,O=0,a&&(p*=M=(Math.sqrt(V)/(B+D)-1)*u+1,o&&(v*=M))):O=Math.acos(H)*r,M=B+D*H,T=D*Math.sin(O),C=Math.atan2(U*M-j*T,j*M+U*T)}else{var Y=(M=f*D)*M,X=(T=d*D)*T,q=Math.atan2(U,j),$=-2*X*B,K=X-Y;if((A=$*$-4*K*(S=X*B*B+Y*V-Y*X))>=0){var Q=Math.sqrt(A);$<0&&(Q=-Q);var Z=(Q=.5*-($+Q))/K,J=S/Q,ee=Math.abs(Z)<Math.abs(J)?Z:J;if(ee*ee<=V){N=Math.sqrt(V-ee*ee)*r,C=q-Math.atan2(N,ee),O=Math.atan2(N/d,(ee-B)/f);break e}}var te=s.MathUtils.PI,ne=B-M,ie=ne*ne,re=0,ae=0,se=B+M,oe=se*se,le=0;(S=-M*B/(Y-X))>=-1&&S<=1&&(S=Math.acos(S),(A=(I=M*Math.cos(S)+B)*I+(N=T*Math.sin(S))*N)<ie&&(te=S,ie=A,ne=I,re=N),A>oe&&(ae=S,oe=A,se=I,le=N)),V<=.5*(ie+oe)?(C=q-Math.atan2(re*r,ne),O=te*r):(C=q-Math.atan2(le*r,se),O=ae*r)}var ue=Math.atan2(x,b)*_,ce=e.arotation;(C=(C-ue)*s.MathUtils.radDeg+g-ce)>180?C-=360:C<-180&&(C+=360),e.updateWorldTransformWith(c,h,ce+C*u,p,v,0,0),ce=t.arotation,(O=((O+ue)*s.MathUtils.radDeg-t.ashearX)*_+y-ce)>180?O-=360:O<-180&&(O+=360),t.updateWorldTransformWith(b,x,ce+O*u,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}}]),e}();t.IkConstraint=o},8155:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IkConstraintData=void 0;var o=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e,0,!1)).bones=new Array,r._target=null,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return r(n,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(e){this._target=e}}]),n}(n(5221).ConstraintData);t.IkConstraintData=o},3093:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PathConstraint=void 0;var a=n(397),s=n(9841),o=n(4153),l=function(){function e(t,n){if(i(this,e),this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,a=t.bones.length;r<a;r++){var s=n.findBone(t.bones[r].name);if(!s)throw new Error("Couldn't find bone ".concat(t.bones[r].name,"."));this.bones.push(s)}var o=n.findSlot(t.target.name);if(!o)throw new Error("Couldn't find target bone ".concat(t.target.name));this.target=o,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}return r(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){var t=this.target.getAttachment();if(t instanceof a.PathAttachment){var n=this.mixRotate,i=this.mixX,r=this.mixY;if(0!==n||0!==i||0!==r){var l=this.data,u=l.rotateMode===s.RotateMode.Tangent,c=l.rotateMode===s.RotateMode.ChainScale,h=this.bones,f=h.length,d=u?f:f+1,p=o.Utils.setArraySize(this.spaces,d),v=c?this.lengths=o.Utils.setArraySize(this.lengths,f):[],m=this.spacing;switch(l.spacingMode){case s.SpacingMode.Percent:if(c)for(var g=0,y=d-1;g<y;g++){var _=h[g],b=_.data.length;if(b<e.epsilon)v[g]=0;else{var x=b*_.a,w=b*_.c;v[g]=Math.sqrt(x*x+w*w)}}o.Utils.arrayFill(p,1,d,m);break;case s.SpacingMode.Proportional:for(var k=0,M=0,T=d-1;M<T;){var S=h[M],A=S.data.length;if(A<e.epsilon)c&&(v[M]=0),p[++M]=m;else{var E=A*S.a,L=A*S.c,C=Math.sqrt(E*E+L*L);c&&(v[M]=C),p[++M]=C,k+=C}}if(k>0){k=d/k*m;for(var O=1;O<d;O++)p[O]*=k}break;default:for(var P=l.spacingMode===s.SpacingMode.Length,I=0,N=d-1;I<N;){var R=h[I],F=R.data.length;if(F<e.epsilon)c&&(v[I]=0),p[++I]=m;else{var B=F*R.a,D=F*R.c,j=Math.sqrt(B*B+D*D);c&&(v[I]=j),p[++I]=(P?F+m:m)*j/F}}}var U=this.computeWorldPositions(t,d,u),V=U[0],G=U[1],z=l.offsetRotation,W=!1;if(0===z)W=l.rotateMode===s.RotateMode.Chain;else{W=!1;var H=this.target.bone;z*=H.a*H.d-H.b*H.c>0?o.MathUtils.degRad:-o.MathUtils.degRad}for(var Y=0,X=3;Y<f;Y++,X+=3){var q=h[Y];q.worldX+=(V-q.worldX)*i,q.worldY+=(G-q.worldY)*r;var $=U[X],K=U[X+1],Q=$-V,Z=K-G;if(c){var J=v[Y];if(0!==J){var ee=(Math.sqrt(Q*Q+Z*Z)/J-1)*n+1;q.a*=ee,q.c*=ee}}if(V=$,G=K,n>0){var te=q.a,ne=q.b,ie=q.c,re=q.d,ae=0,se=0,oe=0;if(ae=u?U[X-1]:0===p[Y+1]?U[X+2]:Math.atan2(Z,Q),ae-=Math.atan2(ie,te),W){se=Math.cos(ae),oe=Math.sin(ae);var le=q.data.length;V+=(le*(se*te-oe*ie)-Q)*n,G+=(le*(oe*te+se*ie)-Z)*n}else ae+=z;ae>o.MathUtils.PI?ae-=o.MathUtils.PI2:ae<-o.MathUtils.PI&&(ae+=o.MathUtils.PI2),ae*=n,se=Math.cos(ae),oe=Math.sin(ae),q.a=se*te-oe*ie,q.b=se*ne-oe*re,q.c=oe*te+se*ie,q.d=oe*ne+se*re}q.updateAppliedTransform()}}}}},{key:"computeWorldPositions",value:function(t,n,i){var r=this.target,a=this.position,l=this.spaces,u=o.Utils.setArraySize(this.positions,3*n+2),c=this.world,h=t.closed,f=t.worldVerticesLength,d=f/6,p=e.NONE;if(!t.constantSpeed){var v,m=t.lengths,g=m[d-=h?1:2];switch(this.data.positionMode===s.PositionMode.Percent&&(a*=g),this.data.spacingMode){case s.SpacingMode.Percent:v=g;break;case s.SpacingMode.Proportional:v=g/n;break;default:v=1}c=o.Utils.setArraySize(this.world,8);for(var y=0,_=0,b=0;y<n;y++,_+=3){var x=l[y]*v,w=a+=x;if(h)(w%=g)<0&&(w+=g),b=0;else{if(w<0){p!==e.BEFORE&&(p=e.BEFORE,t.computeWorldVertices(r,2,4,c,0,2)),this.addBeforePosition(w,c,0,u,_);continue}if(w>g){p!==e.AFTER&&(p=e.AFTER,t.computeWorldVertices(r,f-6,4,c,0,2)),this.addAfterPosition(w-g,c,0,u,_);continue}}for(;;b++){var k=m[b];if(!(w>k)){if(0===b)w/=k;else{var M=m[b-1];w=(w-M)/(k-M)}break}}b!==p&&(p=b,h&&b===d?(t.computeWorldVertices(r,f-4,4,c,0,2),t.computeWorldVertices(r,0,4,c,4,2)):t.computeWorldVertices(r,6*b+2,8,c,0,2)),this.addCurvePosition(w,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],u,_,i||y>0&&0===x)}return u}h?(f+=2,c=o.Utils.setArraySize(this.world,f),t.computeWorldVertices(r,2,f-4,c,0,2),t.computeWorldVertices(r,0,2,c,f-4,2),c[f-2]=c[0],c[f-1]=c[1]):(d--,f-=4,c=o.Utils.setArraySize(this.world,f),t.computeWorldVertices(r,2,f,c,0,2));for(var T,S=o.Utils.setArraySize(this.curves,d),A=0,E=c[0],L=c[1],C=0,O=0,P=0,I=0,N=0,R=0,F=0,B=0,D=0,j=0,U=0,V=0,G=0,z=0,W=0,H=2;W<d;W++,H+=6)C=c[H],O=c[H+1],P=c[H+2],I=c[H+3],U=2*(F=.1875*(E-2*C+P))+(D=.09375*(3*(C-P)-E+(N=c[H+4]))),V=2*(B=.1875*(L-2*O+I))+(j=.09375*(3*(O-I)-L+(R=c[H+5]))),G=.75*(C-E)+F+.16666667*D,z=.75*(O-L)+B+.16666667*j,A+=Math.sqrt(G*G+z*z),G+=U,z+=V,U+=D,V+=j,A+=Math.sqrt(G*G+z*z),G+=U,z+=V,A+=Math.sqrt(G*G+z*z),G+=U+D,z+=V+j,A+=Math.sqrt(G*G+z*z),S[W]=A,E=N,L=R;switch(this.data.positionMode===s.PositionMode.Percent&&(a*=A),this.data.spacingMode){case s.SpacingMode.Percent:T=A;break;case s.SpacingMode.Proportional:T=A/n;break;default:T=1}for(var Y=this.segments,X=0,q=0,$=0,K=0,Q=0;q<n;q++,$+=3){var Z=l[q]*T,J=a+=Z;if(h)(J%=A)<0&&(J+=A),K=0;else{if(J<0){this.addBeforePosition(J,c,0,u,$);continue}if(J>A){this.addAfterPosition(J-A,c,f-4,u,$);continue}}for(;;K++){var ee=S[K];if(!(J>ee)){if(0===K)J/=ee;else{var te=S[K-1];J=(J-te)/(ee-te)}break}}if(K!==p){p=K;var ne=6*K;for(E=c[ne],L=c[ne+1],C=c[ne+2],O=c[ne+3],P=c[ne+4],I=c[ne+5],U=2*(F=.03*(E-2*C+P))+(D=.006*(3*(C-P)-E+(N=c[ne+6]))),V=2*(B=.03*(L-2*O+I))+(j=.006*(3*(O-I)-L+(R=c[ne+7]))),G=.3*(C-E)+F+.16666667*D,z=.3*(O-L)+B+.16666667*j,X=Math.sqrt(G*G+z*z),Y[0]=X,ne=1;ne<8;ne++)G+=U,z+=V,U+=D,V+=j,X+=Math.sqrt(G*G+z*z),Y[ne]=X;G+=U,z+=V,X+=Math.sqrt(G*G+z*z),Y[8]=X,G+=U+D,z+=V+j,X+=Math.sqrt(G*G+z*z),Y[9]=X,Q=0}for(J*=X;;Q++){var ie=Y[Q];if(!(J>ie)){if(0===Q)J/=ie;else{var re=Y[Q-1];J=Q+(J-re)/(ie-re)}break}}this.addCurvePosition(.1*J,E,L,C,O,P,I,N,R,u,$,i||q>0&&0===Z)}return u}},{key:"addBeforePosition",value:function(e,t,n,i,r){var a=t[n],s=t[n+1],o=t[n+2]-a,l=t[n+3]-s,u=Math.atan2(l,o);i[r]=a+e*Math.cos(u),i[r+1]=s+e*Math.sin(u),i[r+2]=u}},{key:"addAfterPosition",value:function(e,t,n,i,r){var a=t[n+2],s=t[n+3],o=a-t[n],l=s-t[n+1],u=Math.atan2(l,o);i[r]=a+e*Math.cos(u),i[r+1]=s+e*Math.sin(u),i[r+2]=u}},{key:"addCurvePosition",value:function(e,t,n,i,r,a,s,o,l,u,c,h){if(0===e||isNaN(e))return u[c]=t,u[c+1]=n,void(u[c+2]=Math.atan2(r-n,i-t));var f=e*e,d=f*e,p=1-e,v=p*p,m=v*p,g=p*e,y=3*g,_=p*y,b=y*e,x=t*m+i*_+a*b+o*d,w=n*m+r*_+s*b+l*d;u[c]=x,u[c+1]=w,h&&(u[c+2]=e<.001?Math.atan2(r-n,i-t):Math.atan2(w-(n*v+r*g*2+s*f),x-(t*v+i*g*2+a*f)))}}]),e}();t.PathConstraint=l,l.NONE=-1,l.BEFORE=-2,l.AFTER=-3,l.epsilon=1e-5},9841:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RotateMode=t.SpacingMode=t.PositionMode=t.PathConstraintData=void 0;var o,l,u,c=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e,0,!1)).bones=new Array,r._target=null,r.positionMode=o.Fixed,r.spacingMode=l.Fixed,r.rotateMode=u.Chain,r.offsetRotation=0,r.position=0,r.spacing=0,r.mixRotate=0,r.mixX=0,r.mixY=0,r}return r(n,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(e){this._target=e}}]),n}(n(5221).ConstraintData);t.PathConstraintData=c,function(e){e[e.Fixed=0]="Fixed",e[e.Percent=1]="Percent"}(o=t.PositionMode||(t.PositionMode={})),function(e){e[e.Length=0]="Length",e[e.Fixed=1]="Fixed",e[e.Percent=2]="Percent",e[e.Proportional=3]="Proportional"}(l=t.SpacingMode||(t.SpacingMode={})),function(e){e[e.Tangent=0]="Tangent",e[e.Chain=1]="Chain",e[e.ChainScale=2]="ChainScale"}(u=t.RotateMode||(t.RotateMode={}))},9965:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Skeleton=void 0;var a=n(2955),s=n(8582),o=n(397),l=n(7045),u=n(1362),c=n(7111),h=n(3093),f=n(3356),d=n(4672),p=n(4153),v=function(){function e(t){if(i(this,e),this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var r=t.bones[n],a=void 0;if(r.parent){var s=this.bones[r.parent.index];a=new u.Bone(r,this,s),s.children.push(a)}else a=new u.Bone(r,this,null);this.bones.push(a)}this.slots=new Array,this.drawOrder=new Array;for(var o=0;o<t.slots.length;o++){var l=t.slots[o],v=this.bones[l.boneData.index],m=new f.Slot(l,v);this.slots.push(m),this.drawOrder.push(m)}this.ikConstraints=new Array;for(var g=0;g<t.ikConstraints.length;g++){var y=t.ikConstraints[g];this.ikConstraints.push(new c.IkConstraint(y,this))}this.transformConstraints=new Array;for(var _=0;_<t.transformConstraints.length;_++){var b=t.transformConstraints[_];this.transformConstraints.push(new d.TransformConstraint(b,this))}this.pathConstraints=new Array;for(var x=0;x<t.pathConstraints.length;x++){var w=t.pathConstraints[x];this.pathConstraints.push(new h.PathConstraint(w,this))}this.color=new p.Color(1,1,1,1),this.updateCache()}return r(e,[{key:"updateCache",value:function(){var e=this._updateCache;e.length=0;for(var t=this.bones,n=0,i=t.length;n<i;n++){var r=t[n];r.sorted=r.data.skinRequired,r.active=!r.sorted}if(this.skin)for(var a=this.skin.bones,s=0,o=this.skin.bones.length;s<o;s++){var l=this.bones[a[s].index];do{l.sorted=!1,l.active=!0,l=l.parent}while(l)}var u=this.ikConstraints,c=this.transformConstraints,h=this.pathConstraints,f=u.length,d=c.length,p=h.length,v=f+d+p;e:for(var m=0;m<v;m++){for(var g=0;g<f;g++){var y=u[g];if(y.data.order===m){this.sortIkConstraint(y);continue e}}for(var _=0;_<d;_++){var b=c[_];if(b.data.order===m){this.sortTransformConstraint(b);continue e}}for(var x=0;x<p;x++){var w=h[x];if(w.data.order===m){this.sortPathConstraint(w);continue e}}}for(var k=0,M=t.length;k<M;k++)this.sortBone(t[k])}},{key:"sortIkConstraint",value:function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&p.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target;this.sortBone(t);var n=e.bones,i=n[0];if(this.sortBone(i),1===n.length)this._updateCache.push(e),this.sortReset(i.children);else{var r=n[n.length-1];this.sortBone(r),this._updateCache.push(e),this.sortReset(i.children),r.sorted=!0}}}},{key:"sortPathConstraint",value:function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&p.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target,n=t.data.index,i=t.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!==this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var r=0,a=this.data.skins.length;r<a;r++)this.sortPathConstraintAttachment(this.data.skins[r],n,i);var s=t.getAttachment();s instanceof o.PathAttachment&&this.sortPathConstraintAttachmentWith(s,i);for(var l=e.bones,u=l.length,c=0;c<u;c++)this.sortBone(l[c]);this._updateCache.push(e);for(var h=0;h<u;h++)this.sortReset(l[h].children);for(var f=0;f<u;f++)l[f].sorted=!0}}},{key:"sortTransformConstraint",value:function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&p.Utils.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var i=0;i<n;i++){var r=t[i];this.sortBone(r.parent),this.sortBone(r)}else for(var a=0;a<n;a++)this.sortBone(t[a]);this._updateCache.push(e);for(var s=0;s<n;s++)this.sortReset(t[s].children);for(var o=0;o<n;o++)t[o].sorted=!0}}},{key:"sortPathConstraintAttachment",value:function(e,t,n){var i=e.attachments[t];if(i)for(var r in i)this.sortPathConstraintAttachmentWith(i[r],n)}},{key:"sortPathConstraintAttachmentWith",value:function(e,t){if(e instanceof o.PathAttachment){var n=e.bones;if(n)for(var i=this.bones,r=0,a=n.length;r<a;){var s=n[r++];for(s+=r;r<s;)this.sortBone(i[n[r++]])}else this.sortBone(t)}}},{key:"sortBone",value:function(e){if(e&&!e.sorted){var t=e.parent;t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}}},{key:"sortReset",value:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}},{key:"updateWorldTransform",value:function(){for(var e=this.bones,t=0,n=e.length;t<n;t++){var i=e[t];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var r=this._updateCache,a=0,s=r.length;a<s;a++)r[a].update()}},{key:"updateWorldTransformWith",value:function(e){var t=this.getRootBone();if(!t)throw new Error("Root bone must not be null.");var n=e.a,i=e.b,r=e.c,a=e.d;t.worldX=n*this.x+i*this.y+e.worldX,t.worldY=r*this.x+a*this.y+e.worldY;var s=t.rotation+90+t.shearY,o=p.MathUtils.cosDeg(t.rotation+t.shearX)*t.scaleX,l=p.MathUtils.cosDeg(s)*t.scaleY,u=p.MathUtils.sinDeg(t.rotation+t.shearX)*t.scaleX,c=p.MathUtils.sinDeg(s)*t.scaleY;t.a=(n*o+i*u)*this.scaleX,t.b=(n*l+i*c)*this.scaleX,t.c=(r*o+a*u)*this.scaleY,t.d=(r*l+a*c)*this.scaleY;for(var h=this._updateCache,f=0,d=h.length;f<d;f++){var v=h[f];v!==t&&v.update()}}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var i=this.ikConstraints,r=0,a=i.length;r<a;r++){var s=i[r];s.mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}for(var o=this.transformConstraints,l=0,u=o.length;l<u;l++){var c=o[l],h=c.data;c.mixRotate=h.mixRotate,c.mixX=h.mixX,c.mixY=h.mixY,c.mixScaleX=h.mixScaleX,c.mixScaleY=h.mixScaleY,c.mixShearY=h.mixShearY}for(var f=this.pathConstraints,d=0,p=f.length;d<p;d++){var v=f[d],m=v.data;v.position=m.position,v.spacing=m.spacing,v.mixRotate=m.mixRotate,v.mixX=m.mixX,v.mixY=m.mixY}}},{key:"setSlotsToSetupPose",value:function(){var e=this.slots;p.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()}},{key:"getRootBone",value:function(){return 0===this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,i=t.length;n<i;n++){var r=t[n];if(r.data.name===e)return r}return null}},{key:"findSlot",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,i=t.length;n<i;n++){var r=t[n];if(r.data.name===e)return r}return null}},{key:"setSkinByName",value:function(e){var t=this.data.findSkin(e);if(!t)throw new Error("Skin not found: "+e);this.setSkin(t)}},{key:"setSkin",value:function(e){if(e!==this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,i=t.length;n<i;n++){var r=t[n],a=r.data.attachmentName;if(a){var s=e.getAttachment(n,a);s&&r.setAttachment(s)}}this.skin=e,this.updateCache()}}},{key:"getAttachmentByName",value:function(e,t){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name ".concat(e));return this.getAttachment(n.index,t)}},{key:"getAttachment",value:function(e,t){if(!t)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,t);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null}},{key:"setAttachment",value:function(e,t){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,r=n.length;i<r;i++){var a=n[i];if(a.data.name===e){var s=null;if(t&&!(s=this.getAttachment(i,t)))throw new Error("Attachment not found: "+t+", for slot: "+e);return void a.setAttachment(s)}}throw new Error("Slot not found: "+e)}},{key:"findIkConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,i=t.length;n<i;n++){var r=t[n];if(r.data.name===e)return r}return null}},{key:"findTransformConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,i=t.length;n<i;n++){var r=t[n];if(r.data.name===e)return r}return null}},{key:"findPathConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,i=t.length;n<i;n++){var r=t[n];if(r.data.name===e)return r}return null}},{key:"getBoundsRect",value:function(){var e=new a.Vector2,t=new a.Vector2;return this.getBounds(e,t),{x:e.x,y:e.y,width:t.x,height:t.y}}},{key:"getBounds",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array(2);if(!e)throw new Error("offset cannot be null.");if(!t)throw new Error("size cannot be null.");for(var i=this.drawOrder,r=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=0,h=i.length;c<h;c++){var f=i[c];if(f.bone.active){var d=0,v=null,m=f.getAttachment();if(m instanceof l.RegionAttachment)d=8,v=p.Utils.setArraySize(n,d,0),m.computeWorldVertices(f,v,0,2);else if(m instanceof s.MeshAttachment){var g=m;d=g.worldVerticesLength,v=p.Utils.setArraySize(n,d,0),g.computeWorldVertices(f,0,d,v,0,2)}if(v)for(var y=0,_=v.length;y<_;y+=2){var b=v[y],x=v[y+1];r=Math.min(r,b),a=Math.min(a,x),o=Math.max(o,b),u=Math.max(u,x)}}}e.set(r,a),t.set(o-r,u-a)}}]),e}();t.Skeleton=v},2411:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryInput=t.SkeletonBinary=void 0;var a,s=n(9889),o=n(6436),l=n(196),u=n(300),c=n(4013),h=n(8155),f=n(9841),d=n(2032),p=n(3099),v=n(3605),m=n(7841),g=n(4153),y=i((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.bones=t,this.vertices=n}));function _(e,t,n){for(var i=e.readFloat(),r=e.readFloat()*n,a=0,s=0,o=t.getFrameCount()-1;t.setFrame(a,i,r),a!==o;a++){var l=e.readFloat(),u=e.readFloat()*n;switch(e.readByte()){case w:t.setStepped(a);break;case k:x(e,t,s++,a,0,i,l,r,u,n)}i=l,r=u}return t}function b(e,t,n){for(var i=e.readFloat(),r=e.readFloat()*n,a=e.readFloat()*n,s=0,o=0,l=t.getFrameCount()-1;t.setFrame(s,i,r,a),s!==l;s++){var u=e.readFloat(),c=e.readFloat()*n,h=e.readFloat()*n;switch(e.readByte()){case w:t.setStepped(s);break;case k:x(e,t,o++,s,0,i,u,r,c,n),x(e,t,o++,s,1,i,u,a,h,n)}i=u,r=c,a=h}return t}function x(e,t,n,i,r,a,s,o,l,u){t.setBezier(n,i,r,a,o,e.readFloat(),e.readFloat()*u,e.readFloat(),e.readFloat()*u,s,l)}!function(e){e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"}(a||(a={}));var w=1,k=2,M=function(){function e(t){r(this,e),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return i(e,[{key:"readSkeletonData",value:function(e){var t=this.scale,n=new d.SkeletonData;n.name="";var i=new T(e),r=i.readInt32(),a=i.readInt32();n.hash=0===a&&0===r?null:a.toString(16)+r.toString(16),n.version=i.readString(),n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var s=i.readBoolean();s&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var o=0;o=i.readInt(!0);for(var u=0;u<o;u++){var p=i.readString();if(!p)throw new Error("String in string table must not be null.");i.strings.push(p)}o=i.readInt(!0);for(var y=0;y<o;y++){var _=i.readString();if(!_)throw new Error("Bone name must not be null.");var b=0===y?null:n.bones[i.readInt(!0)],x=new l.BoneData(y,_,b);x.rotation=i.readFloat(),x.x=i.readFloat()*t,x.y=i.readFloat()*t,x.scaleX=i.readFloat(),x.scaleY=i.readFloat(),x.shearX=i.readFloat(),x.shearY=i.readFloat(),x.length=i.readFloat()*t,x.transformMode=i.readInt(!0),x.skinRequired=i.readBoolean(),s&&g.Color.rgba8888ToColor(x.color,i.readInt32()),n.bones.push(x)}o=i.readInt(!0);for(var w=0;w<o;w++){var k=i.readString();if(!k)throw new Error("Slot name must not be null.");var M=n.bones[i.readInt(!0)],S=new v.SlotData(w,k,M);g.Color.rgba8888ToColor(S.color,i.readInt32());var A=i.readInt32();-1!==A&&g.Color.rgb888ToColor(S.darkColor=new g.Color,A),S.attachmentName=i.readStringRef(),S.blendMode=i.readInt(!0),n.slots.push(S)}o=i.readInt(!0);for(var E,L=0;L<o;L++){var C=i.readString();if(!C)throw new Error("IK constraint data name must not be null.");var O=new h.IkConstraintData(C);O.order=i.readInt(!0),O.skinRequired=i.readBoolean(),E=i.readInt(!0);for(var P=0;P<E;P++)O.bones.push(n.bones[i.readInt(!0)]);O.target=n.bones[i.readInt(!0)],O.mix=i.readFloat(),O.softness=i.readFloat()*t,O.bendDirection=i.readByte(),O.compress=i.readBoolean(),O.stretch=i.readBoolean(),O.uniform=i.readBoolean(),n.ikConstraints.push(O)}o=i.readInt(!0);for(var I,N=0;N<o;N++){var R=i.readString();if(!R)throw new Error("Transform constraint data name must not be null.");var F=new m.TransformConstraintData(R);F.order=i.readInt(!0),F.skinRequired=i.readBoolean(),I=i.readInt(!0);for(var B=0;B<I;B++)F.bones.push(n.bones[i.readInt(!0)]);F.target=n.bones[i.readInt(!0)],F.local=i.readBoolean(),F.relative=i.readBoolean(),F.offsetRotation=i.readFloat(),F.offsetX=i.readFloat()*t,F.offsetY=i.readFloat()*t,F.offsetScaleX=i.readFloat(),F.offsetScaleY=i.readFloat(),F.offsetShearY=i.readFloat(),F.mixRotate=i.readFloat(),F.mixX=i.readFloat(),F.mixY=i.readFloat(),F.mixScaleX=i.readFloat(),F.mixScaleY=i.readFloat(),F.mixShearY=i.readFloat(),n.transformConstraints.push(F)}o=i.readInt(!0);for(var D,j=0;j<o;j++){var U=i.readString();if(!U)throw new Error("Path constraint data name must not be null.");var V=new f.PathConstraintData(U);V.order=i.readInt(!0),V.skinRequired=i.readBoolean(),D=i.readInt(!0);for(var G=0;G<D;G++)V.bones.push(n.bones[i.readInt(!0)]);V.target=n.slots[i.readInt(!0)],V.positionMode=i.readInt(!0),V.spacingMode=i.readInt(!0),V.rotateMode=i.readInt(!0),V.offsetRotation=i.readFloat(),V.position=i.readFloat(),V.positionMode===f.PositionMode.Fixed&&(V.position*=t),V.spacing=i.readFloat(),V.spacingMode!==f.SpacingMode.Length&&V.spacingMode!==f.SpacingMode.Fixed||(V.spacing*=t),V.mixRotate=i.readFloat(),V.mixX=i.readFloat(),V.mixY=i.readFloat(),n.pathConstraints.push(V)}var z=this.readSkin(i,n,!0,s);z&&(n.defaultSkin=z,n.skins.push(z));var W=n.skins.length;for(g.Utils.setArraySize(n.skins,o=W+i.readInt(!0));W<o;W++){var H=this.readSkin(i,n,!1,s);if(!H)throw new Error("readSkin() should not have returned null.");n.skins[W]=H}o=this.linkedMeshes.length;for(var Y=0;Y<o;Y++){var X=this.linkedMeshes[Y],q=X.skin?n.findSkin(X.skin):n.defaultSkin;if(!q)throw new Error("Not skin found for linked mesh.");if(!X.parent)throw new Error("Linked mesh parent must not be null");var $=q.getAttachment(X.slotIndex,X.parent);if(!$)throw new Error("Parent mesh not found: ".concat(X.parent));X.mesh.timelineAttachment=X.inheritTimeline?$:X.mesh,X.mesh.setParentMesh($),null!==X.mesh.region&&X.mesh.updateRegion()}this.linkedMeshes.length=0,o=i.readInt(!0);for(var K=0;K<o;K++){var Q=i.readStringRef();if(!Q)throw new Error;var Z=new c.EventData(Q);Z.intValue=i.readInt(!1),Z.floatValue=i.readFloat(),Z.stringValue=i.readString(),Z.audioPath=i.readString(),Z.audioPath&&(Z.volume=i.readFloat(),Z.balance=i.readFloat()),n.events.push(Z)}o=i.readInt(!0);for(var J=0;J<o;J++){var ee=i.readString();if(!ee)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,ee,n))}return n}},{key:"readSkin",value:function(e,t,n,i){var r=null,a=0;if(n){if(0===(a=e.readInt(!0)))return null;r=new p.Skin("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");(r=new p.Skin(s)).bones.length=e.readInt(!0);for(var o=0,l=r.bones.length;o<l;o++)r.bones[o]=t.bones[e.readInt(!0)];for(var u=0,c=e.readInt(!0);u<c;u++)r.constraints.push(t.ikConstraints[e.readInt(!0)]);for(var h=0,f=e.readInt(!0);h<f;h++)r.constraints.push(t.transformConstraints[e.readInt(!0)]);for(var d=0,v=e.readInt(!0);d<v;d++)r.constraints.push(t.pathConstraints[e.readInt(!0)]);a=e.readInt(!0)}for(var m=0;m<a;m++)for(var g=e.readInt(!0),y=0,_=e.readInt(!0);y<_;y++){var b=e.readStringRef();if(!b)throw new Error("Attachment name must not be null");var x=this.readAttachment(e,t,r,g,b,i);x&&r.setAttachment(g,b,x)}return r}},{key:"readAttachment",value:function(e,t,n,i,r,s){var o=this.scale,l=e.readStringRef();switch(l||(l=r),e.readByte()){case a.Region:var u=e.readStringRef(),c=e.readFloat(),h=e.readFloat(),f=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),m=e.readFloat(),y=e.readInt32(),_=this.readSequence(e);u||(u=l);var b=this.attachmentLoader.newRegionAttachment(n,l,u,_);return b?(b.path=u,b.x=h*o,b.y=f*o,b.scaleX=d,b.scaleY=p,b.rotation=c,b.width=v*o,b.height=m*o,g.Color.rgba8888ToColor(b.color,y),b.sequence=_,null===_&&b.updateRegion(),b):null;case a.BoundingBox:var x=e.readInt(!0),w=this.readVertices(e,x),k=s?e.readInt32():0,M=this.attachmentLoader.newBoundingBoxAttachment(n,l);return M?(M.worldVerticesLength=x<<1,M.vertices=w.vertices,M.bones=w.bones,s&&g.Color.rgba8888ToColor(M.color,k),M):null;case a.Mesh:var T=e.readStringRef(),A=e.readInt32(),E=e.readInt(!0),L=this.readFloatArray(e,E<<1,1),C=this.readShortArray(e),O=this.readVertices(e,E),P=e.readInt(!0),I=this.readSequence(e),N=[],R=0,F=0;s&&(N=this.readShortArray(e),R=e.readFloat(),F=e.readFloat()),T||(T=l);var B=this.attachmentLoader.newMeshAttachment(n,l,T,I);return B?(B.path=T,g.Color.rgba8888ToColor(B.color,A),B.bones=O.bones,B.vertices=O.vertices,B.worldVerticesLength=E<<1,B.triangles=C,B.regionUVs=L,null===I&&B.updateRegion(),B.hullLength=P<<1,B.sequence=I,s&&(B.edges=N,B.width=R*o,B.height=F*o),B):null;case a.LinkedMesh:var D=e.readStringRef(),j=e.readInt32(),U=e.readStringRef(),V=e.readStringRef(),G=e.readBoolean(),z=this.readSequence(e),W=0,H=0;s&&(W=e.readFloat(),H=e.readFloat()),D||(D=l);var Y=this.attachmentLoader.newMeshAttachment(n,l,D,z);return Y?(Y.path=D,g.Color.rgba8888ToColor(Y.color,j),Y.sequence=z,s&&(Y.width=W*o,Y.height=H*o),this.linkedMeshes.push(new S(Y,U,i,V,G)),Y):null;case a.Path:for(var X=e.readBoolean(),q=e.readBoolean(),$=e.readInt(!0),K=this.readVertices(e,$),Q=g.Utils.newArray($/3,0),Z=0,J=Q.length;Z<J;Z++)Q[Z]=e.readFloat()*o;var ee=s?e.readInt32():0,te=this.attachmentLoader.newPathAttachment(n,l);return te?(te.closed=X,te.constantSpeed=q,te.worldVerticesLength=$<<1,te.vertices=K.vertices,te.bones=K.bones,te.lengths=Q,s&&g.Color.rgba8888ToColor(te.color,ee),te):null;case a.Point:var ne=e.readFloat(),ie=e.readFloat(),re=e.readFloat(),ae=s?e.readInt32():0,se=this.attachmentLoader.newPointAttachment(n,l);return se?(se.x=ie*o,se.y=re*o,se.rotation=ne,s&&g.Color.rgba8888ToColor(se.color,ae),se):null;case a.Clipping:var oe=e.readInt(!0),le=e.readInt(!0),ue=this.readVertices(e,le),ce=s?e.readInt32():0,he=this.attachmentLoader.newClippingAttachment(n,l);return he?(he.endSlot=t.slots[oe],he.worldVerticesLength=le<<1,he.vertices=ue.vertices,he.bones=ue.bones,s&&g.Color.rgba8888ToColor(he.color,ce),he):null}return null}},{key:"readSequence",value:function(e){if(!e.readBoolean())return null;var t=new o.Sequence(e.readInt(!0));return t.start=e.readInt(!0),t.digits=e.readInt(!0),t.setupIndex=e.readInt(!0),t}},{key:"readVertices",value:function(e,t){var n=this.scale,i=t<<1,r=new y;if(!e.readBoolean())return r.vertices=this.readFloatArray(e,i,n),r;for(var a=new Array,s=new Array,o=0;o<t;o++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),a.push(e.readFloat()*n),a.push(e.readFloat()*n),a.push(e.readFloat())}return r.vertices=g.Utils.toFloatArray(a),r.bones=s,r}},{key:"readFloatArray",value:function(e,t,n){var i=new Array(t);if(1===n)for(var r=0;r<t;r++)i[r]=e.readFloat();else for(var a=0;a<t;a++)i[a]=e.readFloat()*n;return i}},{key:"readShortArray",value:function(e){for(var t=e.readInt(!0),n=new Array(t),i=0;i<t;i++)n[i]=e.readShort();return n}},{key:"readAnimation",value:function(e,t,n){e.readInt(!0);for(var i=new Array,r=this.scale,a=(new g.Color,new g.Color,0),l=e.readInt(!0);a<l;a++)for(var c=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0),m=v-1;switch(p){case 0:for(var y=new s.AttachmentTimeline(v,c),M=0;M<v;M++)y.setFrame(M,e.readFloat(),e.readStringRef());i.push(y);break;case 1:for(var T=e.readInt(!0),S=new s.RGBATimeline(v,T,c),A=e.readFloat(),E=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,P=0,I=0;S.setFrame(P,A,E,L,C,O),P!==m;P++){var N=e.readFloat(),R=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255;switch(e.readByte()){case w:S.setStepped(P);break;case k:x(e,S,I++,P,0,A,N,E,R,1),x(e,S,I++,P,1,A,N,L,F,1),x(e,S,I++,P,2,A,N,C,B,1),x(e,S,I++,P,3,A,N,O,D,1)}A=N,E=R,L=F,C=B,O=D}i.push(S);break;case 2:for(var j=e.readInt(!0),U=new s.RGBTimeline(v,j,c),V=e.readFloat(),G=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255,H=0,Y=0;U.setFrame(H,V,G,z,W),H!==m;H++){var X=e.readFloat(),q=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,K=e.readUnsignedByte()/255;switch(e.readByte()){case w:U.setStepped(H);break;case k:x(e,U,Y++,H,0,V,X,G,q,1),x(e,U,Y++,H,1,V,X,z,$,1),x(e,U,Y++,H,2,V,X,W,K,1)}V=X,G=q,z=$,W=K}i.push(U);break;case 3:for(var Q=e.readInt(!0),Z=new s.RGBA2Timeline(v,Q,c),J=e.readFloat(),ee=e.readUnsignedByte()/255,te=e.readUnsignedByte()/255,ne=e.readUnsignedByte()/255,ie=e.readUnsignedByte()/255,re=e.readUnsignedByte()/255,ae=e.readUnsignedByte()/255,se=e.readUnsignedByte()/255,oe=0,le=0;Z.setFrame(oe,J,ee,te,ne,ie,re,ae,se),oe!==m;oe++){var ue=e.readFloat(),ce=e.readUnsignedByte()/255,he=e.readUnsignedByte()/255,fe=e.readUnsignedByte()/255,de=e.readUnsignedByte()/255,pe=e.readUnsignedByte()/255,ve=e.readUnsignedByte()/255,me=e.readUnsignedByte()/255;switch(e.readByte()){case w:Z.setStepped(oe);break;case k:x(e,Z,le++,oe,0,J,ue,ee,ce,1),x(e,Z,le++,oe,1,J,ue,te,he,1),x(e,Z,le++,oe,2,J,ue,ne,fe,1),x(e,Z,le++,oe,3,J,ue,ie,de,1),x(e,Z,le++,oe,4,J,ue,re,pe,1),x(e,Z,le++,oe,5,J,ue,ae,ve,1),x(e,Z,le++,oe,6,J,ue,se,me,1)}J=ue,ee=ce,te=he,ne=fe,ie=de,re=pe,ae=ve,se=me}i.push(Z);break;case 4:for(var ge=e.readInt(!0),ye=new s.RGB2Timeline(v,ge,c),_e=e.readFloat(),be=e.readUnsignedByte()/255,xe=e.readUnsignedByte()/255,we=e.readUnsignedByte()/255,ke=e.readUnsignedByte()/255,Me=e.readUnsignedByte()/255,Te=e.readUnsignedByte()/255,Se=0,Ae=0;ye.setFrame(Se,_e,be,xe,we,ke,Me,Te),Se!==m;Se++){var Ee=e.readFloat(),Le=e.readUnsignedByte()/255,Ce=e.readUnsignedByte()/255,Oe=e.readUnsignedByte()/255,Pe=e.readUnsignedByte()/255,Ie=e.readUnsignedByte()/255,Ne=e.readUnsignedByte()/255;switch(e.readByte()){case w:ye.setStepped(Se);break;case k:x(e,ye,Ae++,Se,0,_e,Ee,be,Le,1),x(e,ye,Ae++,Se,1,_e,Ee,xe,Ce,1),x(e,ye,Ae++,Se,2,_e,Ee,we,Oe,1),x(e,ye,Ae++,Se,3,_e,Ee,ke,Pe,1),x(e,ye,Ae++,Se,4,_e,Ee,Me,Ie,1),x(e,ye,Ae++,Se,5,_e,Ee,Te,Ne,1)}_e=Ee,be=Le,xe=Ce,we=Oe,ke=Pe,Me=Ie,Te=Ne}i.push(ye);break;case 5:for(var Re=new s.AlphaTimeline(v,e.readInt(!0),c),Fe=e.readFloat(),Be=e.readUnsignedByte()/255,De=0,je=0;Re.setFrame(De,Fe,Be),De!==m;De++){var Ue=e.readFloat(),Ve=e.readUnsignedByte()/255;switch(e.readByte()){case w:Re.setStepped(De);break;case k:x(e,Re,je++,De,0,Fe,Ue,Be,Ve,1)}Fe=Ue,Be=Ve}i.push(Re)}}for(var Ge=0,ze=e.readInt(!0);Ge<ze;Ge++)for(var We=e.readInt(!0),He=0,Ye=e.readInt(!0);He<Ye;He++){var Xe=e.readByte(),qe=e.readInt(!0),$e=e.readInt(!0);switch(Xe){case 0:i.push(_(e,new s.RotateTimeline(qe,$e,We),1));break;case 1:i.push(b(e,new s.TranslateTimeline(qe,$e,We),r));break;case 2:i.push(_(e,new s.TranslateXTimeline(qe,$e,We),r));break;case 3:i.push(_(e,new s.TranslateYTimeline(qe,$e,We),r));break;case 4:i.push(b(e,new s.ScaleTimeline(qe,$e,We),1));break;case 5:i.push(_(e,new s.ScaleXTimeline(qe,$e,We),1));break;case 6:i.push(_(e,new s.ScaleYTimeline(qe,$e,We),1));break;case 7:i.push(b(e,new s.ShearTimeline(qe,$e,We),1));break;case 8:i.push(_(e,new s.ShearXTimeline(qe,$e,We),1));break;case 9:i.push(_(e,new s.ShearYTimeline(qe,$e,We),1))}}for(var Ke=0,Qe=e.readInt(!0);Ke<Qe;Ke++){for(var Ze=e.readInt(!0),Je=e.readInt(!0),et=Je-1,tt=new s.IkConstraintTimeline(Je,e.readInt(!0),Ze),nt=e.readFloat(),it=e.readFloat(),rt=e.readFloat()*r,at=0,st=0;tt.setFrame(at,nt,it,rt,e.readByte(),e.readBoolean(),e.readBoolean()),at!==et;at++){var ot=e.readFloat(),lt=e.readFloat(),ut=e.readFloat()*r;switch(e.readByte()){case w:tt.setStepped(at);break;case k:x(e,tt,st++,at,0,nt,ot,it,lt,1),x(e,tt,st++,at,1,nt,ot,rt,ut,r)}nt=ot,it=lt,rt=ut}i.push(tt)}for(var ct=0,ht=e.readInt(!0);ct<ht;ct++){for(var ft=e.readInt(!0),dt=e.readInt(!0),pt=dt-1,vt=new s.TransformConstraintTimeline(dt,e.readInt(!0),ft),mt=e.readFloat(),gt=e.readFloat(),yt=e.readFloat(),_t=e.readFloat(),bt=e.readFloat(),xt=e.readFloat(),wt=e.readFloat(),kt=0,Mt=0;vt.setFrame(kt,mt,gt,yt,_t,bt,xt,wt),kt!==pt;kt++){var Tt=e.readFloat(),St=e.readFloat(),At=e.readFloat(),Et=e.readFloat(),Lt=e.readFloat(),Ct=e.readFloat(),Ot=e.readFloat();switch(e.readByte()){case w:vt.setStepped(kt);break;case k:x(e,vt,Mt++,kt,0,mt,Tt,gt,St,1),x(e,vt,Mt++,kt,1,mt,Tt,yt,At,1),x(e,vt,Mt++,kt,2,mt,Tt,_t,Et,1),x(e,vt,Mt++,kt,3,mt,Tt,bt,Lt,1),x(e,vt,Mt++,kt,4,mt,Tt,xt,Ct,1),x(e,vt,Mt++,kt,5,mt,Tt,wt,Ot,1)}mt=Tt,gt=St,yt=At,_t=Et,bt=Lt,xt=Ct,wt=Ot}i.push(vt)}for(var Pt=0,It=e.readInt(!0);Pt<It;Pt++)for(var Nt=e.readInt(!0),Rt=n.pathConstraints[Nt],Ft=0,Bt=e.readInt(!0);Ft<Bt;Ft++)switch(e.readByte()){case 0:i.push(_(e,new s.PathConstraintPositionTimeline(e.readInt(!0),e.readInt(!0),Nt),Rt.positionMode===f.PositionMode.Fixed?r:1));break;case 1:i.push(_(e,new s.PathConstraintSpacingTimeline(e.readInt(!0),e.readInt(!0),Nt),Rt.spacingMode===f.SpacingMode.Length||Rt.spacingMode===f.SpacingMode.Fixed?r:1));break;case 2:for(var Dt=new s.PathConstraintMixTimeline(e.readInt(!0),e.readInt(!0),Nt),jt=e.readFloat(),Ut=e.readFloat(),Vt=e.readFloat(),Gt=e.readFloat(),zt=0,Wt=0,Ht=Dt.getFrameCount()-1;Dt.setFrame(zt,jt,Ut,Vt,Gt),zt!==Ht;zt++){var Yt=e.readFloat(),Xt=e.readFloat(),qt=e.readFloat(),$t=e.readFloat();switch(e.readByte()){case w:Dt.setStepped(zt);break;case k:x(e,Dt,Wt++,zt,0,jt,Yt,Ut,Xt,1),x(e,Dt,Wt++,zt,1,jt,Yt,Vt,qt,1),x(e,Dt,Wt++,zt,2,jt,Yt,Gt,$t,1)}jt=Yt,Ut=Xt,Vt=qt,Gt=$t}i.push(Dt)}for(var Kt=0,Qt=e.readInt(!0);Kt<Qt;Kt++)for(var Zt=n.skins[e.readInt(!0)],Jt=0,en=e.readInt(!0);Jt<en;Jt++)for(var tn=e.readInt(!0),nn=0,rn=e.readInt(!0);nn<rn;nn++){var an=e.readStringRef();if(!an)throw new Error("attachmentName must not be null.");var sn=Zt.getAttachment(tn,an),on=e.readByte(),ln=e.readInt(!0),un=ln-1;switch(on){case 0:for(var cn=sn,hn=cn.bones,fn=cn.vertices,dn=hn?fn.length/3*2:fn.length,pn=e.readInt(!0),vn=new s.DeformTimeline(ln,pn,tn,cn),mn=e.readFloat(),gn=0,yn=0;;gn++){var _n=void 0,bn=e.readInt(!0);if(0===bn)_n=hn?g.Utils.newFloatArray(dn):fn;else{_n=g.Utils.newFloatArray(dn);var xn=e.readInt(!0);if(bn+=xn,1===r)for(var wn=xn;wn<bn;wn++)_n[wn]=e.readFloat();else for(var kn=xn;kn<bn;kn++)_n[kn]=e.readFloat()*r;if(!hn)for(var Mn=0,Tn=_n.length;Mn<Tn;Mn++)_n[Mn]+=fn[Mn]}if(vn.setFrame(gn,mn,_n),gn===un)break;var Sn=e.readFloat();switch(e.readByte()){case w:vn.setStepped(gn);break;case k:x(e,vn,yn++,gn,0,mn,Sn,0,1,1)}mn=Sn}i.push(vn);break;case 1:for(var An=new s.SequenceTimeline(ln,tn,sn),En=0;En<ln;En++){var Ln=e.readFloat(),Cn=e.readInt32();An.setFrame(En,Ln,o.SequenceModeValues[15&Cn],Cn>>4,e.readFloat())}i.push(An)}}var On=e.readInt(!0);if(On>0){for(var Pn=new s.DrawOrderTimeline(On),In=n.slots.length,Nn=0;Nn<On;Nn++){for(var Rn=e.readFloat(),Fn=e.readInt(!0),Bn=g.Utils.newArray(In,0),Dn=In-1;Dn>=0;Dn--)Bn[Dn]=-1;for(var jn=g.Utils.newArray(In-Fn,0),Un=0,Vn=0,Gn=0;Gn<Fn;Gn++){for(var zn=e.readInt(!0);Un!==zn;)jn[Vn++]=Un++;Bn[Un+e.readInt(!0)]=Un++}for(;Un<In;)jn[Vn++]=Un++;for(var Wn=In-1;Wn>=0;Wn--)-1===Bn[Wn]&&(Bn[Wn]=jn[--Vn]);Pn.setFrame(Nn,Rn,Bn)}i.push(Pn)}var Hn=e.readInt(!0);if(Hn>0){for(var Yn=new s.EventTimeline(Hn),Xn=0;Xn<Hn;Xn++){var qn=e.readFloat(),$n=n.events[e.readInt(!0)],Kn=new u.Event(qn,$n);Kn.intValue=e.readInt(!1),Kn.floatValue=e.readFloat(),Kn.stringValue=e.readBoolean()?e.readString():$n.stringValue,Kn.data.audioPath&&(Kn.volume=e.readFloat(),Kn.balance=e.readFloat()),Yn.setFrame(Xn,Kn)}i.push(Yn)}for(var Qn=0,Zn=0,Jn=i.length;Zn<Jn;Zn++)Qn=Math.max(Qn,i[Zn].getDuration());return new s.Animation(t,i,Qn)}}]),e}();t.SkeletonBinary=M;var T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new DataView(t.buffer);r(this,e),this.strings=n,this.index=i,this.buffer=a}return i(e,[{key:"readByte",value:function(){return this.buffer.getInt8(this.index++)}},{key:"readUnsignedByte",value:function(){return this.buffer.getUint8(this.index++)}},{key:"readShort",value:function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e}},{key:"readInt32",value:function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e}},{key:"readInt",value:function(e){var t=this.readByte(),n=127&t;return 0!==(128&t)&&(n|=(127&(t=this.readByte()))<<7,0!==(128&t)&&(n|=(127&(t=this.readByte()))<<14,0!==(128&t)&&(n|=(127&(t=this.readByte()))<<21,0!==(128&t)&&(n|=(127&(t=this.readByte()))<<28)))),e?n:n>>>1^-(1&n)}},{key:"readStringRef",value:function(){var e=this.readInt(!0);return 0===e?null:this.strings[e-1]}},{key:"readString",value:function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var t="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:t+=String.fromCharCode((31&i)<<6|63&this.readByte()),n+=2;break;case 14:t+=String.fromCharCode((15&i)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:t+=String.fromCharCode(i),n++}}return t}},{key:"readFloat",value:function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e}},{key:"readBoolean",value:function(){return 0!==this.readByte()}}]),e}();t.BinaryInput=T;var S=i((function e(t,n,i,a,s){r(this,e),this.mesh=t,this.skin=n,this.slotIndex=i,this.parent=a,this.inheritTimeline=s}))},1164:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonBounds=void 0;var a=n(9374),s=n(4153),o=function(){function e(){i(this,e),this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new s.Pool((function(){return s.Utils.newFloatArray(16)}))}return r(e,[{key:"update",value:function(e,t){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,r=this.polygonPool,o=e.slots,l=o.length;n.length=0,r.freeAll(i),i.length=0;for(var u=0;u<l;u++){var c=o[u];if(c.bone.active){var h=c.getAttachment();if(h instanceof a.BoundingBoxAttachment){var f=h;n.push(f);var d=r.obtain();d.length!==f.worldVerticesLength&&(d=s.Utils.newFloatArray(f.worldVerticesLength)),i.push(d),f.computeWorldVertices(c,0,f.worldVerticesLength,d,0,2)}}}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}},{key:"aabbCompute",value:function(){for(var e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=this.polygons,a=0,s=r.length;a<s;a++)for(var o=r[a],l=o,u=0,c=o.length;u<c;u+=2){var h=l[u],f=l[u+1];e=Math.min(e,h),t=Math.min(t,f),n=Math.max(n,h),i=Math.max(i,f)}this.minX=e,this.minY=t,this.maxX=n,this.maxY=i}},{key:"aabbContainsPoint",value:function(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY}},{key:"aabbIntersectsSegment",value:function(e,t,n,i){var r=this.minX,a=this.minY,s=this.maxX,o=this.maxY;if(e<=r&&n<=r||t<=a&&i<=a||e>=s&&n>=s||t>=o&&i>=o)return!1;var l=(i-t)/(n-e),u=l*(r-e)+t;if(u>a&&u<o)return!0;if((u=l*(s-e)+t)>a&&u<o)return!0;var c=(a-t)/l+e;return c>r&&c<s||(c=(o-t)/l+e)>r&&c<s}},{key:"aabbIntersectsSkeleton",value:function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY}},{key:"containsPoint",value:function(e,t){for(var n=this.polygons,i=0,r=n.length;i<r;i++)if(this.containsPointPolygon(n[i],e,t))return this.boundingBoxes[i];return null}},{key:"containsPointPolygon",value:function(e,t,n){for(var i=e,r=e.length,a=r-2,s=!1,o=0;o<r;o+=2){var l=i[o+1],u=i[a+1];if(l<n&&u>=n||u<n&&l>=n){var c=i[o];c+(n-l)/(u-l)*(i[a]-c)<t&&(s=!s)}a=o}return s}},{key:"intersectsSegment",value:function(e,t,n,i){for(var r=this.polygons,a=0,s=r.length;a<s;a++)if(this.intersectsSegmentPolygon(r[a],e,t,n,i))return this.boundingBoxes[a];return null}},{key:"intersectsSegmentPolygon",value:function(e,t,n,i,r){for(var a=e,s=e.length,o=t-i,l=n-r,u=t*r-n*i,c=a[s-2],h=a[s-1],f=0;f<s;f+=2){var d=a[f],p=a[f+1],v=c*p-h*d,m=c-d,g=h-p,y=o*g-l*m,_=(u*m-o*v)/y;if((_>=c&&_<=d||_>=d&&_<=c)&&(_>=t&&_<=i||_>=i&&_<=t)){var b=(u*g-l*v)/y;if((b>=h&&b<=p||b>=p&&b<=h)&&(b>=n&&b<=r||b>=r&&b<=n))return!0}c=d,h=p}return!1}},{key:"getPolygon",value:function(e){if(!e)throw new Error("boundingBox cannot be null.");var t=this.boundingBoxes.indexOf(e);return-1===t?null:this.polygons[t]}},{key:"getWidth",value:function(){return this.maxX-this.minX}},{key:"getHeight",value:function(){return this.maxY-this.minY}}]),e}();t.SkeletonBounds=o},3461:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonClipping=void 0;var a=n(9438),s=n(4153),o=function(){function e(){i(this,e),this.triangulator=new a.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array,this.clipAttachment=null,this.clippingPolygons=null}return r(e,[{key:"clipStart",value:function(t,n){if(this.clipAttachment)return 0;this.clipAttachment=n;var i=n.worldVerticesLength,r=s.Utils.setArraySize(this.clippingPolygon,i);n.computeWorldVertices(t,0,i,r,0,2);var a=this.clippingPolygon;e.makeClockwise(a);for(var o=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a)),l=0,u=o.length;l<u;l++){var c=o[l];e.makeClockwise(c),c.push(c[0]),c.push(c[1])}return o.length}},{key:"clipEndWithSlot",value:function(e){this.clipAttachment&&this.clipAttachment.endSlot===e.data&&this.clipEnd()}},{key:"clipEnd",value:function(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}},{key:"isClipping",value:function(){return null!==this.clipAttachment}},{key:"clipTriangles",value:function(e,t,n,i,r,a,o,l){var u=this.clipOutput,c=this.clippedVertices,h=this.clippedTriangles,f=this.clippingPolygons,d=f.length,p=l?12:8,v=0;c.length=0,h.length=0;e:for(var m=0;m<i;m+=3)for(var g=n[m]<<1,y=e[g],_=e[g+1],b=r[g],x=r[g+1],w=e[g=n[m+1]<<1],k=e[g+1],M=r[g],T=r[g+1],S=e[g=n[m+2]<<1],A=e[g+1],E=r[g],L=r[g+1],C=0;C<d;C++){var O=c.length;if(!this.clip(y,_,w,k,S,A,f[C],u)){var P=s.Utils.setArraySize(c,O+3*p);P[O]=y,P[O+1]=_,P[O+2]=a.r,P[O+3]=a.g,P[O+4]=a.b,P[O+5]=a.a,l?(P[O+6]=b,P[O+7]=x,P[O+8]=o.r,P[O+9]=o.g,P[O+10]=o.b,P[O+11]=o.a,P[O+12]=w,P[O+13]=k,P[O+14]=a.r,P[O+15]=a.g,P[O+16]=a.b,P[O+17]=a.a,P[O+18]=M,P[O+19]=T,P[O+20]=o.r,P[O+21]=o.g,P[O+22]=o.b,P[O+23]=o.a,P[O+24]=S,P[O+25]=A,P[O+26]=a.r,P[O+27]=a.g,P[O+28]=a.b,P[O+29]=a.a,P[O+30]=E,P[O+31]=L,P[O+32]=o.r,P[O+33]=o.g,P[O+34]=o.b,P[O+35]=o.a):(P[O+6]=b,P[O+7]=x,P[O+8]=w,P[O+9]=k,P[O+10]=a.r,P[O+11]=a.g,P[O+12]=a.b,P[O+13]=a.a,P[O+14]=M,P[O+15]=T,P[O+16]=S,P[O+17]=A,P[O+18]=a.r,P[O+19]=a.g,P[O+20]=a.b,P[O+21]=a.a,P[O+22]=E,P[O+23]=L),O=h.length;var I=s.Utils.setArraySize(h,O+3);I[O]=v,I[O+1]=v+1,I[O+2]=v+2,v+=3;continue e}var N=u.length;if(0!==N){for(var R=k-A,F=S-w,B=y-S,D=A-_,j=1/(R*B+F*(_-A)),U=N>>1,V=this.clipOutput,G=s.Utils.setArraySize(c,O+U*p),z=0;z<N;z+=2){var W=V[z],H=V[z+1];G[O]=W,G[O+1]=H,G[O+2]=a.r,G[O+3]=a.g,G[O+4]=a.b,G[O+5]=a.a;var Y=W-S,X=H-A,q=(R*Y+F*X)*j,$=(D*Y+B*X)*j,K=1-q-$;G[O+6]=b*q+M*$+E*K,G[O+7]=x*q+T*$+L*K,l&&(G[O+8]=o.r,G[O+9]=o.g,G[O+10]=o.b,G[O+11]=o.a),O+=p}O=h.length;var Q=s.Utils.setArraySize(h,O+3*(U-2));U--;for(var Z=1;Z<U;Z++)Q[O]=v,Q[O+1]=v+Z,Q[O+2]=v+Z+1,O+=3;v+=U+1}}}},{key:"clip",value:function(e,t,n,i,r,a,s,o){var l,u=o,c=!1;s.length%4>=2?(l=o,o=this.scratch):l=this.scratch,l.length=0,l.push(e),l.push(t),l.push(n),l.push(i),l.push(r),l.push(a),l.push(e),l.push(t),o.length=0;for(var h=s,f=s.length-4,d=0;;d+=2){for(var p=h[d],v=h[d+1],m=h[d+2],g=h[d+3],y=p-m,_=v-g,b=l,x=l.length-2,w=o.length,k=0;k<x;k+=2){var M=b[k],T=b[k+1],S=b[k+2],A=b[k+3],E=y*(A-g)-_*(S-m)>0;if(y*(T-g)-_*(M-m)>0){if(E){o.push(S),o.push(A);continue}var L=A-T,C=S-M,O=L*(m-p)-C*(g-v);if(Math.abs(O)>1e-6){var P=(C*(v-T)-L*(p-M))/O;o.push(p+(m-p)*P),o.push(v+(g-v)*P)}else o.push(p),o.push(v)}else if(E){var I=A-T,N=S-M,R=I*(m-p)-N*(g-v);if(Math.abs(R)>1e-6){var F=(N*(v-T)-I*(p-M))/R;o.push(p+(m-p)*F),o.push(v+(g-v)*F)}else o.push(p),o.push(v);o.push(S),o.push(A)}c=!0}if(w===o.length)return u.length=0,!0;if(o.push(o[0]),o.push(o[1]),d===f)break;var B=o;(o=l).length=0,l=B}if(u!==o){u.length=0;for(var D=0,j=o.length-2;D<j;D++)u[D]=o[D]}else u.length=u.length-2;return c}}],[{key:"makeClockwise",value:function(e){for(var t=e,n=e.length,i=t[n-2]*t[1]-t[0]*t[n-1],r=0,a=0,s=0,o=0,l=n-3;o<l;o+=2)r=t[o],a=t[o+1],s=t[o+2],i+=r*t[o+3]-s*a;if(!(i<0))for(var u=0,c=n-2,h=n>>1;u<h;u+=2){var f=t[u],d=t[u+1],p=c-u;t[u]=t[p],t[u+1]=t[p+1],t[p]=f,t[p+1]=d}}}]),e}();t.SkeletonClipping=o},2032:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonData=void 0;var a=function(){function e(){i(this,e),this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return r(e,[{key:"findBone",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,i=t.length;n<i;n++){var r=t[n];if(r.name===e)return r}return null}},{key:"findSlot",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,i=t.length;n<i;n++){var r=t[n];if(r.name===e)return r}return null}},{key:"findSkin",value:function(e){if(!e)throw new Error("skinName cannot be null.");for(var t=this.skins,n=0,i=t.length;n<i;n++){var r=t[n];if(r.name===e)return r}return null}},{key:"findEvent",value:function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var t=this.events,n=0,i=t.length;n<i;n++){var r=t[n];if(r.name===e)return r}return null}},{key:"findAnimation",value:function(e){if(!e)throw new Error("animationName cannot be null.");for(var t=this.animations,n=0,i=t.length;n<i;n++){var r=t[n];if(r.name===e)return r}return null}},{key:"findIkConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,i=t.length;n<i;n++){var r=t[n];if(r.name===e)return r}return null}},{key:"findTransformConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,i=t.length;n<i;n++){var r=t[n];if(r.name===e)return r}return null}},{key:"findPathConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,i=t.length;n<i;n++){var r=t[n];if(r.name===e)return r}return null}}]),e}();t.SkeletonData=a},6859:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonJson=void 0;var a=n(9889),s=n(196),o=n(4013),l=n(300),u=n(8155),c=n(9841),h=n(2032),f=n(3099),d=n(3605),p=n(7841),v=n(4153),m=n(6436),g=n(9889),y=function(){function e(t){i(this,e),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return r(e,[{key:"readSkeletonData",value:function(e){var t=this.scale,n=new h.SkeletonData,i="string"===typeof e?JSON.parse(e):e,r=i.skeleton;if(r&&(n.hash=r.hash,n.version=r.spine,n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height,n.fps=r.fps,n.imagesPath=r.images),i.bones)for(var a=0;a<i.bones.length;a++){var l=i.bones[a],m=null,g=k(l,"parent",null);g&&(m=n.findBone(g));var y=new s.BoneData(n.bones.length,l.name,m);y.length=k(l,"length",0)*t,y.x=k(l,"x",0)*t,y.y=k(l,"y",0)*t,y.rotation=k(l,"rotation",0),y.scaleX=k(l,"scaleX",1),y.scaleY=k(l,"scaleY",1),y.shearX=k(l,"shearX",0),y.shearY=k(l,"shearY",0),y.transformMode=v.Utils.enumValue(s.TransformMode,k(l,"transform","Normal")),y.skinRequired=k(l,"skin",!1);var _=k(l,"color",null);_&&y.color.setFromString(_),n.bones.push(y)}if(i.slots)for(var b=0;b<i.slots.length;b++){var x=i.slots[b],w=n.findBone(x.bone);if(!w)throw new Error("Couldn't find bone ".concat(x.bone," for slot ").concat(x.name));var M=new d.SlotData(n.slots.length,x.name,w),T=k(x,"color",null);T&&M.color.setFromString(T);var S=k(x,"dark",null);S&&(M.darkColor=v.Color.fromString(S)),M.attachmentName=k(x,"attachment",null),M.blendMode=v.Utils.enumValue(d.BlendMode,k(x,"blend","normal")),n.slots.push(M)}if(i.ik)for(var A=0;A<i.ik.length;A++){var E=i.ik[A],L=new u.IkConstraintData(E.name);L.order=k(E,"order",0),L.skinRequired=k(E,"skin",!1);for(var C=0;C<E.bones.length;C++){var O=n.findBone(E.bones[C]);if(!O)throw new Error("Couldn't find bone ".concat(E.bones[C]," for IK constraint ").concat(E.name,"."));L.bones.push(O)}var P=n.findBone(E.target);if(!P)throw new Error("Couldn't find target bone ".concat(E.target," for IK constraint ").concat(E.name,"."));L.target=P,L.mix=k(E,"mix",1),L.softness=k(E,"softness",0)*t,L.bendDirection=k(E,"bendPositive",!0)?1:-1,L.compress=k(E,"compress",!1),L.stretch=k(E,"stretch",!1),L.uniform=k(E,"uniform",!1),n.ikConstraints.push(L)}if(i.transform)for(var I=0;I<i.transform.length;I++){var N=i.transform[I],R=new p.TransformConstraintData(N.name);R.order=k(N,"order",0),R.skinRequired=k(N,"skin",!1);for(var F=0;F<N.bones.length;F++){var B=N.bones[F],D=n.findBone(B);if(!D)throw new Error("Couldn't find bone ".concat(B," for transform constraint ").concat(N.name,"."));R.bones.push(D)}var j=N.target,U=n.findBone(j);if(!U)throw new Error("Couldn't find target bone ".concat(j," for transform constraint ").concat(N.name,"."));R.target=U,R.local=k(N,"local",!1),R.relative=k(N,"relative",!1),R.offsetRotation=k(N,"rotation",0),R.offsetX=k(N,"x",0)*t,R.offsetY=k(N,"y",0)*t,R.offsetScaleX=k(N,"scaleX",0),R.offsetScaleY=k(N,"scaleY",0),R.offsetShearY=k(N,"shearY",0),R.mixRotate=k(N,"mixRotate",1),R.mixX=k(N,"mixX",1),R.mixY=k(N,"mixY",R.mixX),R.mixScaleX=k(N,"mixScaleX",1),R.mixScaleY=k(N,"mixScaleY",R.mixScaleX),R.mixShearY=k(N,"mixShearY",1),n.transformConstraints.push(R)}if(i.path)for(var V=0;V<i.path.length;V++){var G=i.path[V],z=new c.PathConstraintData(G.name);z.order=k(G,"order",0),z.skinRequired=k(G,"skin",!1);for(var W=0;W<G.bones.length;W++){var H=G.bones[W],Y=n.findBone(H);if(!Y)throw new Error("Couldn't find bone ".concat(H," for path constraint ").concat(G.name,"."));z.bones.push(Y)}var X=G.target,q=n.findSlot(X);if(!q)throw new Error("Couldn't find target slot ".concat(X," for path constraint ").concat(G.name,"."));z.target=q,z.positionMode=v.Utils.enumValue(c.PositionMode,k(G,"positionMode","Percent")),z.spacingMode=v.Utils.enumValue(c.SpacingMode,k(G,"spacingMode","Length")),z.rotateMode=v.Utils.enumValue(c.RotateMode,k(G,"rotateMode","Tangent")),z.offsetRotation=k(G,"rotation",0),z.position=k(G,"position",0),z.positionMode===c.PositionMode.Fixed&&(z.position*=t),z.spacing=k(G,"spacing",0),z.spacingMode!==c.SpacingMode.Length&&z.spacingMode!==c.SpacingMode.Fixed||(z.spacing*=t),z.mixRotate=k(G,"mixRotate",1),z.mixX=k(G,"mixX",1),z.mixY=k(G,"mixY",z.mixX),n.pathConstraints.push(z)}if(i.skins)for(var $=0;$<i.skins.length;$++){var K=i.skins[$],Q=new f.Skin(K.name);if(K.bones)for(var Z=0;Z<K.bones.length;Z++){var J=K.bones[Z],ee=n.findBone(J);if(!ee)throw new Error("Couldn't find bone ".concat(J," for skin ").concat(K.name,"."));Q.bones.push(ee)}if(K.ik)for(var te=0;te<K.ik.length;te++){var ne=K.ik[te],ie=n.findIkConstraint(ne);if(!ie)throw new Error("Couldn't find IK constraint ".concat(ne," for skin ").concat(K.name,"."));Q.constraints.push(ie)}if(K.transform)for(var re=0;re<K.transform.length;re++){var ae=K.transform[re],se=n.findTransformConstraint(ae);if(!se)throw new Error("Couldn't find transform constraint ".concat(ae," for skin ").concat(K.name,"."));Q.constraints.push(se)}if(K.path)for(var oe=0;oe<K.path.length;oe++){var le=K.path[oe],ue=n.findPathConstraint(le);if(!ue)throw new Error("Couldn't find path constraint ".concat(le," for skin ").concat(K.name,"."));Q.constraints.push(ue)}for(var ce in K.attachments){var he=n.findSlot(ce);if(!he)throw new Error("Couldn't find slot ".concat(ce," for skin ").concat(K.name,"."));var fe=K.attachments[ce];for(var de in fe){var pe=this.readAttachment(fe[de],Q,he.index,de,n);pe&&Q.setAttachment(he.index,de,pe)}}n.skins.push(Q),"default"===Q.name&&(n.defaultSkin=Q)}for(var ve=0,me=this.linkedMeshes.length;ve<me;ve++){var ge=this.linkedMeshes[ve],ye=ge.skin?n.findSkin(ge.skin):n.defaultSkin;if(!ye)throw new Error("Skin not found: ".concat(ge.skin));var _e=ye.getAttachment(ge.slotIndex,ge.parent);if(!_e)throw new Error("Parent mesh not found: ".concat(ge.parent));ge.mesh.timelineAttachment=ge.inheritTimeline?_e:ge.mesh,ge.mesh.setParentMesh(_e),null!==ge.mesh.region&&ge.mesh.updateRegion()}if(this.linkedMeshes.length=0,i.events)for(var be in i.events){var xe=i.events[be],we=new o.EventData(be);we.intValue=k(xe,"int",0),we.floatValue=k(xe,"float",0),we.stringValue=k(xe,"string",""),we.audioPath=k(xe,"audio",null),we.audioPath&&(we.volume=k(xe,"volume",1),we.balance=k(xe,"balance",0)),n.events.push(we)}if(i.animations)for(var ke in i.animations){var Me=i.animations[ke];this.readAnimation(Me,ke,n)}return n}},{key:"readAttachment",value:function(e,t,n,i,r){var a=this.scale;switch(i=k(e,"name",i),k(e,"type","region")){case"region":var s=k(e,"path",i),o=this.readSequence(k(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(t,i,s,o);if(!l)return null;l.path=s,l.x=k(e,"x",0)*a,l.y=k(e,"y",0)*a,l.scaleX=k(e,"scaleX",1),l.scaleY=k(e,"scaleY",1),l.rotation=k(e,"rotation",0),l.width=e.width*a,l.height=e.height*a,l.sequence=o;var u=k(e,"color",null);return u&&l.color.setFromString(u),null!==l.region&&l.updateRegion(),l;case"boundingbox":var c=this.attachmentLoader.newBoundingBoxAttachment(t,i);if(!c)return null;this.readVertices(e,c,e.vertexCount<<1);var h=k(e,"color",null);return h&&c.color.setFromString(h),c;case"mesh":case"linkedmesh":var f=k(e,"path",i),d=this.readSequence(k(e,"sequence",null)),p=this.attachmentLoader.newMeshAttachment(t,i,f,d);if(!p)return null;p.path=f;var m=k(e,"color",null);m&&p.color.setFromString(m),p.width=k(e,"width",0)*a,p.height=k(e,"height",0)*a,p.sequence=d;var g=k(e,"parent",null);if(g)return this.linkedMeshes.push(new _(p,k(e,"skin",null),n,g,k(e,"timelines",!0))),p;var y=e.uvs;return this.readVertices(e,p,y.length),p.triangles=e.triangles,p.regionUVs=y,null!==p.region&&p.updateRegion(),p.edges=k(e,"edges",null),p.hullLength=2*k(e,"hull",0),p;case"path":var b=this.attachmentLoader.newPathAttachment(t,i);if(!b)return null;b.closed=k(e,"closed",!1),b.constantSpeed=k(e,"constantSpeed",!0);var x=e.vertexCount;this.readVertices(e,b,x<<1);for(var w=v.Utils.newArray(x/3,0),M=0;M<e.lengths.length;M++)w[M]=e.lengths[M]*a;b.lengths=w;var T=k(e,"color",null);return T&&b.color.setFromString(T),b;case"point":var S=this.attachmentLoader.newPointAttachment(t,i);if(!S)return null;S.x=k(e,"x",0)*a,S.y=k(e,"y",0)*a,S.rotation=k(e,"rotation",0);var A=k(e,"color",null);return A&&S.color.setFromString(A),S;case"clipping":var E=this.attachmentLoader.newClippingAttachment(t,i);if(!E)return null;var L=k(e,"end",null);L&&(E.endSlot=r.findSlot(L));var C=e.vertexCount;this.readVertices(e,E,C<<1);var O=k(e,"color",null);return O&&E.color.setFromString(O),E}return null}},{key:"readSequence",value:function(e){if(null===e)return null;var t=new m.Sequence(k(e,"count",0));return t.start=k(e,"start",1),t.digits=k(e,"digits",0),t.setupIndex=k(e,"setup",0),t}},{key:"readVertices",value:function(e,t,n){var i=this.scale;t.worldVerticesLength=n;var r=e.vertices;if(n!==r.length){for(var a=new Array,s=new Array,o=0,l=r.length;o<l;){var u=r[o++];s.push(u);for(var c=o+4*u;o<c;o+=4)s.push(r[o]),a.push(r[o+1]*i),a.push(r[o+2]*i),a.push(r[o+3])}t.bones=s,t.vertices=v.Utils.toFloatArray(a)}else{var h=v.Utils.toFloatArray(r);if(1!==i)for(var f=0,d=r.length;f<d;f++)h[f]*=i;t.vertices=h}}},{key:"readAnimation",value:function(e,t,n){var i=this.scale,r=new Array;if(e.slots)for(var s in e.slots){var o=e.slots[s],u=n.findSlot(s);if(!u)throw new Error("Slot not found: "+s);var h=u.index;for(var f in o){var d=o[f];if(d){var p=d.length;if("attachment"===f){for(var y=new a.AttachmentTimeline(p,h),_=0;_<p;_++){var M=d[_];y.setFrame(_,k(M,"time",0),k(M,"name",null))}r.push(y)}else if("rgba"===f){for(var T=new a.RGBATimeline(p,p<<2,h),S=d[0],A=k(S,"time",0),E=v.Color.fromString(S.color),L=0,C=0;;L++){T.setFrame(L,A,E.r,E.g,E.b,E.a);var O=d[L+1];if(!O){T.shrink(C);break}var P=k(O,"time",0),I=v.Color.fromString(O.color),N=S.curve;N&&(C=w(N,T,C,L,0,A,P,E.r,I.r,1),C=w(N,T,C,L,1,A,P,E.g,I.g,1),C=w(N,T,C,L,2,A,P,E.b,I.b,1),C=w(N,T,C,L,3,A,P,E.a,I.a,1)),A=P,E=I,S=O}r.push(T)}else if("rgb"===f){for(var R=new a.RGBTimeline(p,3*p,h),F=d[0],B=k(F,"time",0),D=v.Color.fromString(F.color),j=0,U=0;;j++){R.setFrame(j,B,D.r,D.g,D.b);var V=d[j+1];if(!V){R.shrink(U);break}var G=k(V,"time",0),z=v.Color.fromString(V.color),W=F.curve;W&&(U=w(W,R,U,j,0,B,G,D.r,z.r,1),U=w(W,R,U,j,1,B,G,D.g,z.g,1),U=w(W,R,U,j,2,B,G,D.b,z.b,1)),B=G,D=z,F=V}r.push(R)}else if("alpha"===f)r.push(b(d,new a.AlphaTimeline(p,p,h),0,1));else if("rgba2"===f){for(var H=new a.RGBA2Timeline(p,7*p,h),Y=d[0],X=k(Y,"time",0),q=v.Color.fromString(Y.light),$=v.Color.fromString(Y.dark),K=0,Q=0;;K++){H.setFrame(K,X,q.r,q.g,q.b,q.a,$.r,$.g,$.b);var Z=d[K+1];if(!Z){H.shrink(Q);break}var J=k(Z,"time",0),ee=v.Color.fromString(Z.light),te=v.Color.fromString(Z.dark),ne=Y.curve;ne&&(Q=w(ne,H,Q,K,0,X,J,q.r,ee.r,1),Q=w(ne,H,Q,K,1,X,J,q.g,ee.g,1),Q=w(ne,H,Q,K,2,X,J,q.b,ee.b,1),Q=w(ne,H,Q,K,3,X,J,q.a,ee.a,1),Q=w(ne,H,Q,K,4,X,J,$.r,te.r,1),Q=w(ne,H,Q,K,5,X,J,$.g,te.g,1),Q=w(ne,H,Q,K,6,X,J,$.b,te.b,1)),X=J,q=ee,$=te,Y=Z}r.push(H)}else if("rgb2"===f){for(var ie=new a.RGB2Timeline(p,6*p,h),re=d[0],ae=k(re,"time",0),se=v.Color.fromString(re.light),oe=v.Color.fromString(re.dark),le=0,ue=0;;le++){ie.setFrame(le,ae,se.r,se.g,se.b,oe.r,oe.g,oe.b);var ce=d[le+1];if(!ce){ie.shrink(ue);break}var he=k(ce,"time",0),fe=v.Color.fromString(ce.light),de=v.Color.fromString(ce.dark),pe=re.curve;pe&&(ue=w(pe,ie,ue,le,0,ae,he,se.r,fe.r,1),ue=w(pe,ie,ue,le,1,ae,he,se.g,fe.g,1),ue=w(pe,ie,ue,le,2,ae,he,se.b,fe.b,1),ue=w(pe,ie,ue,le,3,ae,he,oe.r,de.r,1),ue=w(pe,ie,ue,le,4,ae,he,oe.g,de.g,1),ue=w(pe,ie,ue,le,5,ae,he,oe.b,de.b,1)),ae=he,se=fe,oe=de,re=ce}r.push(ie)}}}}if(e.bones)for(var ve in e.bones){var me=e.bones[ve],ge=n.findBone(ve);if(!ge)throw new Error("Bone not found: "+ve);var ye=ge.index;for(var _e in me){var be=me[_e],xe=be.length;if(0!==xe)if("rotate"===_e)r.push(b(be,new a.RotateTimeline(xe,xe,ye),0,1));else if("translate"===_e){var we=new a.TranslateTimeline(xe,xe<<1,ye);r.push(x(be,we,"x","y",0,i))}else if("translatex"===_e){var ke=new a.TranslateXTimeline(xe,xe,ye);r.push(b(be,ke,0,i))}else if("translatey"===_e){var Me=new a.TranslateYTimeline(xe,xe,ye);r.push(b(be,Me,0,i))}else if("scale"===_e){var Te=new a.ScaleTimeline(xe,xe<<1,ye);r.push(x(be,Te,"x","y",1,1))}else if("scalex"===_e){var Se=new a.ScaleXTimeline(xe,xe,ye);r.push(b(be,Se,1,1))}else if("scaley"===_e){var Ae=new a.ScaleYTimeline(xe,xe,ye);r.push(b(be,Ae,1,1))}else if("shear"===_e){var Ee=new a.ShearTimeline(xe,xe<<1,ye);r.push(x(be,Ee,"x","y",0,1))}else if("shearx"===_e){var Le=new a.ShearXTimeline(xe,xe,ye);r.push(b(be,Le,0,1))}else if("sheary"===_e){var Ce=new a.ShearYTimeline(xe,xe,ye);r.push(b(be,Ce,0,1))}}}if(e.ik)for(var Oe in e.ik){var Pe=e.ik[Oe],Ie=Pe[0];if(Ie){var Ne=n.findIkConstraint(Oe);if(!Ne)throw new Error("IK Constraint not found: "+Oe);for(var Re=n.ikConstraints.indexOf(Ne),Fe=new a.IkConstraintTimeline(Pe.length,Pe.length<<1,Re),Be=k(Ie,"time",0),De=k(Ie,"mix",1),je=k(Ie,"softness",0)*i,Ue=0,Ve=0;;Ue++){Fe.setFrame(Ue,Be,De,je,k(Ie,"bendPositive",!0)?1:-1,k(Ie,"compress",!1),k(Ie,"stretch",!1));var Ge=Pe[Ue+1];if(!Ge){Fe.shrink(Ve);break}var ze=k(Ge,"time",0),We=k(Ge,"mix",1),He=k(Ge,"softness",0)*i,Ye=Ie.curve;Ye&&(Ve=w(Ye,Fe,Ve,Ue,0,Be,ze,De,We,1),Ve=w(Ye,Fe,Ve,Ue,1,Be,ze,je,He,i)),Be=ze,De=We,je=He,Ie=Ge}r.push(Fe)}}if(e.transform)for(var Xe in e.transform){var qe=e.transform[Xe],$e=qe[0];if($e){var Ke=n.findTransformConstraint(Xe);if(!Ke)throw new Error("Transform constraint not found: "+Xe);for(var Qe=n.transformConstraints.indexOf(Ke),Ze=new a.TransformConstraintTimeline(qe.length,6*qe.length,Qe),Je=k($e,"time",0),et=k($e,"mixRotate",1),tt=k($e,"mixX",1),nt=k($e,"mixY",tt),it=k($e,"mixScaleX",1),rt=k($e,"mixScaleY",it),at=k($e,"mixShearY",1),st=0,ot=0;;st++){Ze.setFrame(st,Je,et,tt,nt,it,rt,at);var lt=qe[st+1];if(!lt){Ze.shrink(ot);break}var ut=k(lt,"time",0),ct=k(lt,"mixRotate",1),ht=k(lt,"mixX",1),ft=k(lt,"mixY",ht),dt=k(lt,"mixScaleX",1),pt=k(lt,"mixScaleY",dt),vt=k(lt,"mixShearY",1),mt=$e.curve;mt&&(ot=w(mt,Ze,ot,st,0,Je,ut,et,ct,1),ot=w(mt,Ze,ot,st,1,Je,ut,tt,ht,1),ot=w(mt,Ze,ot,st,2,Je,ut,nt,ft,1),ot=w(mt,Ze,ot,st,3,Je,ut,it,dt,1),ot=w(mt,Ze,ot,st,4,Je,ut,rt,pt,1),ot=w(mt,Ze,ot,st,5,Je,ut,at,vt,1)),Je=ut,et=ct,tt=ht,nt=ft,it=dt,rt=pt,it=dt,$e=lt}r.push(Ze)}}if(e.path)for(var gt in e.path){var yt=e.path[gt],_t=n.findPathConstraint(gt);if(!_t)throw new Error("Path constraint not found: "+gt);var bt=n.pathConstraints.indexOf(_t);for(var xt in yt){var wt=yt[xt],kt=wt[0];if(kt){var Mt=wt.length;if("position"===xt){var Tt=new a.PathConstraintPositionTimeline(Mt,Mt,bt);r.push(b(wt,Tt,0,_t.positionMode===c.PositionMode.Fixed?i:1))}else if("spacing"===xt){var St=new a.PathConstraintSpacingTimeline(Mt,Mt,bt);r.push(b(wt,St,0,_t.spacingMode===c.SpacingMode.Length||_t.spacingMode===c.SpacingMode.Fixed?i:1))}else if("mix"===xt){for(var At=new a.PathConstraintMixTimeline(Mt,3*Mt,bt),Et=k(kt,"time",0),Lt=k(kt,"mixRotate",1),Ct=k(kt,"mixX",1),Ot=k(kt,"mixY",Ct),Pt=0,It=0;;Pt++){At.setFrame(Pt,Et,Lt,Ct,Ot);var Nt=wt[Pt+1];if(!Nt){At.shrink(It);break}var Rt=k(Nt,"time",0),Ft=k(Nt,"mixRotate",1),Bt=k(Nt,"mixX",1),Dt=k(Nt,"mixY",Bt),jt=kt.curve;jt&&(It=w(jt,At,It,Pt,0,Et,Rt,Lt,Ft,1),It=w(jt,At,It,Pt,1,Et,Rt,Ct,Bt,1),It=w(jt,At,It,Pt,2,Et,Rt,Ot,Dt,1)),Et=Rt,Lt=Ft,Ct=Bt,Ot=Dt,kt=Nt}r.push(At)}}}}if(e.attachments)for(var Ut in e.attachments){var Vt=e.attachments[Ut],Gt=n.findSkin(Ut);if(!Gt)throw new Error("Skin not found: "+Ut);for(var zt in Vt){var Wt=Vt[zt],Ht=n.findSlot(zt);if(!Ht)throw new Error("Slot not found: "+zt);var Yt=Ht.index;for(var Xt in Wt){var qt=Wt[Xt],$t=Gt.getAttachment(Yt,Xt);for(var Kt in qt){var Qt=qt[Kt],Zt=Qt[0];if(Zt)if("deform"===Kt){for(var Jt=$t.bones,en=$t.vertices,tn=Jt?en.length/3*2:en.length,nn=new a.DeformTimeline(Qt.length,Qt.length,Yt,$t),rn=k(Zt,"time",0),an=0,sn=0;;an++){var on=void 0,ln=k(Zt,"vertices",null);if(ln){on=v.Utils.newFloatArray(tn);var un=k(Zt,"offset",0);if(v.Utils.arrayCopy(ln,0,on,un,ln.length),1!==i)for(var cn=un,hn=cn+ln.length;cn<hn;cn++)on[cn]*=i;if(!Jt)for(var fn=0;fn<tn;fn++)on[fn]+=en[fn]}else on=Jt?v.Utils.newFloatArray(tn):en;nn.setFrame(an,rn,on);var dn=Qt[an+1];if(!dn){nn.shrink(sn);break}var pn=k(dn,"time",0),vn=Zt.curve;vn&&(sn=w(vn,nn,sn,an,0,rn,pn,0,1,1)),rn=pn,Zt=dn}r.push(nn)}else if("sequence"===Kt){for(var mn=new g.SequenceTimeline(Qt.length,Yt,$t),gn=0,yn=0;yn<Qt.length;yn++){var _n=k(Zt,"delay",gn),bn=k(Zt,"time",0),xn=m.SequenceMode[k(Zt,"mode","hold")],wn=k(Zt,"index",0);mn.setFrame(yn,bn,xn,wn,_n),gn=_n,Zt=Qt[yn+1]}r.push(mn)}}}}}if(e.drawOrder){for(var kn=new a.DrawOrderTimeline(e.drawOrder.length),Mn=n.slots.length,Tn=0,Sn=0;Sn<e.drawOrder.length;Sn++,Tn++){var An=e.drawOrder[Sn],En=null,Ln=k(An,"offsets",null);if(Ln){En=v.Utils.newArray(Mn,-1);for(var Cn=v.Utils.newArray(Mn-Ln.length,0),On=0,Pn=0,In=0;In<Ln.length;In++){var Nn=Ln[In],Rn=n.findSlot(Nn.slot);if(!Rn)throw new Error("Slot not found: "+Rn);for(var Fn=Rn.index;On!==Fn;)Cn[Pn++]=On++;En[On+Nn.offset]=On++}for(;On<Mn;)Cn[Pn++]=On++;for(var Bn=Mn-1;Bn>=0;Bn--)-1===En[Bn]&&(En[Bn]=Cn[--Pn])}kn.setFrame(Tn,k(An,"time",0),En)}r.push(kn)}if(e.events){for(var Dn=new a.EventTimeline(e.events.length),jn=0,Un=0;Un<e.events.length;Un++,jn++){var Vn=e.events[Un],Gn=n.findEvent(Vn.name);if(!Gn)throw new Error("Event not found: "+Vn.name);var zn=new l.Event(v.Utils.toSinglePrecision(k(Vn,"time",0)),Gn);zn.intValue=k(Vn,"int",Gn.intValue),zn.floatValue=k(Vn,"float",Gn.floatValue),zn.stringValue=k(Vn,"string",Gn.stringValue),zn.data.audioPath&&(zn.volume=k(Vn,"volume",1),zn.balance=k(Vn,"balance",0)),Dn.setFrame(jn,zn)}r.push(Dn)}for(var Wn=0,Hn=0,Yn=r.length;Hn<Yn;Hn++)Wn=Math.max(Wn,r[Hn].getDuration());n.animations.push(new a.Animation(t,r,Wn))}}]),e}();t.SkeletonJson=y;var _=r((function e(t,n,r,a,s){i(this,e),this.mesh=t,this.skin=n,this.slotIndex=r,this.parent=a,this.inheritTimeline=s}));function b(e,t,n,i){for(var r=e[0],a=k(r,"time",0),s=k(r,"value",n)*i,o=0,l=0;;l++){t.setFrame(l,a,s);var u=e[l+1];if(!u)return t.shrink(o),t;var c=k(u,"time",0),h=k(u,"value",n)*i;r.curve&&(o=w(r.curve,t,o,l,0,a,c,s,h,i)),a=c,s=h,r=u}}function x(e,t,n,i,r,a){for(var s=e[0],o=k(s,"time",0),l=k(s,n,r)*a,u=k(s,i,r)*a,c=0,h=0;;h++){t.setFrame(h,o,l,u);var f=e[h+1];if(!f)return t.shrink(c),t;var d=k(f,"time",0),p=k(f,n,r)*a,v=k(f,i,r)*a,m=s.curve;m&&(c=w(m,t,c,h,0,o,d,l,p,a),c=w(m,t,c,h,1,o,d,u,v,a)),o=d,l=p,u=v,s=f}}function w(e,t,n,i,r,a,s,o,l,u){if("stepped"===e)return t.setStepped(i),n;var c=r<<2,h=e[c],f=e[c+1]*u,d=e[c+2],p=e[c+3]*u;return t.setBezier(n,i,r,a,o,h,f,d,p,s,l),n+1}function k(e,t,n){return void 0!==e[t]?e[t]:n}},3099:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Skin=t.SkinEntry=void 0;var a=n(8582),s=i((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;r(this,e),this.slotIndex=t,this.name=n,this.attachment=i}));t.SkinEntry=s;var o=function(){function e(t){if(r(this,e),this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}return i(e,[{key:"setAttachment",value:function(e,t,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][t]=n}},{key:"addSkin",value:function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],i=!1,r=0;r<this.bones.length;r++)if(this.bones[r]===n){i=!0;break}i||this.bones.push(n)}for(var a=0;a<e.constraints.length;a++){for(var s=e.constraints[a],o=!1,l=0;l<this.constraints.length;l++)if(this.constraints[l]===s){o=!0;break}o||this.constraints.push(s)}for(var u=e.getAttachments(),c=0;c<u.length;c++){var h=u[c];this.setAttachment(h.slotIndex,h.name,h.attachment)}}},{key:"copySkin",value:function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],i=!1,r=0;r<this.bones.length;r++)if(this.bones[r]===n){i=!0;break}i||this.bones.push(n)}for(var s=0;s<e.constraints.length;s++){for(var o=e.constraints[s],l=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]===o){l=!0;break}l||this.constraints.push(o)}for(var c=e.getAttachments(),h=0;h<c.length;h++){var f=c[h];f.attachment&&(f.attachment instanceof a.MeshAttachment?(f.attachment=f.attachment.newLinkedMesh(),this.setAttachment(f.slotIndex,f.name,f.attachment)):(f.attachment=f.attachment.copy(),this.setAttachment(f.slotIndex,f.name,f.attachment)))}}},{key:"getAttachment",value:function(e,t){var n=this.attachments[e];return n?n[t]:null}},{key:"removeAttachment",value:function(e,t){var n=this.attachments[e];n&&delete n[t]}},{key:"getAttachments",value:function(){for(var e=new Array,t=0;t<this.attachments.length;t++){var n=this.attachments[t];if(n)for(var i in n){var r=n[i];r&&e.push(new s(t,i,r))}}return e}},{key:"getAttachmentsForSlot",value:function(e,t){var n=this.attachments[e];if(n)for(var i in n){var r=n[i];r&&t.push(new s(e,i,r))}}},{key:"clear",value:function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}},{key:"attachAll",value:function(e,t){for(var n=0,i=0;i<e.slots.length;i++){var r=e.slots[i],a=r.getAttachment();if(a&&n<t.attachments.length){var s=t.attachments[n];for(var o in s){if(a===s[o]){var l=this.getAttachment(n,o);l&&r.setAttachment(l);break}}}n++}}}]),e}();t.Skin=o},3356:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Slot=void 0;var a=n(353),s=n(4153),o=function(){function e(t,n){if(i(this,e),this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!t)throw new Error("data cannot be null.");if(!n)throw new Error("bone cannot be null.");this.data=t,this.bone=n,this.color=new s.Color,this.darkColor=t.darkColor?new s.Color:null,this.setToSetupPose()}return r(e,[{key:"getSkeleton",value:function(){return this.bone.skeleton}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(e){this.attachment!==e&&(e instanceof a.VertexAttachment&&this.attachment instanceof a.VertexAttachment&&e.timelineAttachment===this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}]),e}();t.Slot=o},3605:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SlotData=t.BlendMode=void 0;var a,s=n(4153);!function(e){e[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"}(a=t.BlendMode||(t.BlendMode={}));var o=i((function e(t,n,i){if(r(this,e),this.index=0,this.color=new s.Color(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=a.Normal,t<0)throw new Error("index must be >= 0.");if(!n)throw new Error("name cannot be null.");if(!i)throw new Error("boneData cannot be null.");this.index=t,this.name=n,this.boneData=i}));t.SlotData=o},3416:function(e,t,n){"use strict";var i=n(1655).default,r=n(6389).default,a=n(4704).default,s=n(6690).default,o=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAtlasRegion=t.TextureAtlasPage=t.TextureAtlas=void 0;var l=n(2955),u=n(9760),c=n(4153),h=function(){function e(t){s(this,e),this.pages=new Array,this.regions=new Array;for(var n=new f(t),i=new Array(4),r={size:function(e){e.width=parseInt(i[1]),e.height=parseInt(i[2])},format:function(){},filter:function(e){e.minFilter=c.Utils.enumValue(l.TextureFilter,i[1]),e.magFilter=c.Utils.enumValue(l.TextureFilter,i[2])},repeat:function(e){-1!==i[1].indexOf("x")&&(e.uWrap=l.TextureWrap.Repeat),-1!==i[1].indexOf("y")&&(e.vWrap=l.TextureWrap.Repeat)},pma:function(e){e.pma="true"===i[1]}},a={xy:function(e){e.x=parseInt(i[1]),e.y=parseInt(i[2])},size:function(e){e.width=parseInt(i[1]),e.height=parseInt(i[2])},bounds:function(e){e.x=parseInt(i[1]),e.y=parseInt(i[2]),e.width=parseInt(i[3]),e.height=parseInt(i[4])},offset:function(e){e.offsetX=parseInt(i[1]),e.offsetY=parseInt(i[2])},orig:function(e){e.originalWidth=parseInt(i[1]),e.originalHeight=parseInt(i[2])},offsets:function(e){e.offsetX=parseInt(i[1]),e.offsetY=parseInt(i[2]),e.originalWidth=parseInt(i[3]),e.originalHeight=parseInt(i[4])},rotate:function(e){var t=i[1];"true"===t?e.degrees=90:"false"!==t&&(e.degrees=parseInt(t))},index:function(e){e.index=parseInt(i[1])}},o=n.readLine();o&&0===o.trim().length;)o=n.readLine();for(;o&&0!==o.trim().length&&0!==n.readEntry(i,o);)o=n.readLine();for(var u=null,h=null,v=null;null!==o;)if(0===o.trim().length)u=null,o=n.readLine();else if(u){for(var m=new p(u,o);;){var g=n.readEntry(i,o=n.readLine());if(0===g)break;var y=a[i[0]];if(y)y(m);else{h||(h=[]),v||(v=[]),h.push(i[0]);for(var _=[],b=0;b<g;b++)_.push(parseInt(i[b+1]));v.push(_)}}0===m.originalWidth&&0===m.originalHeight&&(m.originalWidth=m.width,m.originalHeight=m.height),h&&h.length>0&&v&&v.length>0&&(m.names=h,m.values=v,h=null,v=null),m.u=m.x/u.width,m.v=m.y/u.height,90===m.degrees?(m.u2=(m.x+m.height)/u.width,m.v2=(m.y+m.width)/u.height):(m.u2=(m.x+m.width)/u.width,m.v2=(m.y+m.height)/u.height),this.regions.push(m)}else{for(u=new d(o.trim());0!==n.readEntry(i,o=n.readLine());){var x=r[i[0]];x&&x(u)}this.pages.push(u)}}return o(e,[{key:"findRegion",value:function(e){for(var t=0;t<this.regions.length;t++)if(this.regions[t].name===e)return this.regions[t];return null}},{key:"setTextures",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=a(this.pages);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.setTexture(e.get(n+r.name))}}catch(s){i.e(s)}finally{i.f()}}},{key:"dispose",value:function(){for(var e,t=0;t<this.pages.length;t++)null===(e=this.pages[t].texture)||void 0===e||e.dispose()}}]),e}();t.TextureAtlas=h;var f=function(){function e(t){s(this,e),this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return o(e,[{key:"readLine",value:function(){return this.index>=this.lines.length?null:this.lines[this.index++]}},{key:"readEntry",value:function(e,t){if(!t)return 0;if(0===(t=t.trim()).length)return 0;var n=t.indexOf(":");if(-1===n)return 0;e[0]=t.substr(0,n).trim();for(var i=1,r=n+1;;i++){var a=t.indexOf(",",r);if(-1===a)return e[i]=t.substr(r).trim(),i;if(e[i]=t.substr(r,a-r).trim(),r=a+1,4===i)return 4}}}]),e}(),d=function(){function e(t){s(this,e),this.minFilter=l.TextureFilter.Nearest,this.magFilter=l.TextureFilter.Nearest,this.uWrap=l.TextureWrap.ClampToEdge,this.vWrap=l.TextureWrap.ClampToEdge,this.texture=null,this.width=0,this.height=0,this.pma=!1,this.name=t}return o(e,[{key:"setTexture",value:function(e){this.texture=e,e.setFilters(this.minFilter,this.magFilter),e.setWraps(this.uWrap,this.vWrap)}}]),e}();t.TextureAtlasPage=d;var p=function(e){i(n,e);var t=r(n);function n(e,i){var r;return s(this,n),(r=t.call(this)).x=0,r.y=0,r.offsetX=0,r.offsetY=0,r.originalWidth=0,r.originalHeight=0,r.index=0,r.degrees=0,r.names=null,r.values=null,r.page=e,r.name=i,r}return o(n)}(u.TextureRegion);t.TextureAtlasRegion=p},9760:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureRegion=void 0;var a=i((function e(){r(this,e),this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.degrees=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}));t.TextureRegion=a},4672:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TransformConstraint=void 0;var a=n(4153),s=function(){function e(t,n){if(i(this,e),this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new a.Vector2,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(var r=0;r<t.bones.length;r++){var s=n.findBone(t.bones[r].name);if(!s)throw new Error("Couldn't find bone ".concat(t.bones[r].name,"."));this.bones.push(s)}var o=n.findBone(t.target.name);if(!o)throw new Error("Couldn't find target bone ".concat(t.target.name,"."));this.target=o}return r(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){0===this.mixRotate&&0===this.mixX&&0===this.mixY&&0===this.mixScaleX&&0===this.mixScaleX&&0===this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}},{key:"applyAbsoluteWorld",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,i=this.mixScaleX,r=this.mixScaleY,s=this.mixShearY,o=0!==t||0!==n,l=this.target,u=l.a,c=l.b,h=l.c,f=l.d,d=u*f-c*h>0?a.MathUtils.degRad:-a.MathUtils.degRad,p=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,g=0,y=m.length;g<y;g++){var _=m[g];if(0!==e){var b=_.a,x=_.b,w=_.c,k=_.d,M=Math.atan2(h,u)-Math.atan2(w,b)+p;M>a.MathUtils.PI?M-=a.MathUtils.PI2:M<-a.MathUtils.PI&&(M+=a.MathUtils.PI2),M*=e;var T=Math.cos(M),S=Math.sin(M);_.a=T*b-S*w,_.b=T*x-S*k,_.c=S*b+T*w,_.d=S*x+T*k}if(o){var A=this.temp;l.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),_.worldX+=(A.x-_.worldX)*t,_.worldY+=(A.y-_.worldY)*n}if(0!==i){var E=Math.sqrt(_.a*_.a+_.c*_.c);0!==E&&(E=(E+(Math.sqrt(u*u+h*h)-E+this.data.offsetScaleX)*i)/E),_.a*=E,_.c*=E}if(0!==r){var L=Math.sqrt(_.b*_.b+_.d*_.d);0!==L&&(L=(L+(Math.sqrt(c*c+f*f)-L+this.data.offsetScaleY)*r)/L),_.b*=L,_.d*=L}if(s>0){var C=_.b,O=_.d,P=Math.atan2(O,C),I=Math.atan2(f,c)-Math.atan2(h,u)-(P-Math.atan2(_.c,_.a));I>a.MathUtils.PI?I-=a.MathUtils.PI2:I<-a.MathUtils.PI&&(I+=a.MathUtils.PI2),I=P+(I+v)*s;var N=Math.sqrt(C*C+O*O);_.b=Math.cos(I)*N,_.d=Math.sin(I)*N}_.updateAppliedTransform()}}},{key:"applyRelativeWorld",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,i=this.mixScaleX,r=this.mixScaleY,s=this.mixShearY,o=0!==t||0!==n,l=this.target,u=l.a,c=l.b,h=l.c,f=l.d,d=u*f-c*h>0?a.MathUtils.degRad:-a.MathUtils.degRad,p=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,g=0,y=m.length;g<y;g++){var _=m[g];if(0!==e){var b=_.a,x=_.b,w=_.c,k=_.d,M=Math.atan2(h,u)+p;M>a.MathUtils.PI?M-=a.MathUtils.PI2:M<-a.MathUtils.PI&&(M+=a.MathUtils.PI2),M*=e;var T=Math.cos(M),S=Math.sin(M);_.a=T*b-S*w,_.b=T*x-S*k,_.c=S*b+T*w,_.d=S*x+T*k}if(o){var A=this.temp;l.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),_.worldX+=A.x*t,_.worldY+=A.y*n}if(0!==i){var E=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;_.a*=E,_.c*=E}if(0!==r){var L=(Math.sqrt(c*c+f*f)-1+this.data.offsetScaleY)*r+1;_.b*=L,_.d*=L}if(s>0){var C=Math.atan2(f,c)-Math.atan2(h,u);C>a.MathUtils.PI?C-=a.MathUtils.PI2:C<-a.MathUtils.PI&&(C+=a.MathUtils.PI2);var O=_.b,P=_.d;C=Math.atan2(P,O)+(C-a.MathUtils.PI/2+v)*s;var I=Math.sqrt(O*O+P*P);_.b=Math.cos(C)*I,_.d=Math.sin(C)*I}_.updateAppliedTransform()}}},{key:"applyAbsoluteLocal",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,i=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,s=this.target,o=this.bones,l=0,u=o.length;l<u;l++){var c=o[l],h=c.arotation;if(0!==e){var f=s.arotation-h+this.data.offsetRotation;h+=(f-=360*(16384-(16384.499999999996-f/360|0)))*e}var d=c.ax,p=c.ay;d+=(s.ax-d+this.data.offsetX)*t,p+=(s.ay-p+this.data.offsetY)*n;var v=c.ascaleX,m=c.ascaleY;0!==i&&0!==v&&(v=(v+(s.ascaleX-v+this.data.offsetScaleX)*i)/v),0!==r&&0!==m&&(m=(m+(s.ascaleY-m+this.data.offsetScaleY)*r)/m);var g=c.ashearY;if(0!==a){var y=s.ashearY-g+this.data.offsetShearY;g+=(y-=360*(16384-(16384.499999999996-y/360|0)))*a}c.updateWorldTransformWith(d,p,h,v,m,c.ashearX,g)}}},{key:"applyRelativeLocal",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,i=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,s=this.target,o=this.bones,l=0,u=o.length;l<u;l++){var c=o[l],h=c.arotation+(s.arotation+this.data.offsetRotation)*e,f=c.ax+(s.ax+this.data.offsetX)*t,d=c.ay+(s.ay+this.data.offsetY)*n,p=c.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),v=c.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*r+1),m=c.ashearY+(s.ashearY+this.data.offsetShearY)*a;c.updateWorldTransformWith(f,d,h,p,v,c.ashearX,m)}}}]),e}();t.TransformConstraint=s},7841:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TransformConstraintData=void 0;var o=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e,0,!1)).bones=new Array,r._target=null,r.mixRotate=0,r.mixX=0,r.mixY=0,r.mixScaleX=0,r.mixScaleY=0,r.mixShearY=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return r(n,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(e){this._target=e}}]),n}(n(5221).ConstraintData);t.TransformConstraintData=o},9438:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Triangulator=void 0;var a=n(4153),s=function(){function e(){i(this,e),this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new a.Pool((function(){return new Array})),this.polygonIndicesPool=new a.Pool((function(){return new Array}))}return r(e,[{key:"triangulate",value:function(t){var n=t,i=t.length>>1,r=this.indicesArray;r.length=0;for(var a=0;a<i;a++)r[a]=a;var s=this.isConcaveArray;s.length=0;for(var o=0,l=i;o<l;++o)s[o]=e.isConcave(o,i,n,r);var u=this.triangles;for(u.length=0;i>3;){for(var c=i-1,h=0,f=1;;){e:if(!s[h]){for(var d=r[c]<<1,p=r[h]<<1,v=r[f]<<1,m=n[d],g=n[d+1],y=n[p],_=n[p+1],b=n[v],x=n[v+1],w=(f+1)%i;w!==c;w=(w+1)%i)if(s[w]){var k=r[w]<<1,M=n[k],T=n[k+1];if(e.positiveArea(b,x,m,g,M,T)&&e.positiveArea(m,g,y,_,M,T)&&e.positiveArea(y,_,b,x,M,T))break e}break}if(0===f){do{if(!s[h])break;h--}while(h>0);break}c=h,h=f,f=(f+1)%i}u.push(r[(i+h-1)%i]),u.push(r[h]),u.push(r[(h+1)%i]),r.splice(h,1),s.splice(h,1);var S=(--i+h-1)%i,A=h===i?0:h;s[S]=e.isConcave(S,i,n,r),s[A]=e.isConcave(A,i,n,r)}return 3===i&&(u.push(r[2]),u.push(r[0]),u.push(r[1])),u}},{key:"decompose",value:function(t,n){var i=t,r=this.convexPolygons;this.polygonPool.freeAll(r),r.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var s=this.polygonIndicesPool.obtain();s.length=0;var o=this.polygonPool.obtain();o.length=0;for(var l=-1,u=0,c=0,h=n.length;c<h;c+=3){var f=n[c]<<1,d=n[c+1]<<1,p=n[c+2]<<1,v=i[f],m=i[f+1],g=i[d],y=i[d+1],_=i[p],b=i[p+1],x=!1;if(l===f){var w=o.length-4,k=e.winding(o[w],o[w+1],o[w+2],o[w+3],_,b),M=e.winding(_,b,o[0],o[1],o[2],o[3]);k===u&&M===u&&(o.push(_),o.push(b),s.push(p),x=!0)}x||(o.length>0?(r.push(o),a.push(s)):(this.polygonPool.free(o),this.polygonIndicesPool.free(s)),(o=this.polygonPool.obtain()).length=0,o.push(v),o.push(m),o.push(g),o.push(y),o.push(_),o.push(b),(s=this.polygonIndicesPool.obtain()).length=0,s.push(f),s.push(d),s.push(p),u=e.winding(v,m,g,y,_,b),l=f)}o.length>0&&(r.push(o),a.push(s));for(var T=0,S=r.length;T<S;T++)if(0!==(s=a[T]).length)for(var A=s[0],E=s[s.length-1],L=(o=r[T]).length-4,C=o[L],O=o[L+1],P=o[L+2],I=o[L+3],N=o[0],R=o[1],F=o[2],B=o[3],D=e.winding(C,O,P,I,N,R),j=0;j<S;j++)if(j!==T){var U=a[j];if(3===U.length){var V=U[0],G=U[1],z=U[2],W=r[j],H=W[W.length-2],Y=W[W.length-1];if(V===A&&G===E){var X=e.winding(C,O,P,I,H,Y),q=e.winding(H,Y,N,R,F,B);X===D&&q===D&&(W.length=0,U.length=0,o.push(H),o.push(Y),s.push(z),C=P,O=I,P=H,I=Y,j=0)}}}for(var $=r.length-1;$>=0;$--)0===(o=r[$]).length&&(r.splice($,1),this.polygonPool.free(o),s=a[$],a.splice($,1),this.polygonIndicesPool.free(s));return r}}],[{key:"isConcave",value:function(e,t,n,i){var r=i[(t+e-1)%t]<<1,a=i[e]<<1,s=i[(e+1)%t]<<1;return!this.positiveArea(n[r],n[r+1],n[a],n[a+1],n[s],n[s+1])}},{key:"positiveArea",value:function(e,t,n,i,r,a){return e*(a-i)+n*(t-a)+r*(i-t)>=0}},{key:"winding",value:function(e,t,n,i,r,a){var s=n-e,o=i-t;return r*o-a*s+s*t-e*o>=0?1:-1}}]),e}();t.Triangulator=s},5681:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4153:function(e,t,n){"use strict";var i=n(1655).default,r=n(6389).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WindowedMean=t.TimeKeeper=t.Vector2=t.Pool=t.DebugUtils=t.Utils=t.PowOut=t.Pow=t.Interpolation=t.MathUtils=t.Color=t.StringSet=t.IntSet=void 0;var o=function(){function e(){a(this,e),this.array=new Array}return s(e,[{key:"add",value:function(e){var t=this.contains(e);return this.array[0|e]=0|e,!t}},{key:"contains",value:function(e){return void 0!==this.array[0|e]}},{key:"remove",value:function(e){this.array[0|e]=void 0}},{key:"clear",value:function(){this.array.length=0}}]),e}();t.IntSet=o;var l=function(){function e(){a(this,e),this.entries={},this.size=0}return s(e,[{key:"add",value:function(e){var t=this.entries[e];return this.entries[e]=!0,!t&&(this.size++,!0)}},{key:"addAll",value:function(e){for(var t=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return t!==this.size}},{key:"contains",value:function(e){return this.entries[e]}},{key:"clear",value:function(){this.entries={},this.size=0}}]),e}();t.StringSet=l;var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(this,e),this.r=t,this.g=n,this.b=i,this.a=r}return s(e,[{key:"set",value:function(e,t,n,i){return this.r=e,this.g=t,this.b=n,this.a=i,this.clamp()}},{key:"setFromColor",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}},{key:"setFromString",value:function(e){return e="#"===e.charAt(0)?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=8!==e.length?1:parseInt(e.substr(6,2),16)/255,this}},{key:"add",value:function(e,t,n,i){return this.r+=e,this.g+=t,this.b+=n,this.a+=i,this.clamp()}},{key:"clamp",value:function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}}],[{key:"rgba8888ToColor",value:function(e,t){e.r=((4278190080&t)>>>24)/255,e.g=((16711680&t)>>>16)/255,e.b=((65280&t)>>>8)/255,e.a=(255&t)/255}},{key:"rgb888ToColor",value:function(e,t){e.r=((16711680&t)>>>16)/255,e.g=((65280&t)>>>8)/255,e.b=(255&t)/255}},{key:"fromString",value:function(t){return(new e).setFromString(t)}}]),e}();t.Color=u,u.WHITE=new u(1,1,1,1),u.RED=new u(1,0,0,1),u.GREEN=new u(0,1,0,1),u.BLUE=new u(0,0,1,1),u.MAGENTA=new u(1,0,1,1);var c=function(){function e(){a(this,e)}return s(e,null,[{key:"clamp",value:function(e,t,n){return e<t?t:e>n?n:e}},{key:"cosDeg",value:function(t){return Math.cos(t*e.degRad)}},{key:"sinDeg",value:function(t){return Math.sin(t*e.degRad)}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}},{key:"toInt",value:function(e){return e>0?Math.floor(e):Math.ceil(e)}},{key:"cbrt",value:function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}},{key:"randomTriangular",value:function(t,n){return e.randomTriangularWith(t,n,.5*(t+n))}},{key:"randomTriangularWith",value:function(e,t,n){var i=Math.random(),r=t-e;return i<=(n-e)/r?e+Math.sqrt(i*r*(n-e)):t-Math.sqrt((1-i)*r*(t-n))}},{key:"isPowerOfTwo",value:function(e){return e&&0===(e&e-1)}}]),e}();t.MathUtils=c,c.PI=3.1415927,c.PI2=2*c.PI,c.radiansToDegrees=180/c.PI,c.radDeg=c.radiansToDegrees,c.degreesToRadians=c.PI/180,c.degRad=c.degreesToRadians;var h=function(){function e(){a(this,e)}return s(e,[{key:"apply",value:function(e,t,n){return e+(t-e)*this.applyInternal(n)}}]),e}();t.Interpolation=h;var f=function(e){i(n,e);var t=r(n);function n(e){var i;return a(this,n),(i=t.call(this)).power=2,i.power=e,i}return s(n,[{key:"applyInternal",value:function(e){return e<=.5?Math.pow(2*e,this.power)/2:Math.pow(2*(e-1),this.power)/(this.power%2===0?-2:2)+1}}]),n}(h);t.Pow=f;var d=function(e){i(n,e);var t=r(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"applyInternal",value:function(e){return Math.pow(e-1,this.power)*(this.power%2===0?-1:1)+1}}]),n}(f);t.PowOut=d;var p=function(){function e(){a(this,e)}return s(e,null,[{key:"arrayCopy",value:function(e,t,n,i,r){for(var a=t,s=i;a<t+r;a++,s++)n[s]=e[a]}},{key:"arrayFill",value:function(e,t,n,i){for(var r=t;r<n;r++)e[r]=i}},{key:"setArraySize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.length;if(i===t)return e;if(e.length=t,i<t)for(var r=i;r<t;r++)e[r]=n;return e}},{key:"ensureArrayCapacity",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.length>=n?t:e.setArraySize(t,n,i)}},{key:"newArray",value:function(e,t){for(var n=new Array(e),i=0;i<e;i++)n[i]=t;return n}},{key:"newFloatArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var n=new Array(t),i=0;i<n.length;i++)n[i]=0;return n}},{key:"newShortArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var n=new Array(t),i=0;i<n.length;i++)n[i]=0;return n}},{key:"toFloatArray",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}},{key:"toSinglePrecision",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}},{key:"webkit602BugfixHelper",value:function(e,t){}},{key:"contains",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}},{key:"enumValue",value:function(e,t){return e[t[0].toUpperCase()+t.slice(1)]}}]),e}();t.Utils=p,p.SUPPORTS_TYPED_ARRAYS="undefined"!==typeof Float32Array;var v=function(){function e(){a(this,e)}return s(e,null,[{key:"logBones",value:function(e){for(var t=0;t<e.bones.length;t++){var n=e.bones[t];console.log(n.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.worldX+", "+n.worldY)}}}]),e}();t.DebugUtils=v;var m=function(){function e(t){a(this,e),this.items=new Array,this.instantiator=t}return s(e,[{key:"obtain",value:function(){return this.items.length>0?this.items.pop():this.instantiator()}},{key:"free",value:function(e){e.reset&&e.reset(),this.items.push(e)}},{key:"freeAll",value:function(e){for(var t=0;t<e.length;t++)this.free(e[t])}},{key:"clear",value:function(){this.items.length=0}}]),e}();t.Pool=m;var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a(this,e),this.x=t,this.y=n}return s(e,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}},{key:"normalize",value:function(){var e=this.length();return 0!==e&&(this.x/=e,this.y/=e),this}}]),e}();t.Vector2=g;var y=function(){function e(){a(this,e),this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return s(e,[{key:"update",value:function(){var e=Date.now()/1e3;this.delta=e-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=e,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}]),e}();t.TimeKeeper=y;var _=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;a(this,e),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return s(e,[{key:"hasEnoughData",value:function(){return this.addedValues>=this.values.length}},{key:"addValue",value:function(e){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=e,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}},{key:"getMean",value:function(){if(this.hasEnoughData()){if(this.dirty){for(var e=0,t=0;t<this.values.length;t++)e+=this.values[t];this.mean=e/this.values.length,this.dirty=!1}return this.mean}return 0}}]),e}();t.WindowedMean=_},353:function(e,t,n){"use strict";var i=n(6115).default,r=n(1655).default,a=n(6389).default,s=n(9728).default,o=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexAttachment=t.Attachment=void 0;var l=n(4153),u=s((function e(t){if(o(this,e),!t)throw new Error("name cannot be null.");this.name=t}));t.Attachment=u;var c=function(e){r(n,e);var t=a(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).id=n.nextID++,e.bones=null,e.vertices=[],e.worldVerticesLength=0,e.timelineAttachment=i(e),e}return s(n,[{key:"computeWorldVertices",value:function(e,t,n,i,r,a){n=r+(n>>1)*a;var s=e.bone.skeleton,o=e.deform,l=this.vertices,u=this.bones;if(u){for(var c=0,h=0,f=0;f<t;f+=2){var d=u[c];c+=d+1,h+=d}var p=s.bones;if(0===o.length)for(var v=r,m=3*h;v<n;v+=a){var g=0,y=0,_=u[c++];for(_+=c;c<_;c++,m+=3){var b=p[u[c]],x=l[m],w=l[m+1],k=l[m+2];g+=(x*b.a+w*b.b+b.worldX)*k,y+=(x*b.c+w*b.d+b.worldY)*k}i[v]=g,i[v+1]=y}else for(var M=o,T=r,S=3*h,A=h<<1;T<n;T+=a){var E=0,L=0,C=u[c++];for(C+=c;c<C;c++,S+=3,A+=2){var O=p[u[c]],P=l[S]+M[A],I=l[S+1]+M[A+1],N=l[S+2];E+=(P*O.a+I*O.b+O.worldX)*N,L+=(P*O.c+I*O.d+O.worldY)*N}i[T]=E,i[T+1]=L}}else{o.length>0&&(l=o);for(var R=e.bone,F=R.worldX,B=R.worldY,D=R.a,j=R.b,U=R.c,V=R.d,G=t,z=r;z<n;G+=2,z+=a){var W=l[G],H=l[G+1];i[z]=W*D+H*j+F,i[z+1]=W*U+H*V+B}}}},{key:"copyTo",value:function(e){this.bones?(e.bones=new Array(this.bones.length),l.Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,this.vertices&&(e.vertices=l.Utils.newFloatArray(this.vertices.length),l.Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)),e.worldVerticesLength=this.worldVerticesLength,e.timelineAttachment=this.timelineAttachment}}]),n}(u);t.VertexAttachment=c,c.nextID=0},5500:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9374:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BoundingBoxAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).color=new o.Color(1,1,1,1),e}return r(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e}}]),n}(n(353).VertexAttachment);t.BoundingBoxAttachment=l},2024:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ClippingAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).endSlot=null,e.color=new o.Color(.2275,.2275,.8078,1),e}return r(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e}}]),n}(n(353).VertexAttachment);t.ClippingAttachment=l},8582:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1588).default,s=n(3808).default,o=n(1655).default,l=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MeshAttachment=void 0;var u=n(3416),c=n(4153),h=function(e){o(n,e);var t=l(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e)).region=null,a.regionUVs=[],a.uvs=[],a.triangles=[],a.color=new c.Color(1,1,1,1),a.width=0,a.height=0,a.hullLength=0,a.edges=[],a.parentMesh=null,a.sequence=null,a.tempColor=new c.Color(0,0,0,0),a.path=r,a}return r(n,[{key:"updateRegion",value:function(){if(!this.region)throw new Error("Region not set.");var e=this.regionUVs;this.uvs&&this.uvs.length===e.length||(this.uvs=c.Utils.newFloatArray(e.length));var t=this.uvs,n=this.uvs.length,i=this.region.u,r=this.region.v,a=0,s=0;if(this.region instanceof u.TextureAtlasRegion){var o=this.region,l=o.page.texture.getImage(),h=l.width,f=l.height;switch(o.degrees){case 90:i-=(o.originalHeight-o.offsetY-o.height)/h,r-=(o.originalWidth-o.offsetX-o.width)/f,a=o.originalHeight/h,s=o.originalWidth/f;for(var d=0;d<n;d+=2)t[d]=i+e[d+1]*a,t[d+1]=r+(1-e[d])*s;return;case 180:i-=(o.originalWidth-o.offsetX-o.width)/h,r-=o.offsetY/f,a=o.originalWidth/h,s=o.originalHeight/f;for(var p=0;p<n;p+=2)t[p]=i+(1-e[p])*a,t[p+1]=r+(1-e[p+1])*s;return;case 270:i-=o.offsetY/h,r-=o.offsetX/f,a=o.originalHeight/h,s=o.originalWidth/f;for(var v=0;v<n;v+=2)t[v]=i+(1-e[v+1])*a,t[v+1]=r+e[v]*s;return}i-=o.offsetX/h,r-=(o.originalHeight-o.offsetY-o.height)/f,a=o.originalWidth/h,s=o.originalHeight/f}else this.region?(a=this.region.u2-i,s=this.region.v2-r):(i=r=0,a=s=1);for(var m=0;m<n;m+=2)t[m]=i+e[m]*a,t[m+1]=r+e[m+1]*s}},{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(e){this.parentMesh=e,e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}},{key:"copy",value:function(){if(this.parentMesh)return this.newLinkedMesh();var e=new n(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Array(this.regionUVs.length),c.Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.uvs=new Array(this.uvs.length),c.Utils.arrayCopy(this.uvs,0,e.uvs,0,this.uvs.length),e.triangles=new Array(this.triangles.length),c.Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,e.sequence=null!==this.sequence?this.sequence.copy():null,this.edges&&(e.edges=new Array(this.edges.length),c.Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e}},{key:"computeWorldVertices",value:function(e,t,i,r,o,l){null!==this.sequence&&this.sequence.apply(e,this),a(s(n.prototype),"computeWorldVertices",this).call(this,e,t,i,r,o,l)}},{key:"newLinkedMesh",value:function(){var e=new n(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),e.timelineAttachment=this.timelineAttachment,e.setParentMesh(this.parentMesh?this.parentMesh:this),null!==e.region&&e.updateRegion(),e}}]),n}(n(353).VertexAttachment);t.MeshAttachment=h},397:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PathAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).lengths=[],e.closed=!1,e.constantSpeed=!1,e.color=new o.Color(1,1,1,1),e}return r(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),o.Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=this.closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e}}]),n}(n(353).VertexAttachment);t.PathAttachment=l},630:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PointAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).x=0,e.y=0,e.rotation=0,e.color=new o.Color(.38,.94,0,1),e}return r(n,[{key:"computeWorldPosition",value:function(e,t){return t.x=this.x*e.a+this.y*e.b+e.worldX,t.y=this.x*e.c+this.y*e.d+e.worldY,t}},{key:"computeWorldRotation",value:function(e){var t=o.MathUtils.cosDeg(this.rotation),n=o.MathUtils.sinDeg(this.rotation),i=t*e.a+n*e.b,r=t*e.c+n*e.d;return Math.atan2(r,i)*o.MathUtils.radDeg}},{key:"copy",value:function(){var e=new n(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e}}]),n}(n(353).VertexAttachment);t.PointAttachment=l},7045:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RegionAttachment=void 0;var o=n(4153),l=function(e){a(n,e);var t=s(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e)).x=0,a.y=0,a.scaleX=1,a.scaleY=1,a.rotation=0,a.width=0,a.height=0,a.color=new o.Color(1,1,1,1),a.rendererObject=null,a.region=null,a.sequence=null,a.offset=o.Utils.newFloatArray(8),a.uvs=o.Utils.newFloatArray(8),a.tempColor=new o.Color(1,1,1,1),a.path=r,a}return r(n,[{key:"updateRegion",value:function(){if(!this.region)throw new Error("Region not set.");var e=this.region,t=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*n,a=i+this.region.width*t,s=r+this.region.height*n,o=this.rotation*Math.PI/180,l=Math.cos(o),u=Math.sin(o),c=this.x,h=this.y,f=i*l+c,d=i*u,p=r*l+h,v=r*u,m=a*l+c,g=a*u,y=s*l+h,_=s*u,b=this.offset;b[0]=f-v,b[1]=p+d,b[2]=f-_,b[3]=y+d,b[4]=m-_,b[5]=y+g,b[6]=m-v,b[7]=p+g;var x=this.uvs;90===e.degrees?(x[2]=e.u,x[3]=e.v2,x[4]=e.u,x[5]=e.v,x[6]=e.u2,x[7]=e.v,x[0]=e.u2,x[1]=e.v2):(x[0]=e.u,x[1]=e.v2,x[2]=e.u,x[3]=e.v,x[4]=e.u2,x[5]=e.v,x[6]=e.u2,x[7]=e.v2)}},{key:"computeWorldVertices",value:function(e,t,n,i){null!==this.sequence&&this.sequence.apply(e,this);var r=e.bone,a=this.offset,s=r.worldX,o=r.worldY,l=r.a,u=r.b,c=r.c,h=r.d,f=0,d=0;f=a[0],d=a[1],t[n]=f*l+d*u+s,t[n+1]=f*c+d*h+o,n+=i,f=a[2],d=a[3],t[n]=f*l+d*u+s,t[n+1]=f*c+d*h+o,n+=i,f=a[4],d=a[5],t[n]=f*l+d*u+s,t[n+1]=f*c+d*h+o,n+=i,f=a[6],d=a[7],t[n]=f*l+d*u+s,t[n+1]=f*c+d*h+o}},{key:"copy",value:function(){var e=new n(this.name,this.path);return e.region=this.region,e.rendererObject=this.rendererObject,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,o.Utils.arrayCopy(this.uvs,0,e.uvs,0,8),o.Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e.sequence=null!==this.sequence?this.sequence.copy():null,e}}]),n}(n(353).Attachment);t.RegionAttachment=l,l.X1=0,l.Y1=1,l.C1R=2,l.C1G=3,l.C1B=4,l.C1A=5,l.U1=6,l.V1=7,l.X2=8,l.Y2=9,l.C2R=10,l.C2G=11,l.C2B=12,l.C2A=13,l.U2=14,l.V2=15,l.X3=16,l.Y3=17,l.C3R=18,l.C3G=19,l.C3B=20,l.C3A=21,l.U3=22,l.V3=23,l.X4=24,l.Y4=25,l.C4R=26,l.C4G=27,l.C4B=28,l.C4A=29,l.U4=30,l.V4=31},6436:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceModeValues=t.SequenceMode=t.Sequence=void 0;var a,s=n(4153),o=function(){function e(t){i(this,e),this.id=e.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(t)}return r(e,[{key:"copy",value:function(){var t=new e(this.regions.length);return s.Utils.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t}},{key:"apply",value:function(e,t){var n=e.sequenceIndex;-1===n&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];t.region!==i&&(t.region=i,t.updateRegion())}},{key:"getPath",value:function(e,t){for(var n=e,i=(this.start+t).toString(),r=this.digits-i.length;r>0;r--)n+="0";return n+=i}}],[{key:"nextID",value:function(){return e._nextID++}}]),e}();t.Sequence=o,o._nextID=0,function(e){e[e.hold=0]="hold",e[e.once=1]="once",e[e.loop=2]="loop",e[e.pingpong=3]="pingpong",e[e.onceReverse=4]="onceReverse",e[e.loopReverse=5]="loopReverse",e[e.pingpongReverse=6]="pingpongReverse"}(a=t.SequenceMode||(t.SequenceMode={})),t.SequenceModeValues=[a.hold,a.once,a.loop,a.pingpong,a.onceReverse,a.loopReverse,a.pingpongReverse]},6914:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(9889),t),r(n(1700),t),r(n(1657),t),r(n(3006),t),r(n(1362),t),r(n(196),t),r(n(5221),t),r(n(2957),t),r(n(300),t),r(n(4013),t),r(n(7111),t),r(n(8155),t),r(n(3093),t),r(n(9841),t),r(n(9965),t),r(n(2411),t),r(n(1164),t),r(n(3461),t),r(n(2032),t),r(n(6859),t),r(n(3099),t),r(n(3356),t),r(n(3605),t),r(n(9760),t),r(n(3416),t),r(n(4672),t),r(n(7841),t),r(n(9438),t),r(n(5681),t),r(n(4153),t),r(n(5356),t),r(n(353),t),r(n(5500),t),r(n(9374),t),r(n(2024),t),r(n(8582),t),r(n(397),t),r(n(630),t),r(n(7045),t)},5356:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Math.fround=Math.fround||function(e){if(!(e=Number(e)))return e;var t=e<0?-1:1;t<0&&(e=-e);var n=Math.floor(Math.log(e)/Math.LN2),i=Math.pow(2,Math.max(-126,Math.min(n,127))),r=n<-127?0:1,a=Math.round(8388608*(r-e/i));return n>0&&a<=-8388608?t*(1/0):t*i*(r-a/8388608)}},2695:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultRenderableSorter=void 0;var a=n(7811),s=n(847),o=function(){function e(){i(this,e),this.tmpV1=new a.Vector3,this.tmpV2=new a.Vector3}return r(e,[{key:"sort",value:function(e,t){this.camera=e}},{key:"getTranslation",value:function(e,t,n){return t.isZero()?e.getTranslation(n):e.hasRotationOrScaling()?n.set(t.x,t.y,t.z).multiply(e):e.getTranslation(n).add(t),n}},{key:"compare",value:function(e,t){var n=e.material.has(s.BlendingAttribute.Type)&&e.material.get(s.BlendingAttribute.Type).blended;if(n!==(t.material.has(s.BlendingAttribute.Type)&&t.material.get(s.BlendingAttribute.Type).blended))return n?1:-1;this.getTranslation(e.worldTransform,e.meshPart.center,this.tmpV1),this.getTranslation(t.worldTransform,t.meshPart.center,this.tmpV2);var i=1e3*this.camera.position.dst2(this.tmpV1)-1e3*this.camera.position.dst2(this.tmpV2),r=i<0?-1:i>0?1:0;return n?-r:r}}]),e}();t.DefaultRenderableSorter=o},1341:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultShaderProvider=void 0;var s=n(616),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";r(this,e),this.gl=t,this.shaders=[],this.config=n||new s.Config(i,a)}return a(e,[{key:"dispose",value:function(){}},{key:"getShader",value:function(e){var t=e.shader;if(t&&t.canRender(e))return t;var n,r=i(this.shaders);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.canRender(e))return a}}catch(o){r.e(o)}finally{r.f()}var s=this.createShader(this.gl,e);if(!s.canRender(e))throw new Error("unable to provide a shader for this renderable");return s.init(),this.shaders.push(s),s}},{key:"createShader",value:function(e,t){return new s.DefaultShader(e,t,this.config)}}]),e}();t.DefaultShaderProvider=o},5394:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextureBinder=void 0;var a=n(7139),s=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;i(this,e),this.reuseCount=0,this.bindCount=0,this.currentTexture=0,e.gl=t;var s=Math.min(e.getMaxTextureUnits(),e.MAX_GLES_UNITS);if(a<0&&(a=s-r),r<0||a<0||r+a>s)throw new Error("Illegal arguments");this.method=n,this.offset=r,this.count=a,this.textures=new Array(a),this.unitsLRU=n===e.LRU?new Array(a):null}return r(e,[{key:"begin",value:function(){for(var e=0;e<this.count;e++)this.textures[e]=null,null!=this.unitsLRU&&(this.unitsLRU[e]=e)}},{key:"end",value:function(){e.gl.activeTexture(e.gl.TEXTURE0)}},{key:"bindTexture",value:function(t){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this.reused=!1,this.method){case e.ROUNDROBIN:n=this.offset+this.bindTextureRoundRobin(t);break;case e.LRU:n=this.offset+this.bindTextureLRU(t);break;default:return-1}return this.reused?(this.reuseCount++,i?t.bind(n):e.gl.activeTexture(e.gl.TEXTURE0+n)):this.bindCount++,t.setWraps(a.TextureWrap.Repeat,a.TextureWrap.Repeat),t.setFilters(a.TextureFilter.Linear,a.TextureFilter.Linear),n}},{key:"bindTextureRoundRobin",value:function(e){for(var t=0;t<this.count;t++){var n=(this.currentTexture+t)%this.count;if(this.textures[n]===e)return this.reused=!0,n}return this.currentTexture=(this.currentTexture+1)%this.count,this.textures[this.currentTexture]=e,e.bind(this.offset+this.currentTexture),this.currentTexture}},{key:"bindTextureLRU",value:function(e){var t;for(t=0;t<this.count;t++){var n=this.unitsLRU[t];if(this.textures[n]===e){this.reused=!0;break}if(!this.textures[n])break}t>=this.count&&(t=this.count-1);for(var i=this.unitsLRU[t];t>0;)this.unitsLRU[t]=this.unitsLRU[t-1],t--;return this.unitsLRU[0]=i,this.reused||(this.textures[i]=e,e.bind(this.offset+i)),i}},{key:"getBindCount",value:function(){return this.bindCount}},{key:"getReuseCount",value:function(){return this.reuseCount}},{key:"resetCounts",value:function(){this.bindCount=this.reuseCount=0}}],[{key:"getMaxTextureUnits",value:function(){return this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)}}]),e}();t.DefaultTextureBinder=s,s.ROUNDROBIN=0,s.LRU=1,s.MAX_GLES_UNITS=32},8552:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GL20=void 0;var a=i((function e(){r(this,e)}));t.GL20=a,a.GL_ES_VERSION_2_0=1,a.GL_DEPTH_BUFFER_BIT=256,a.GL_STENCIL_BUFFER_BIT=1024,a.GL_COLOR_BUFFER_BIT=16384,a.GL_FALSE=0,a.GL_TRUE=1,a.GL_POINTS=0,a.GL_LINES=1,a.GL_LINE_LOOP=2,a.GL_LINE_STRIP=3,a.GL_TRIANGLES=4,a.GL_TRIANGLE_STRIP=5,a.GL_TRIANGLE_FAN=6,a.GL_ZERO=0,a.GL_ONE=1,a.GL_SRC_COLOR=768,a.GL_ONE_MINUS_SRC_COLOR=769,a.GL_SRC_ALPHA=770,a.GL_ONE_MINUS_SRC_ALPHA=771,a.GL_DST_ALPHA=772,a.GL_ONE_MINUS_DST_ALPHA=773,a.GL_DST_COLOR=774,a.GL_ONE_MINUS_DST_COLOR=775,a.GL_SRC_ALPHA_SATURATE=776,a.GL_FUNC_ADD=32774,a.GL_BLEND_EQUATION=32777,a.GL_BLEND_EQUATION_RGB=32777,a.GL_BLEND_EQUATION_ALPHA=34877,a.GL_FUNC_SUBTRACT=32778,a.GL_FUNC_REVERSE_SUBTRACT=32779,a.GL_BLEND_DST_RGB=32968,a.GL_BLEND_SRC_RGB=32969,a.GL_BLEND_DST_ALPHA=32970,a.GL_BLEND_SRC_ALPHA=32971,a.GL_CONSTANT_COLOR=32769,a.GL_ONE_MINUS_CONSTANT_COLOR=32770,a.GL_CONSTANT_ALPHA=32771,a.GL_ONE_MINUS_CONSTANT_ALPHA=32772,a.GL_BLEND_COLOR=32773,a.GL_ARRAY_BUFFER=34962,a.GL_ELEMENT_ARRAY_BUFFER=34963,a.GL_ARRAY_BUFFER_BINDING=34964,a.GL_ELEMENT_ARRAY_BUFFER_BINDING=34965,a.GL_STREAM_DRAW=35040,a.GL_STATIC_DRAW=35044,a.GL_DYNAMIC_DRAW=35048,a.GL_BUFFER_SIZE=34660,a.GL_BUFFER_USAGE=34661,a.GL_CURRENT_VERTEX_ATTRIB=34342,a.GL_FRONT=1028,a.GL_BACK=1029,a.GL_FRONT_AND_BACK=1032,a.GL_TEXTURE_2D=3553,a.GL_CULL_FACE=2884,a.GL_BLEND=3042,a.GL_DITHER=3024,a.GL_STENCIL_TEST=2960,a.GL_DEPTH_TEST=2929,a.GL_SCISSOR_TEST=3089,a.GL_POLYGON_OFFSET_FILL=32823,a.GL_SAMPLE_ALPHA_TO_COVERAGE=32926,a.GL_SAMPLE_COVERAGE=32928,a.GL_NO_ERROR=0,a.GL_INVALID_ENUM=1280,a.GL_INVALID_VALUE=1281,a.GL_INVALID_OPERATION=1282,a.GL_OUT_OF_MEMORY=1285,a.GL_CW=2304,a.GL_CCW=2305,a.GL_LINE_WIDTH=2849,a.GL_ALIASED_POINT_SIZE_RANGE=33901,a.GL_ALIASED_LINE_WIDTH_RANGE=33902,a.GL_CULL_FACE_MODE=2885,a.GL_FRONT_FACE=2886,a.GL_DEPTH_RANGE=2928,a.GL_DEPTH_WRITEMASK=2930,a.GL_DEPTH_CLEAR_VALUE=2931,a.GL_DEPTH_FUNC=2932,a.GL_STENCIL_CLEAR_VALUE=2961,a.GL_STENCIL_FUNC=2962,a.GL_STENCIL_FAIL=2964,a.GL_STENCIL_PASS_DEPTH_FAIL=2965,a.GL_STENCIL_PASS_DEPTH_PASS=2966,a.GL_STENCIL_REF=2967,a.GL_STENCIL_VALUE_MASK=2963,a.GL_STENCIL_WRITEMASK=2968,a.GL_STENCIL_BACK_FUNC=34816,a.GL_STENCIL_BACK_FAIL=34817,a.GL_STENCIL_BACK_PASS_DEPTH_FAIL=34818,a.GL_STENCIL_BACK_PASS_DEPTH_PASS=34819,a.GL_STENCIL_BACK_REF=36003,a.GL_STENCIL_BACK_VALUE_MASK=36004,a.GL_STENCIL_BACK_WRITEMASK=36005,a.GL_VIEWPORT=2978,a.GL_SCISSOR_BOX=3088,a.GL_COLOR_CLEAR_VALUE=3106,a.GL_COLOR_WRITEMASK=3107,a.GL_UNPACK_ALIGNMENT=3317,a.GL_PACK_ALIGNMENT=3333,a.GL_MAX_TEXTURE_SIZE=3379,a.GL_MAX_TEXTURE_UNITS=34018,a.GL_MAX_VIEWPORT_DIMS=3386,a.GL_SUBPIXEL_BITS=3408,a.GL_RED_BITS=3410,a.GL_GREEN_BITS=3411,a.GL_BLUE_BITS=3412,a.GL_ALPHA_BITS=3413,a.GL_DEPTH_BITS=3414,a.GL_STENCIL_BITS=3415,a.GL_POLYGON_OFFSET_UNITS=10752,a.GL_POLYGON_OFFSET_FACTOR=32824,a.GL_TEXTURE_BINDING_2D=32873,a.GL_SAMPLE_BUFFERS=32936,a.GL_SAMPLES=32937,a.GL_SAMPLE_COVERAGE_VALUE=32938,a.GL_SAMPLE_COVERAGE_INVERT=32939,a.GL_NUM_COMPRESSED_TEXTURE_FORMATS=34466,a.GL_COMPRESSED_TEXTURE_FORMATS=34467,a.GL_DONT_CARE=4352,a.GL_FASTEST=4353,a.GL_NICEST=4354,a.GL_GENERATE_MIPMAP=33169,a.GL_GENERATE_MIPMAP_HINT=33170,a.GL_BYTE=5120,a.GL_UNSIGNED_BYTE=5121,a.GL_SHORT=5122,a.GL_UNSIGNED_SHORT=5123,a.GL_INT=5124,a.GL_UNSIGNED_INT=5125,a.GL_FLOAT=5126,a.GL_FIXED=5132,a.GL_DEPTH_COMPONENT=6402,a.GL_ALPHA=6406,a.GL_RGB=6407,a.GL_RGBA=6408,a.GL_LUMINANCE=6409,a.GL_LUMINANCE_ALPHA=6410,a.GL_UNSIGNED_SHORT_4_4_4_4=32819,a.GL_UNSIGNED_SHORT_5_5_5_1=32820,a.GL_UNSIGNED_SHORT_5_6_5=33635,a.GL_FRAGMENT_SHADER=35632,a.GL_VERTEX_SHADER=35633,a.GL_MAX_VERTEX_ATTRIBS=34921,a.GL_MAX_VERTEX_UNIFORM_VECTORS=36347,a.GL_MAX_VARYING_VECTORS=36348,a.GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,a.GL_MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,a.GL_MAX_TEXTURE_IMAGE_UNITS=34930,a.GL_MAX_FRAGMENT_UNIFORM_VECTORS=36349,a.GL_SHADER_TYPE=35663,a.GL_DELETE_STATUS=35712,a.GL_LINK_STATUS=35714,a.GL_VALIDATE_STATUS=35715,a.GL_ATTACHED_SHADERS=35717,a.GL_ACTIVE_UNIFORMS=35718,a.GL_ACTIVE_UNIFORM_MAX_LENGTH=35719,a.GL_ACTIVE_ATTRIBUTES=35721,a.GL_ACTIVE_ATTRIBUTE_MAX_LENGTH=35722,a.GL_SHADING_LANGUAGE_VERSION=35724,a.GL_CURRENT_PROGRAM=35725,a.GL_NEVER=512,a.GL_LESS=513,a.GL_EQUAL=514,a.GL_LEQUAL=515,a.GL_GREATER=516,a.GL_NOTEQUAL=517,a.GL_GEQUAL=518,a.GL_ALWAYS=519,a.GL_KEEP=7680,a.GL_REPLACE=7681,a.GL_INCR=7682,a.GL_DECR=7683,a.GL_INVERT=5386,a.GL_INCR_WRAP=34055,a.GL_DECR_WRAP=34056,a.GL_VENDOR=7936,a.GL_RENDERER=7937,a.GL_VERSION=7938,a.GL_EXTENSIONS=7939,a.GL_NEAREST=9728,a.GL_LINEAR=9729,a.GL_NEAREST_MIPMAP_NEAREST=9984,a.GL_LINEAR_MIPMAP_NEAREST=9985,a.GL_NEAREST_MIPMAP_LINEAR=9986,a.GL_LINEAR_MIPMAP_LINEAR=9987,a.GL_TEXTURE_MAG_FILTER=10240,a.GL_TEXTURE_MIN_FILTER=10241,a.GL_TEXTURE_WRAP_S=10242,a.GL_TEXTURE_WRAP_T=10243,a.GL_TEXTURE=5890,a.GL_TEXTURE_CUBE_MAP=34067,a.GL_TEXTURE_BINDING_CUBE_MAP=34068,a.GL_TEXTURE_CUBE_MAP_POSITIVE_X=34069,a.GL_TEXTURE_CUBE_MAP_NEGATIVE_X=34070,a.GL_TEXTURE_CUBE_MAP_POSITIVE_Y=34071,a.GL_TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,a.GL_TEXTURE_CUBE_MAP_POSITIVE_Z=34073,a.GL_TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,a.GL_MAX_CUBE_MAP_TEXTURE_SIZE=34076,a.GL_TEXTURE0=33984,a.GL_TEXTURE1=33985,a.GL_TEXTURE2=33986,a.GL_TEXTURE3=33987,a.GL_TEXTURE4=33988,a.GL_TEXTURE5=33989,a.GL_TEXTURE6=33990,a.GL_TEXTURE7=33991,a.GL_TEXTURE8=33992,a.GL_TEXTURE9=33993,a.GL_TEXTURE10=33994,a.GL_TEXTURE11=33995,a.GL_TEXTURE12=33996,a.GL_TEXTURE13=33997,a.GL_TEXTURE14=33998,a.GL_TEXTURE15=33999,a.GL_TEXTURE16=34e3,a.GL_TEXTURE17=34001,a.GL_TEXTURE18=34002,a.GL_TEXTURE19=34003,a.GL_TEXTURE20=34004,a.GL_TEXTURE21=34005,a.GL_TEXTURE22=34006,a.GL_TEXTURE23=34007,a.GL_TEXTURE24=34008,a.GL_TEXTURE25=34009,a.GL_TEXTURE26=34010,a.GL_TEXTURE27=34011,a.GL_TEXTURE28=34012,a.GL_TEXTURE29=34013,a.GL_TEXTURE30=34014,a.GL_TEXTURE31=34015,a.GL_ACTIVE_TEXTURE=34016,a.GL_REPEAT=10497,a.GL_CLAMP_TO_EDGE=33071,a.GL_MIRRORED_REPEAT=33648,a.GL_FLOAT_VEC2=35664,a.GL_FLOAT_VEC3=35665,a.GL_FLOAT_VEC4=35666,a.GL_INT_VEC2=35667,a.GL_INT_VEC3=35668,a.GL_INT_VEC4=35669,a.GL_BOOL=35670,a.GL_BOOL_VEC2=35671,a.GL_BOOL_VEC3=35672,a.GL_BOOL_VEC4=35673,a.GL_FLOAT_MAT2=35674,a.GL_FLOAT_MAT3=35675,a.GL_FLOAT_MAT4=35676,a.GL_SAMPLER_2D=35678,a.GL_SAMPLER_CUBE=35680,a.GL_VERTEX_ATTRIB_ARRAY_ENABLED=34338,a.GL_VERTEX_ATTRIB_ARRAY_SIZE=34339,a.GL_VERTEX_ATTRIB_ARRAY_STRIDE=34340,a.GL_VERTEX_ATTRIB_ARRAY_TYPE=34341,a.GL_VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,a.GL_VERTEX_ATTRIB_ARRAY_POINTER=34373,a.GL_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,a.GL_IMPLEMENTATION_COLOR_READ_TYPE=35738,a.GL_IMPLEMENTATION_COLOR_READ_FORMAT=35739,a.GL_COMPILE_STATUS=35713,a.GL_INFO_LOG_LENGTH=35716,a.GL_SHADER_SOURCE_LENGTH=35720,a.GL_SHADER_COMPILER=36346,a.GL_SHADER_BINARY_FORMATS=36344,a.GL_NUM_SHADER_BINARY_FORMATS=36345,a.GL_LOW_FLOAT=36336,a.GL_MEDIUM_FLOAT=36337,a.GL_HIGH_FLOAT=36338,a.GL_LOW_INT=36339,a.GL_MEDIUM_INT=36340,a.GL_HIGH_INT=36341,a.GL_FRAMEBUFFER=36160,a.GL_RENDERBUFFER=36161,a.GL_RGBA4=32854,a.GL_RGB5_A1=32855,a.GL_RGB565=36194,a.GL_DEPTH_COMPONENT16=33189,a.GL_STENCIL_INDEX=6401,a.GL_STENCIL_INDEX8=36168,a.GL_RENDERBUFFER_WIDTH=36162,a.GL_RENDERBUFFER_HEIGHT=36163,a.GL_RENDERBUFFER_INTERNAL_FORMAT=36164,a.GL_RENDERBUFFER_RED_SIZE=36176,a.GL_RENDERBUFFER_GREEN_SIZE=36177,a.GL_RENDERBUFFER_BLUE_SIZE=36178,a.GL_RENDERBUFFER_ALPHA_SIZE=36179,a.GL_RENDERBUFFER_DEPTH_SIZE=36180,a.GL_RENDERBUFFER_STENCIL_SIZE=36181,a.GL_FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,a.GL_FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,a.GL_FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,a.GL_FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,a.GL_COLOR_ATTACHMENT0=36064,a.GL_DEPTH_ATTACHMENT=36096,a.GL_STENCIL_ATTACHMENT=36128,a.GL_NONE=0,a.GL_FRAMEBUFFER_COMPLETE=36053,a.GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,a.GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,a.GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,a.GL_FRAMEBUFFER_UNSUPPORTED=36061,a.GL_FRAMEBUFFER_BINDING=36006,a.GL_RENDERBUFFER_BINDING=36007,a.GL_MAX_RENDERBUFFER_SIZE=34024,a.GL_INVALID_FRAMEBUFFER_OPERATION=1286,a.GL_VERTEX_PROGRAM_POINT_SIZE=34370,a.GL_COVERAGE_BUFFER_BIT_NV=32768,a.GL_TEXTURE_MAX_ANISOTROPY_EXT=34046,a.GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047},4023:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default,s=n(1588).default,o=n(3808).default,l=n(1655).default,u=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var c=function(e){l(n,e);var t=u(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r(this,n),(e=t.call(this)).id=i||"mtl"+ ++n.counter,e}return a(n,[{key:"equals",value:function(e){return e&&(e===this||e.id===this.id&&s(o(n.prototype),"equals",this).call(this,e))}},{key:"copy",value:function(){var e=new n;e.id=this.id;var t,r=i(this.attributes);try{for(r.s();!(t=r.n()).done;){var a=t.value;e.set(a.copy())}}catch(s){r.e(s)}finally{r.f()}return e}}]),n}(n(2802).Attributes);t.Material=c,c.counter=0},5766:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Mesh3D=t.VertexDataType=void 0;var a=n(5477),s=n(2283),o=n(7811),l=n(8633),u=n(427),c=n(8552),h=n(5223),f=n(9131);!function(e){e[e.VertexArray=0]="VertexArray",e[e.VertexBufferObject=1]="VertexBufferObject",e[e.VertexBufferObjectSubData=2]="VertexBufferObjectSubData",e[e.VertexBufferObjectWithVAO=3]="VertexBufferObjectWithVAO"}(t.VertexDataType||(t.VertexDataType={}));var d=function(){function e(t,n,r,a,s,l){i(this,e),this.gl=t,this.autoBind=!0,this.isInstanced=!1,this.tmpV=new o.Vector3,this.vertices=this.makeVertexBuffer(n,a,l),this.indices=new h.IndexBufferObject(t,s,r),this.isVertexArray=!1,e.addManagedMesh(this)}return r(e,[{key:"Mesh",value:function(t,n,i){this.vertices=t,this.indices=n,this.isVertexArray=i,e.addManagedMesh(this)}},{key:"makeVertexBuffer",value:function(e,t,n){return new f.VertexBufferObject(this.gl,e,t,n)}},{key:"setVertices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return n<0&&(n=e.length),this.vertices.setVertices(e,t,e.length),this}},{key:"updateVertices",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return i<0&&(i=t.length),this.vertices.updateVertices(e,t,n,i),this}},{key:"getVertices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this.getNumVertices()*this.getVertexSize()/4;if(-1===n&&(n=r-t)>e.length-i&&(n=e.length-i),t<0||n<=0||t+n>r||i<0||i>=e.length)throw new Error("index out of bound");if(e.length-i<n)throw new Error("not enough room in vertices array, has "+e.length+" floats, needs "+n);for(var a=this.vertices.getBuffer(),s=t;s<n;s++)e[s]=a.at(s-t+i);return e}},{key:"setIndices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return this.indices.setIndices(e,t,n),this}},{key:"getIndices",value:function(e,t,n,i){var r=this.getNumIndices();if(t<0&&(t=r-e),e<0||e>=r||e+t>r)throw new Error("Invalid range specified, offset: "+e+", count: "+t+", max: "+r);if(n.length-i<t)throw new Error("not enough room in indices array, has "+n.length+" shorts, needs "+t);for(var a=this.indices.getBuffer(),s=e;s<t;s++)n[s]=a.at(s-e+i)}},{key:"getNumIndices",value:function(){return this.indices.getNumIndices()}},{key:"getNumVertices",value:function(){return this.vertices.getNumVertices()}},{key:"getMaxVertices",value:function(){return this.vertices.getNumMaxVertices()}},{key:"getMaxIndices",value:function(){return this.indices.getNumMaxIndices()}},{key:"getVertexSize",value:function(){return this.vertices.getAttributes().vertexSize}},{key:"setAutoBind",value:function(e){this.autoBind=e}},{key:"bind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.vertices.bind(e,t),this.indices.getNumIndices()>0&&this.indices.bind()}},{key:"unbind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.vertices.unbind(e,t),this.indices.getNumIndices()>0&&this.indices.unbind()}},{key:"render",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.autoBind;if(i<0&&(i=this.indices.getNumMaxIndices()>0?this.getNumIndices():this.getNumVertices()),0!==i){if(r&&this.bind(e),this.isVertexArray)this.indices.getNumIndices()>0?this.gl.drawElements(t,i,c.GL20.GL_UNSIGNED_SHORT,2*n):this.gl.drawArrays(t,n,i);else if(this.indices.getNumIndices()>0){if(i+n>this.indices.getNumMaxIndices())throw new Error("Mesh attempting to access memory outside of the index buffer (count: "+i+", offset: "+n+", max: "+this.indices.getNumMaxIndices()+")");this.gl.drawElements(t,i,c.GL20.GL_UNSIGNED_SHORT,2*n)}else this.gl.drawArrays(t,n,i);r&&this.unbind(e)}}},{key:"dispose",value:function(){var t=e.meshes.indexOf(this);t>-1&&e.meshes.splice(t,1),this.vertices.dispose(),this.indices.dispose()}},{key:"getVertexAttribute",value:function(e){for(var t=this.vertices.getAttributes(),n=t.size(),i=0;i<n;i++)if(t.get(i).usage===e)return t.get(i);return null}},{key:"getVertexAttributes",value:function(){return this.vertices.getAttributes()}},{key:"getVerticesBuffer",value:function(){return this.vertices.getBuffer()}},{key:"calculateBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=new a.BoundingBox);var t=this.getNumVertices();if(0===t)throw new Error("No vertices defined");var n=this.vertices.getBuffer();e.inf();var i=this.getVertexAttribute(l.Usage.Position),r=i.offset/4,s=this.vertices.getAttributes().vertexSize/4,o=r;switch(i.numComponents){case 1:for(var u=0;u<t;u++)e.ext(n[o],0,0),o+=s;break;case 2:for(var c=0;c<t;c++)e.ext(n[o],n[o+1],0),o+=s;break;case 3:for(var h=0;h<t;h++)e.ext(n[o],n[o+1],n[o+2]),o+=s}}},{key:"extendBoundingBox",value:function(e,t,n,i){var r=this.getNumIndices(),a=this.getNumVertices(),s=0===r?a:r;if(t<0||n<1||t+n>s)throw new Error("Invalid part specified ( offset="+t+", count="+n+", max="+s+" )");var o=this.vertices.getBuffer(),u=this.indices.getBuffer(),c=this.getVertexAttribute(l.Usage.Position),h=c.offset/4,f=this.vertices.getAttributes().vertexSize/4,d=t+n;switch(c.numComponents){case 1:if(r>0)for(var p=t;p<d;p++){var v=(65535&u[p])*f+h;this.tmpV.set(o[v],0,0),i&&this.tmpV.multiply(i),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}else for(var m=t;m<d;m++){var g=m*f+h;this.tmpV.set(o[g],0,0),i&&this.tmpV.multiply(i),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}break;case 2:if(r>0)for(var y=t;y<d;y++){var _=(65535&u[y])*f+h;this.tmpV.set(o[_],o[_+1],0),i&&this.tmpV.multiply(i),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}else for(var b=t;b<d;b++){var x=b*f+h;this.tmpV.set(o[x],o[x+1],0),i&&this.tmpV.multiply(i),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}break;case 3:if(r>0)for(var w=t;w<d;w++){var k=(65535&u[w])*f+h;this.tmpV.set(o[k],o[k+1],o[k+2]),i&&this.tmpV.multiply(i),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}else for(var M=t;M<d;M++){var T=M*f+h;this.tmpV.set(o[T],o[T+1],o[T+2]),i&&this.tmpV.multiply(i),e.ext(this.tmpV.x,this.tmpV.y,this.tmpV.z)}}return e}},{key:"calculateRadiusSquared",value:function(e,t,n,i,r,a){var s=this.getNumIndices();if(i<0||r<1||i+r>s)throw new Error("Not enough indices");var u=this.vertices.getBuffer(),c=this.indices.getBuffer(),h=this.getVertexAttribute(l.Usage.Position),f=h.offset/4,d=this.vertices.getAttributes().vertexSize/4,p=i+r,v=0;switch(h.numComponents){case 1:for(var m=i;m<p;m++){var g=(65535&c[m])*d+f;this.tmpV.set(u[g],0,0),a&&this.tmpV.multiply(a);var y=this.tmpV.sub(new o.Vector3(e,t,n)).length2();y>v&&(v=y)}break;case 2:for(var _=i;_<p;_++){var b=(65535&c[_])*d+f;this.tmpV.set(u[_],u[b+1],0),a&&this.tmpV.multiply(a);var x=this.tmpV.sub(new o.Vector3(e,t,n)).length2();x>v&&(v=x)}break;case 3:for(var w=i;w<p;w++){var k=(65535&c[w])*d+f;this.tmpV.set(u[w],u[k+1],u[k+2]),a&&this.tmpV.multiply(a);var M=this.tmpV.sub(new o.Vector3(e,t,n)).length2();M>v&&(v=M)}}return v}},{key:"calculateRadius",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getNumIndices(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return Math.sqrt(this.calculateRadiusSquared(e,t,n,i,r,a))}},{key:"getIndicesBuffer",value:function(){return this.indices.getBuffer()}},{key:"scale",value:function(e,t,n){var i=this.getVertexAttribute(l.Usage.Position),r=i.offset/4,a=i.numComponents,s=this.getNumVertices(),o=this.getVertexSize()/4,u=new Array(s*o);this.getVertices(u);var c=r;switch(a){case 1:for(var h=0;h<s;h++)u[c]*=e,c+=o;break;case 2:for(var f=0;f<s;f++)u[c]*=e,u[c+1]*=t,c+=o;break;case 3:for(var d=0;d<s;d++)u[c]*=e,u[c+1]*=t,u[c+2]*=n,c+=o}this.setVertices(u)}},{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getNumIndices(),r=this.getVertexAttribute(l.Usage.Position),a=r.offset/4,s=this.getVertexSize()/4,o=r.numComponents,u=new Array(i*s);this.getVertices(u,n*s,i*s),e.transform(t,u,s,a,o,0,i),this.updateVertices(n*s,u)}},{key:"transformUV",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getNumVertices(),r=this.getVertexAttribute(l.Usage.TextureCoordinates),a=r.offset/4,s=this.getVertexSize()/4,o=this.getNumVertices(),u=new Array(o*s);this.getVertices(u,0,u.length),e.transformUV(t,u,s,a,n,i),this.setVertices(u,0,u.length)}},{key:"copy",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getVertexSize()/4,a=this.getNumVertices(),s=new Array(a*r);this.getVertices(s,0,s.length);var o=null,l=null,c=0;if(i){for(var h=0,f=0,d=0;d<i.length;d++)this.getVertexAttribute(i[d])&&(h+=this.getVertexAttribute(i[d]).numComponents,f++);if(h>0){l=new Array(f),o=new Array(h);for(var p=-1,v=-1,m=0;m<i.length;m++){var g=this.getVertexAttribute(i[m]);if(g){for(var y=0;y<g.numComponents;y++)o[++p]=g.offset+y;l[++v]=g.copy(),c+=g.numComponents}}}}if(!o){o=new Array(r);for(var _=0;_<r;_++)o[_]=_;c=r}var b,x=this.getNumIndices(),w=null;if(x>0&&(w=new Array(x),this.getIndices(0,-1,w,0),n||c!==r)){for(var k=new Array(s.length),M=0,T=0;T<x;T++){var S=w[T]*r,A=-1;if(n)for(var E=0;E<M&&A<0;E++){for(var L=E*c,C=!0,O=0;O<o.length&&C;O++)k[L+O]!==s[S+o[O]]&&(C=!1);C&&(A=E)}if(A>0)w[T]=A;else{for(var P=M*c,I=0;I<o.length;I++)k[P+I]=s[S+o[I]];w[T]=M,M++}}s=k,a=M}return(b=new e(this.gl,t,t,a,w?w.length:0,l?new u.VertexAttributes(l):this.getVertexAttributes())).setVertices(s,0,a*c),w&&b.setIndices(w),b}}],[{key:"addManagedMesh",value:function(t){e.meshes||(e.meshes=new Array),e.meshes.push(t)}},{key:"invalidateAllMeshes",value:function(){if(e.meshes)for(var t=0;t<e.meshes.length;t++)e.meshes[t].vertices.invalidate(),e.meshes[t].indices.invalidate()}},{key:"clearAllMeshes",value:function(){e.meshes.length=0}},{key:"transform",value:function(e,t,n,i,r,a,s){if(i<0||r<1||i+r>n)throw new Error;if(a<0||s<1||(a+s)*n>t.length)throw new Error("start = "+a+", count = "+s+", vertexSize = "+n+", length = "+t.length);var l=new o.Vector3,u=i+a*n;switch(r){case 1:for(var c=0;c<s;c++)l.set(t[u],0,0).multiply(e),t[u]=l.x,u+=n;break;case 2:for(var h=0;h<s;h++)l.set(t[u],t[u+1],0).multiply(e),t[u]=l.x,t[u+1]=l.y,u+=n;break;case 3:for(var f=0;f<s;f++)l.set(t[u],t[u+1],t[u+2]).multiply(e),t[u]=l.x,t[u+1]=l.y,t[u+2]=l.z,u+=n}}},{key:"transformUV",value:function(e,t,n,i,r,a){if(r<0||a<1||(r+a)*n>t.length)throw new Error("start = "+r+", count = "+a+", vertexSize = "+n+", length = "+t.length);for(var o=new s.Vector2,l=i+r*n,u=0;u<a;u++)o.set(t[l],t[l+1]).mul(e),t[l]=o.x,t[l+1]=o.y,l+=n}}]),e}();t.Mesh3D=d,d.meshes=[]},7893:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1588).default,s=n(3808).default,o=n(1655).default,l=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBatch=void 0;var u=n(8606),c=n(2695),h=n(1341),f=n(5394),d=n(2289),p=n(5596),v=function(e){o(n,e);var t=l(n);function n(){return i(this,n),t.apply(this,arguments)}return r(n,[{key:"obtain",value:function(){var e=a(s(n.prototype),"obtain",this).call(this);return e.environment=null,e.material=null,e.meshPart.set("",null,0,0,0),e.shader=null,e}}]),n}(u.FlushablePool),m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.camera=null,this.renderablesPool=new v((function(){return new d.Renderable})),this.renderables=[],this.context=null,this.shaderProvider=null,this.sorter=null,this.sorter=r||new c.DefaultRenderableSorter,this.ownContext=!n,this.context=n||new p.RenderContext(new f.DefaultTextureBinder(t,f.DefaultTextureBinder.LRU,1)),this.shaderProvider=this.shaderProvider?this.shaderProvider:new h.DefaultShaderProvider(t)}return r(e,[{key:"dispose",value:function(){this.shaderProvider.dispose()}},{key:"begin",value:function(e){if(this.camera)throw new Error("Call end() first.");this.camera=e,this.ownContext&&this.context.begin()}},{key:"setCamera",value:function(e){if(!this.camera)throw new Error("Call begin() first.");this.renderables.length>0&&this.flush(),this.camera=e}},{key:"getCamera",value:function(){return this.camera}},{key:"ownsRenderContext",value:function(){return this.ownContext}},{key:"getRenderContext",value:function(){return this.context}},{key:"getRenderableSorter",value:function(){return this.sorter}},{key:"flush",value:function(){this.sorter.sort(this.camera,this.renderables);for(var e=null,t=0;t<this.renderables.length;t++){var n=this.renderables[t];e!==n.shader&&(e&&e.end(),(e=n.shader).begin(this.camera,this.context)),e.render(n)}e&&e.end(),this.renderablesPool.flush(),this.renderables.length=0}},{key:"end",value:function(){this.flush(),this.ownContext&&this.context.end(),this.camera=null}},{key:"renderWithRenderable",value:function(e){e.shader=this.shaderProvider.getShader(e),this.renderables.push(e)}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.renderables.length;e.getRenderables(this.renderables,this.renderablesPool);for(var i=n;i<this.renderables.length;i++){var r=this.renderables[i];t&&(r.environment=t),r.shader=this.shaderProvider.getShader(r)}}}]),e}();t.ModelBatch=m},5920:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelInstance=void 0;var s=n(4995),o=n(8235),l=n(1960),u=n(5388),c=n(5904),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e),this.materials=[],this.nodes=[],this.animations=[],this.model=t,this.transform=n||new s.Matrix4,i?this.copyNodes(t.nodes,i):this.copyNodes(t.nodes),this.copyAnimations(t.animations,e.defaultShareKeyframes),this.calculateTransforms()}return a(e,[{key:"copyNodes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,r=e.length;n<r;++n){var a=e[n];if(t){var s,o=i(t);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l===a.id){this.nodes.push(a.copy());break}}}catch(u){o.e(u)}finally{o.f()}}else this.nodes.push(a.copy())}this.invalidate()}},{key:"invalidateNode",value:function(e){for(var t=this,n=function(n,i){var r=e.parts[n],a=r.invBoneBindTransforms;if(a)for(var s=0;s<a.size;++s)a.keys[s]=t.getNode(a.keys[s].id);if(!t.materials.includes(r.material)){var o=t.materials.findIndex((function(e){return e.id===r.material.id}));o<0?t.materials.push(r.material=r.material.copy()):r.material=t.materials[o]}},i=0,r=e.parts.length;i<r;++i)n(i);for(var a=0,s=e.getChildCount();a<s;++a)this.invalidateNode(e.getChildByIndex(a))}},{key:"getNode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l.Node.getNode(this.nodes,e,t,n)}},{key:"invalidate",value:function(){for(var e=0,t=this.nodes.length;e<t;++e)this.invalidateNode(this.nodes[e])}},{key:"copyAnimations",value:function(e,t){var n,r=i(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.copyAnimation(a,t)}}catch(s){r.e(s)}finally{r.f()}}},{key:"copyAnimation",value:function(e,t){var n=new o.Animation3D;n.id=e.id,n.duration=e.duration;var r,a=i(e.nodeAnimations);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=this.getNode(s.node.id);if(l){var h=new u.NodeAnimation;if(h.node=l,t)h.translation=s.translation,h.rotation=s.rotation,h.scaling=s.scaling;else{if(s.translation){h.translation=new Array;var f,d=i(s.translation);try{for(d.s();!(f=d.n()).done;){var p=f.value;h.translation.push(new c.NodeKeyframe(p.keytime,p.value))}}catch(x){d.e(x)}finally{d.f()}}if(s.rotation){h.rotation=new Array;var v,m=i(s.rotation);try{for(m.s();!(v=m.n()).done;){var g=v.value;h.rotation.push(new c.NodeKeyframe(g.keytime,g.value))}}catch(x){m.e(x)}finally{m.f()}}if(s.scaling){h.scaling=new Array;var y,_=i(s.scaling);try{for(_.s();!(y=_.n()).done;){var b=y.value;h.scaling.push(new c.NodeKeyframe(b.keytime,b.value))}}catch(x){_.e(x)}finally{_.f()}}}(h.translation||h.rotation||h.scaling)&&n.nodeAnimations.push(h)}}}catch(x){a.e(x)}finally{a.f()}n.nodeAnimations.length>0&&this.animations.push(n)}},{key:"getRenderable",value:function(e,t,n){return n.setRenderable(e),!n.bones&&this.transform?e.worldTransform.set(this.transform.values).multiply(t.globalTransform):this.transform?e.worldTransform.set(this.transform.values):e.worldTransform.idt(),e}},{key:"getRenderables",value:function(e,t){var n,r=i(this.nodes);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.getRenderablesWithNode(a,e,t)}}catch(s){r.e(s)}finally{r.f()}}},{key:"getRenderablesWithNode",value:function(e,t,n){if(e.parts.length>0){var r,a=i(e.parts);try{for(a.s();!(r=a.n()).done;){var s=r.value;s.enabled&&t.push(this.getRenderable(n.obtain(),e,s))}}catch(c){a.e(c)}finally{a.f()}}var o,l=i(e.getChildren());try{for(l.s();!(o=l.n()).done;){var u=o.value;this.getRenderablesWithNode(u,t,n)}}catch(c){l.e(c)}finally{l.f()}}},{key:"calculateTransforms",value:function(){for(var e=this.nodes.length,t=0;t<e;t++)this.nodes[t].calculateTransforms(!0);for(var n=0;n<e;n++)this.nodes[n].calculateBoneTransforms(!0)}},{key:"calculateBoundingBox",value:function(e){return e.inf(),this.extendBoundingBox(e)}},{key:"extendBoundingBox",value:function(e){for(var t=this.nodes.length,n=0;n<t;n++)this.nodes[n].extendBoundingBox(e);return e}},{key:"getAnimation",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.animations.length;if(n){for(var r=0;r<i;r++)if((t=this.animations[r]).id.toUpperCase()===e.toUpperCase())return t}else for(var a=0;a<i;a++)if((t=this.animations[a]).id===e)return t;return null}},{key:"getMaterial",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.materials.length;if(n){for(var r=0;r<i;r++)if((t=this.materials[r]).id.toUpperCase()===e.toUpperCase())return t}else for(var a=0;a<i;a++)if((t=this.materials[a]).id===e)return t;return null}}]),e}();t.ModelInstance=h,h.defaultShareKeyframes=!0},2596:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PerspectiveCamera=void 0;var a=n(4995),s=n(7811),o=n(4178),l=function(){function e(t,n,r){i(this,e),this.far=100,this.near=1,this.fieldOfView=67,this.viewportWidth=0,this.viewportHeight=0,this.up=new s.Vector3(0,1,0),this.position=new s.Vector3(0,0,0),this.direction=new s.Vector3(0,0,-1),this.view=new a.Matrix4,this.combined=new a.Matrix4,this.projection=new a.Matrix4,this.invProjectionView=new a.Matrix4,this.frustum=new o.Frustum,this.tmp=new s.Vector3,this.tmpVec=new s.Vector3,this.fieldOfView=t,this.viewportWidth=n,this.viewportHeight=r,this.update()}return r(e,[{key:"update",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.viewportWidth/this.viewportHeight;this.projection.projection(Math.abs(this.near),Math.abs(this.far),this.fieldOfView,t),this.tmp.set(this.position.x,this.position.y,this.position.z),this.tmp.add(this.direction),this.view.setToLookAt(this.position,this.tmp,this.up),this.combined.set(this.projection.values),this.combined.multiply(this.view),e&&(this.invProjectionView.set(this.combined.values),this.invProjectionView.invert(),this.frustum.update(this.invProjectionView))}},{key:"lookAt",value:function(e,t,n){if(this.tmpVec.set(e,t,n).sub(this.position).normalize(),!this.tmpVec.isZero()){var i=this.tmpVec.dot(this.up);Math.abs(i-1)<1e-9?this.up.set(this.direction.x,this.direction.y,this.direction.z).scale(-1):Math.abs(i+1)<1e-9&&this.up.set(this.direction.x,this.direction.y,this.direction.z),this.direction.set(this.tmpVec.x,this.tmpVec.y,this.tmpVec.z),this.normalizeUp()}}},{key:"normalizeUp",value:function(){this.tmpVec.set(this.direction.x,this.direction.y,this.direction.z).cross(this.up),this.up.set(this.tmpVec.x,this.tmpVec.y,this.tmpVec.z).cross(this.direction).normalize()}},{key:"translate",value:function(e){this.position.add(e)}},{key:"rotate",value:function(e,t){this.direction.rotate(e,t),this.up.rotate(e,t)}},{key:"rotateAround",value:function(e,t,n){this.tmpVec.set(e.x,e.y,e.z),this.tmpVec.sub(this.position),this.translate(this.tmpVec),this.rotate(t,n),this.tmpVec.rotate(t,n),this.translate(new s.Vector3(-this.tmpVec.x,-this.tmpVec.y,-this.tmpVec.z)),this.update()}}]),e}();t.PerspectiveCamera=l},5596:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RenderContext=void 0;var a=n(5394),s=function(){function e(t){i(this,e),this.textureBinder=t,this.gl=a.DefaultTextureBinder.gl}return r(e,[{key:"begin",value:function(){this.gl.disable(this.gl.DEPTH_TEST),this.depthFunc=0,this.gl.depthMask(!0),this.depthMask=!0,this.gl.disable(this.gl.BLEND),this.blending=!1,this.gl.disable(this.gl.CULL_FACE),this.cullFace=this.blendSFactor=this.blendDFactor=0,this.textureBinder.begin()}},{key:"end",value:function(){0!==this.depthFunc&&this.gl.disable(this.gl.DEPTH_TEST),this.depthMask||this.gl.depthMask(!0),this.blending&&this.gl.disable(this.gl.BLEND),this.cullFace>0&&this.gl.disable(this.gl.CULL_FACE),this.textureBinder.end()}},{key:"setDepthMask",value:function(e){this.depthMask!==e&&this.gl.depthMask(this.depthMask=e)}},{key:"setDepthTest",value:function(e,t,n){var i=0!==this.depthFunc,r=0!==e;this.depthFunc!==e&&(this.depthFunc=e,r?(this.gl.enable(this.gl.DEPTH_TEST),this.gl.depthFunc(e)):this.gl.disable(this.gl.DEPTH_TEST)),r&&(i&&this.depthFunc===e||this.gl.depthFunc(this.depthFunc=e),i&&this.depthRangeNear===t&&this.depthRangeFar===n||this.gl.depthRange(this.depthRangeNear=t,this.depthRangeFar=n))}},{key:"setBlending",value:function(e,t,n){e!==this.blending&&(this.blending=e,e?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND)),!e||this.blendSFactor===t&&this.blendDFactor===n||(this.gl.blendFunc(t,n),this.blendSFactor=t,this.blendDFactor=n)}},{key:"setCullFace",value:function(e){e!==this.cullFace&&(this.cullFace=e,e===this.gl.FRONT||e===this.gl.BACK||e===this.gl.FRONT_AND_BACK?(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(e)):this.gl.disable(this.gl.CULL_FACE))}}]),e}();t.RenderContext=s},2289:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Renderable=void 0;var a=n(4995),s=n(3627),o=function(){function e(){i(this,e),this.worldTransform=new a.Matrix4,this.meshPart=new s.MeshPart,this.bones=null}return r(e,[{key:"set",value:function(e){return this.worldTransform.set(e.worldTransform.values),this.material=e.material,this.meshPart.setByMeshPart(e.meshPart),this.bones=e.bones,this.environment=e.environment,this.shader=e.shader,this}}]),e}();t.Renderable=o},557:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;var a=function(){function e(){i(this,e)}return r(e,[{key:"setType",value:function(e){this.type=e,this.typeBit=this.numberOfTrailingZeros(e)}},{key:"hashCode",value:function(){return 7489*this.typeBit}},{key:"equals",value:function(e){return!!e&&(e===this||!!e&&(this.type===e.type&&e.hashCode()===this.hashCode()))}},{key:"numberOfTrailingZeros",value:function(e){var t,n;if(0===e)return 64;var i=63;return 0!==(n=e)?(i-=32,t=n):t=e>>>32,0!==(n=t<<16)&&(i-=16,t=n),0!==(n=t<<8)&&(i-=8,t=n),0!==(n=t<<4)&&(i-=4,t=n),0!==(n=t<<2)&&(i-=2,t=n),i-(t<<1>>>31)}},{key:"toString",value:function(){return e.getAttributeAlias(this.type)}},{key:"copy",value:function(){return new e}}],[{key:"getAttributeType",value:function(t){for(var n=0;n<e.types.length;n++)if(e.types[n]===t)return 1<<n;return 0}},{key:"getAttributeAlias",value:function(t){for(var n=-1;0!==t&&++n<63&&0===(t>>n&1););return n>=0&&n<e.types.length?e.types[n]:null}},{key:"register",value:function(t){var n=this.getAttributeType(t);return n>0?n:(e.types.push(t),1<<e.types.length-1)}}]),e}();t.Attribute=a,a.types=[]},2802:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Attributes=void 0;var s=function(){function e(){r(this,e),this.attributes=[],this.sorted=!0}return a(e,[{key:"getMask",value:function(){return this.mask}},{key:"get",value:function(e){var t,n=i(this.attributes);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.type===e)return r}}catch(a){n.e(a)}finally{n.f()}return null}},{key:"getArrayAttribute",value:function(e,t){var n,r=i(this.attributes);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.type===t&&e.push(a)}}catch(s){r.e(s)}finally{r.f()}return e}},{key:"clear",value:function(){this.mask=0,this.attributes=[]}},{key:"size",value:function(){return this.attributes.length}},{key:"enable",value:function(e){this.mask|=e}},{key:"disable",value:function(e){this.mask&=~e}},{key:"set",value:function(e){var t=this.indexOf(e.type);t<0?(this.enable(e.type),this.attributes.push(e),this.sorted=!1):this.attributes[t]=e}},{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.set(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"has",value:function(e){return 0!==e&&(this.mask&e)===e}},{key:"indexOf",value:function(e){if(this.has(e))for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].type===e)return t;return-1}},{key:"set2Attributes",value:function(e,t){this.set(e),this.set(t)}},{key:"set3Attributes",value:function(e,t,n){this.set(e),this.set(t),this.set(n)}},{key:"set4Attributes",value:function(e,t,n,i){this.set(e),this.set(t),this.set(n),this.set(i)}},{key:"setArrayAttribute",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.set(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"setAttribute",value:function(e){this.set(e)}},{key:"remove",value:function(e){for(var t=this.attributes.length-1;t>=0;t--){var n=this.attributes[t].type;(e&n)===n&&(this.attributes.splice(t,1),this.disable(n),this.sorted=!1)}}},{key:"compare",value:function(e,t){return e.type-t.type}},{key:"same",value:function(e,t){if(e===this)return!0;if(!e||this.mask!==e.mask)return!1;if(!t)return!0;for(var n=0;n<this.attributes.length;n++)if(!this.attributes[n].equals(e.attributes[n]))return!1;return!0}},{key:"equals",value:function(e){return!!e&&(e===this||this.same(e,!0))}}]),e}();t.Attributes=s},847:function(e,t,n){"use strict";var i,r=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BlendingAttribute=void 0;var l=n(8552),u=function(e){s(n,e);var t=o(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.GL20.GL_SRC_ALPHA,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.GL20.GL_ONE_MINUS_SRC_ALPHA,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return r(this,n),(e=t.call(this)).opacity=1,e.setType(e.type),e.blended=s,e.sourceFunction=i,e.destFunction=a,e.opacity=o,e}return a(n,[{key:"set",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.GL20.GL_SRC_ALPHA,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.GL20.GL_ONE_MINUS_SRC_ALPHA,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.type=n.Type,this.typeBit=this.numberOfTrailingZeros(this.type),this.blended=e,this.sourceFunction=t,this.destFunction=i,this.opacity=r}}],[{key:"is",value:function(e){return(e&this.Type)===e}}]),n}(n(557).Attribute);t.BlendingAttribute=u,i=u,u.Alias="blended",u.Type=i.register(i.Alias)},1733:function(e,t,n){"use strict";var i,r=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ColorAttribute3D=void 0;var l=n(8606),u=function(e){s(n,e);var t=o(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).color=new l.Color,a.setType(e),i&&a.color.set(i.r,i.g,i.b,i.a),a}return a(n,[{key:"copy",value:function(){return new n(this.type,this.color)}}],[{key:"is",value:function(e){return 0!==(e&this.Mask)}},{key:"createAmbient",value:function(e){return new n(n.Ambient,e)}},{key:"createDiffuse",value:function(e){return new n(n.Diffuse,e)}},{key:"createSpecular",value:function(e){return new n(n.Specular,e)}},{key:"createReflection",value:function(e){return new n(n.Reflection,e)}},{key:"createEmissive",value:function(e){return new n(n.Emissive,e)}},{key:"createAmbientLight",value:function(e){return new n(n.AmbientLight,e)}},{key:"createFog",value:function(e){return new n(n.Fog,e)}}]),n}(n(557).Attribute);t.ColorAttribute3D=u,i=u,u.DiffuseAlias="diffuseColor",u.Diffuse=i.register(u.DiffuseAlias),u.SpecularAlias="specularColor",u.Specular=i.register(u.SpecularAlias),u.AmbientAlias="ambientColor",u.Ambient=i.register(u.AmbientAlias),u.EmissiveAlias="emissiveColor",u.Emissive=i.register(u.EmissiveAlias),u.ReflectionAlias="reflectionColor",u.Reflection=i.register(u.ReflectionAlias),u.AmbientLightAlias="ambientLightColor",u.AmbientLight=i.register(u.AmbientLightAlias),u.FogAlias="fogColor",u.Fog=i.register(u.FogAlias),u.Mask=i.Ambient|i.Diffuse|i.Specular|i.Emissive|i.Reflection|i.AmbientLight|i.Fog},9693:function(e,t,n){"use strict";var i,r=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionalLightsAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(){var e;return r(this,n),(e=t.call(this)).setType(n.Type),e.lights=new Array,e}return a(n,[{key:"set",value:function(e){for(var t=0;t<e.lights.length;t++)this.lights[t]=e.lights[t]}},{key:"copy",value:function(){var e=new n;return e.set(this),e}},{key:"compareTo",value:function(e){return this.type!==e.type?this.type<e.type?-1:1:0}}],[{key:"is",value:function(e){return(e&n.Type)===e}}]),n}(n(557).Attribute);t.DirectionalLightsAttribute=l,i=l,l.Alias="directionalLights",l.Type=i.register(l.Alias)},5412:function(e,t,n){"use strict";var i,r=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FloatAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).setType(e),a.value=i,a}return a(n,[{key:"copy",value:function(){return new n(this.type,this.value)}}],[{key:"createShininess",value:function(e){return new n(n.Shininess,e)}},{key:"createAlphaTest",value:function(e){return new n(n.AlphaTest,e)}}]),n}(n(557).Attribute);t.FloatAttribute=l,i=l,l.ShininessAlias="shininess",l.Shininess=i.register(i.ShininessAlias),l.AlphaTestAlias="alphaTest",l.AlphaTest=i.register(l.AlphaTestAlias)},603:function(e,t,n){"use strict";var i,r=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IntAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r(this,n),(i=t.call(this)).setType(e),i.value=a,i}return a(n,[{key:"copy",value:function(){return new n(this.type,this.value)}}],[{key:"createCullFace",value:function(e){return new n(n.CullFace,e)}}]),n}(n(557).Attribute);t.IntAttribute=l,i=l,l.CullFaceAlias="cullface",l.CullFace=i.register(l.CullFaceAlias)},4836:function(e,t,n){"use strict";var i,r=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PointLightsAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(){var e;return r(this,n),(e=t.call(this)).setType(n.Type),e.lights=new Array,e}return a(n,[{key:"set",value:function(e){for(var t=0;t<e.lights.length;t++)this.lights[t]=e.lights[t]}},{key:"copy",value:function(){var e=new n;return e.set(this),e}},{key:"compareTo",value:function(e){return this.type!==e.type?this.type<e.type?-1:1:0}}],[{key:"is",value:function(e){return(e&n.Type)===e}}]),n}(n(557).Attribute);t.PointLightsAttribute=l,i=l,l.Alias="pointLights",l.Type=i.register(l.Alias)},1148:function(e,t,n){"use strict";var i,r=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpotLightsAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(){var e;return r(this,n),(e=t.call(this)).setType(n.Type),e.lights=new Array,e}return a(n,[{key:"set",value:function(e){for(var t=0;t<e.lights.length;t++)this.lights[t]=e.lights[t]}},{key:"copy",value:function(){var e=new n;return e.set(this),e}},{key:"compareTo",value:function(e){return this.type!==e.type?this.type<e.type?-1:1:0}}],[{key:"is",value:function(e){return(e&n.Type)===e}}]),n}(n(557).Attribute);t.SpotLightsAttribute=l,i=l,l.Alias="spotLights",l.Type=i.register(l.Alias)},2398:function(e,t,n){"use strict";var i,r=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAttribute=void 0;var l=function(e){s(n,e);var t=o(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return r(this,n),(i=t.call(this)).offsetU=0,i.offsetV=0,i.scaleU=1,i.scaleV=1,i.uvIndex=0,i.offsetU=a,i.offsetV=s,i.scaleU=o,i.scaleV=l,i.setType(e),i}return a(n,[{key:"setTextureRegion",value:function(e){this.texture=e.texture,this.offsetU=e.u,this.offsetV=e.v,this.scaleU=e.u2-this.offsetU,this.scaleV=e.v2-this.offsetV}},{key:"setTexture",value:function(e){this.texture=e}},{key:"setOffset",value:function(e,t){this.offsetU=e,this.offsetV=t}},{key:"setScale",value:function(e,t){this.scaleU=e,this.scaleV=t}},{key:"copy",value:function(){var e=new n(this.type);return e.offsetU=this.offsetU,e.offsetV=this.offsetV,e.scaleU=this.scaleU,e.scaleV=this.scaleV,e.uvIndex=this.uvIndex,e.texture=this.texture,e}}],[{key:"is",value:function(e){return 0!==(e&n.Mask)}},{key:"createDiffuse",value:function(e){var t=new n(n.Diffuse);return t.setTextureRegion(e),t}},{key:"createSpecular",value:function(e){var t=new n(n.Specular);return t.setTextureRegion(e),t}},{key:"createNormal",value:function(e){var t=new n(n.Normal);return t.setTextureRegion(e),t}},{key:"createBump",value:function(e){var t=new n(n.Bump);return t.setTextureRegion(e),t}},{key:"createAmbient",value:function(e){var t=new n(n.Ambient);return t.setTextureRegion(e),t}},{key:"createEmissive",value:function(e){var t=new n(n.Emissive);return t.setTextureRegion(e),t}},{key:"createReflection",value:function(e){var t=new n(n.Reflection);return t.setTextureRegion(e),t}}]),n}(n(557).Attribute);t.TextureAttribute=l,i=l,l.DiffuseAlias="diffuseTexture",l.Diffuse=i.register(l.DiffuseAlias),l.SpecularAlias="specularTexture",l.Specular=i.register(l.SpecularAlias),l.BumpAlias="bumpTexture",l.Bump=i.register(l.BumpAlias),l.NormalAlias="normalTexture",l.Normal=i.register(l.NormalAlias),l.AmbientAlias="ambientTexture",l.Ambient=i.register(l.AmbientAlias),l.EmissiveAlias="emissiveTexture",l.Emissive=i.register(l.EmissiveAlias),l.ReflectionAlias="reflectionTexture",l.Reflection=i.register(l.ReflectionAlias),l.Mask=i.Diffuse|i.Specular|i.Bump|i.Normal|i.Ambient|i.Emissive|i.Reflection},8633:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexAttribute3D=t.Usage=void 0;var a=n(1858),s=n(8552),o=i((function e(){r(this,e)}));t.Usage=o,o.Position=1,o.ColorUnpacked=2,o.ColorPacked=4,o.Normal=8,o.TextureCoordinates=16,o.Generic=32,o.BoneWeight=64,o.Tangent=128,o.BiNormal=256;var l=function(){function e(t,n,i,a,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;r(this,e),this.usage=t,this.numComponents=n,this.type=i,this.normalized=a,this.alias=s,this.unit=o,this.usageIndex=this.numberOfTrailingZeros(t)}return i(e,[{key:"copy",value:function(){return new e(this.usage,this.numComponents,this.type,this.normalized,this.alias,this.unit)}},{key:"getKey",value:function(){return(this.usageIndex<<8)+(255&this.unit)}},{key:"numberOfTrailingZeros",value:function(e){for(var t=0,n=5;n<=e;n+=5)for(var i=n;i%5===0;)i/=5,t++;return t}},{key:"getSizeInBytes",value:function(){switch(this.type){case s.GL20.GL_FLOAT:case s.GL20.GL_FIXED:return 4*this.numComponents;case s.GL20.GL_UNSIGNED_BYTE:case s.GL20.GL_BYTE:return this.numComponents;case s.GL20.GL_UNSIGNED_SHORT:case s.GL20.GL_SHORT:return 2*this.numComponents}return 0}},{key:"equals",value:function(e){return!!e&&this.usage===e.usage&&this.numComponents===e.numComponents&&this.type===e.type&&this.normalized===e.normalized&&this.alias===e.alias&&this.unit===e.unit}}],[{key:"Position",value:function(){return new e(o.Position,3,s.GL20.GL_FLOAT,!1,a.Shader.POSITION,0)}},{key:"TexCoords",value:function(t){return new e(o.TextureCoordinates,2,s.GL20.GL_FLOAT,!1,a.Shader.TEXCOORDS+t,t)}},{key:"Normal",value:function(){return new e(o.Normal,3,s.GL20.GL_FLOAT,!1,a.Shader.NORMAL)}},{key:"ColorPacked",value:function(){return new e(o.ColorPacked,4,s.GL20.GL_UNSIGNED_BYTE,!0,a.Shader.COLOR)}},{key:"ColorUnpacked",value:function(){return new e(o.ColorUnpacked,4,s.GL20.GL_FLOAT,!1,a.Shader.COLOR)}},{key:"Tangent",value:function(){return new e(o.Tangent,3,s.GL20.GL_FLOAT,!1,a.Shader.TANGENT)}},{key:"Binormal",value:function(){return new e(o.BiNormal,3,s.GL20.GL_FLOAT,!1,a.Shader.BINORMAL)}},{key:"BoneWeight",value:function(t){return new e(o.BoneWeight,2,s.GL20.GL_FLOAT,!1,a.Shader.BONEWEIGHT+t,t)}}]),e}();t.VertexAttribute3D=l},427:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexAttributes=void 0;var s=function(){function e(t){if(r(this,e),this.mask=-1,0===t.length)throw new Error("attributes must be >= 1");for(var n=[],i=0;i<t.length;i++)n[i]=t[i];this.attributes=n,this.vertexSize=this.calculateOffsets()}return a(e,[{key:"getOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.findByUsage(e);return n?n.offset/4:t}},{key:"findByUsage",value:function(e){var t,n=i(this.attributes);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.usage===e)return r}}catch(a){n.e(a)}finally{n.f()}return null}},{key:"calculateOffsets",value:function(){for(var e=0,t=0;t<this.attributes.length;t++)this.attributes[t].offset=e,e+=this.attributes[t].getSizeInBytes();return e}},{key:"size",value:function(){return this.attributes.length}},{key:"get",value:function(e){return this.attributes[e]}},{key:"toString",value:function(){for(var e="[",t=0;t<this.attributes.length;t++)e+="(",e+=this.attributes[t].alias,e+=", ",e+=this.attributes[t].usage,e+=", ",e+=this.attributes[t].numComponents,e+=", ",e+=this.attributes[t].offset,e+=")",e+="\n";return e+="]"}},{key:"equals",value:function(e){if(e===this)return!0;if(this.attributes.length!==e.attributes.length)return!1;for(var t=0;t<this.attributes.length;t++)if(!this.attributes[t].equals(e.attributes[t]))return!1;return!0}},{key:"getMask",value:function(){if(-1===this.mask){for(var e=0,t=0;t<this.attributes.length;t++)e|=this.attributes[t].usage;this.mask=e}return this.mask}},{key:"getMaskWithSizePacked",value:function(){return this.getMask()|this.attributes.length<<32}}]),e}();t.VertexAttributes=s},7316:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(557),t),r(n(2802),t),r(n(847),t),r(n(1733),t),r(n(9693),t),r(n(5412),t),r(n(603),t),r(n(4836),t),r(n(1148),t),r(n(2398),t),r(n(8633),t),r(n(427),t)},7299:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AmbientCubemap=void 0;var a=n(8606),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(i(this,e),t){if(t.length!==e.NUM_VALUES)throw new Error("Incorrect array size");this.data=new Array(t.length),a.Utils.arrayCopy(t,0,this.data,0,this.data.length)}else this.data=new Array(e.NUM_VALUES)}return r(e,[{key:"setData",value:function(e){for(var t=0;t<this.data.length;t++)this.data[t]=e[t];return this}},{key:"setColor",value:function(t,n,i){for(var r=0;r<e.NUM_VALUES;)this.data[r]=t,this.data[r+1]=n,this.data[r+2]=i,r+=3;return this}},{key:"getColor",value:function(e,t){return t*=3,e.set(this.data[t],this.data[t+1],this.data[t+2],1)}},{key:"clear",value:function(){for(var e=0;e<this.data.length;e++)this.data[e]=0;return this}},{key:"clamp",value:function(){for(var t=0;t<this.data.length;t++)this.data[t]=e.clamp(this.data[t]);return this}},{key:"addColor",value:function(e,t,n){for(var i=0;i<this.data.length;)this.data[i++]+=e,this.data[i++]+=t,this.data[i++]+=n;return this}},{key:"add",value:function(e,t,n,i,r,a){var s=i*i,o=r*r,l=a*a,u=s+o+l;if(0===u)return this;var c=e*(u=1/u*(u+1)),h=t*u,f=n*u,d=i>0?0:3;return this.data[d]+=s*c,this.data[d+1]+=s*h,this.data[d+2]+=s*f,d=r>0?6:9,this.data[d]+=o*c,this.data[d+1]+=o*h,this.data[d+2]+=o*f,d=a>0?12:15,this.data[d]+=l*c,this.data[d+1]+=l*h,this.data[d+2]+=l*f,this}},{key:"addWithColorAndDirection",value:function(e,t){return this.add(e.r,e.g,e.b,t.x,t.y,t.z)}},{key:"addWithPointTarget",value:function(e,t,n){return this.add(e.r,e.g,e.b,n.x-t.x,n.y-t.y,n.z-t.z)}},{key:"addWithPointTargetIntensity",value:function(e,t,n,i){var r=i/(1+n.distance(t));return this.add(e.r*r,e.g*r,e.b*r,n.x-t.x,n.y-t.y,n.z-t.z)}},{key:"toString",value:function(){for(var e="",t=0;t<this.data.length;t+=3)e+=this.data[t]+", "+this.data[t+1]+", "+this.data[t+2]+"\n";return e}}],[{key:"clamp",value:function(e){return e<0?0:e>1?1:e}}]),e}();t.AmbientCubemap=s,s.NUM_VALUES=18},5847:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLight=void 0;var a=n(8606),s=function(){function e(){i(this,e),this.color=new a.Color(0,0,0,1)}return r(e,[{key:"setColor",value:function(e,t,n,i){return this.color.set(e,t,n,i),this}}]),e}();t.BaseLight=s},1843:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionalLight=void 0;var o=n(7811),l=function(e){a(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).direction=new o.Vector3,e}return r(n,[{key:"setDirection",value:function(e,t,n){return this.direction.set(e,t,n),this}},{key:"setFrom",value:function(e,t){return e&&this.color.set(e.r,e.g,e.b,e.a),t&&this.direction.setFrom(t).normalize(),this}},{key:"set",value:function(e,t,n,i,r,a){return this.color.set(e,t,n,1),this.direction.set(i,r,a).normalize(),this}},{key:"equals",value:function(e){return!!e&&(e===this||this.color.equals(e.color)&&this.direction.equals(e.direction))}}]),n}(n(5847).BaseLight);t.DirectionalLight=l},8798:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default,s=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;var l=n(2802),u=n(9693),c=n(4836),h=n(1148),f=n(1843),d=n(1139),p=n(2036),v=function(e){s(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"addLights",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.addLight(r)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"addLight",value:function(e){if(e instanceof f.DirectionalLight)this.addDirectionalLight(e);else if(e instanceof d.PointLight)this.addPointLight(e);else{if(!(e instanceof p.SpotLight))throw new Error("Unknown light type");this.addSpotLight(e)}return this}},{key:"addDirectionalLight",value:function(e){var t=this.get(u.DirectionalLightsAttribute.Type);return t||this.set(t=new u.DirectionalLightsAttribute),t.lights.push(e),this}},{key:"addPointLight",value:function(e){var t=this.get(c.PointLightsAttribute.Type);return t||this.set(t=new c.PointLightsAttribute),t.lights.push(e),this}},{key:"addSpotLight",value:function(e){var t=this.get(h.SpotLightsAttribute.Type);return t||this.set(t=new h.SpotLightsAttribute),t.lights.push(e),this}},{key:"removeLights",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.removeLight(r)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"removeLight",value:function(e){if(e instanceof f.DirectionalLight)this.removeDirectionalLight(e);else if(e instanceof d.PointLight)this.removePointLight(e);else{if(!(e instanceof p.SpotLight))throw new Error("Unknown light type");this.removeSpotLight(e)}return this}},{key:"removeDirectionalLight",value:function(e){if(this.has(u.DirectionalLightsAttribute.Type)){var t=this.get(u.DirectionalLightsAttribute.Type),n=t.lights.indexOf(e,0);n>-1&&t.lights.splice(n,1),0===t.lights.length&&this.remove(u.DirectionalLightsAttribute.Type)}return this}},{key:"removePointLight",value:function(e){if(this.has(c.PointLightsAttribute.Type)){var t=this.get(c.PointLightsAttribute.Type),n=t.lights.indexOf(e,0);n>-1&&t.lights.splice(n,1),0===t.lights.length&&this.remove(c.PointLightsAttribute.Type)}return this}},{key:"removeSpotLight",value:function(e){if(this.has(h.SpotLightsAttribute.Type)){var t=this.get(h.SpotLightsAttribute.Type),n=t.lights.indexOf(e,0);n>-1&&t.lights.splice(n,1),0===t.lights.length&&this.remove(h.SpotLightsAttribute.Type)}return this}}]),n}(l.Attributes);t.Environment=v},1139:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PointLight=void 0;var o=n(7811),l=function(e){a(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).position=new o.Vector3,e}return r(n,[{key:"setPosition",value:function(e,t,n){return this.position.set(e,t,n),this}},{key:"setIntensity",value:function(e){return this.intensity=e,this}},{key:"setFrom",value:function(e){return this.set(e.color,e.position,e.intensity)}},{key:"set",value:function(e,t,n){return e&&this.color.setFromColor(e),t&&this.position.setFrom(t),this.intensity=n,this}},{key:"setFromValue",value:function(e,t,n,i,r,a,s){return this.color.set(e,t,n,1),this.position.set(i,r,a),this.intensity=s,this}},{key:"equals",value:function(e){return!!e&&(e===this||this.color.equals(e.color)&&this.position.equals(e.position)&&this.intensity===e.intensity)}}]),n}(n(5847).BaseLight);t.PointLight=l},2036:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,a=n(1655).default,s=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpotLight=void 0;var o=n(8606),l=n(7811),u=function(e){a(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).position=new l.Vector3,e.direction=new l.Vector3,e}return r(n,[{key:"setPosition",value:function(e,t,n){return this.position.set(e,t,n),this}},{key:"setDirection",value:function(e,t,n){return this.direction.set(e,t,n),this}},{key:"setIntensity",value:function(e){return this.intensity=e,this}},{key:"setCutoffAngle",value:function(e){return this.cutoffAngle=e,this}},{key:"setExponent",value:function(e){return this.exponent=e,this}},{key:"set",value:function(e,t,n,i,r,a){return e&&this.color.setFromColor(e),t&&this.position.setFrom(t),n&&this.direction.setFrom(n).normalize(),this.intensity=i,this.cutoffAngle=r,this.exponent=a,this}},{key:"setFromValue",value:function(e,t,n,i,r,a,s,o,l,u,c,h){return this.color.set(e,t,n,1),this.position.set(i,r,a),this.direction.set(s,o,l).normalize(),this.intensity=u,this.cutoffAngle=c,this.exponent=h,this}},{key:"setFrom",value:function(e){return this.set(e.color,e.position,e.direction,e.intensity,e.cutoffAngle,e.exponent)}},{key:"setTarget",value:function(e){return this.direction.set(e.x,e.y,e.z).sub(this.position).normalize(),this}},{key:"equals",value:function(e){return!!e&&(e===this||this.color.equals(e.color)&&this.position.equals(e.position)&&this.direction.equals(e.direction)&&o.MathUtils.isEqual(this.intensity,e.intensity)&&o.MathUtils.isEqual(this.cutoffAngle,e.cutoffAngle)&&o.MathUtils.isEqual(this.exponent,e.exponent))}}]),n}(n(5847).BaseLight);t.SpotLight=u},3954:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7299),t),r(n(5847),t),r(n(1843),t),r(n(8798),t),r(n(1139),t),r(n(2036),t)},6893:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7316),t),r(n(2695),t),r(n(1341),t),r(n(5394),t),r(n(3954),t),r(n(8552),t),r(n(1055),t),r(n(4023),t),r(n(4286),t),r(n(5766),t),r(n(4501),t),r(n(7893),t),r(n(5920),t),r(n(2596),t),r(n(2289),t),r(n(5596),t),r(n(7452),t),r(n(3975),t)},8395:function(e,t,n){"use strict";var i=n(4704).default,r=n(7061).default,a=n(6690).default,s=n(9728).default,o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(t){a(t)}}function o(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.G3dModelLoader=void 0;var l=n(4995),u=n(5122),c=n(8606),h=n(2283),f=n(7811),d=n(8633),p=n(8552),v=n(129),m=n(8896),g=n(798),y=n(779),_=n(3710),b=n(4610),x=n(7416),w=n(707),k=n(3309),M=n(9373),T=n(663),S=n(6764),A=function(){function e(){a(this,e),this.tempQ=new u.Quaternion,this.reader=new S.UBJsonReader}return s(e,[{key:"load",value:function(e,t){return o(this,void 0,void 0,r().mark((function n(){var i,a,s,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.split(".").pop(),a="g3db"===i,n.next=4,this.parseModel(t,a);case 4:return s=n.sent,o=new T.Model(e),n.next=8,o.load(s);case 8:return n.abrupt("return",o);case 9:case"end":return n.stop()}}),n,this)})))}},{key:"parseModel",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(this,void 0,void 0,r().mark((function i(){var a,s,o,l,u,c;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=t.substring(0,t.lastIndexOf("/")),!n){i.next=8;break}return i.next=4,fetch(t).then((function(e){return e.arrayBuffer()}));case 4:o=i.sent,s=this.reader.parse(o),i.next=12;break;case 8:return i.next=10,fetch(t).then((function(e){return e.text()}));case 10:l=i.sent,s=JSON.parse(l);case 12:if(u=new m.ModelData,c=s.version,u.version[0]=c[0],u.version[1]=c[1],u.version[0]===e.VERSION_HI&&u.version[1]===e.VERSION_LO){i.next=18;break}throw new Error("Model version not supported");case 18:return u.id=this.getString(s.id,""),this.parseMeshes(u,s),this.parseMaterials(u,s,a),this.parseNodes(u,s),this.parseAnimations(u,s),i.abrupt("return",u);case 24:case"end":return i.stop()}}),i,this)})))}},{key:"parseMeshes",value:function(e,t){var n=t.meshes;if(void 0!==n){var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,o=new y.ModelMesh,l=this.getString(s.id,"");o.id=l;var u=s.attributes;o.attributes=this.parseAttributes(u),o.vertices=s.vertices;var c,h=s.parts,f=new Array,d=i(h);try{for(d.s();!(c=d.n()).done;){var p=c.value,v=new _.ModelMeshPart,m=this.getString(p.id,null);if(!m)throw new Error("Not id given for mesh part");var g,b=i(f);try{for(b.s();!(g=b.n()).done;){if(g.value.id===m)throw new Error("Mesh part with id '"+m+"' already in defined")}}catch(w){b.e(w)}finally{b.f()}v.id=m;var x=this.getString(p.type,null);if(!x)throw new Error("No primitive type given for mesh part '"+m+"'");v.primitiveType=this.parseType(x),v.indices=p.indices,f.push(v)}}catch(w){d.e(w)}finally{d.f()}o.parts=f,e.meshes.push(o)}}catch(w){a.e(w)}finally{a.f()}}}},{key:"parseType",value:function(e){if("TRIANGLES"===e)return p.GL20.GL_TRIANGLES;if("LINES"===e)return p.GL20.GL_LINES;if("POINTS"===e)return p.GL20.GL_POINTS;if("TRIANGLE_STRIP"===e)return p.GL20.GL_TRIANGLE_STRIP;if("LINE_STRIP"===e)return p.GL20.GL_LINE_STRIP;throw new Error("Unknown primitive type '"+e+"', should be one of triangle, trianglestrip, line, linestrip, lineloop or point")}},{key:"parseAttributes",value:function(e){var t,n=new Array,r=0,a=0,s=i(e);try{for(s.s();!(t=s.n()).done;){var o=t.value;if("POSITION"===o)n.push(d.VertexAttribute3D.Position());else if("NORMAL"===o)n.push(d.VertexAttribute3D.Normal());else if("COLOR"===o)n.push(d.VertexAttribute3D.ColorUnpacked());else{if("COLORPACKED"===o)throw Error("ColorPacked currently not supported");if("TANGENT"===o)n.push(d.VertexAttribute3D.Tangent());else if("BINORMAL"===o)n.push(d.VertexAttribute3D.Binormal());else if(o.startsWith("TEXCOORD"))n.push(d.VertexAttribute3D.TexCoords(r++));else{if(!o.startsWith("BLENDWEIGHT"))throw new Error("Unknown vertex attribute '"+o+"', should be one of position, normal, uv, tangent or binormal");n.push(d.VertexAttribute3D.BoneWeight(a++))}}}}catch(l){s.e(l)}finally{s.f()}return n}},{key:"parseMaterials",value:function(e,t,n){var r=t.materials;if(void 0!==r){var a,s=i(r);try{for(s.s();!(a=s.n()).done;){var o=a.value,l=new g.ModelMaterial,u=this.getString(o.id,null);if(!u)throw new Error("Material needs an id.");l.id=u;var c=o.diffuse;void 0!==c&&(l.diffuse=this.parseColor(c));var h=o.ambient;void 0!==h&&(l.ambient=this.parseColor(h));var f=o.emissive;void 0!==f&&(l.emissive=this.parseColor(f));var d=o.specular;void 0!==d&&(l.specular=this.parseColor(d));var p=o.reflection;void 0!==p&&(l.reflection=this.parseColor(p)),l.shininess=this.getFloat(o.shininess,0),l.opacity=this.getFloat(o.opacity,1);var v=o.textures;if(void 0!==v){var m,y=i(v);try{for(y.s();!(m=y.n()).done;){var _=m.value,b=new M.ModelTexture,x=this.getString(_.id,null);if(!x)throw new Error("Texture has no id.");b.id=x;var w=this.getString(_.filename,null);if(!w)throw new Error("Texture needs filename.");b.fileName=n+(0===n.length||n.endsWith("/")?"":"/")+w,b.uvTranslation=this.readVector2(_.uvTranslation,0,0),b.uvScaling=this.readVector2(_.uvScaling,1,1);var k=this.getString(_.type,null);if(void 0===k)throw new Error("Texture needs type.");b.usage=this.parseTextureUsage(k),void 0===l.textures&&(l.textures=new Array),l.textures.push(b)}}catch(T){y.e(T)}finally{y.f()}}e.materials.push(l)}}catch(T){s.e(T)}finally{s.f()}}}},{key:"parseTextureUsage",value:function(e){return"AMBIENT"===e.toUpperCase()?M.ModelTexture.USAGE_AMBIENT:"BUMP"===e.toUpperCase()?M.ModelTexture.USAGE_BUMP:"DIFFUSE"===e.toUpperCase()?M.ModelTexture.USAGE_DIFFUSE:"EMISSIVE"===e.toUpperCase()?M.ModelTexture.USAGE_EMISSIVE:"NONE"===e.toUpperCase()?M.ModelTexture.USAGE_NONE:"NORMAL"===e.toUpperCase()?M.ModelTexture.USAGE_NORMAL:"REFLECTION"===e.toUpperCase()?M.ModelTexture.USAGE_REFLECTION:"SHININESS"===e.toUpperCase()?M.ModelTexture.USAGE_SHININESS:"SPECULAR"===e.toUpperCase()?M.ModelTexture.USAGE_SPECULAR:"TRANSPARENCY"===e.toUpperCase()?M.ModelTexture.USAGE_TRANSPARENCY:M.ModelTexture.USAGE_UNKNOWN}},{key:"parseColor",value:function(e){if(e.length>=3)return new c.Color(e[0],e[1],e[2],1);throw new Error("Expected Color values <> than three.")}},{key:"readVector2",value:function(e,t,n){if(void 0===e)return new h.Vector2(t,n);if(2===e.length)return new h.Vector2(e[0],e[1]);throw new Error("Expected Vector2 values <> than two.")}},{key:"parseNodes",value:function(e,t){var n=t.nodes;if(void 0!==n){var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;e.nodes.push(this.parseNodesRecursively(s))}}catch(o){a.e(o)}finally{a.f()}}return e.nodes}},{key:"parseNodesRecursively",value:function(e){var t=new b.ModelNode,n=this.getString(e.id,null);if(!n)throw new Error("Node id missing.");t.id=n;var r=e.translation;if(void 0!==r&&3!==r.length)throw new Error("Node translation incomplete");t.translation=void 0===r?null:new f.Vector3(r[0],r[1],r[2]);var a=e.rotation;if(void 0!==a&&4!==a.length)throw new Error("Node rotation incomplete");t.rotation=void 0===a?null:new u.Quaternion(a[0],a[1],a[2],a[3]);var s=e.scale;if(void 0!==s&&3!==s.length)throw new Error("Node scale incomplete");t.scale=void 0===s?null:new f.Vector3(s[0],s[1],s[2]);var o=this.getString(e.mesh,null);o&&(t.meshId=o);var h=e.parts;if(void 0!==h){t.parts=new Array;var d,p=0,v=i(h);try{for(v.s();!(d=v.n()).done;){var m=d.value,g=new k.ModelNodePart,y=this.getString(m.meshpartid,null),_=this.getString(m.materialid,null);if(!y||!_)throw new Error("Node "+n+" part is missing meshPartId or materialId");g.materialId=_,g.meshPartId=y;var x=m.bones;if(void 0!==x){g.bones=new c.ArrayMap;var w,M=i(x);try{for(M.s();!(w=M.n()).done;){var T=w.value,S=this.getString(T.node,null);if(!S)throw new Error("Bone node ID missing");var A=new l.Matrix4,E=T.translation;E&&E.length>=3&&A.translate(E[0],E[1],E[2]),(E=T.rotation)&&E.length>=4&&A.rotate(this.tempQ.set(E[0],E[1],E[2],E[3])),(E=T.scale)&&E.length>=3&&A.scale(E[0],E[1],E[2]),g.bones.set(S,A)}}catch(N){M.e(N)}finally{M.f()}}t.parts[p]=g,p++}}catch(N){v.e(N)}finally{v.f()}}var L=e.children;if(void 0!==L){t.children=new Array;var C,O=0,P=i(L);try{for(P.s();!(C=P.n()).done;){var I=C.value;t.children[O]=this.parseNodesRecursively(I),O++}}catch(N){P.e(N)}finally{P.f()}}return t}},{key:"parseAnimations",value:function(e,t){var n=t.animations;if(n){var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,o=s.bones;if(void 0!==o){var l=new v.ModelAnimation;e.animations.push(l),l.id=s.id;var c,h=i(o);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=new x.ModelNodeAnimation;l.nodeAnimations.push(p),p.nodeId=d.boneId;var m=d.keyframes;if(void 0!==m&&Array.isArray(m)){var g,y=i(m);try{for(y.s();!(g=y.n()).done;){var _=g.value,b=this.getFloat(_.keytime,0)/1e3,k=_.translation;if(void 0!==k&&3===k.length){p.translation||(p.translation=new Array);var M=new w.ModelNodeKeyframe;M.keytime=b,M.value=new f.Vector3(k[0],k[1],k[2]),p.translation.push(M)}var T=_.rotation;if(void 0!==T&&4===T.length){p.rotation||(p.rotation=new Array);var S=new w.ModelNodeKeyframe;S.keytime=b,S.value=new u.Quaternion(T[0],T[1],T[2],T[3]),p.rotation.push(S)}var A=_.scale;if(void 0!==A&&3===A.length){p.scaling||(p.scaling=new Array);var E=new w.ModelNodeKeyframe;E.keytime=b,E.value=new f.Vector3(A[0],A[1],A[2]),p.scaling.push(E)}}}catch(X){y.e(X)}finally{y.f()}}else{var L=d.translation;if(void 0!==L&&Array.isArray(L)){p.translation=new Array;var C,O=i(L);try{for(O.s();!(C=O.n()).done;){var P=C.value,I=new w.ModelNodeKeyframe;p.translation.push(I),I.keytime=this.getFloat(P.keytime,0)/1e3;var N=P.value;void 0!==N&&N.length>=3&&(I.value=new f.Vector3(N[0],N[1],N[2]))}}catch(X){O.e(X)}finally{O.f()}}var R=d.rotation;if(R&&Array.isArray(R)){p.rotation=new Array;var F,B=i(R);try{for(B.s();!(F=B.n()).done;){var D=F.value,j=new w.ModelNodeKeyframe;p.rotation.push(j),j.keytime=this.getFloat(D.keytime,0)/1e3;var U=D.value;void 0!==U&&U.length>=4&&(j.value=new u.Quaternion(U[0],U[1],U[2],U[3]))}}catch(X){B.e(X)}finally{B.f()}}var V=d.scaling;if(V&&Array.isArray(V)){p.scaling=new Array;var G,z=i(V);try{for(z.s();!(G=z.n()).done;){var W=G.value,H=new w.ModelNodeKeyframe;p.scaling.push(H),H.keytime=this.getFloat(W.keytime,0)/1e3;var Y=W.value;void 0!==Y&&Y.length>=3&&(H.value=new f.Vector3(Y[0],Y[1],Y[2]))}}catch(X){z.e(X)}finally{z.f()}}}}}catch(X){h.e(X)}finally{h.f()}}}}catch(X){a.e(X)}finally{a.f()}}}},{key:"getString",value:function(e,t){return void 0!==e?e:t}},{key:"getFloat",value:function(e,t){return void 0!==e?e:t}}]),e}();t.G3dModelLoader=A,A.VERSION_HI=0,A.VERSION_LO=1},7503:function(e,t,n){"use strict";var i=n(4704).default,r=n(7061).default,a=n(9728).default,s=n(6690).default,o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(t){a(t)}}function o(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjLoader=t.MtlLoader=t.ObjMaterial=void 0;var l=n(5122),u=n(1858),c=n(8606),h=n(7811),f=n(8633),d=n(8552),p=n(4023),v=n(8896),m=n(798),g=n(779),y=n(3710),_=n(4610),b=n(3309),x=n(9373),w=n(663),k=a((function e(t){s(this,e),this.name=t,this.faces=[],this.numFaces=0,this.mat=new p.Material(""),this.materialName="default"})),M=function(){function e(){s(this,e),this.materialName="default",this.reset()}return a(e,[{key:"build",value:function(){var e=new m.ModelMaterial;return e.id=this.materialName,e.ambient=this.ambientColor?new c.Color(this.ambientColor.r,this.ambientColor.g,this.ambientColor.b,this.ambientColor.a):null,e.diffuse=new c.Color(this.diffuseColor.r,this.diffuseColor.g,this.diffuseColor.b,this.diffuseColor.a),e.specular=new c.Color(this.specularColor.r,this.specularColor.g,this.specularColor.b,this.specularColor.a),e.opacity=this.opacity,e.shininess=this.shininess,this.addTexture(e,this.alphaTexFilename,x.ModelTexture.USAGE_TRANSPARENCY),this.addTexture(e,this.ambientTexFilename,x.ModelTexture.USAGE_AMBIENT),this.addTexture(e,this.diffuseTexFilename,x.ModelTexture.USAGE_DIFFUSE),this.addTexture(e,this.specularTexFilename,x.ModelTexture.USAGE_SPECULAR),this.addTexture(e,this.shininessTexFilename,x.ModelTexture.USAGE_SHININESS),e}},{key:"addTexture",value:function(e,t,n){if(t){var i=new x.ModelTexture;i.usage=n,i.fileName=t,void 0===e.textures&&(e.textures=new Array),e.textures.push(i)}}},{key:"reset",value:function(){this.ambientColor=null,this.diffuseColor=c.Color.WHITE,this.specularColor=c.Color.WHITE,this.opacity=1,this.shininess=0,this.alphaTexFilename=null,this.ambientTexFilename=null,this.diffuseTexFilename=null,this.shininessTexFilename=null,this.specularTexFilename=null}}]),e}();t.ObjMaterial=M;var T=function(){function e(){s(this,e),this.materials=new Array}return a(e,[{key:"load",value:function(e){return o(this,void 0,void 0,r().mark((function t(){var n,i,a,s,o,l,u,c,h,f;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new M,0!==e.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,fetch(e);case 5:if((s=t.sent).ok){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,s.text();case 10:o=t.sent,l=o.split("\n").map((function(e){return e.trim()})),u=0,t.prev=13;case 14:if(void 0===(n=l[u])){t.next=30;break}if(u++,n.length>0&&"\t"===n.charAt(0)&&(n=n.substring(1).trim()),0!==(i=n.split(" "))[0].length){t.next=22;break}return t.abrupt("continue",14);case 22:if("#"!==i[0].charAt(0)){t.next=26;break}return t.abrupt("continue",14);case 26:"newmtl"===(c=i[0].toLowerCase())?(h=a.build(),this.materials.push(h),i.length>1?(a.materialName=i[1],a.materialName=a.materialName.replace(".","_")):a.materialName="default",a.reset()):"ka"===c?a.ambientColor=this.parseColor(i):"kd"===c?a.diffuseColor=this.parseColor(i):"ks"===c?a.specularColor=this.parseColor(i):"tr"===c||"d"===c?a.opacity=parseFloat(i[1]):"ns"===c?a.shininess=parseFloat(i[1]):"map_d"===c?a.alphaTexFilename=i[1]:"map_ka"===c?a.ambientTexFilename=i[1]:"map_kd"===c?a.diffuseTexFilename=i[1]:"map_ks"===c?a.specularTexFilename=i[1]:"map_ns"===c&&(a.shininessTexFilename=i[1]);case 28:t.next=14;break;case 30:t.next=35;break;case 32:t.prev=32,t.t0=t.catch(13),console.error(t.t0);case 35:return f=a.build(),this.materials.push(f),t.abrupt("return");case 38:case"end":return t.stop()}}),t,this,[[13,32]])})))}},{key:"parseColor",value:function(e){var t=parseFloat(e[1]),n=parseFloat(e[2]),i=parseFloat(e[3]),r=1;return e.length>4&&(r=parseFloat(e[4])),new c.Color(t,n,i,r)}},{key:"getMaterial",value:function(e){var t,n=i(this.materials);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e)return r}}catch(s){n.e(s)}finally{n.f()}var a=new m.ModelMaterial;return a.id=e,a.diffuse=new c.Color(1,1,1,1),this.materials.push(a),a}}]),e}();t.MtlLoader=T;var S=function(){function e(){s(this,e),this.verts=[],this.norms=[],this.uvs=[],this.groups=[]}return a(e,[{key:"load",value:function(e,t){return o(this,void 0,void 0,r().mark((function n(){var i,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadModelData(t);case 2:return i=n.sent,a=new w.Model(e),n.next=6,a.load(i);case 6:return n.abrupt("return",a);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"loadModelData",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o(this,void 0,void 0,r().mark((function i(){var a,s,o,c,p,m,x,w,M,S,A,E,L,C,O,P,I,N,R,F,B,D,j,U,V,G,z,W,H,Y,X,q,$,K,Q,Z,J,ee,te,ne,ie,re;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.logWarning){i.next=2;break}throw Error("Wavefront (OBJ) is not fully supported, consult the documentation for more information");case 2:return c=new T,p=new k("default"),this.groups.push(p),i.next=7,fetch(t);case 7:if((m=i.sent).ok){i.next=10;break}return i.abrupt("return");case 10:return i.next=12,m.text();case 12:x=i.sent,w=x.split("\n").map((function(e){return e.trim()})),M=0,S=0,i.prev=16;case 17:if(void 0===(a=w[M])){i.next=52;break}if(M++,!((s=a.split(" ")).length<1)){i.next=22;break}return i.abrupt("break",52);case 22:if(0!==s[0].length){i.next=26;break}return i.abrupt("continue",17);case 26:if("#"!==(o=s[0].toLowerCase().charAt(0))){i.next=30;break}return i.abrupt("continue",17);case 30:if("v"!==o){i.next=34;break}1===s[0].length?(this.verts.push(parseFloat(s[1])),this.verts.push(parseFloat(s[2])),this.verts.push(parseFloat(s[3]))):"n"===s[0].charAt(1)?(this.norms.push(parseFloat(s[1])),this.norms.push(parseFloat(s[2])),this.norms.push(parseFloat(s[3]))):"t"===s[0].charAt(1)&&(this.uvs.push(parseFloat(s[1])),this.uvs.push(n?1-parseFloat(s[2]):parseFloat(s[2]))),i.next=50;break;case 34:if("f"!==o){i.next=40;break}for(A=void 0,E=p.faces,L=1;L<s.length-2;L--)A=s[1].split("/"),E.push(this.getIndex(A[0],this.verts.length)),A.length>2&&(1===L&&(p.hasNorms=!0),E.push(this.getIndex(A[2],this.norms.length))),A.length>1&&A[1].length>0&&(1===L&&(p.hasUVs=!0),E.push(this.getIndex(A[1],this.uvs.length))),A=s[++L].split("/"),E.push(this.getIndex(A[0],this.verts.length)),A.length>2&&E.push(this.getIndex(A[2],this.norms.length)),A.length>1&&A[1].length>0&&E.push(this.getIndex(A[1],this.uvs.length)),A=s[++L].split("/"),E.push(this.getIndex(A[0],this.verts.length)),A.length>2&&E.push(this.getIndex(A[2],this.norms.length)),A.length>1&&A[1].length>0&&E.push(this.getIndex(A[1],this.uvs.length)),p.numFaces++;i.next=50;break;case 40:if("o"!==o&&"g"!==o){i.next=44;break}p=s.length>1?this.setActiveGroup(s[1]):this.setActiveGroup("default"),i.next=50;break;case 44:if("mtllib"!==s[0]){i.next=49;break}return i.next=47,c.load(s[1]);case 47:i.next=50;break;case 49:"usemtl"===s[0]&&(1===s.length?p.materialName="default":p.materialName=s[1].replace(".","_"));case 50:i.next=17;break;case 52:i.next=57;break;case 54:i.prev=54,i.t0=i.catch(16),console.error(i.t0);case 57:for(C=0;C<this.groups.length;C++)this.groups[C].numFaces<1&&(this.groups.splice(C,1),C--);if(!(this.groups.length<1)){i.next=60;break}return i.abrupt("return",null);case 60:for(O=this.groups.length,P=new v.ModelData,I=0;I<O;I++){for(N=this.groups[I],R=N.faces,F=R.length,B=N.numFaces,D=N.hasNorms,j=N.hasUVs,U=[],V=0,G=0;V<F;)z=3*R[V++],U[G++]=this.verts[z++],U[G++]=this.verts[z++],U[G++]=this.verts[z],D&&(W=3*R[V++],U[G++]=this.norms[W++],U[G++]=this.norms[W++],U[G++]=this.norms[W]),j&&(H=2*R[V++],U[G++]=this.uvs[H++],U[G++]=this.uvs[H]);if(X=[],(Y=3*B>=32767?0:3*B)>0)for(q=0;q<Y;q++)X[q]=q;($=new Array).push(new f.VertexAttribute3D(f.Usage.Position,3,d.GL20.GL_FLOAT,!1,u.Shader.POSITION)),D&&$.push(new f.VertexAttribute3D(f.Usage.Normal,3,d.GL20.GL_FLOAT,!1,u.Shader.NORMAL)),j&&$.push(new f.VertexAttribute3D(f.Usage.TextureCoordinates,2,d.GL20.GL_FLOAT,!1,u.Shader.TEXCOORDS+"0")),K=(++S).toString(),Q="default"===N.name?"node"+K:N.name,Z="default"===N.name?"mesh"+K:N.name,J="default"===N.name?"part"+K:N.name,(ee=new _.ModelNode).id=Q,ee.meshId=Z,ee.scale=new h.Vector3(1,1,1),ee.translation=new h.Vector3,ee.rotation=new l.Quaternion,(te=new b.ModelNodePart).meshPartId=J,te.materialId=N.materialName,ee.parts=[te],(ne=new y.ModelMeshPart).id=J,ne.indices=X,ne.primitiveType=d.GL20.GL_TRIANGLES,(ie=new g.ModelMesh).id=Z,ie.attributes=$,ie.vertices=U,ie.parts=[ne],P.nodes.push(ee),P.meshes.push(ie),re=c.getMaterial(N.materialName),P.materials.push(re)}return this.verts.length>0&&(this.verts.length=0),this.norms.length>0&&(this.norms.length=0),this.uvs.length>0&&(this.uvs.length=0),this.groups.length>0&&(this.groups.length=0),i.abrupt("return",P);case 68:case"end":return i.stop()}}),i,this,[[16,54]])})))}},{key:"setActiveGroup",value:function(e){var t,n=i(this.groups);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.name===e)return r}}catch(s){n.e(s)}finally{n.f()}var a=new k(e);return this.groups.push(a),a}},{key:"getIndex",value:function(e,t){if(!e||0===e.length)return 0;var n=parseInt(e);return n<0?t+n:n-1}}]),e}();t.ObjLoader=S,S.logWarning=!1},6764:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryInput=t.UBJsonReader=void 0;var a=function(){function e(){i(this,e),this.oldFormat=!0}return r(e,[{key:"parse",value:function(e){var t=new s(e),n=t.readByte();return this.parseWithType(t,n)}},{key:"parseWithType",value:function(e,t){if(t==="[".charCodeAt(0))return this.parseArray(e);if(t==="{".charCodeAt(0))return this.parseObject(e);if(t==="Z".charCodeAt(0))return null;if(t==="T".charCodeAt(0))return!0;if(t==="F".charCodeAt(0))return!1;if(t==="B".charCodeAt(0))return this.readUChar(e);if(t==="U".charCodeAt(0))return this.readUChar(e);if(t==="i".charCodeAt(0))return this.oldFormat?e.readShort():e.readByte();if(t==="I".charCodeAt(0))return this.oldFormat?e.readInt(!0):e.readShort();if(t==="l".charCodeAt(0))return e.readInt(!0);if(t==="L".charCodeAt(0))return e.readLong();if(t==="d".charCodeAt(0))return e.readFloat();if(t==="D".charCodeAt(0))return e.readFloat();if(t==="s".charCodeAt(0)||t==="S".charCodeAt(0))return this.parseString(e,t);if(t==="a".charCodeAt(0)||t==="A".charCodeAt(0))return this.parseData(e,t);if(t==="C".charCodeAt(0))return e.readString();throw new Error("Unrecognized data type: "+t)}},{key:"parseObject",value:function(e){var t={},n=e.readByte(),i=0;n==="$".charCodeAt(0)&&(i=e.readByte(),n=e.readByte());var r=-1;if(n==="#".charCodeAt(0)){if((r=this.parseSize(e,e.readByte(),!1,-1))<0)throw new Error("Unrecognized data type: "+n);if(0===r)return t;n=e.readByte()}for(var a=0;n!=="}".charCodeAt(0);){var s=this.parseString(e,n,!0),o=this.parseWithType(e,0===i?e.readByte():i);if(t[s]=o,r>0&&++a>=r)break;n=e.readByte()}return t}},{key:"parseSize",value:function(e,t,n,i){if(t==="i".charCodeAt(0))return this.readUChar(e);if(t==="I".charCodeAt(0))return this.readUShort(e);if(t==="l".charCodeAt(0))return this.readUInt(e);if(t==="L".charCodeAt(0))return e.readLong();if(n){var r=(255&t)<<24;return r|=(255&e.readByte())<<16,r|=(255&e.readByte())<<8,r|=255&e.readByte()}return i}},{key:"parseArray",value:function(e){var t=[],n=e.readByte(),i=0;n==="$".charCodeAt(0)&&(i=e.readByte(),n=e.readByte());var r=-1;if(n==="#".charCodeAt(0)){if((r=this.parseSize(e,e.readByte(),!1,-1))<0)throw new Error("Unrecognized data type "+n);if(0===r)return t;n=0===i?e.readByte():i}for(var a=0;n!=="]".charCodeAt(0);){var s=this.parseWithType(e,n);if(t.push(s),r>0&&++a>=r)break;n=0===i?e.readByte():i}return t}},{key:"parseData",value:function(e,t){for(var n=e.readByte(),i=t==="A".charCodeAt(0)?this.readUInt(e):this.readUChar(e),r=[],a=0;a<i;a++){var s=this.parseWithType(e,n);r.push(s)}return r}},{key:"readUChar",value:function(e){return 255&e.readByte()}},{key:"parseString",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1;if(t==="S".charCodeAt(0)?i=this.parseSize(e,e.readByte(),!0,-1):t==="s".charCodeAt(0)?i=this.readUChar(e):n&&(i=this.parseSize(e,t,!1,-1)),i<0)throw new Error("Unrecognized data type: ".concat(t,", string expected"));return i>0?this.readString(e,i):""}},{key:"readUShort",value:function(e){return 65535&e.readShort()}},{key:"readUInt",value:function(e){return 4294967295&e.readInt(!0)}},{key:"readString",value:function(e,t){return e.readStringWithSize(t)}}]),e}();t.UBJsonReader=a;var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new DataView(t);i(this,e),this.strings=n,this.index=r,this.buffer=a}return r(e,[{key:"readByte",value:function(){return this.buffer.getInt8(this.index++)}},{key:"readUnsignedByte",value:function(){return this.buffer.getUint8(this.index++)}},{key:"readShort",value:function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e}},{key:"readInt32",value:function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e}},{key:"readLong",value:function(){var e=this.buffer.getInt32(this.index);return this.index+=8,e}},{key:"readInt",value:function(e){var t=(this.readUnsignedByte()<<24)+(this.readUnsignedByte()<<16)+(this.readUnsignedByte()<<8)+(this.readUnsignedByte()<<0);return e?t:t>>>1^-(1&t)}},{key:"readStringRef",value:function(){var e=this.readInt(!0);return 0===e?null:this.strings[e-1]}},{key:"readStringWithSize",value:function(e){switch(e){case 0:return null;case 1:return""}for(var t="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:t+=String.fromCharCode((31&i)<<6|63&this.readUnsignedByte()),n+=2;break;case 14:t+=String.fromCharCode((15&i)<<12|(63&this.readUnsignedByte())<<6|63&this.readUnsignedByte()),n+=3;break;default:t+=String.fromCharCode(i),n++}}return t}},{key:"readString",value:function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var t="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:t+=String.fromCharCode((31&i)<<6|63&this.readUnsignedByte()),n+=2;break;case 14:t+=String.fromCharCode((15&i)<<12|(63&this.readUnsignedByte())<<6|63&this.readUnsignedByte()),n+=3;break;default:t+=String.fromCharCode(i),n++}}return t}},{key:"readFloat",value:function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e}},{key:"readBoolean",value:function(){return 0!==this.readByte()}}]),e}();t.BinaryInput=s},1055:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(8395),t),r(n(7503),t),r(n(6764),t)},4178:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Frustum=void 0;var s=n(4995),o=n(8606),l=n(7811),u=n(8845),c=function(){function e(){r(this,e),this.planes=new Array(6),this.planePoints=[new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3],this.planePointsArray=new Array(24);for(var t=0;t<6;t++)this.planes[t]=new u.Plane(new l.Vector3,0)}return a(e,[{key:"update",value:function(t){o.Utils.arrayCopy(e.clipSpacePlanePointsArray,0,this.planePointsArray,0,e.clipSpacePlanePointsArray.length),s.Matrix4.prj(t,this.planePointsArray,0,8,3);for(var n=0,i=0;n<8;n++){var r=this.planePoints[n];r.x=this.planePointsArray[i++],r.y=this.planePointsArray[i++],r.z=this.planePointsArray[i++]}this.planes[0].set(this.planePoints[1],this.planePoints[0],this.planePoints[2]),this.planes[1].set(this.planePoints[4],this.planePoints[5],this.planePoints[7]),this.planes[2].set(this.planePoints[0],this.planePoints[4],this.planePoints[3]),this.planes[3].set(this.planePoints[5],this.planePoints[1],this.planePoints[6]),this.planes[4].set(this.planePoints[2],this.planePoints[3],this.planePoints[6]),this.planes[5].set(this.planePoints[4],this.planePoints[0],this.planePoints[1])}},{key:"pointInFrustum",value:function(e){for(var t=0;t<this.planes.length;t++){if(this.planes[t].testPoint(e.x,e.y,e.z)===u.PlaneSide.Back)return!1}return!0}},{key:"sphereInFrustum",value:function(e,t){for(var n=0;n<6;n++)if(this.planes[n].normal.x*e.x+this.planes[n].normal.y*e.y+this.planes[n].normal.z*e.z<-t-this.planes[n].d)return!1;return!0}},{key:"sphereInFrustumWithoutNearFar",value:function(e,t){for(var n=2;n<6;n++)if(this.planes[n].normal.x*e.x+this.planes[n].normal.y*e.y+this.planes[n].normal.z*e.z<-t-this.planes[n].d)return!1;return!0}},{key:"boundsInFrustrum",value:function(e,t){for(var n=0,i=this.planes.length;n<i;n++)if(this.planes[n].testPoint(e.x+t.x/2,e.y+t.y/2,e.z+t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x+t.x/2,e.y+t.y/2,e.z-t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x+t.x/2,e.y-t.y/2,e.z+t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x+t.x/2,e.y-t.y/2,e.z-t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x-t.x/2,e.y+t.y/2,e.z+t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x-t.x/2,e.y+t.y/2,e.z-t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x-t.x/2,e.y-t.y/2,e.z+t.z/2)===u.PlaneSide.Back&&this.planes[n].testPoint(e.x-t.x/2,e.y-t.y/2,e.z-t.z/2)===u.PlaneSide.Back)return!1;return!0}}]),e}();t.Frustum=c,c.clipSpacePlanePoints=[new l.Vector3(-1,-1,-1),new l.Vector3(1,-1,-1),new l.Vector3(1,1,-1),new l.Vector3(-1,1,-1),new l.Vector3(-1,-1,1),new l.Vector3(1,-1,1),new l.Vector3(1,1,1),new l.Vector3(-1,1,1)],c.clipSpacePlanePointsArray=new Array(24),function(){var e,t=0,n=i(c.clipSpacePlanePoints);try{for(n.s();!(e=n.n()).done;){var r=e.value;c.clipSpacePlanePointsArray[t++]=r.x,c.clipSpacePlanePointsArray[t++]=r.y,c.clipSpacePlanePointsArray[t++]=r.z}}catch(a){n.e(a)}finally{n.f()}}(),c.tmpV=new l.Vector3},8845:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Plane=t.PlaneSide=void 0;var a,s=n(7811);!function(e){e[e.OnPlane=0]="OnPlane",e[e.Back=1]="Back",e[e.Front=2]="Front"}(a=t.PlaneSide||(t.PlaneSide={}));var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e),this.normal=new s.Vector3,this.d=0,t&&(this.normal.setFrom(t).normalize(),this.d=n)}return r(e,[{key:"set",value:function(e,t,n){this.normal.set(e.x,e.y,e.z).sub(t).cross(new s.Vector3(t.x-n.x,t.y-n.y,t.z-n.z)).normalize(),this.d=-e.dot(this.normal)}},{key:"setByValue",value:function(e,t,n,i,r,a){this.normal.set(i,r,a),this.d=-(e*i+t*r+n*a)}},{key:"distance",value:function(e){return this.normal.dot(e)+this.d}},{key:"testPoint",value:function(e,t,n){var i=this.normal.dotWithValue(e,t,n)+this.d;return 0===i?a.OnPlane:i<0?a.Back:a.Front}},{key:"isFrontFacing",value:function(e){return this.normal.dot(e)<=0}},{key:"getNormal",value:function(){return this.normal}},{key:"getD",value:function(){return this.d}},{key:"setFromPlane",value:function(e){this.normal.setFrom(e.normal),this.d=e.d}},{key:"toString",value:function(){return this.normal.toString()+", "+this.d}}]),e}();t.Plane=o},4286:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(4178),t),r(n(8845),t)},8235:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Animation3D=void 0;var a=i((function e(){r(this,e),this.duration=0,this.nodeAnimations=[]}));t.Animation3D=a},3627:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MeshPart=void 0;var a=n(5477),s=n(7811),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(this,e),this.id="",this.primitiveType=0,this.offset=0,this.size=0,this.mesh=null,this.center=new s.Vector3,this.halfExtents=new s.Vector3,this.radius=-1,this.bounds=new a.BoundingBox,t&&this.setByMeshPart(t)}return r(e,[{key:"dispose",value:function(){}},{key:"setByMeshPart",value:function(e){return this.id=e.id,this.mesh=e.mesh,this.offset=e.offset,this.size=e.size,this.primitiveType=e.primitiveType,this.center.set(e.center.x,e.center.y,e.center.z),this.halfExtents.set(e.halfExtents.x,e.halfExtents.y,e.halfExtents.z),this.radius=e.radius,this}},{key:"set",value:function(e,t,n,i,r){return this.id=e,this.mesh=t,this.offset=n,this.size=i,this.primitiveType=r,this.center.set(0,0,0),this.halfExtents.set(0,0,0),this.radius=-1,this}},{key:"update",value:function(){this.mesh.extendBoundingBox(this.bounds,this.offset,this.size,null),this.bounds.getCenter(this.center),this.bounds.getDimensions(this.halfExtents).scale(.5),this.radius=this.halfExtents.length()}},{key:"equals",value:function(e){return e===this||!!e&&e.mesh===this.mesh&&e.primitiveType===this.primitiveType&&e.offset===this.offset&&e.size===this.size}},{key:"render",value:function(e,t){this.mesh.render(e,this.primitiveType,this.offset,this.size,t)}}]),e}();t.MeshPart=o},663:function(e,t,n){"use strict";var i=n(7424).default,r=n(4704).default,a=n(7061).default,s=n(6690).default,o=n(9728).default,l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(t){a(t)}}function o(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var u=n(4995),c=n(5122),h=n(8606),f=n(7811),d=n(847),p=n(1733),v=n(5412),m=n(2398),g=n(427),y=n(8552),_=n(4023),b=n(5766),x=n(2668),w=n(8235),k=n(9373),M=n(3627),T=n(1960),S=n(5388),A=n(5904),E=n(5413),L=function(){function e(t){s(this,e),this.gl=t,this.materials=[],this.nodes=[],this.animations=[],this.meshes=[],this.meshParts=[],this.disposables=[],this.nodePartBones=new Map}return o(e,[{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new x.FileTextureProvider;return l(this,void 0,void 0,a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.loadMeshes(e.meshes),n.next=3,this.loadMaterials(e.materials,t);case 3:this.loadNodes(e.nodes),this.loadAnimations(e.animations),this.calculateTransforms();case 6:case"end":return n.stop()}}),n,this)})))}},{key:"loadAnimations",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=new w.Animation3D;a.id=i.id;var s,o=r(i.nodeAnimations);try{for(o.s();!(s=o.n()).done;){var l=s.value,u=this.getNode(l.nodeId);if(u){var h=new S.NodeAnimation;if(h.node=u,l.translation){h.translation=new Array;var d,p=r(l.translation);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.keytime>a.duration&&(a.duration=v.keytime),h.translation.push(new A.NodeKeyframe(v.keytime,(new f.Vector3).setFrom(v.value?v.value:u.translation)))}}catch(k){p.e(k)}finally{p.f()}}if(l.rotation){h.rotation=new Array;var m,g=r(l.rotation);try{for(g.s();!(m=g.n()).done;){var y=m.value;y.keytime>a.duration&&(a.duration=y.keytime),h.rotation.push(new A.NodeKeyframe(y.keytime,(new c.Quaternion).setFrom(y.value?y.value:u.rotation)))}}catch(k){g.e(k)}finally{g.f()}}if(l.scaling){h.scaling=new Array;var _,b=r(l.scaling);try{for(b.s();!(_=b.n()).done;){var x=_.value;x.keytime>a.duration&&(a.duration=x.keytime),h.scaling.push(new A.NodeKeyframe(x.keytime,(new f.Vector3).setFrom(x.value?x.value:u.scale)))}}catch(k){b.e(k)}finally{b.f()}}(h.translation&&h.translation.length>0||h.rotation&&h.rotation.length>0||h.scaling&&h.scaling.length>0)&&a.nodeAnimations.push(h)}}}catch(k){o.e(k)}finally{o.f()}a.nodeAnimations.length>0&&this.animations.push(a)}}catch(k){n.e(k)}finally{n.f()}}},{key:"loadNodes",value:function(e){this.nodePartBones.clear();var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.nodes.push(this.loadNode(a))}}catch(m){n.e(m)}finally{n.f()}var s,o=r(this.nodePartBones);try{for(o.s();!(s=o.n()).done;){var l=i(s.value,2),c=l[0],f=l[1];c.invBoneBindTransforms||(c.invBoneBindTransforms=new h.ArrayMap),c.invBoneBindTransforms.clear();for(var d=0;d<f.size;d++){var p=f.keys[d],v=f.values[d];c.invBoneBindTransforms.set(this.getNode(p),(new u.Matrix4).set(v.values).invert())}}}catch(m){o.e(m)}finally{o.f()}}},{key:"loadNode",value:function(e){var t=new T.Node;if(t.id=e.id,e.translation&&t.translation.set(e.translation.x,e.translation.y,e.translation.z),e.rotation&&t.rotation.set(e.rotation.x,e.rotation.y,e.rotation.z,e.rotation.w),e.scale&&t.scale.set(e.scale.x,e.scale.y,e.scale.z),e.parts){var n,i=r(e.parts);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=null,o=null;if(a.meshPartId){var l,u=r(this.meshParts);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(a.meshPartId===c.id){s=c;break}}}catch(y){u.e(y)}finally{u.f()}}if(a.materialId){var h,f=r(this.materials);try{for(f.s();!(h=f.n()).done;){var d=h.value;if(a.materialId===d.id){o=d;break}}}catch(y){f.e(y)}finally{f.f()}}if(!s||!o)throw new Error("Invalid node: "+t.id);var p=new E.NodePart;p.meshPart=s,p.material=o,t.parts.push(p),a.bones&&this.nodePartBones.set(p,a.bones)}}catch(y){i.e(y)}finally{i.f()}}if(e.children){var v,m=r(e.children);try{for(m.s();!(v=m.n()).done;){var g=v.value;t.addChild(this.loadNode(g))}}catch(y){m.e(y)}finally{m.f()}}return t}},{key:"loadMeshes",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.convertMesh(i)}}catch(a){n.e(a)}finally{n.f()}}},{key:"convertMesh",value:function(e){var t,n=0,i=r(e.parts);try{for(i.s();!(t=i.n()).done;){n+=t.value.indices.length}}catch(y){i.e(y)}finally{i.f()}var a=n>0,s=new g.VertexAttributes(e.attributes),o=e.vertices.length/(s.vertexSize/4),l=new b.Mesh3D(this.gl,!0,!0,o,n,s);this.meshes.push(l),this.disposables.push(l),l.vertices.updateVertices(0,e.vertices,0,e.vertices.length);var u,c=0,h=0,f=r(e.parts);try{for(f.s();!(u=f.n()).done;){var d=u.value,p=new M.MeshPart;p.id=d.id,p.primitiveType=d.primitiveType,p.offset=c,p.size=a?d.indices.length:o,p.mesh=l,a&&(l.indices.updateIndices(h,d.indices,0,d.indices.length),h+=d.indices.length),c+=p.size,this.meshParts.push(p)}}catch(y){f.e(y)}finally{f.f()}var v,m=r(this.meshParts);try{for(m.s();!(v=m.n()).done;){v.value.update()}}catch(y){m.e(y)}finally{m.f()}}},{key:"loadMaterials",value:function(e,t){return l(this,void 0,void 0,a().mark((function n(){var i,s,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=r(e),n.prev=1,i.s();case 3:if((s=i.n()).done){n.next=12;break}return o=s.value,n.t0=this.materials,n.next=8,this.convertMaterial(o,t);case 8:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 10:n.next=3;break;case 12:n.next=17;break;case 14:n.prev=14,n.t2=n.catch(1),i.e(n.t2);case 17:return n.prev=17,i.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,this,[[1,14,17,20]])})))}},{key:"convertMaterial",value:function(e,t){return l(this,void 0,void 0,a().mark((function n(){var i,s,o,l,u,c,h,f,g,b,x;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((i=new _.Material).id=e.id,void 0!==e.ambient&&i.set(new p.ColorAttribute3D(p.ColorAttribute3D.Ambient,e.ambient)),void 0!==e.diffuse&&i.set(new p.ColorAttribute3D(p.ColorAttribute3D.Diffuse,e.diffuse)),void 0!==e.specular&&i.set(new p.ColorAttribute3D(p.ColorAttribute3D.Specular,e.specular)),void 0!==e.emissive&&i.set(new p.ColorAttribute3D(p.ColorAttribute3D.Emissive,e.emissive)),void 0!==e.reflection&&i.set(new p.ColorAttribute3D(p.ColorAttribute3D.Reflection,e.reflection)),e.shininess>0&&i.set(new v.FloatAttribute(v.FloatAttribute.Shininess,e.shininess)),1!==e.opacity&&i.set(new d.BlendingAttribute(y.GL20.GL_SRC_ALPHA,y.GL20.GL_ONE_MINUS_SRC_ALPHA,!0,e.opacity)),s=new Map,void 0===e.textures){n.next=62;break}o=r(e.textures),n.prev=12,o.s();case 14:if((l=o.n()).done){n.next=54;break}if(u=l.value,c=void 0,!s.has(u.fileName)){n.next=21;break}c=s.get(u.fileName),n.next=26;break;case 21:return n.next=23,t.load(this.gl,u.fileName);case 23:c=n.sent,s.set(u.fileName,c),this.disposables.push(c);case 26:h=u.uvTranslation?u.uvTranslation.x:0,f=u.uvTranslation?u.uvTranslation.y:0,g=u.uvScaling?u.uvScaling.x:1,b=u.uvScaling?u.uvScaling.y:1,x=void 0,n.t0=u.usage,n.next=n.t0===k.ModelTexture.USAGE_DIFFUSE?34:n.t0===k.ModelTexture.USAGE_SPECULAR?36:n.t0===k.ModelTexture.USAGE_BUMP?38:n.t0===k.ModelTexture.USAGE_NORMAL?40:n.t0===k.ModelTexture.USAGE_AMBIENT?42:n.t0===k.ModelTexture.USAGE_EMISSIVE?44:n.t0===k.ModelTexture.USAGE_REFLECTION?46:48;break;case 34:return x=new m.TextureAttribute(m.TextureAttribute.Diffuse,h,f,g,b),n.abrupt("break",48);case 36:return x=new m.TextureAttribute(m.TextureAttribute.Specular,h,f,g,b),n.abrupt("break",48);case 38:return x=new m.TextureAttribute(m.TextureAttribute.Bump,h,f,g,b),n.abrupt("break",48);case 40:return x=new m.TextureAttribute(m.TextureAttribute.Normal,h,f,g,b),n.abrupt("break",48);case 42:return x=new m.TextureAttribute(m.TextureAttribute.Ambient,h,f,g,b),n.abrupt("break",48);case 44:return x=new m.TextureAttribute(m.TextureAttribute.Emissive,h,f,g,b),n.abrupt("break",48);case 46:return x=new m.TextureAttribute(m.TextureAttribute.Reflection,h,f,g,b),n.abrupt("break",48);case 48:x.setTexture(c),x.setOffset(h,f),x.setScale(g,b),i.set(x);case 52:n.next=14;break;case 54:n.next=59;break;case 56:n.prev=56,n.t1=n.catch(12),o.e(n.t1);case 59:return n.prev=59,o.f(),n.finish(59);case 62:return n.abrupt("return",i);case 63:case"end":return n.stop()}}),n,this,[[12,56,59,62]])})))}},{key:"manageDisposable",value:function(e){this.disposables.indexOf(e)<0&&this.disposables.push(e)}},{key:"getManagedDisposables",value:function(){return this.disposables}},{key:"dispose",value:function(){var e,t=r(this.disposables);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(n){t.e(n)}finally{t.f()}}},{key:"calculateTransforms",value:function(){for(var e=this.nodes.length,t=0;t<e;t++)this.nodes[t].calculateTransforms(!0);for(var n=0;n<e;n++)this.nodes[n].calculateBoneTransforms(!0)}},{key:"calculateBoundingBox",value:function(e){return e.inf(),this.extendBoundingBox(e)}},{key:"extendBoundingBox",value:function(e){for(var t=this.nodes.length,n=0;n<t;n++)this.nodes[n].extendBoundingBox(e);return e}},{key:"getAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.animations.length;if(t){for(var i=0;i<n;i++)if(this.animations[i].id.toUpperCase()===e.toUpperCase())return this.animations[i]}else for(var r=0;r<n;r++)if(this.animations[r].id===e)return this.animations[r];return null}},{key:"getMaterial",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.materials.length;if(n){for(var r=0;r<i;r++)if((t=this.materials[r]).id.toUpperCase()===e.toUpperCase())return t}else for(var a=0;a<i;a++)if((t=this.materials[a]).id===e)return t;return null}},{key:"getNode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return T.Node.getNode(this.nodes,e,t,n)}}]),e}();t.Model=L},1960:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;var s=n(4995),o=n(5122),l=n(7811),u=function(){function e(){r(this,e),this.inheritTransform=!0,this.isAnimated=!1,this.translation=new l.Vector3,this.rotation=new o.Quaternion(0,0,0,1),this.scale=new l.Vector3(1,1,1),this.localTransform=new s.Matrix4,this.globalTransform=new s.Matrix4,this.parts=new Array,this.parent=null,this.children=new Array}return a(e,[{key:"calculateLocalTransform",value:function(){return this.isAnimated||this.localTransform.setFromTranslationRotation(this.translation,this.rotation,this.scale),this.localTransform}},{key:"calculateWorldTransform",value:function(){return this.inheritTransform&&this.parent?this.globalTransform.set(this.parent.globalTransform.values).multiply(this.localTransform):this.globalTransform.set(this.localTransform.values),this.globalTransform}},{key:"calculateTransforms",value:function(e){if(this.calculateLocalTransform(),this.calculateWorldTransform(),e){var t,n=i(this.children);try{for(n.s();!(t=n.n()).done;){t.value.calculateTransforms(!0)}}catch(r){n.e(r)}finally{n.f()}}}},{key:"calculateBoneTransforms",value:function(e){var t,n=i(this.parts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.invBoneBindTransforms&&r.bones&&r.invBoneBindTransforms.size===r.bones.length)for(var a=0;a<r.invBoneBindTransforms.size;a++)r.bones[a].set(r.invBoneBindTransforms.keys[a].globalTransform.values).multiply(r.invBoneBindTransforms.values[a])}}catch(l){n.e(l)}finally{n.f()}if(e){var s,o=i(this.children);try{for(o.s();!(s=o.n()).done;){s.value.calculateBoneTransforms(!0)}}catch(l){o.e(l)}finally{o.f()}}}},{key:"calculateBoundingBox",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.inf(),this.extendBoundingBox(e,t)}},{key:"extendBoundingBox",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.parts.length,i=0;i<n;i++){var r=this.parts[i];if(r.enabled){var a=r.meshPart;t?a.mesh.extendBoundingBox(e,a.offset,a.size,this.globalTransform):a.mesh.extendBoundingBox(e,a.offset,a.size,null)}}for(var s=this.children.length,o=0;o<s;o++)this.children[o].extendBoundingBox(e);return e}},{key:"attachTo",value:function(e){e.addChild(this)}},{key:"detach",value:function(){this.parent&&(this.parent.removeChild(this),this.parent=null)}},{key:"hasChildren",value:function(){return!!this.children&&this.children.length>0}},{key:"getChildCount",value:function(){return this.children.length}},{key:"getChildByIndex",value:function(e){return this.children[e]}},{key:"getChild",value:function(t,n,i){return e.getNode(this.children,t,n,i)}},{key:"addChild",value:function(e){return this.insertChild(-1,e)}},{key:"insertChild",value:function(e,t){for(var n=this;n;n=n.getParent())if(n===t)throw new Error("Cannot add a parent as a child");var i=t.getParent();if(i&&!i.removeChild(t))throw new Error("Could not remove child from its current parent");return e<0||e>=this.children.length?(e=this.children.length,this.children.push(t)):this.children.splice(e,0,t),t.parent=this,e}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),!0)}},{key:"getChildren",value:function(){return this.children}},{key:"getParent",value:function(){return this.parent}},{key:"hasParent",value:function(){return!!this.parent}},{key:"copy",value:function(){return(new e).set(this)}},{key:"set",value:function(e){this.detach(),this.id=e.id,this.isAnimated=e.isAnimated,this.inheritTransform=e.inheritTransform,this.translation.setFrom(e.translation),this.rotation.setFrom(e.rotation),this.scale.setFrom(e.scale),this.localTransform.set(e.localTransform.values),this.globalTransform.set(e.globalTransform.values),this.parts.length=0;var t,n=i(e.parts);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.parts.push(r.copy())}}catch(l){n.e(l)}finally{n.f()}this.children.length=0;var a,s=i(e.getChildren());try{for(s.s();!(a=s.n()).done;){var o=a.value;this.addChild(o.copy())}}catch(l){s.e(l)}finally{s.f()}return this}}],[{key:"getNode",value:function(e,t,n,i){var r,a=e.length;if(i){for(var s=0;s<a;s++)if((r=e[s]).id.toUpperCase()===t.toUpperCase())return r}else for(var o=0;o<a;o++)if((r=e[o]).id===t)return r;if(n)for(var l=0;l<a;l++)if(r=this.getNode(e[l].children,t,!0,i))return r;return null}}]),e}();t.Node=u},5388:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NodeAnimation=void 0;var a=i((function e(){r(this,e),this.translation=null,this.rotation=null,this.scaling=null}));t.NodeAnimation=a},5904:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NodeKeyframe=void 0;var a=i((function e(t,n){r(this,e),this.value=null,this.keytime=t,this.value=n}));t.NodeKeyframe=a},5413:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NodePart=void 0;var a=n(4995),s=n(8606),o=n(3627),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,e),this.invBoneBindTransforms=null,this.bones=null,this.enabled=!0,this.meshPart=t,this.material=n}return r(e,[{key:"copy",value:function(){return(new e).set(this)}},{key:"setRenderable",value:function(e){return e.material=this.material,e.meshPart.setByMeshPart(this.meshPart),e.bones=this.bones,e}},{key:"set",value:function(e){if(this.meshPart=new o.MeshPart(e.meshPart),this.material=e.material,this.enabled=e.enabled,e.invBoneBindTransforms){this.invBoneBindTransforms||(this.invBoneBindTransforms=new s.ArrayMap),this.invBoneBindTransforms.clear();for(var t=0;t<e.invBoneBindTransforms.size;t++)this.invBoneBindTransforms.set(e.invBoneBindTransforms.keys[t],e.invBoneBindTransforms.values[t]);this.bones&&this.bones.length===this.invBoneBindTransforms.size||(this.bones=new Array);for(var n=0;n<this.invBoneBindTransforms.size;n++)void 0===this.bones[n]&&(this.bones[n]=new a.Matrix4)}else this.invBoneBindTransforms=null,this.bones=null;return this}}]),e}();t.NodePart=l},129:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelAnimation=void 0;var a=i((function e(){r(this,e),this.nodeAnimations=[]}));t.ModelAnimation=a},8896:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelData=void 0;var s=function(){function e(){r(this,e),this.version=[],this.meshes=[],this.materials=[],this.nodes=[],this.animations=[]}return a(e,[{key:"addMesh",value:function(e){var t,n=i(this.meshes);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e.id)throw new Error("Mesh with id '"+r.id+"' already in model")}}catch(a){n.e(a)}finally{n.f()}this.meshes.push(e)}}]),e}();t.ModelData=s},798:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelMaterial=t.MaterialType=void 0,function(e){e[e.Lambert=0]="Lambert",e[e.Phong=1]="Phong"}(t.MaterialType||(t.MaterialType={}));var a=i((function e(){r(this,e),this.opacity=1}));t.ModelMaterial=a},779:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelMesh=void 0;var a=i((function e(){r(this,e)}));t.ModelMesh=a},3710:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelMeshPart=void 0;var a=i((function e(){r(this,e)}));t.ModelMeshPart=a},4610:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNode=void 0;var a=i((function e(){r(this,e)}));t.ModelNode=a},7416:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNodeAnimation=void 0;var a=i((function e(){r(this,e),this.translation=null,this.rotation=null,this.scaling=null}));t.ModelNodeAnimation=a},707:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNodeKeyframe=void 0;var a=i((function e(){r(this,e),this.value=null}));t.ModelNodeKeyframe=a},3309:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNodePart=void 0;var a=i((function e(){r(this,e)}));t.ModelNodePart=a},9373:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelTexture=void 0;var a=i((function e(){r(this,e)}));t.ModelTexture=a,a.USAGE_UNKNOWN=0,a.USAGE_NONE=1,a.USAGE_DIFFUSE=2,a.USAGE_EMISSIVE=3,a.USAGE_AMBIENT=4,a.USAGE_SPECULAR=5,a.USAGE_SHININESS=6,a.USAGE_NORMAL=7,a.USAGE_BUMP=8,a.USAGE_TRANSPARENCY=9,a.USAGE_REFLECTION=10},6357:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(129),t),r(n(8896),t),r(n(798),t),r(n(779),t),r(n(3710),t),r(n(4610),t),r(n(7416),t),r(n(707),t),r(n(3309),t),r(n(9373),t)},4501:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(8235),t),r(n(6357),t),r(n(3627),t),r(n(663),t),r(n(1960),t),r(n(5388),t),r(n(5904),t),r(n(5413),t)},4678:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseShader=t.Uniform=t.LocalSetter=t.GlobalSetter=void 0;var a=n(2802),s=function(){function e(){i(this,e)}return r(e,[{key:"isGlobal",value:function(e,t){return!0}}]),e}();t.GlobalSetter=s;var o=function(){function e(){i(this,e)}return r(e,[{key:"isGlobal",value:function(e,t){return!1}}]),e}();t.LocalSetter=o;var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,e),this.alias=t,this.materialMask=n,this.environmentMask=r,this.overallMask=a}return r(e,[{key:"validate",value:function(e,t,n){var i=n&&n.material?n.material.getMask():0,r=n&&n.environment?n.environment.getMask():0;return(i&this.materialMask)===this.materialMask&&(r&this.environmentMask)===this.environmentMask&&((i|r)&this.overallMask)===this.overallMask}}]),e}();t.Uniform=l;var u=function(){function e(){i(this,e),this.uniforms=[],this.validators=[],this.setters=[],this.globalUniforms=[],this.localUniforms=[],this.attributes=new Map,this.combinedAttributes=new a.Attributes,this.tempArray=[]}return r(e,[{key:"canRender",value:function(e){return!0}},{key:"init",value:function(){}},{key:"compareTo",value:function(e){}},{key:"register",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.getUniformID(e);return i>=0?(this.validators.splice(i,0,t),this.setters.splice(i,0,n),i):(this.uniforms.push(e),this.validators.push(t),this.setters.push(n),this.uniforms.length-1)}},{key:"getUniformID",value:function(e){for(var t=this.uniforms.length,n=0;n<t;n++)if(this.uniforms[n]===e)return n;return-1}},{key:"getUniformAlias",value:function(e){return this.uniforms[e]}},{key:"initWithVariables",value:function(e,t){if(this.locations)throw new Error("Already initialized");this.program=e;var n=this.uniforms.length;this.locations=new Array(n);for(var i=0;i<n;i++){var r=this.uniforms[i],a=this.validators[i],s=this.setters[i];a&&!a.validate(this,i,t)?this.locations[i]=null:(this.locations[i]=e.getUniformLocation(r,!1),this.locations[i]&&s&&(s.isGlobal(this,i)?this.globalUniforms.push(i):this.localUniforms.push(i))),this.locations[i]||this.validators.splice(i,0,null)}if(t)for(var o=t.meshPart.mesh.getVertexAttributes(),l=o.size(),u=0;u<l;u++){var c=o.get(u),h=e.getAttributeLocation(c.alias);h>=0&&this.attributes.set(c.getKey(),h)}}},{key:"begin",value:function(e,t){this.camera=e,this.context=t,this.program.bind(),this.currentMesh=null;for(var n=0;n<this.globalUniforms.length;++n){var i=this.globalUniforms[n];this.setters[i]&&this.setters[i].set(this,i,null,null)}}},{key:"render",value:function(e){0!==e.worldTransform.det3x3()&&(this.combinedAttributes.clear(),e.environment&&this.combinedAttributes.setAttributes(e.environment.getAttributes()),e.material&&this.combinedAttributes.setAttributes(e.material.getAttributes()),this.renderWithCombinedAttributes(e,this.combinedAttributes))}},{key:"renderWithCombinedAttributes",value:function(e,t){for(var n,i=0;i<this.localUniforms.length;++i)this.setters[n=this.localUniforms[i]]&&this.setters[n].set(this,n,e,t);this.currentMesh!==e.meshPart.mesh&&(this.currentMesh&&this.currentMesh.unbind(this.program),this.currentMesh=e.meshPart.mesh,this.currentMesh.bind(this.program,this.getAttributeLocations(e.meshPart.mesh.getVertexAttributes()))),e.meshPart.render(this.program,!1)}},{key:"getAttributeLocations",value:function(e){this.tempArray.length=0;for(var t=e.size(),n=0;n<t;n++){var i=this.attributes.get(e.get(n).getKey());void 0!==i&&null!==i||(i=-1),this.tempArray.push(i)}return this.tempArray}},{key:"end",value:function(){this.currentMesh&&(this.currentMesh.unbind(this.program),this.currentMesh=null)}},{key:"dispose",value:function(){this.program=null,this.uniforms.length=0,this.validators.length=0,this.setters.length=0,this.localUniforms.length=0,this.globalUniforms.length=0,this.locations=null}},{key:"has",value:function(e){return e>=0&&e<this.locations.length&&!!this.locations[e]}},{key:"loc",value:function(e){return e>=0&&e<this.locations.length?this.locations[e]:null}},{key:"setMatrix4",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform4x4f(this.uniforms[e],t.values),!0)}},{key:"setMatrix3",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform3x3f(this.uniforms[e],t.getValues()),!0)}},{key:"setVector3",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform3f(this.uniforms[e],t.x,t.y,t.z),!0)}},{key:"setVector2",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform2f(this.uniforms[e],t.x,t.y),!0)}},{key:"setColor",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniform4f(this.uniforms[e],t.r,t.g,t.b,t.a),!0)}},{key:"setF",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniformf(this.uniforms[e],t),!0)}},{key:"set2f",value:function(e,t,n){return!!this.uniforms[e]&&(this.program.setUniform2f(this.uniforms[e],t,n),!0)}},{key:"set3f",value:function(e,t,n,i){return!!this.uniforms[e]&&(this.program.setUniform3f(this.uniforms[e],t,n,i),!0)}},{key:"set4f",value:function(e,t,n,i,r){return!!this.uniforms[e]&&(this.program.setUniform4f(this.uniforms[e],t,n,i,r),!0)}},{key:"setI",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniformi(this.uniforms[e],t),!0)}},{key:"setTexture",value:function(e,t){return!!this.uniforms[e]&&(this.program.setUniformi(this.uniforms[e],this.context.textureBinder.bindTexture(t)),!0)}}]),e}();t.BaseShader=u},616:function(e,t,n){"use strict";var i=n(4704).default,r=n(1588).default,a=n(3808).default,s=n(1655).default,o=n(6389).default,l=n(9728).default,u=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultShader=t.Setters=t.Inputs=t.Bones=t.ACubemap=t.Config=void 0;var c=n(6239),h=n(4995),f=n(1858),d=n(8606),p=n(7811),v=n(2802),m=n(847),g=n(1733),y=n(9693),_=n(5412),b=n(603),x=n(4836),w=n(1148),k=n(2398),M=n(8633),T=n(7299),S=n(1843),A=n(1139),E=n(2036),L=n(8552),C=n(4678),O=l((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u(this,e),this.vertexShader=null,this.fragmentShader=null,this.numDirectionalLights=2,this.numPointLights=5,this.numSpotLights=0,this.numBones=12,this.ignoreUnimplemented=!0,this.defaultCullFace=-1,this.defaultDepthFunc=-1,this.vertexShader=t,this.fragmentShader=n}));t.Config=O;var P=function(e){s(n,e);var t=o(n);function n(e,i){var r;return u(this,n),(r=t.call(this)).cacheAmbientCubemap=new T.AmbientCubemap,r.dirLightsOffset=e,r.pointLightsOffset=i,r}return l(n,[{key:"set",value:function(e,t,i,r){if(i.environment){if(i.worldTransform.getTranslation(n.tmpV1),r.has(g.ColorAttribute3D.AmbientLight)){var a=r.get(g.ColorAttribute3D.AmbientLight).color;this.cacheAmbientCubemap.setColor(a.r,a.g,a.b)}if(r.has(y.DirectionalLightsAttribute.Type))for(var s=r.get(y.DirectionalLightsAttribute.Type).lights,o=this.dirLightsOffset;o<s.length;o++)this.cacheAmbientCubemap.addWithColorAndDirection(s[o].color,s[o].direction);this.cacheAmbientCubemap.clamp(),e.program.setUniform3fv(e.getUniformAlias(t),this.cacheAmbientCubemap.data)}else e.program.setUniform3fv(e.getUniformAlias(t),n.ones)}}]),n}(C.LocalSetter);t.ACubemap=P,P.ones=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],P.tmpV1=new p.Vector3;var I=function(e){s(n,e);var t=o(n);function n(e){var i;return u(this,n),(i=t.call(this)).bones=new Array(16*e),i}return l(n,[{key:"set",value:function(e,t,i,r){for(var a=0;a<this.bones.length;a+=16){var s=a/16;!i.bones||s>=i.bones.length||!i.bones[s]?d.Utils.arrayCopy(n.idtMatrix.values,0,this.bones,a,16):d.Utils.arrayCopy(i.bones[s].values,0,this.bones,a,16)}e.program.setUniform4x4fWithLocation(e.loc(t),this.bones)}}]),n}(C.LocalSetter);t.Bones=I,I.idtMatrix=new h.Matrix4;var N=l((function e(){u(this,e)}));t.Inputs=N,N.projTrans=new C.Uniform("u_projTrans"),N.viewTrans=new C.Uniform("u_viewTrans"),N.projViewTrans=new C.Uniform("u_projViewTrans"),N.cameraPosition=new C.Uniform("u_cameraPosition"),N.cameraDirection=new C.Uniform("u_cameraDirection"),N.cameraUp=new C.Uniform("u_cameraUp"),N.cameraNearFar=new C.Uniform("u_cameraNearFar"),N.worldTrans=new C.Uniform("u_worldTrans"),N.viewWorldTrans=new C.Uniform("u_viewWorldTrans"),N.projViewWorldTrans=new C.Uniform("u_projViewWorldTrans"),N.normalMatrix=new C.Uniform("u_normalMatrix"),N.bones=new C.Uniform("u_bones"),N.shininess=new C.Uniform("u_shininess",_.FloatAttribute.Shininess),N.opacity=new C.Uniform("u_opacity",m.BlendingAttribute.Type),N.diffuseColor=new C.Uniform("u_diffuseColor",g.ColorAttribute3D.Diffuse),N.diffuseTexture=new C.Uniform("u_diffuseTexture",k.TextureAttribute.Diffuse),N.diffuseUVTransform=new C.Uniform("u_diffuseUVTransform",k.TextureAttribute.Diffuse),N.specularColor=new C.Uniform("u_specularColor",g.ColorAttribute3D.Specular),N.specularTexture=new C.Uniform("u_specularTexture",k.TextureAttribute.Specular),N.specularUVTransform=new C.Uniform("u_specularUVTransform",k.TextureAttribute.Specular),N.emissiveColor=new C.Uniform("u_emissiveColor",g.ColorAttribute3D.Emissive),N.emissiveTexture=new C.Uniform("u_emissiveTexture",k.TextureAttribute.Emissive),N.emissiveUVTransform=new C.Uniform("u_emissiveUVTransform",k.TextureAttribute.Emissive),N.reflectionColor=new C.Uniform("u_reflectionColor",g.ColorAttribute3D.Reflection),N.reflectionTexture=new C.Uniform("u_reflectionTexture",k.TextureAttribute.Reflection),N.reflectionUVTransform=new C.Uniform("u_reflectionUVTransform",k.TextureAttribute.Reflection),N.normalTexture=new C.Uniform("u_normalTexture",k.TextureAttribute.Normal),N.normalUVTransform=new C.Uniform("u_normalUVTransform",k.TextureAttribute.Normal),N.ambientTexture=new C.Uniform("u_ambientTexture",k.TextureAttribute.Ambient),N.ambientUVTransform=new C.Uniform("u_ambientUVTransform",k.TextureAttribute.Ambient),N.alphaTest=new C.Uniform("u_alphaTest"),N.ambientCube=new C.Uniform("u_ambientCubemap"),N.dirLights=new C.Uniform("u_dirLights"),N.pointLights=new C.Uniform("u_pointLights"),N.spotLights=new C.Uniform("u_spotLights"),N.environmentCubemap=new C.Uniform("u_environmentCubemap");var R=l((function e(){u(this,e)}));t.Setters=R,R.projTrans=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setMatrix4(t,e.camera.projection)}}]),n}(C.GlobalSetter)),R.viewTrans=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setMatrix4(t,e.camera.view)}}]),n}(C.GlobalSetter)),R.projViewTrans=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setMatrix4(t,e.camera.combined)}}]),n}(C.GlobalSetter)),R.cameraPosition=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.set4f(t,e.camera.position.x,e.camera.position.y,e.camera.position.y,1.1881/(e.camera.far*e.camera.far))}}]),n}(C.GlobalSetter)),R.cameraDirection=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setVector3(t,e.camera.direction)}}]),n}(C.GlobalSetter)),R.cameraUp=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setVector3(t,e.camera.up)}}]),n}(C.GlobalSetter)),R.cameraNearFar=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.set2f(t,e.camera.near,e.camera.far)}}]),n}(C.GlobalSetter)),R.worldTrans=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setMatrix4(t,n.worldTransform)}}]),n}(C.LocalSetter)),R.viewWorldTrans=new(function(e){s(n,e);var t=o(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).temp=new h.Matrix4,e}return l(n,[{key:"set",value:function(e,t,n,i){e.setMatrix4(t,this.temp.set(e.camera.view.values).multiply(n.worldTransform))}}]),n}(C.LocalSetter)),R.projViewWorldTrans=new(function(e){s(n,e);var t=o(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).temp=new h.Matrix4,e}return l(n,[{key:"set",value:function(e,t,n,i){e.setMatrix4(t,this.temp.set(e.camera.combined.values).multiply(n.worldTransform))}}]),n}(C.LocalSetter)),R.normalMatrix=new(function(e){s(n,e);var t=o(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).tmpM=new c.Matrix3,e}return l(n,[{key:"set",value:function(e,t,n,i){e.setMatrix3(t,this.tmpM.setByMatrix4(n.worldTransform).inv().transpose())}}]),n}(C.LocalSetter)),R.shininess=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setF(t,i.get(_.FloatAttribute.Shininess).value)}}]),n}(C.LocalSetter)),R.diffuseColor=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setColor(t,i.get(g.ColorAttribute3D.Diffuse).color)}}]),n}(C.LocalSetter)),R.diffuseTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=e.context.textureBinder.bindTexture(i.get(k.TextureAttribute.Diffuse).texture);e.setI(t,r)}}]),n}(C.LocalSetter)),R.diffuseUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=i.get(k.TextureAttribute.Diffuse);e.set4f(t,r.offsetU,r.offsetV,r.scaleU,r.scaleV)}}]),n}(C.LocalSetter)),R.specularColor=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setColor(t,i.get(g.ColorAttribute3D.Specular).color)}}]),n}(C.LocalSetter)),R.specularTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=e.context.textureBinder.bindTexture(i.get(k.TextureAttribute.Specular).texture);e.setI(t,r)}}]),n}(C.LocalSetter)),R.specularUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=i.get(k.TextureAttribute.Specular);e.set4f(t,r.offsetU,r.offsetV,r.scaleU,r.scaleV)}}]),n}(C.LocalSetter)),R.emissiveColor=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setColor(t,i.get(g.ColorAttribute3D.Emissive).color)}}]),n}(C.LocalSetter)),R.emissiveTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=e.context.textureBinder.bindTexture(i.get(k.TextureAttribute.Emissive).texture);e.setI(t,r)}}]),n}(C.LocalSetter)),R.emissiveUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=i.get(k.TextureAttribute.Emissive);e.set4f(t,r.offsetU,r.offsetV,r.scaleU,r.scaleV)}}]),n}(C.LocalSetter)),R.reflectionColor=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){e.setColor(t,i.get(g.ColorAttribute3D.Reflection).color)}}]),n}(C.LocalSetter)),R.reflectionTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=e.context.textureBinder.bindTexture(i.get(k.TextureAttribute.Reflection).texture);e.setI(t,r)}}]),n}(C.LocalSetter)),R.reflectionUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=i.get(k.TextureAttribute.Reflection);e.set4f(t,r.offsetU,r.offsetV,r.scaleU,r.scaleV)}}]),n}(C.LocalSetter)),R.normalTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=e.context.textureBinder.bindTexture(i.get(k.TextureAttribute.Normal).texture);e.setI(t,r)}}]),n}(C.LocalSetter)),R.normalUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=i.get(k.TextureAttribute.Normal);e.set4f(t,r.offsetU,r.offsetV,r.scaleU,r.scaleV)}}]),n}(C.LocalSetter)),R.ambientTexture=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=e.context.textureBinder.bindTexture(i.get(k.TextureAttribute.Ambient).texture);e.setI(t,r)}}]),n}(C.LocalSetter)),R.ambientUVTransform=new(function(e){s(n,e);var t=o(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"set",value:function(e,t,n,i){var r=i.get(k.TextureAttribute.Ambient);e.set4f(t,r.offsetU,r.offsetV,r.scaleU,r.scaleV)}}]),n}(C.LocalSetter));var F=function(e){s(n,e);var t=o(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return u(this,n),(r=t.call(this)).gl=e,r.u_dirLights0color=r.register("u_dirLights[0].color"),r.u_dirLights0direction=r.register("u_dirLights[0].direction"),r.u_dirLights1color=r.register("u_dirLights[1].color"),r.u_pointLights0color=r.register("u_pointLights[0].color"),r.u_pointLights0position=r.register("u_pointLights[0].position"),r.u_pointLights0intensity=r.register("u_pointLights[0].intensity"),r.u_pointLights1color=r.register("u_pointLights[1].color"),r.u_spotLights0color=r.register("u_spotLights[0].color"),r.u_spotLights0position=r.register("u_spotLights[0].position"),r.u_spotLights0intensity=r.register("u_spotLights[0].intensity"),r.u_spotLights0direction=r.register("u_spotLights[0].direction"),r.u_spotLights0cutoffAngle=r.register("u_spotLights[0].cutoffAngle"),r.u_spotLights0exponent=r.register("u_spotLights[0].exponent"),r.u_spotLights1color=r.register("u_spotLights[1].color"),r.u_fogColor=r.register("u_fogColor"),r.u_shadowMapProjViewTrans=r.register("u_shadowMapProjViewTrans"),r.u_shadowTexture=r.register("u_shadowTexture"),r.u_shadowPCFOffset=r.register("u_shadowPCFOffset"),r.lightLocs=new Array,r.ambientCubemap=new T.AmbientCubemap,r.tmpV1=new p.Vector3,0===o.length&&(o=n.defaultVertexShader),0===l.length&&(l=n.defaultFragmentShader),a?s=n.createPrefix(i,a):a=new O,r.createShader(i,a,new f.Shader(r.gl,s+o,s+l)),r}return l(n,[{key:"createShader",value:function(e,t,i){var r=n.combineAttributes(e);this.config=t,this.program=i,this.lighting=!!e.environment,this.environmentCubemap=!1,this.shadowMap=!1,this.renderable=e,this.attributesMask=r.getMask()|n.optionalAttributes,this.vertexMask=e.meshPart.mesh.getVertexAttributes().getMaskWithSizePacked(),this.directionalLights=new Array(this.lighting&&t.numDirectionalLights>0?t.numDirectionalLights:0);for(var a=0;a<this.directionalLights.length;a++)this.directionalLights[a]=new S.DirectionalLight;this.pointLights=new Array(this.lighting&&t.numPointLights>0?t.numPointLights:0);for(var s=0;s<this.pointLights.length;s++)this.pointLights[s]=new A.PointLight;this.spotLights=new Array(this.lighting&&t.numSpotLights>0?t.numSpotLights:0);for(var o=0;o<this.spotLights.length;o++)this.spotLights[o]=new E.SpotLight;if(!t.ignoreUnimplemented&&(n.implementedFlags&this.attributesMask)!==this.attributesMask)throw new Error("Some attributes not implemented yet ("+this.attributesMask+")");if(e.bones&&e.bones.length>t.numBones)throw new Error("too many bones: "+e.bones.length+", max configured: "+t.numBones);this.u_projTrans=this.register(N.projTrans.alias,null,R.projTrans),this.u_viewTrans=this.register(N.viewTrans.alias,null,R.viewTrans),this.u_projViewTrans=this.register(N.projViewTrans.alias,null,R.projViewTrans),this.u_cameraPosition=this.register(N.cameraPosition.alias,null,R.cameraPosition),this.u_cameraDirection=this.register(N.cameraDirection.alias,null,R.cameraDirection),this.u_cameraUp=this.register(N.cameraUp.alias,null,R.cameraUp),this.u_cameraNearFar=this.register(N.cameraNearFar.alias,null,R.cameraNearFar);var l=new C.Uniform("u_time");this.u_time=this.register(l.alias,l),this.u_worldTrans=this.register(N.worldTrans.alias,null,R.worldTrans),this.u_viewWorldTrans=this.register(N.viewWorldTrans.alias,null,R.viewWorldTrans),this.u_projViewWorldTrans=this.register(N.projViewWorldTrans.alias,null,R.projViewWorldTrans),this.u_normalMatrix=this.register(N.normalMatrix.alias,null,R.normalMatrix),this.u_bones=e.bones&&t.numBones>0?this.register(N.bones.alias,null,new I(t.numBones)):-1,this.u_shininess=this.register(N.shininess.alias,null,R.shininess),this.u_opacity=this.register(N.opacity.alias),this.u_diffuseColor=this.register(N.diffuseColor.alias,null,R.diffuseColor),this.u_diffuseTexture=this.register(N.diffuseTexture.alias,null,R.diffuseTexture),this.u_diffuseUVTransform=this.register(N.diffuseUVTransform.alias,null,R.diffuseUVTransform),this.u_specularColor=this.register(N.specularColor.alias,null,R.specularColor),this.u_specularTexture=this.register(N.specularTexture.alias,null,R.specularTexture),this.u_specularUVTransform=this.register(N.specularUVTransform.alias,null,R.specularUVTransform),this.u_emissiveColor=this.register(N.emissiveColor.alias,null,R.emissiveColor),this.u_emissiveTexture=this.register(N.emissiveTexture.alias,null,R.emissiveTexture),this.u_emissiveUVTransform=this.register(N.emissiveUVTransform.alias,null,R.emissiveUVTransform),this.u_reflectionColor=this.register(N.reflectionColor.alias,null,R.reflectionColor),this.u_reflectionTexture=this.register(N.reflectionTexture.alias,null,R.reflectionTexture),this.u_reflectionUVTransform=this.register(N.reflectionUVTransform.alias,null,R.reflectionUVTransform),this.u_normalTexture=this.register(N.normalTexture.alias,null,R.normalTexture),this.u_normalUVTransform=this.register(N.normalUVTransform.alias,null,R.normalUVTransform),this.u_ambientTexture=this.register(N.ambientTexture.alias,null,R.ambientTexture),this.u_ambientUVTransform=this.register(N.ambientUVTransform.alias,null,R.ambientUVTransform),this.u_alphaTest=this.register(N.alphaTest.alias),this.u_ambientCubemap=this.lighting?this.register(N.ambientCube.alias,null,new P(t.numDirectionalLights,t.numPointLights)):-1}},{key:"init",value:function(){var e=this.program;this.program=null,this.initWithVariables(e,this.renderable),this.renderable=null,this.dirLightsLoc=this.getLightLoc(this.u_dirLights0color),this.dirLightsColorOffset=this.getLightLoc(this.u_dirLights0color)-this.dirLightsLoc,this.dirLightsDirectionOffset=this.getLightLoc(this.u_dirLights0direction)-this.dirLightsLoc,this.dirLightsSize=this.getLightLoc(this.u_dirLights1color)-this.dirLightsLoc,this.dirLightsSize<0&&(this.dirLightsSize=0),this.pointLightsLoc=this.getLightLoc(this.u_pointLights0color),this.pointLightsColorOffset=this.getLightLoc(this.u_pointLights0color)-this.pointLightsLoc,this.pointLightsPositionOffset=this.getLightLoc(this.u_pointLights0position)-this.pointLightsLoc,this.pointLightsIntensityOffset=this.has(this.u_pointLights0intensity)?this.getLightLoc(this.u_pointLights0intensity)-this.pointLightsLoc:-1,this.pointLightsSize=this.getLightLoc(this.u_pointLights1color)-this.pointLightsLoc,this.pointLightsSize<0&&(this.pointLightsSize=0),this.spotLightsLoc=this.getLightLoc(this.u_spotLights0color),this.spotLightsColorOffset=this.getLightLoc(this.u_spotLights0color)-this.spotLightsLoc,this.spotLightsPositionOffset=this.getLightLoc(this.u_spotLights0position)-this.spotLightsLoc,this.spotLightsDirectionOffset=this.getLightLoc(this.u_spotLights0direction)-this.spotLightsLoc,this.spotLightsIntensityOffset=this.has(this.u_spotLights0intensity)?this.getLightLoc(this.u_spotLights0intensity)-this.spotLightsLoc:-1,this.spotLightsCutoffAngleOffset=this.getLightLoc(this.u_spotLights0cutoffAngle)-this.spotLightsLoc,this.spotLightsExponentOffset=this.getLightLoc(this.u_spotLights0exponent)-this.spotLightsLoc,this.spotLightsSize=this.getLightLoc(this.u_spotLights1color)-this.spotLightsLoc,this.spotLightsSize<0&&(this.spotLightsSize=0)}},{key:"canRender",value:function(e){if(e.bones&&e.bones.length>this.config.numBones)return!1;var t=n.combineAttributeMasks(e);return this.attributesMask===(t|n.optionalAttributes)&&this.vertexMask===e.meshPart.mesh.getVertexAttributes().getMaskWithSizePacked()&&!!e.environment===this.lighting}},{key:"begin",value:function(e,t){r(a(n.prototype),"begin",this).call(this,e,t);var s,o=i(this.directionalLights);try{for(o.s();!(s=o.n()).done;){s.value.set(0,0,0,0,-1,0)}}catch(f){o.e(f)}finally{o.f()}var l,u=i(this.pointLights);try{for(u.s();!(l=u.n()).done;){l.value.setFromValue(0,0,0,0,0,0,0)}}catch(f){u.e(f)}finally{u.f()}var c,h=i(this.spotLights);try{for(h.s();!(c=h.n()).done;){c.value.setFromValue(0,0,0,0,0,0,0,-1,0,0,1,0)}}catch(f){h.e(f)}finally{h.f()}this.lightsSet=!1}},{key:"renderWithCombinedAttributes",value:function(e,t){t.has(m.BlendingAttribute.Type)||this.context.setBlending(!1,L.GL20.GL_SRC_ALPHA,L.GL20.GL_ONE_MINUS_SRC_ALPHA),this.bindMaterial(t),this.lighting&&this.bindLights(e,t),r(a(n.prototype),"renderWithCombinedAttributes",this).call(this,e,t)}},{key:"end",value:function(){r(a(n.prototype),"end",this).call(this)}},{key:"bindMaterial",value:function(e){var t,r=-1===this.config.defaultCullFace?n.defaultCullFace:this.config.defaultCullFace,a=-1===this.config.defaultDepthFunc?n.defaultDepthFunc:this.config.defaultDepthFunc,s=i(e.getAttributes());try{for(s.s();!(t=s.n()).done;){var o=t.value,l=o.type;if(m.BlendingAttribute.is(l))this.context.setBlending(!0,o.sourceFunction,o.destFunction),this.setF(this.u_opacity,o.opacity);else if((l&b.IntAttribute.CullFace)===b.IntAttribute.CullFace)r=o.value;else if((l&_.FloatAttribute.AlphaTest)===_.FloatAttribute.AlphaTest)this.setF(this.u_alphaTest,o.value);else if(!this.config.ignoreUnimplemented)throw new Error("Unknown material attribute: "+o.toString())}}catch(u){s.e(u)}finally{s.f()}this.context.setCullFace(r),this.context.setDepthTest(a,0,1),this.context.setDepthMask(!0)}},{key:"bindLights",value:function(e,t){var n=t.get(y.DirectionalLightsAttribute.Type),i=n?n.lights:null,r=t.get(x.PointLightsAttribute.Type),a=r?r.lights:null,s=t.get(w.SpotLightsAttribute.Type),o=s?s.lights:null;if(this.dirLightsLoc>=0)for(var l=0;l<this.directionalLights.length;l++){if(!i||l>=i.length){if(this.lightsSet&&0===this.directionalLights[l].color.r&&0===this.directionalLights[l].color.g&&0===this.directionalLights[l].color.b)continue;this.directionalLights[l].color.set(0,0,0,1)}else{if(this.lightsSet&&this.directionalLights[l].equals(i[l]))continue;this.directionalLights[l].setFrom(i[l].color,i[l].direction)}var u=this.dirLightsLoc+l*this.dirLightsSize;if(this.program.setUniform3fWithLocation(this.lightLocs[u+this.dirLightsColorOffset],this.directionalLights[l].color.r,this.directionalLights[l].color.g,this.directionalLights[l].color.b),this.program.setUniform3fWithLocation(this.lightLocs[u+this.dirLightsDirectionOffset],this.directionalLights[l].direction.x,this.directionalLights[l].direction.y,this.directionalLights[l].direction.z),this.dirLightsSize<=0)break}if(this.pointLightsLoc>=0)for(var c=0;c<this.pointLights.length;c++){if(!a||c>=a.length){if(this.lightsSet&&0===this.pointLights[c].intensity)continue;this.pointLights[c].intensity=0}else{if(this.lightsSet&&this.pointLights[c].equals(a[c]))continue;this.pointLights[c].setFrom(a[c])}var h=this.pointLightsLoc+c*this.pointLightsSize;if(this.program.setUniform3fWithLocation(this.lightLocs[h+this.pointLightsColorOffset],this.pointLights[c].color.r*this.pointLights[c].intensity,this.pointLights[c].color.g*this.pointLights[c].intensity,this.pointLights[c].color.b*this.pointLights[c].intensity),this.program.setUniform3fWithLocation(this.lightLocs[h+this.pointLightsPositionOffset],this.pointLights[c].position.x,this.pointLights[c].position.y,this.pointLights[c].position.z),this.pointLightsIntensityOffset>=0&&this.program.setUniform1fWithLocation(this.lightLocs[h+this.pointLightsIntensityOffset],this.pointLights[c].intensity),this.pointLightsSize<=0)break}if(this.spotLightsLoc>=0)for(var f=0;f<this.spotLights.length;f++){if(!o||f>=o.length){if(this.lightsSet&&0===this.spotLights[f].intensity)continue;this.spotLights[f].intensity=0}else{if(this.lightsSet&&this.spotLights[f].equals(o[f]))continue;this.spotLights[f].setFrom(o[f])}var d=this.spotLightsLoc+f*this.spotLightsSize;if(this.program.setUniform3fWithLocation(this.lightLocs[d+this.spotLightsColorOffset],this.spotLights[f].color.r*this.spotLights[f].intensity,this.spotLights[f].color.g*this.spotLights[f].intensity,this.spotLights[f].color.b*this.spotLights[f].intensity),this.program.setUniform3fWithLocation(this.lightLocs[d+this.spotLightsPositionOffset],this.spotLights[f].position.x,this.spotLights[f].position.y,this.spotLights[f].position.z),this.program.setUniform3fWithLocation(this.lightLocs[d+this.spotLightsDirectionOffset],this.spotLights[f].direction.x,this.spotLights[f].direction.y,this.spotLights[f].direction.z),this.program.setUniform1fWithLocation(this.lightLocs[d+this.spotLightsCutoffAngleOffset],this.spotLights[f].cutoffAngle),this.program.setUniform1fWithLocation(this.lightLocs[d+this.spotLightsExponentOffset],this.spotLights[f].exponent),this.spotLightsIntensityOffset>=0&&this.program.setUniform1fWithLocation(this.lightLocs[d+this.spotLightsIntensityOffset],this.spotLights[f].intensity),this.spotLightsSize<=0)break}this.lightsSet=!0}},{key:"getLightLoc",value:function(e){var t=this.loc(e),n=this.lightLocs.indexOf(t);return t?n<0?(this.lightLocs.push(t),this.lightLocs.length-1):n:-1}},{key:"dispose",value:function(){this.program.dispose(),r(a(n.prototype),"dispose",this).call(this)}},{key:"getDefaultCullFace",value:function(){return-1===this.config.defaultCullFace?n.defaultCullFace:this.config.defaultCullFace}},{key:"setDefaultCullFace",value:function(e){this.config.defaultCullFace=e}},{key:"getDefaultDepthFunc",value:function(){return-1===this.config.defaultDepthFunc?n.defaultDepthFunc:this.config.defaultDepthFunc}},{key:"setDefaultDepthFunc",value:function(e){this.config.defaultDepthFunc=e}}],[{key:"and",value:function(e,t){return(e&t)===t}},{key:"or",value:function(e,t){return 0!==(e&t)}},{key:"combineAttributes",value:function(e){return this.tmpAttributes.clear(),e.environment&&this.tmpAttributes.setAttributes(e.environment.getAttributes()),e.material&&this.tmpAttributes.setAttributes(e.material.getAttributes()),this.tmpAttributes}},{key:"combineAttributeMasks",value:function(e){var t=0;return e.environment&&(t|=e.environment.getMask()),e.material&&(t|=e.material.getMask()),t}},{key:"createPrefix",value:function(e,t){var n=this.combineAttributes(e),i="",r=n.getMask(),a=e.meshPart.mesh.getVertexAttributes().getMask();this.and(a,M.Usage.Position)&&(i+="#define positionFlag\n"),this.or(a,M.Usage.ColorUnpacked|M.Usage.ColorPacked)&&(i+="#define colorFlag\n"),this.and(a,M.Usage.BiNormal)&&(i+="#define binormalFlag\n"),this.and(a,M.Usage.Tangent)&&(i+="#define tangentFlag\n"),this.and(a,M.Usage.Normal)&&(i+="#define normalFlag\n"),(this.and(a,M.Usage.Normal)||this.and(a,M.Usage.Tangent|M.Usage.BiNormal))&&e.environment&&(i+="#define lightingFlag\n",i+="#define ambientCubemapFlag\n",i+="#define numDirectionalLights "+t.numDirectionalLights+"\n",i+="#define numPointLights "+t.numPointLights+"\n",i+="#define numSpotLights "+t.numSpotLights+"\n",n.has(g.ColorAttribute3D.Fog)&&(i+="#define fogFlag\n"));for(var s=e.meshPart.mesh.getVertexAttributes().size(),o=0;o<s;o++){var l=e.meshPart.mesh.getVertexAttributes().get(o);l.usage===M.Usage.BoneWeight?i+="#define boneWeight"+l.unit+"Flag\n":l.usage===M.Usage.TextureCoordinates&&(i+="#define texCoords"+l.unit+"Flag\n")}return(r&m.BlendingAttribute.Type)===m.BlendingAttribute.Type&&(i+="#define "+m.BlendingAttribute.Alias+"Flag\n"),(r&k.TextureAttribute.Diffuse)===k.TextureAttribute.Diffuse&&(i+="#define "+k.TextureAttribute.DiffuseAlias+"Flag\n",i+="#define "+k.TextureAttribute.DiffuseAlias+"Coord texCoords0\n"),(r&k.TextureAttribute.Specular)===k.TextureAttribute.Specular&&(i+="#define "+k.TextureAttribute.SpecularAlias+"Flag\n",i+="#define "+k.TextureAttribute.SpecularAlias+"Coord texCoords0\n"),(r&k.TextureAttribute.Normal)===k.TextureAttribute.Normal&&(i+="#define "+k.TextureAttribute.NormalAlias+"Flag\n",i+="#define "+k.TextureAttribute.NormalAlias+"Coord texCoords0\n"),(r&k.TextureAttribute.Emissive)===k.TextureAttribute.Emissive&&(i+="#define "+k.TextureAttribute.EmissiveAlias+"Flag\n",i+="#define "+k.TextureAttribute.EmissiveAlias+"Coord texCoords0\n"),(r&k.TextureAttribute.Reflection)===k.TextureAttribute.Reflection&&(i+="#define "+k.TextureAttribute.ReflectionAlias+"Flag\n",i+="#define "+k.TextureAttribute.ReflectionAlias+"Coord texCoords0\n"),(r&k.TextureAttribute.Ambient)===k.TextureAttribute.Ambient&&(i+="#define "+k.TextureAttribute.AmbientAlias+"Flag\n",i+="#define "+k.TextureAttribute.AmbientAlias+"Coord texCoords0\n"),(r&g.ColorAttribute3D.Diffuse)===g.ColorAttribute3D.Diffuse&&(i+="#define "+g.ColorAttribute3D.DiffuseAlias+"Flag\n"),(r&g.ColorAttribute3D.Specular)===g.ColorAttribute3D.Specular&&(i+="#define "+g.ColorAttribute3D.SpecularAlias+"Flag\n"),(r&g.ColorAttribute3D.Emissive)===g.ColorAttribute3D.Emissive&&(i+="#define "+g.ColorAttribute3D.EmissiveAlias+"Flag\n"),(r&g.ColorAttribute3D.Reflection)===g.ColorAttribute3D.Reflection&&(i+="#define "+g.ColorAttribute3D.ReflectionAlias+"Flag\n"),(r&_.FloatAttribute.Shininess)===_.FloatAttribute.Shininess&&(i+="#define "+_.FloatAttribute.ShininessAlias+"Flag\n"),(r&_.FloatAttribute.AlphaTest)===_.FloatAttribute.AlphaTest&&(i+="#define "+_.FloatAttribute.AlphaTestAlias+"Flag\n"),e.bones&&t.numBones>0&&(i+="#define numBones "+t.numBones+"\n"),i}}]),n}(C.BaseShader);t.DefaultShader=F,F.defaultVertexShader="\n  #if defined(diffuseTextureFlag) || defined(specularTextureFlag) || defined(emissiveTextureFlag)\n  #define textureFlag\n  #endif\n\n  #if defined(specularTextureFlag) || defined(specularColorFlag)\n  #define specularFlag\n  #endif\n\n  #if defined(specularFlag) || defined(fogFlag)\n  #define cameraPositionFlag\n  #endif\n\n  attribute vec3 a_position;\n  uniform mat4 u_projViewTrans;\n\n  #if defined(colorFlag)\n  varying vec4 v_color;\n  attribute vec4 a_color;\n  #endif // colorFlag\n\n  #ifdef normalFlag\n  attribute vec3 a_normal;\n  uniform mat3 u_normalMatrix;\n  varying vec3 v_normal;\n  #endif // normalFlag\n\n  #ifdef textureFlag\n  attribute vec2 a_texCoords0;\n  #endif // textureFlag\n\n  #ifdef diffuseTextureFlag\n  uniform vec4 u_diffuseUVTransform;\n  varying vec2 v_diffuseUV;\n  #endif\n\n  #ifdef emissiveTextureFlag\n  uniform vec4 u_emissiveUVTransform;\n  varying vec2 v_emissiveUV;\n  #endif\n\n  #ifdef specularTextureFlag\n  uniform vec4 u_specularUVTransform;\n  varying vec2 v_specularUV;\n  #endif\n\n  #ifdef boneWeight0Flag\n  #define boneWeightsFlag\n  attribute vec2 a_boneWeight0;\n  #endif //boneWeight0Flag\n\n  #ifdef boneWeight1Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight1;\n  #endif //boneWeight1Flag\n\n  #ifdef boneWeight2Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight2;\n  #endif //boneWeight2Flag\n\n  #ifdef boneWeight3Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight3;\n  #endif //boneWeight3Flag\n\n  #ifdef boneWeight4Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight4;\n  #endif //boneWeight4Flag\n\n  #ifdef boneWeight5Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight5;\n  #endif //boneWeight5Flag\n\n  #ifdef boneWeight6Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight6;\n  #endif //boneWeight6Flag\n\n  #ifdef boneWeight7Flag\n  #ifndef boneWeightsFlag\n  #define boneWeightsFlag\n  #endif\n  attribute vec2 a_boneWeight7;\n  #endif //boneWeight7Flag\n\n  #if defined(numBones) && defined(boneWeightsFlag)\n  #if (numBones > 0) \n  #define skinningFlag\n  #endif\n  #endif\n\n  uniform mat4 u_worldTrans;\n\n  #if defined(numBones)\n  #if numBones > 0\n  uniform mat4 u_bones[numBones];\n  #endif //numBones\n  #endif\n\n  #ifdef shininessFlag\n  uniform float u_shininess;\n  #else\n  const float u_shininess = 20.0;\n  #endif // shininessFlag\n\n  #ifdef blendedFlag\n  uniform float u_opacity;\n  varying float v_opacity;\n\n  #ifdef alphaTestFlag\n  uniform float u_alphaTest;\n  varying float v_alphaTest;\n  #endif //alphaTestFlag\n  #endif // blendedFlag\n\n  #ifdef lightingFlag\n  varying vec3 v_lightDiffuse;\n\n  #ifdef ambientLightFlag\n  uniform vec3 u_ambientLight;\n  #endif // ambientLightFlag\n\n  #ifdef ambientCubemapFlag\n  uniform vec3 u_ambientCubemap[6];\n  #endif // ambientCubemapFlag \n\n  #ifdef sphericalHarmonicsFlag\n  uniform vec3 u_sphericalHarmonics[9];\n  #endif //sphericalHarmonicsFlag\n\n  #ifdef specularFlag\n  varying vec3 v_lightSpecular;\n  #endif // specularFlag\n\n  #ifdef cameraPositionFlag\n  uniform vec4 u_cameraPosition;\n  #endif // cameraPositionFlag\n\n  #ifdef fogFlag\n  varying float v_fog;\n  #endif // fogFlag\n\n\n  #if numDirectionalLights > 0\n  struct DirectionalLight\n  {\n    vec3 color;\n    vec3 direction;\n  };\n  uniform DirectionalLight u_dirLights[numDirectionalLights];\n  #endif // numDirectionalLights\n\n  #if numPointLights > 0\n  struct PointLight\n  {\n    vec3 color;\n    vec3 position;\n  };\n  uniform PointLight u_pointLights[numPointLights];\n  #endif // numPointLights\n\n  #if\tdefined(ambientLightFlag) || defined(ambientCubemapFlag) || defined(sphericalHarmonicsFlag)\n  #define ambientFlag\n  #endif //ambientFlag\n\n  #ifdef shadowMapFlag\n  uniform mat4 u_shadowMapProjViewTrans;\n  varying vec3 v_shadowMapUv;\n  #define separateAmbientFlag\n  #endif //shadowMapFlag\n\n  #if defined(ambientFlag) && defined(separateAmbientFlag)\n  varying vec3 v_ambientLight;\n  #endif //separateAmbientFlag\n\n  #endif // lightingFlag\n\n  void main() {\n    #ifdef diffuseTextureFlag\n      v_diffuseUV = u_diffuseUVTransform.xy + a_texCoords0 * u_diffuseUVTransform.zw;\n    #endif //diffuseTextureFlag\n    \n    #ifdef emissiveTextureFlag\n      v_emissiveUV = u_emissiveUVTransform.xy + a_texCoords0 * u_emissiveUVTransform.zw;\n    #endif //emissiveTextureFlag\n\n    #ifdef specularTextureFlag\n      v_specularUV = u_specularUVTransform.xy + a_texCoords0 * u_specularUVTransform.zw;\n    #endif //specularTextureFlag\n    \n    #if defined(colorFlag)\n      v_color = a_color;\n    #endif // colorFlag\n      \n    #ifdef blendedFlag\n      v_opacity = u_opacity;\n      #ifdef alphaTestFlag\n        v_alphaTest = u_alphaTest;\n      #endif //alphaTestFlag\n    #endif // blendedFlag\n    \n    #ifdef skinningFlag\n      mat4 skinning = mat4(0.0);\n      #ifdef boneWeight0Flag\n        skinning += (a_boneWeight0.y) * u_bones[int(a_boneWeight0.x)];\n      #endif //boneWeight0Flag\n      #ifdef boneWeight1Flag\t\t\t\t\n        skinning += (a_boneWeight1.y) * u_bones[int(a_boneWeight1.x)];\n      #endif //boneWeight1Flag\n      #ifdef boneWeight2Flag\t\t\n        skinning += (a_boneWeight2.y) * u_bones[int(a_boneWeight2.x)];\n      #endif //boneWeight2Flag\n      #ifdef boneWeight3Flag\n        skinning += (a_boneWeight3.y) * u_bones[int(a_boneWeight3.x)];\n      #endif //boneWeight3Flag\n      #ifdef boneWeight4Flag\n        skinning += (a_boneWeight4.y) * u_bones[int(a_boneWeight4.x)];\n      #endif //boneWeight4Flag\n      #ifdef boneWeight5Flag\n        skinning += (a_boneWeight5.y) * u_bones[int(a_boneWeight5.x)];\n      #endif //boneWeight5Flag\n      #ifdef boneWeight6Flag\n        skinning += (a_boneWeight6.y) * u_bones[int(a_boneWeight6.x)];\n      #endif //boneWeight6Flag\n      #ifdef boneWeight7Flag\n        skinning += (a_boneWeight7.y) * u_bones[int(a_boneWeight7.x)];\n      #endif //boneWeight7Flag\n    #endif //skinningFlag\n\n    #ifdef skinningFlag\n      vec4 pos = u_worldTrans * skinning * vec4(a_position, 1.0);\n    #else\n      vec4 pos = u_worldTrans * vec4(a_position, 1.0);\n    #endif\n      \n    gl_Position = u_projViewTrans * pos;\n      \n    #ifdef shadowMapFlag\n      vec4 spos = u_shadowMapProjViewTrans * pos;\n      v_shadowMapUv.xyz = (spos.xyz / spos.w) * 0.5 + 0.5;\n      v_shadowMapUv.z = min(v_shadowMapUv.z, 0.998);\n    #endif //shadowMapFlag\n    \n    #if defined(normalFlag)\n      #if defined(skinningFlag)\n        vec3 normal = normalize((u_worldTrans * skinning * vec4(a_normal, 0.0)).xyz);\n      #else\n        vec3 normal = normalize(u_normalMatrix * a_normal);\n      #endif\n      v_normal = normal;\n    #endif // normalFlag\n\n      #ifdef fogFlag\n          vec3 flen = u_cameraPosition.xyz - pos.xyz;\n          float fog = dot(flen, flen) * u_cameraPosition.w;\n          v_fog = min(fog, 1.0);\n      #endif\n\n    #ifdef lightingFlag\n      #if\tdefined(ambientLightFlag)\n            vec3 ambientLight = u_ambientLight;\n      #elif defined(ambientFlag)\n            vec3 ambientLight = vec3(0.0);\n      #endif\n        \n      #ifdef ambientCubemapFlag \t\t\n        vec3 squaredNormal = normal * normal;\n        vec3 isPositive  = step(0.0, normal);\n        ambientLight += squaredNormal.x * mix(u_ambientCubemap[0], u_ambientCubemap[1], isPositive.x) +\n            squaredNormal.y * mix(u_ambientCubemap[2], u_ambientCubemap[3], isPositive.y) +\n            squaredNormal.z * mix(u_ambientCubemap[4], u_ambientCubemap[5], isPositive.z);\n      #endif // ambientCubemapFlag\n\n      #ifdef sphericalHarmonicsFlag\n        ambientLight += u_sphericalHarmonics[0];\n        ambientLight += u_sphericalHarmonics[1] * normal.x;\n        ambientLight += u_sphericalHarmonics[2] * normal.y;\n        ambientLight += u_sphericalHarmonics[3] * normal.z;\n        ambientLight += u_sphericalHarmonics[4] * (normal.x * normal.z);\n        ambientLight += u_sphericalHarmonics[5] * (normal.z * normal.y);\n        ambientLight += u_sphericalHarmonics[6] * (normal.y * normal.x);\n        ambientLight += u_sphericalHarmonics[7] * (3.0 * normal.z * normal.z - 1.0);\n        ambientLight += u_sphericalHarmonics[8] * (normal.x * normal.x - normal.y * normal.y);\t\t\t\n      #endif // sphericalHarmonicsFlag\n\n      #ifdef ambientFlag\n        #ifdef separateAmbientFlag\n          v_ambientLight = ambientLight;\n          v_lightDiffuse = vec3(0.0);\n        #else\n          v_lightDiffuse = ambientLight;\n        #endif //separateAmbientFlag\n      #else\n            v_lightDiffuse = vec3(0.0);\n      #endif //ambientFlag\n\n        \n      #ifdef specularFlag\n        v_lightSpecular = vec3(0.0);\n        vec3 viewVec = normalize(u_cameraPosition.xyz - pos.xyz);\n      #endif // specularFlag\n        \n      #if (numDirectionalLights > 0) && defined(normalFlag)\n        for (int i = 0; i < numDirectionalLights; i++) {\n          vec3 lightDir = -u_dirLights[i].direction;\n          float NdotL = clamp(dot(normal, lightDir), 0.0, 1.0);\n          vec3 value = u_dirLights[i].color * NdotL;\n          v_lightDiffuse += value;\n          #ifdef specularFlag\n            float halfDotView = max(0.0, dot(normal, normalize(lightDir + viewVec)));\n            v_lightSpecular += value * pow(halfDotView, u_shininess);\n          #endif // specularFlag\n        }\n      #endif // numDirectionalLights\n\n      #if (numPointLights > 0) && defined(normalFlag)\n        for (int i = 0; i < numPointLights; i++) {\n          vec3 lightDir = u_pointLights[i].position - pos.xyz;\n          float dist2 = dot(lightDir, lightDir);\n          lightDir *= inversesqrt(dist2);\n          float NdotL = clamp(dot(normal, lightDir), 0.0, 1.0);\n          vec3 value = u_pointLights[i].color * (NdotL / (1.0 + dist2));\n          v_lightDiffuse += value;\n          #ifdef specularFlag\n            float halfDotView = max(0.0, dot(normal, normalize(lightDir + viewVec)));\n            v_lightSpecular += value * pow(halfDotView, u_shininess);\n          #endif // specularFlag\n        }\n      #endif // numPointLights\n    #endif // lightingFlag\n  }\n  ",F.defaultFragmentShader="\n  #ifdef GL_ES\n  #define LOWP lowp\n  #define MED mediump\n  #define HIGH highp\n  precision mediump float;\n  #else\n  #define MED\n  #define LOWP\n  #define HIGH\n  #endif\n\n  #if defined(specularTextureFlag) || defined(specularColorFlag)\n  #define specularFlag\n  #endif\n\n  #ifdef normalFlag\n  varying vec3 v_normal;\n  #endif //normalFlag\n\n  #if defined(colorFlag)\n  varying vec4 v_color;\n  #endif\n\n  #ifdef blendedFlag\n  varying float v_opacity;\n  #ifdef alphaTestFlag\n  varying float v_alphaTest;\n  #endif //alphaTestFlag\n  #endif //blendedFlag\n\n  #if defined(diffuseTextureFlag) || defined(specularTextureFlag) || defined(emissiveTextureFlag)\n  #define textureFlag\n  #endif\n\n  #ifdef diffuseTextureFlag\n  varying MED vec2 v_diffuseUV;\n  #endif\n\n  #ifdef specularTextureFlag\n  varying MED vec2 v_specularUV;\n  #endif\n\n  #ifdef emissiveTextureFlag\n  varying MED vec2 v_emissiveUV;\n  #endif\n\n  #ifdef diffuseColorFlag\n  uniform vec4 u_diffuseColor;\n  #endif\n\n  #ifdef diffuseTextureFlag\n  uniform sampler2D u_diffuseTexture;\n  #endif\n\n  #ifdef specularColorFlag\n  uniform vec4 u_specularColor;\n  #endif\n\n  #ifdef specularTextureFlag\n  uniform sampler2D u_specularTexture;\n  #endif\n\n  #ifdef normalTextureFlag\n  uniform sampler2D u_normalTexture;\n  #endif\n\n  #ifdef emissiveColorFlag\n  uniform vec4 u_emissiveColor;\n  #endif\n\n  #ifdef emissiveTextureFlag\n  uniform sampler2D u_emissiveTexture;\n  #endif\n\n  #ifdef lightingFlag\n  varying vec3 v_lightDiffuse;\n\n  #if\tdefined(ambientLightFlag) || defined(ambientCubemapFlag) || defined(sphericalHarmonicsFlag)\n  #define ambientFlag\n  #endif //ambientFlag\n\n  #ifdef specularFlag\n  varying vec3 v_lightSpecular;\n  #endif //specularFlag\n\n  #ifdef shadowMapFlag\n  uniform sampler2D u_shadowTexture;\n  uniform float u_shadowPCFOffset;\n  varying vec3 v_shadowMapUv;\n  #define separateAmbientFlag\n\n  float getShadowness(vec2 offset)\n  {\n      const vec4 bitShifts = vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 16581375.0);\n      return step(v_shadowMapUv.z, dot(texture2D(u_shadowTexture, v_shadowMapUv.xy + offset), bitShifts));//+(1.0/255.0));\n  }\n\n  float getShadow()\n  {\n    return (//getShadowness(vec2(0,0)) +\n        getShadowness(vec2(u_shadowPCFOffset, u_shadowPCFOffset)) +\n        getShadowness(vec2(-u_shadowPCFOffset, u_shadowPCFOffset)) +\n        getShadowness(vec2(u_shadowPCFOffset, -u_shadowPCFOffset)) +\n        getShadowness(vec2(-u_shadowPCFOffset, -u_shadowPCFOffset))) * 0.25;\n  }\n  #endif //shadowMapFlag\n\n  #if defined(ambientFlag) && defined(separateAmbientFlag)\n  varying vec3 v_ambientLight;\n  #endif //separateAmbientFlag\n\n  #endif //lightingFlag\n\n  #ifdef fogFlag\n  uniform vec4 u_fogColor;\n  varying float v_fog;\n  #endif // fogFlag\n\n  void main() {\n    #if defined(normalFlag)\n      vec3 normal = v_normal;\n    #endif // normalFlag\n\n    #if defined(diffuseTextureFlag) && defined(diffuseColorFlag) && defined(colorFlag)\n      vec4 diffuse = texture2D(u_diffuseTexture, v_diffuseUV) * u_diffuseColor * v_color;\n    #elif defined(diffuseTextureFlag) && defined(diffuseColorFlag)\n      vec4 diffuse = texture2D(u_diffuseTexture, v_diffuseUV) * u_diffuseColor;\n    #elif defined(diffuseTextureFlag) && defined(colorFlag)\n      vec4 diffuse = texture2D(u_diffuseTexture, v_diffuseUV) * v_color;\n    #elif defined(diffuseTextureFlag)\n      vec4 diffuse = texture2D(u_diffuseTexture, v_diffuseUV);\n    #elif defined(diffuseColorFlag) && defined(colorFlag)\n      vec4 diffuse = u_diffuseColor * v_color;\n    #elif defined(diffuseColorFlag)\n      vec4 diffuse = u_diffuseColor;\n    #elif defined(colorFlag)\n      vec4 diffuse = v_color;\n    #else\n      vec4 diffuse = vec4(1.0);\n    #endif\n\n    #if defined(emissiveTextureFlag) && defined(emissiveColorFlag)\n      vec4 emissive = texture2D(u_emissiveTexture, v_emissiveUV) * u_emissiveColor;\n    #elif defined(emissiveTextureFlag)\n      vec4 emissive = texture2D(u_emissiveTexture, v_emissiveUV);\n    #elif defined(emissiveColorFlag)\n      vec4 emissive = u_emissiveColor;\n    #else\n      vec4 emissive = vec4(0.0);\n    #endif\n\n    #if (!defined(lightingFlag))\n      gl_FragColor.rgb = diffuse.rgb + emissive.rgb;\n    #elif (!defined(specularFlag))\n      #if defined(ambientFlag) && defined(separateAmbientFlag)\n        #ifdef shadowMapFlag\n          gl_FragColor.rgb = (diffuse.rgb * (v_ambientLight + getShadow() * v_lightDiffuse)) + emissive.rgb;\n          //gl_FragColor.rgb = texture2D(u_shadowTexture, v_shadowMapUv.xy);\n        #else\n          gl_FragColor.rgb = (diffuse.rgb * (v_ambientLight + v_lightDiffuse)) + emissive.rgb;\n        #endif //shadowMapFlag\n      #else\n        #ifdef shadowMapFlag\n          gl_FragColor.rgb = getShadow() * (diffuse.rgb * v_lightDiffuse) + emissive.rgb;\n        #else\n          gl_FragColor.rgb = (diffuse.rgb * v_lightDiffuse) + emissive.rgb;\n        #endif //shadowMapFlag\n      #endif\n    #else\n      #if defined(specularTextureFlag) && defined(specularColorFlag)\n        vec3 specular = texture2D(u_specularTexture, v_specularUV).rgb * u_specularColor.rgb * v_lightSpecular;\n      #elif defined(specularTextureFlag)\n        vec3 specular = texture2D(u_specularTexture, v_specularUV).rgb * v_lightSpecular;\n      #elif defined(specularColorFlag)\n        vec3 specular = u_specularColor.rgb * v_lightSpecular;\n      #else\n        vec3 specular = v_lightSpecular;\n      #endif\n\n      #if defined(ambientFlag) && defined(separateAmbientFlag)\n        #ifdef shadowMapFlag\n        gl_FragColor.rgb = (diffuse.rgb * (getShadow() * v_lightDiffuse + v_ambientLight)) + specular + emissive.rgb;\n          //gl_FragColor.rgb = texture2D(u_shadowTexture, v_shadowMapUv.xy);\n        #else\n          gl_FragColor.rgb = (diffuse.rgb * (v_lightDiffuse + v_ambientLight)) + specular + emissive.rgb;\n        #endif //shadowMapFlag\n      #else\n        #ifdef shadowMapFlag\n          gl_FragColor.rgb = getShadow() * ((diffuse.rgb * v_lightDiffuse) + specular) + emissive.rgb;\n        #else\n          gl_FragColor.rgb = (diffuse.rgb * v_lightDiffuse) + specular + emissive.rgb;\n        #endif //shadowMapFlag\n      #endif\n    #endif //lightingFlag\n\n    #ifdef fogFlag\n      gl_FragColor.rgb = mix(gl_FragColor.rgb, u_fogColor.rgb, v_fog);\n    #endif // end fogFlag\n\n    #ifdef blendedFlag\n      gl_FragColor.a = diffuse.a * v_opacity;\n      #ifdef alphaTestFlag\n        if (gl_FragColor.a <= v_alphaTest)\n          discard;\n      #endif\n    #else\n      gl_FragColor.a = 1.0;\n    #endif\n  }\n  ",F.implementedFlags=m.BlendingAttribute.Type|k.TextureAttribute.Diffuse|g.ColorAttribute3D.Diffuse|g.ColorAttribute3D.Specular|_.FloatAttribute.Shininess,F.defaultCullFace=L.GL20.GL_BACK,F.defaultDepthFunc=L.GL20.GL_LEQUAL,F.optionalAttributes=b.IntAttribute.CullFace,F.tmpAttributes=new v.Attributes},4954:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7452:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(4678),t),r(n(616),t),r(n(4954),t)},6425:function(e,t,n){"use strict";var i=n(1655).default,r=n(6389).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationController=t.AnimationDesc=void 0;var o=n(8606),l=n(4644),u=function(){function e(){a(this,e),this.listener=null,this.animation=null,this.speed=0,this.time=0,this.offset=0,this.duration=0,this.loopCount=0}return s(e,[{key:"update",value:function(e){if(0!==this.loopCount&&this.animation){var t,n=this.speed*e;if(o.MathUtils.isZero(this.duration))t=1;else if(this.time+=n,this.speed<0){var i=this.duration-this.time;t=Math.floor(Math.abs(i/this.duration)),i=Math.abs(i%this.duration),this.time=this.duration-i}else t=Math.floor(Math.abs(this.time/this.duration)),this.time=Math.abs(this.time%this.duration);for(var r=0;r<t;r++)if(this.loopCount>0&&this.loopCount--,0!==this.loopCount&&this.listener&&this.listener.onLoop(this),0===this.loopCount){var a=(t-1-r)*this.duration+(n<0?this.duration-this.time:this.time);return this.time=n<0?0:this.duration,this.listener&&this.listener.onEnd(this),a}return-1}return e}}]),e}();t.AnimationDesc=u;var c=function(e){i(n,e);var t=r(n);function n(){var e;return a(this,n),(e=t.apply(this,arguments)).animationPool=new o.Pool((function(){return new u})),e.current=null,e.queued=null,e.queuedTransitionTime=0,e.previous=null,e.transitionCurrentTime=0,e.transitionTargetTime=0,e.inAction=!1,e.paused=!1,e.allowSameAnimation=!1,e.justChangedAnimation=!1,e}return s(n,[{key:"obtainAnimation",value:function(e,t,n,i,r,a){if(!e)return null;var s=this.animationPool.obtain();return s.animation=e,s.listener=a,s.loopCount=i,s.speed=r,s.offset=t,s.duration=n<0?e.duration-t:n,s.time=r<0?s.duration:0,s}},{key:"obtain",value:function(e,t,n,i,r,a){if(!e)return null;var s=this.target.getAnimation(e);if(!s)throw new Error("Unknown animation: "+e);return this.obtainAnimation(s,t,n,i,r,a)}},{key:"obtainAnimationDesc",value:function(e){return this.obtainAnimation(e.animation,e.offset,e.duration,e.loopCount,e.speed,e.listener)}},{key:"update",value:function(e){if(!this.paused&&(this.previous&&(this.transitionCurrentTime+=e)>=this.transitionTargetTime&&(this.removeAnimation(this.previous.animation),this.justChangedAnimation=!0,this.animationPool.free(this.previous),this.previous=null),this.justChangedAnimation&&(this.target.calculateTransforms(),this.justChangedAnimation=!1),this.current&&0!==this.current.loopCount&&this.current.animation)){var t=this.current.update(e);if(t>=0&&this.queued)return this.inAction=!1,this.actionWithAnimationDesc(this.queued,this.queuedTransitionTime),this.queued=null,void(t>0&&this.update(t));this.previous?this.applyAnimations(this.previous.animation,this.previous.offset+this.previous.time,this.current.animation,this.current.offset+this.current.time,this.transitionCurrentTime/this.transitionTargetTime):this.applyAnimation(this.current.animation,this.current.offset+this.current.time)}}},{key:"setAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.setAnimationWithOffset(e,0,-1,t,n,i)}},{key:"setAnimationWithOffset",value:function(e,t,n,i,r,a){return this.setAnimationWithAnimationDesc(this.obtain(e,t,n,i,r,a))}},{key:"setAnimationWithAnimation",value:function(e,t,n,i,r,a){return this.setAnimationWithAnimationDesc(this.obtainAnimation(e,t,n,i,r,a))}},{key:"setAnimationWithAnimationDesc",value:function(e){return this.current?(!this.allowSameAnimation&&e&&this.current.animation===e.animation?e.time=this.current.time:this.removeAnimation(this.current.animation),this.animationPool.free(this.current),this.current=e):this.current=e,this.justChangedAnimation=!0,e}},{key:"animate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4?arguments[4]:void 0;return this.animateWithOffset(e,0,-1,t,n,i,r)}},{key:"animateWithOffset",value:function(e,t,n,i,r,a,s){return this.animateWithAnimationDesc(this.obtain(e,t,n,i,r,a),s)}},{key:"animateWithAnimation",value:function(e,t,n,i,r,a,s){return this.animateWithAnimationDesc(this.obtainAnimation(e,t,n,i,r,a),s)}},{key:"animateWithAnimationDesc",value:function(e,t){return this.current&&0!==this.current.loopCount?this.inAction?this.queueWithAnimationDesc(e,t):!this.allowSameAnimation&&e&&this.current.animation===e.animation?(e.time=this.current.time,this.animationPool.free(this.current),this.current=e):(this.previous&&(this.removeAnimation(this.previous.animation),this.animationPool.free(this.previous)),this.previous=this.current,this.current=e,this.transitionCurrentTime=0,this.transitionTargetTime=t):this.current=e,e}},{key:"queue",value:function(e,t,n,i,r){return this.queueWithOffset(e,0,-1,t,n,i,r)}},{key:"queueWithOffset",value:function(e,t,n,i,r,a,s){return this.queueWithAnimationDesc(this.obtain(e,t,n,i,r,a),s)}},{key:"queueWithAnimation",value:function(e,t,n,i,r,a,s){return this.queueWithAnimationDesc(this.obtainAnimation(e,t,n,i,r,a),s)}},{key:"queueWithAnimationDesc",value:function(e,t){return this.current&&0!==this.current.loopCount?(this.queued&&this.animationPool.free(this.queued),this.queued=e,this.queuedTransitionTime=t,this.current.loopCount<0&&(this.current.loopCount=1)):this.animateWithAnimationDesc(e,t),e}},{key:"action",value:function(e,t,n,i,r){return this.actionWithOffset(e,0,-1,t,n,i,r)}},{key:"actionWithOffset",value:function(e,t,n,i,r,a,s){return this.actionWithAnimationDesc(this.obtain(e,t,n,i,r,a),s)}},{key:"actionWithAnimation",value:function(e,t,n,i,r,a,s){return this.actionWithAnimationDesc(this.obtainAnimation(e,t,n,i,r,a),s)}},{key:"actionWithAnimationDesc",value:function(e,t){if(e.loopCount<0)throw new Error("An action cannot be continuous");if(this.current&&0!==this.current.loopCount){var n=this.inAction?null:this.obtainAnimationDesc(this.current);this.inAction=!1,this.animateWithAnimationDesc(e,t),this.inAction=!0,n&&this.queueWithAnimationDesc(n,t)}else this.animateWithAnimationDesc(e,t);return e}}]),n}(l.BaseAnimationController);t.AnimationController=c},4644:function(e,t,n){"use strict";var i=n(7424).default,r=n(4704).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAnimationController=t.Transform=void 0;var o=n(5122),l=n(8606),u=n(7811),c=function(){function e(){a(this,e),this.translation=new u.Vector3,this.rotation=new o.Quaternion,this.scale=new u.Vector3(1,1,1)}return s(e,[{key:"idt",value:function(){return this.translation.set(0,0,0),this.rotation.idt(),this.scale.set(1,1,1),this}},{key:"set",value:function(e,t,n){return this.translation.setFrom(e),this.rotation.setFrom(t),this.scale.setFrom(n),this}},{key:"setFrom",value:function(e){return this.set(e.translation,e.rotation,e.scale)}},{key:"lerpWithTranform",value:function(e,t){return this.lerp(e.translation,e.rotation,e.scale,t)}},{key:"lerp",value:function(e,t,n,i){return this.translation.lerp(e,i),this.rotation.slerp(t,i),this.scale.lerp(n,i),this}},{key:"toMatrix4",value:function(e){return e.setFromTranslationRotation(this.translation,this.rotation,this.scale)}},{key:"reset",value:function(){this.idt()}},{key:"toString",value:function(){return this.translation.toString()+" - "+this.rotation.toString()+" - "+this.scale.toString()}}]),e}();t.Transform=c;var h=function(){function e(t){a(this,e),this.transformPool=new l.Pool((function(){return new c})),this.applying=!1,this.target=t}return s(e,[{key:"begin",value:function(){if(this.applying)throw new Error("You must call end() after each call to being()");this.applying=!0}},{key:"apply",value:function(t,n,i){if(!this.applying)throw new Error("You must call begin() before adding an animation");e.applyAnimation(e.transforms,this.transformPool,i,t,n)}},{key:"end",value:function(){if(!this.applying)throw new Error("You must call begin() first");var t,n=r(e.transforms);try{for(n.s();!(t=n.n()).done;){var a=i(t.value,2),s=a[0],o=a[1];o.toMatrix4(s.localTransform),this.transformPool.free(o)}}catch(l){n.e(l)}finally{n.f()}e.transforms.clear(),this.target.calculateTransforms(),this.applying=!1}},{key:"applyAnimation",value:function(t,n){if(this.applying)throw new Error("Call end() first");e.applyAnimation(null,null,1,t,n),this.target.calculateTransforms()}},{key:"applyAnimations",value:function(e,t,n,i,r){if(n&&0!==r)if(e&&1!==r){if(this.applying)throw new Error("Call end() first");this.begin(),this.apply(e,t,1),this.apply(n,i,r),this.end()}else this.applyAnimation(n,i);else this.applyAnimation(e,t)}},{key:"removeAnimation",value:function(e){var t,n=r(e.nodeAnimations);try{for(n.s();!(t=n.n()).done;){t.value.node.isAnimated=!1}}catch(i){n.e(i)}finally{n.f()}}}],[{key:"getFirstKeyframeIndexAtTime",value:function(e,t){var n=e.length-1;if(n<=0||t<e[0].keytime||t>e[n].keytime)return 0;for(var i=0,r=n;i<r;){var a=Math.floor((i+r)/2);if(t>e[a+1].keytime)i=a+1;else{if(!(t<e[a].keytime))return a;r=a-1}}return i}},{key:"getTranslationAtTime",value:function(e,t,n){if(!e.translation)return n.setFrom(e.node.translation);if(1===e.translation.length)return n.setFrom(e.translation[0].value);var i=this.getFirstKeyframeIndexAtTime(e.translation,t),r=e.translation[i];if(n.setFrom(r.value),++i<e.translation.length){var a=e.translation[i],s=(t-r.keytime)/(a.keytime-r.keytime);n.lerp(a.value,s)}return n}},{key:"getRotationAtTime",value:function(e,t,n){if(!e.rotation)return n.setFrom(e.node.rotation);if(1===e.rotation.length)return n.setFrom(e.rotation[0].value);var i=this.getFirstKeyframeIndexAtTime(e.rotation,t),r=e.rotation[i];if(n.setFrom(r.value),++i<e.rotation.length){var a=e.rotation[i],s=(t-r.keytime)/(a.keytime-r.keytime);n.slerp(a.value,s)}return n}},{key:"getScalingAtTime",value:function(e,t,n){if(!e.scaling)return n.setFrom(e.node.scale);if(1===e.scaling.length)return n.setFrom(e.scaling[0].value);var i=this.getFirstKeyframeIndexAtTime(e.scaling,t),r=e.scaling[i];if(n.setFrom(r.value),++i<e.scaling.length){var a=e.scaling[i],s=(t-r.keytime)/(a.keytime-r.keytime);n.lerp(a.value,s)}return n}},{key:"getNodeAnimationTransform",value:function(e,t){var n=this.tmpT;return this.getTranslationAtTime(e,t,n.translation),this.getRotationAtTime(e,t,n.rotation),this.getScalingAtTime(e,t,n.scale),n}},{key:"applyNodeAnimationDirectly",value:function(e,t){var n=e.node;n.isAnimated=!0,this.getNodeAnimationTransform(e,t).toMatrix4(n.localTransform)}},{key:"applyNodeAnimationBlending",value:function(e,t,n,i,r){var a=e.node;a.isAnimated=!0;var s=this.getNodeAnimationTransform(e,r),o=t.get(a);o?i>.999999?o.setFrom(s):o.lerpWithTranform(s,i):i>.999999?t.set(a,n.obtain().setFrom(s)):t.set(a,n.obtain().set(a.translation,a.rotation,a.scale).lerpWithTranform(s,i))}},{key:"applyAnimation",value:function(e,t,n,i,a){if(e){var s,o=r(e.keys());try{for(o.s();!(s=o.n()).done;){s.value.isAnimated=!1}}catch(g){o.e(g)}finally{o.f()}var l,u=r(i.nodeAnimations);try{for(u.s();!(l=u.n()).done;){var c=l.value;this.applyNodeAnimationBlending(c,e,t,n,a)}}catch(g){u.e(g)}finally{u.f()}var h,f=r(e.entries());try{for(f.s();!(h=f.n()).done;){var d=h.value;d[0].isAnimated||(d[0].isAnimated=!0,d[1].lerp(d[0].translation,d[0].rotation,d[0].scale,n))}}catch(g){f.e(g)}finally{f.f()}}else{var p,v=r(i.nodeAnimations);try{for(v.s();!(p=v.n()).done;){var m=p.value;this.applyNodeAnimationDirectly(m,a)}}catch(g){v.e(g)}finally{v.f()}}}}]),e}();t.BaseAnimationController=h,h.transforms=new Map,h.tmpT=new c},7083:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BoxShapeBuilder=void 0;var a=n(8606),s=n(7811),o=n(6506),l=n(8552),u=n(8633),c=function(){function e(){i(this,e)}return r(e,null,[{key:"obtainV3",value:function(){return e.vectorPool.obtain()}},{key:"freeAll",value:function(){e.vectorPool.flush()}},{key:"buildWithWidthHeight",value:function(e,t,n,i){this.buildWithRect(e,0,0,0,t,n,i)}},{key:"buildWithVertexInfo",value:function(e,t,n,i,r,a,s,o,u){var c=e.vertex(t),h=e.vertex(i),f=e.vertex(r),d=e.vertex(n),p=e.vertex(a),v=e.vertex(o),m=e.vertex(s),g=e.vertex(u),y=e.getPrimitiveType();y===l.GL20.GL_LINES?(e.rect(c,h,f,d),e.rect(v,p,m,g),e.index8Values(c,p,d,m,f,g,h,v)):y===l.GL20.GL_POINTS?(e.rect(c,h,f,d),e.rect(v,p,m,g)):(e.rect(c,h,f,d),e.rect(v,p,m,g),e.rect(c,d,m,p),e.rect(v,g,f,h),e.rect(v,h,c,p),e.rect(f,g,m,d))}},{key:"buildWithVectorCorner",value:function(e,t,n,i,r,a,s,o,l){if(0===(e.getAttributes().getMask()&(u.Usage.Normal|u.Usage.BiNormal|u.Usage.Tangent|u.Usage.TextureCoordinates)))this.buildWithVertexInfo(e,this.vertTmp1.set(t,null,null,null),this.vertTmp2.set(n,null,null,null),this.vertTmp3.set(i,null,null,null),this.vertTmp4.set(r,null,null,null),this.vertTmp5.set(a,null,null,null),this.vertTmp6.set(s,null,null,null),this.vertTmp7.set(o,null,null,null),this.vertTmp8.set(l,null,null,null));else{var c=this.tmpV1.set(t.x,t.y,t.z).lerp(r,.5).sub(this.tmpV2.set(a.x,a.y,a.z).lerp(l,.5)).normalize();e.rectWithVectorCorner(t,n,r,i,c),e.rectWithVectorCorner(s,a,o,l,c.scale(-1)),c=this.tmpV1.set(t.x,t.y,t.z).lerp(o,.5).sub(this.tmpV2.set(n.x,n.y,n.z).lerp(l,.5)).normalize(),e.rectWithVectorCorner(a,t,i,o,c),e.rectWithVectorCorner(n,s,l,r,c.scale(-1)),c=this.tmpV1.set(t.x,t.y,t.z).lerp(s,.5).sub(this.tmpV2.set(i.x,i.y,i.z).lerp(l,.5)).normalize(),e.rectWithVectorCorner(a,s,n,t,c),e.rectWithVectorCorner(i,r,l,o,c.scale(-1))}}},{key:"buildWithRect",value:function(e,t,n,i,r,a,s){var o=.5*r,l=.5*a,u=.5*s,c=t-o,h=n-l,f=i-u,d=t+o,p=n+l,v=i+u;this.buildWithVectorCorner(e,this.obtainV3().set(c,h,f),this.obtainV3().set(c,p,f),this.obtainV3().set(d,h,f),this.obtainV3().set(d,p,f),this.obtainV3().set(c,h,v),this.obtainV3().set(c,p,v),this.obtainV3().set(d,h,v),this.obtainV3().set(d,p,v)),this.freeAll()}}]),e}();t.BoxShapeBuilder=c,c.tmpV0=new s.Vector3,c.tmpV1=new s.Vector3,c.tmpV2=new s.Vector3,c.tmpV3=new s.Vector3,c.tmpV4=new s.Vector3,c.tmpV5=new s.Vector3,c.tmpV6=new s.Vector3,c.tmpV7=new s.Vector3,c.vertTmp0=new o.VertexInfo,c.vertTmp1=new o.VertexInfo,c.vertTmp2=new o.VertexInfo,c.vertTmp3=new o.VertexInfo,c.vertTmp4=new o.VertexInfo,c.vertTmp5=new o.VertexInfo,c.vertTmp6=new o.VertexInfo,c.vertTmp7=new o.VertexInfo,c.vertTmp8=new o.VertexInfo,c.vectorPool=new a.FlushablePool((function(){return new s.Vector3}))},5223:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IndexBufferObject=void 0;var a=n(8552),s=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i(this,e),this.isDirty=!0,this.isBound=!1,this.indicesLength=0,this.gl=t,this.empty=0===n,this.empty&&(n=1),this.byteBuffer=new Uint16Array(n),this.isDirect=!0,this.ownsBuffer=!0,this.indicesLength=0,this.bufferHandle=this.gl.createBuffer(),this.usage=r?a.GL20.GL_STATIC_DRAW:a.GL20.GL_DYNAMIC_DRAW}return r(e,[{key:"getNumIndices",value:function(){return this.indicesLength}},{key:"getNumMaxIndices",value:function(){return this.byteBuffer.length}},{key:"setIndices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;this.isDirty=!0,this.byteBuffer.set(e.slice(t,t+n),0),this.indicesLength=n,this.isBound&&(this.gl.bufferData(a.GL20.GL_ELEMENT_ARRAY_BUFFER,this.byteBuffer,this.usage),this.isDirty=!1)}},{key:"updateIndices",value:function(e,t,n,i){this.isDirty=!0,this.byteBuffer.set(t.slice(n,n+i),e),this.indicesLength=e+i,this.isBound&&(this.gl.bufferData(a.GL20.GL_ELEMENT_ARRAY_BUFFER,this.byteBuffer.subarray(0,this.indicesLength),this.usage),this.isDirty=!1)}},{key:"getBuffer",value:function(){return this.isDirty=!0,this.byteBuffer}},{key:"bind",value:function(){if(0===this.bufferHandle)throw new Error("No buffer allocated!");this.gl.bindBuffer(a.GL20.GL_ELEMENT_ARRAY_BUFFER,this.bufferHandle),this.isDirty&&(this.gl.bufferData(a.GL20.GL_ELEMENT_ARRAY_BUFFER,this.byteBuffer,this.usage),this.isDirty=!1),this.isBound=!0}},{key:"unbind",value:function(){this.gl.bindBuffer(a.GL20.GL_ELEMENT_ARRAY_BUFFER,null),this.isBound=!1}},{key:"invalidate",value:function(){this.bufferHandle=this.gl.createBuffer(),this.isDirty=!0}},{key:"dispose",value:function(){this.gl.bindBuffer(a.GL20.GL_ELEMENT_ARRAY_BUFFER,null),this.gl.deleteBuffer(this.bufferHandle),this.bufferHandle=new WebGLBuffer}}]),e}();t.IndexBufferObject=s},3776:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MeshBuilder=void 0;var s=n(5477),o=n(6239),l=n(4995),u=n(9699),c=n(1858),h=n(8606),f=n(7811),d=n(8633),p=n(427),v=n(8552),m=n(5766),g=n(3627),y=n(7083),_=n(6506),b=function(){function e(t){r(this,e),this.gl=t,this.vertTmp1=new _.VertexInfo,this.vertTmp2=new _.VertexInfo,this.vertTmp3=new _.VertexInfo,this.vertTmp4=new _.VertexInfo,this.tempC1=new h.Color,this.vertices=[],this.indices=[],this.parts=[],this.color=h.Color.WHITE,this.hasColor=!1,this.uOffset=0,this.uScale=1,this.vOffset=0,this.vScale=1,this.hasUVTransform=!1,this.vertexTransformationEnabled=!1,this.positionTransform=new l.Matrix4,this.normalTransform=new o.Matrix3,this.bounds=new s.BoundingBox,this.lastIndex=-1,this.tmpNormal=new f.Vector3}return a(e,[{key:"begin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(this.attributes)throw new Error("Call end() first");this.attributes=e,this.parts.length=0,this.vindex=0,this.lastIndex=-1,this.istart=0,this.meshPart=null,this.stride=e.vertexSize/4,(!this._vertex||this.vertex.length<this.stride)&&(this._vertex=new Array(this.stride));var n=e.findByUsage(d.Usage.Position);if(!n)throw new Error("Cannot build mesh without position attribute");this.posOffset=n.offset/4,this.posSize=n.numComponents,n=e.findByUsage(d.Usage.Normal),this.norOffset=n?n.offset/4:-1,n=e.findByUsage(d.Usage.BiNormal),this.biNorOffset=n?n.offset/4:-1,n=e.findByUsage(d.Usage.Tangent),this.tangentOffset=n?n.offset/4:-1,n=e.findByUsage(d.Usage.ColorUnpacked),this.colOffset=n?n.offset/4:-1,this.colSize=n?n.numComponents:0,n=e.findByUsage(d.Usage.ColorPacked),this.cpOffset=n?n.offset/4:-1,n=e.findByUsage(d.Usage.TextureCoordinates),this.uvOffset=n?n.offset/4:-1,this.setColor(null),this.setVertexTransform(null),this.setUVRangeByRegion(null),this.primitiveType=t,this.bounds.inf()}},{key:"setColor",value:function(e){this.hasColor=!!e;var t=this.hasColor?e:h.Color.WHITE;this.color.set(t.r,t.g,t.b,t.a)}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getLastIndex",value:function(){return this.lastIndex}},{key:"endpart",value:function(){this.meshPart&&(this.bounds.getCenter(this.meshPart.center),this.bounds.getDimensions(this.meshPart.halfExtents).scale(.5),this.meshPart.radius=this.meshPart.halfExtents.length(),this.bounds.inf(),this.meshPart.offset=this.istart,this.meshPart.size=this.indices.length-this.istart,this.istart=this.indices.length,this.meshPart=null)}},{key:"part",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.attributes)throw new Error("Call begin() first");return n||(n=new g.MeshPart),this.endpart(),this.meshPart=n,this.meshPart.id=e,this.primitiveType=this.meshPart.primitiveType=t,this.parts.push(this.meshPart),this.setColor(null),this.setVertexTransform(null),this.setUVRangeByRegion(null),this.meshPart}},{key:"end",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t||(t=new m.Mesh3D(this.gl,!0,!0,Math.min(this.vertices.length/this.stride,e.MAX_VERTICES),this.indices.length,this.attributes)),this.endpart(),!this.attributes)throw new Error("Call begin() first");if(!this.attributes.equals(t.getVertexAttributes()))throw new Error("Mesh attributes don't match");if(t.getMaxVertices()*this.stride<this.vertices.length)throw new Error("Mesh can't hold enough vertices: "+t.getMaxVertices()+" * "+this.stride+" < "+this.vertices.length);if(t.getMaxIndices()<this.indices.length)throw new Error("Mesh can't hold enough indices: "+t.getMaxIndices()+" < "+this.indices.length);t.setVertices(this.vertices,0,this.vertices.length),t.setIndices(this.indices,0,this.indices.length);var n,r=i(this.parts);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.mesh=t}}catch(s){r.e(s)}finally{r.f()}return this.parts.length=0,this.attributes=null,this.vertices.length=0,this.indices.length=0,t}},{key:"clear",value:function(){this.vertices.length=0,this.indices.length=0,this.parts.length=0,this.vindex=0,this.lastIndex=-1,this.istart=0,this.meshPart=null}},{key:"getFloatsPerVertex",value:function(){return this.stride}},{key:"setUVRange",value:function(e,t,n,i){this.uOffset=e,this.vOffset=t,this.uScale=n-e,this.vScale=i-t,this.hasUVTransform=!(h.MathUtils.isZero(e)&&h.MathUtils.isZero(t)&&h.MathUtils.isEqual(n,1)&&h.MathUtils.isEqual(i,1))}},{key:"setUVRangeByRegion",value:function(e){e?(this.hasUVTransform=!0,this.setUVRange(e.u,e.v,e.u2,e.v2)):(this.hasUVTransform=!1,this.uOffset=this.vOffset=0,this.uScale=this.vScale=1)}},{key:"setVertexTransform",value:function(e){this.vertexTransformationEnabled=!!e,this.vertexTransformationEnabled?(this.positionTransform.set(e.values),this.normalTransform.setByMatrix4(e).inv().transpose()):(this.positionTransform.idt(),this.normalTransform.idt())}},{key:"addVertex",value:function(t,n){var i=this.vertices.length;h.Utils.arrayCopy(t,n,this.vertices,this.vertices.length,this.stride),this.lastIndex=this.vindex++,this.vertexTransformationEnabled&&(e.transformPosition(this.vertices,i+this.posOffset,this.posSize,this.positionTransform),this.norOffset>=0&&e.transformNormal(this.vertices,i+this.norOffset,3,this.normalTransform),this.biNorOffset>=0&&e.transformNormal(this.vertices,i+this.biNorOffset,3,this.normalTransform),this.tangentOffset>=0&&e.transformNormal(this.vertices,i+this.tangentOffset,3,this.normalTransform));var r=this.vertices[i+this.posOffset],a=this.posSize>1?this.vertices[i+this.posOffset+1]:0,s=this.posSize>2?this.vertices[i+this.posOffset+2]:0;if(this.bounds.ext(r,a,s),this.hasColor)if(this.colOffset>=0)this.vertices[i+this.colOffset]*=this.color.r,this.vertices[i+this.colOffset+1]*=this.color.g,this.vertices[i+this.colOffset+2]*=this.color.b,this.colSize>3&&(this.vertices[i+this.colOffset+3]*=this.color.a);else if(this.cpOffset>=0){h.Color.rgba8888ToColor(this.tempC1,this.vertices[i+this.cpOffset]);var o=this.tempC1.mul(this.color.r,this.color.g,this.color.b,this.color.a);u.NumberUtil.colorToFloat(o.r,o.g,o.b,o.a),this.vertices[i+this.cpOffset]=u.NumberUtil.colorToFloat(o.r,o.g,o.b,o.a)}this.hasUVTransform&&this.uvOffset>=0&&(this.vertices[i+this.uvOffset]=this.uOffset+this.uScale*this.vertices[i+this.uvOffset],this.vertices[i+this.uvOffset+1]=this.vOffset+this.vScale*this.vertices[i+this.uvOffset+1])}},{key:"box",value:function(e,t,n){y.BoxShapeBuilder.buildWithWidthHeight(this,e,t,n)}},{key:"vertexWithData",value:function(t,n,i,r){if(this.vindex>e.MAX_INDEX)throw new Error("Too many vertices used");return this._vertex[this.posOffset]=t.x,this.posSize>1&&(this._vertex[this.posOffset+1]=t.y),this.posSize>2&&(this._vertex[this.posOffset+2]=t.z),this.norOffset>=0&&(n||(n=this.tmpNormal.set(t.x,t.y,t.z).normalize()),this._vertex[this.norOffset]=n.x,this._vertex[this.norOffset+1]=n.y,this._vertex[this.norOffset+2]=n.z),this.colOffset>=0?(i||(i=h.Color.WHITE),this._vertex[this.colOffset]=i.r,this._vertex[this.colOffset+1]=i.g,this._vertex[this.colOffset+2]=i.b,this.colSize>3&&(this._vertex[this.colOffset+3]=i.a)):this.cpOffset>0&&(i||(i=h.Color.WHITE),this._vertex[this.cpOffset]=u.NumberUtil.colorToFloat(i.r,i.g,i.b,i.a)),r&&this.uvOffset>=0&&(this._vertex[this.uvOffset]=r.x,this._vertex[this.uvOffset+1]=r.y),this.addVertex(this._vertex,0),this.lastIndex}},{key:"vertex",value:function(e){return this.vertexWithData(e.hasPosition?e.position:null,e.hasNormal?e.normal:null,e.hasColor?e.color:null,e.hasUV?e.uv:null)}},{key:"index",value:function(e){this.indices.push(e)}},{key:"index2Values",value:function(e,t,n){this.indices.push(e),this.indices.push(t)}},{key:"index3Values",value:function(e,t,n){this.indices.push(e),this.indices.push(t),this.indices.push(n)}},{key:"index4Values",value:function(e,t,n,i){this.indices.push(e),this.indices.push(t),this.indices.push(n),this.indices.push(i)}},{key:"index6Values",value:function(e,t,n,i,r,a){this.indices.push(e),this.indices.push(t),this.indices.push(n),this.indices.push(i),this.indices.push(r),this.indices.push(a)}},{key:"index8Values",value:function(e,t,n,i,r,a,s,o){this.indices.push(e),this.indices.push(t),this.indices.push(n),this.indices.push(i),this.indices.push(r),this.indices.push(a),this.indices.push(s),this.indices.push(o)}},{key:"rect",value:function(e,t,n,i){if(this.primitiveType===v.GL20.GL_TRIANGLES)this.index6Values(e,t,n,n,i,e);else if(this.primitiveType===v.GL20.GL_LINES)this.index8Values(e,t,t,n,n,i,i,e);else{if(this.primitiveType!==v.GL20.GL_POINTS)throw new Error("Incorrect primitive type");this.index4Values(e,t,n,i)}}},{key:"rectWithVertexInfo",value:function(e,t,n,i){this.rect(this.vertex(e),this.vertex(t),this.vertex(n),this.vertex(i))}},{key:"rectWithVectorCorner",value:function(e,t,n,i,r){this.rectWithVertexInfo(this.vertTmp1.set(e,r,null,null).setUV(0,1),this.vertTmp2.set(t,r,null,null).setUV(1,1),this.vertTmp3.set(n,r,null,null).setUV(1,0),this.vertTmp4.set(i,r,null,null).setUV(0,0))}},{key:"rectWithValue",value:function(e,t,n,i,r,a,s,o,l,u,c,h,f,d,p){this.rectWithVertexInfo(this.vertTmp1.set(null,null,null,null).setPos(e,t,n).setNor(f,d,p).setUV(0,1),this.vertTmp2.set(null,null,null,null).setPos(i,r,a).setNor(f,d,p).setUV(1,1),this.vertTmp3.set(null,null,null,null).setPos(s,o,l).setNor(f,d,p).setUV(1,0),this.vertTmp4.set(null,null,null,null).setPos(u,c,h).setNor(f,d,p).setUV(0,0))}},{key:"getVertexTransform",value:function(e){return e.set(this.positionTransform.values)}},{key:"getPrimitiveType",value:function(){return this.primitiveType}}],[{key:"createAttributes",value:function(e){var t=[];return(e&d.Usage.Position)===d.Usage.Position&&t.push(d.VertexAttribute3D.Position()),(e&d.Usage.ColorUnpacked)===d.Usage.ColorUnpacked&&t.push(d.VertexAttribute3D.ColorUnpacked()),(e&d.Usage.ColorPacked)===d.Usage.ColorPacked&&t.push(d.VertexAttribute3D.ColorPacked()),(e&d.Usage.Normal)===d.Usage.Normal&&t.push(d.VertexAttribute3D.Normal()),(e&d.Usage.TextureCoordinates)===d.Usage.TextureCoordinates&&t.push(new d.VertexAttribute3D(d.Usage.TextureCoordinates,2,v.GL20.GL_FLOAT,!1,c.Shader.TEXCOORDS+"0")),new p.VertexAttributes(t)}},{key:"transformPosition",value:function(e,t,n,i){n>2?(this.vTmp.set(e[t],e[t+1],e[t+2]).multiply(i),e[t]=this.vTmp.x,e[t+1]=this.vTmp.y,e[t+2]=this.vTmp.z):n>1?(this.vTmp.set(e[t],e[t+1],0).multiply(i),e[t]=this.vTmp.x,e[t+1]=this.vTmp.y):e[t]=this.vTmp.set(e[t],0,0).multiply(i).x}},{key:"transformNormal",value:function(e,t,n,i){n>2?(this.vTmp.set(e[t],e[t+1],e[t+2]).multiplyMat3(i).normalize(),e[t]=this.vTmp.x,e[t+1]=this.vTmp.y,e[t+2]=this.vTmp.z):n>1?(this.vTmp.set(e[t],e[t+1],0).multiplyMat3(i).normalize(),e[t]=this.vTmp.x,e[t+1]=this.vTmp.y):e[t]=this.vTmp.set(e[t],0,0).multiplyMat3(i).normalize().x}}]),e}();t.MeshBuilder=b,b.MAX_VERTICES=65536,b.MAX_INDEX=b.MAX_VERTICES-1,b.vTmp=new f.Vector3,b.indicesMap=null},8128:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBuilder=void 0;var s=n(4995),o=n(8552),l=n(663),u=n(1960),c=n(5413),h=n(3776),f=function(){function e(t){r(this,e),this.gl=t,this.builders=[],this.tmpTransform=new s.Matrix4}return a(e,[{key:"getBuilder",value:function(e){var t,n=i(this.builders);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.getAttributes().equals(e)&&r.getLastIndex()<16383.5)return r}}catch(s){n.e(s)}finally{n.f()}var a=new h.MeshBuilder(this.gl);return a.begin(e),this.builders.push(a),a}},{key:"begin",value:function(){if(this.model)throw new Error("Call end() first");this.node=null,this.model=new l.Model(this.gl),this.builders.length=0}},{key:"end",value:function(){if(!this.model)throw new Error("Call begin() first");var t=this.model;this.endnode(),this.model=null;var n,r=i(this.builders);try{for(r.s();!(n=r.n()).done;){n.value.end()}}catch(a){r.e(a)}finally{r.f()}return this.builders.length=0,e.rebuildReferencesWithModel(t),t}},{key:"createNode",value:function(){var e=new u.Node;return this.addNode(e),e.id="node"+this.model.nodes.length,e}},{key:"addNode",value:function(e){if(!this.model)throw new Error("Call begin() first");return this.endnode(),this.model.nodes.push(e),this.node=e,e}},{key:"endnode",value:function(){this.node&&(this.node=null)}},{key:"manage",value:function(e){if(!this.model)throw new Error("Call begin() first");this.model.manageDisposable(e)}},{key:"partByMeshPart",value:function(e,t){this.node||this.createNode(),this.node.parts.push(new c.NodePart(e,t))}},{key:"createBox",value:function(e,t,n,i,r){return this.begin(),this.part("box",o.GL20.GL_TRIANGLES,r,i).box(e,t,n),this.end()}},{key:"part",value:function(e,t,n,i){var r=this.getBuilder(h.MeshBuilder.createAttributes(n));return this.node||this.createNode(),this.node.parts.push(new c.NodePart(r.part(e,t),i)),r}}],[{key:"rebuildReferencesWithModel",value:function(t){t.materials.length=0,t.meshes.length=0,t.meshParts.length=0;var n,r=i(t.nodes);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.rebuildReferences(t,a)}}catch(s){r.e(s)}finally{r.f()}}},{key:"rebuildReferences",value:function(e,t){var n,r=i(t.parts);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.materials.includes(a.material)||e.materials.push(a.material),e.meshParts.includes(a.meshPart)||(e.meshParts.push(a.meshPart),e.meshes.includes(a.meshPart.mesh)||e.meshes.push(a.meshPart.mesh),e.manageDisposable(a.meshPart.mesh))}}catch(u){r.e(u)}finally{r.f()}var s,o=i(t.getChildren());try{for(o.s();!(s=o.n()).done;){var l=s.value;this.rebuildReferences(e,l)}}catch(u){o.e(u)}finally{o.f()}}}]),e}();t.ModelBuilder=f},2668:function(e,t,n){"use strict";var i=n(7061).default,r=n(6690).default,a=n(9728).default,s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(t){a(t)}}function o(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FileTextureProvider=void 0;var o=n(7139),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.TextureFilter.Linear,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.TextureFilter.Linear,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.TextureWrap.Repeat,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.TextureWrap.Repeat,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r(this,e),this.minFilter=t,this.magFilter=n,this.uWrap=i,this.vWrap=a,this.useMipMaps=s}return a(e,[{key:"load",value:function(e,t){return s(this,void 0,void 0,i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Texture.load(e,t);case 2:return(r=n.sent).setFilters(this.minFilter,this.magFilter),r.setWraps(this.uWrap,this.vWrap),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n,this)})))}}]),e}();t.FileTextureProvider=l},9131:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexBufferObject=void 0;var a=n(8552),s=function(){function e(t,n,r,s){i(this,e),this.gl=t,this.verticesLength=0,this.isDirty=!1,this.isBound=!1,this.bufferHandle=this.gl.createBuffer();var o=new Float32Array(s.vertexSize*r);this.setBuffer(o,!0,s),this.setUsage(n?a.GL20.GL_STATIC_DRAW:a.GL20.GL_DYNAMIC_DRAW)}return r(e,[{key:"getAttributes",value:function(){return this.attributes}},{key:"getNumVertices",value:function(){return this.buffer.length/this.attributes.vertexSize}},{key:"getNumMaxVertices",value:function(){return this.buffer.length}},{key:"getBuffer",value:function(){return this.isDirty=!0,this.buffer}},{key:"setBuffer",value:function(e,t,n){if(this.isBound)throw new Error("Cannot change attributes while VBO is bound");this.attributes=n,this.ownsBuffer=t,this.buffer=e}},{key:"bufferChanged",value:function(){this.isBound&&(this.gl.bufferData(a.GL20.GL_ARRAY_BUFFER,this.buffer.subarray(0,this.verticesLength),this.usage),this.isDirty=!1)}},{key:"setVertices",value:function(e,t,n){this.isDirty=!0,this.buffer.set(e.slice(t,t+n),0),this.verticesLength<n&&(this.verticesLength=n),this.bufferChanged()}},{key:"updateVertices",value:function(e,t,n,i){this.isDirty=!0,this.buffer.set(t.slice(n,n+i),e),this.verticesLength=e+i,this.bufferChanged()}},{key:"getUsage",value:function(){return this.usage}},{key:"setUsage",value:function(e){if(this.isBound)throw new Error("Cannot change usage while VBO is bound");this.usage=e}},{key:"bind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.gl.bindBuffer(a.GL20.GL_ARRAY_BUFFER,this.bufferHandle),this.isDirty&&(this.gl.bufferData(a.GL20.GL_ARRAY_BUFFER,this.buffer.subarray(0,this.verticesLength),this.usage),this.isDirty=!1);var n=this.attributes.size();if(t)for(var i=0;i<n;i++){var r=this.attributes.get(i),s=t[i];s<0||(this.gl.enableVertexAttribArray(s),this.gl.vertexAttribPointer(s,r.numComponents,r.type,r.normalized,this.attributes.vertexSize,r.offset))}else for(var o=0;o<n;o++){var l=this.attributes.get(o),u=e.getAttributeLocation(l.alias);u<0||(this.gl.enableVertexAttribArray(u),this.gl.vertexAttribPointer(u,l.numComponents,l.type,l.normalized,this.attributes.vertexSize,l.offset))}this.isBound=!0}},{key:"unbind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.attributes.size();if(t)for(var i=0;i<n;i++){var r=t[i];r>=0&&this.gl.disableVertexAttribArray(r)}else for(var s=0;s<n;s++){var o=this.attributes.get(s).alias,l=e.getAttributeLocation(o);l>=0&&this.gl.disableVertexAttribArray(l)}this.gl.bindBuffer(a.GL20.GL_ARRAY_BUFFER,null),this.isBound=!1}},{key:"invalidate",value:function(){this.bufferHandle=this.gl.createBuffer(),this.isDirty=!0}},{key:"dispose",value:function(){this.gl.bindBuffer(a.GL20.GL_ARRAY_BUFFER,null),this.gl.deleteBuffer(this.bufferHandle)}}]),e}();t.VertexBufferObject=s},7243:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6506:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexInfo=void 0;var a=n(8606),s=n(2283),o=n(7811),l=function(){function e(){i(this,e),this.position=new o.Vector3,this.normal=new o.Vector3(0,1,0),this.color=new a.Color(1,1,1,1),this.uv=new s.Vector2}return r(e,[{key:"reset",value:function(){this.position.set(0,0,0),this.normal.set(0,1,0),this.color.set(1,1,1,1),this.uv.set(0,0)}},{key:"set",value:function(e,t,n,i){return this.reset(),this.hasPosition=!!e,this.hasPosition&&this.position.set(e.x,e.y,e.z),this.hasNormal=!!t,this.hasNormal&&this.normal.set(t.x,t.y,t.z),this.hasColor=!!n,this.hasColor&&this.color.set(n.r,n.g,n.b,n.a),this.hasUV=!!i,this.hasUV&&this.uv.set(i.x,i.y),this}},{key:"setWithVertextInfo",value:function(e){return e?(this.hasPosition=e.hasPosition,this.position.set(e.position.x,e.position.y,e.position.z),this.hasNormal=e.hasNormal,this.normal.set(e.normal.x,e.normal.y,e.normal.z),this.hasColor=e.hasColor,this.color.set(e.color.r,e.color.g,e.color.b,e.color.a),this.hasUV=e.hasUV,this.uv.set(e.uv.x,e.uv.y),this):this.set(null,null,null,null)}},{key:"setPos",value:function(e,t,n){return this.position.set(e,t,n),this.hasPosition=!0,this}},{key:"setNor",value:function(e,t,n){return this.normal.set(e,t,n),this.hasNormal=!0,this}},{key:"setCol",value:function(e,t,n,i){return this.color.set(e,t,n,i),this.hasColor=!0,this}},{key:"setUV",value:function(e,t){return this.uv.set(e,t),this.hasUV=!0,this}},{key:"lerp",value:function(e,t){return this.hasPosition&&e.hasPosition&&this.position.lerp(e.position,t),this.hasNormal&&e.hasNormal&&this.normal.lerp(e.normal,t),this.hasColor&&e.hasColor&&this.color.lerp(e.color,t),this.hasUV&&e.hasUV&&this.uv.lerp(e.uv,t),this}}]),e}();t.VertexInfo=l},3975:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(6425),t),r(n(4644),t),r(n(7083),t),r(n(5223),t),r(n(3776),t),r(n(8128),t),r(n(2668),t),r(n(9131),t),r(n(7243),t),r(n(6506),t)},8656:function(e,t,n){"use strict";var i,r=n(4704).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Animation=t.PlayMode=void 0,function(e){e[e.NORMAL=0]="NORMAL",e[e.LOOP=1]="LOOP",e[e.LOOP_PINGPONG=2]="LOOP_PINGPONG",e[e.REVERSED=3]="REVERSED",e[e.LOOP_REVERSED=4]="LOOP_REVERSED"}(i=t.PlayMode||(t.PlayMode={}));var o=function(){function e(t,n){a(this,e),this.totalDuration=0,this.keyFrames=t,Array.isArray(n)||(n=[n]);for(var i=n[n.length-1]||0;n.length<t.length;)n.push(i);var s,o=r(n);try{for(o.s();!(s=o.n()).done;){var l=s.value;this.totalDuration+=l}}catch(u){o.e(u)}finally{o.f()}this.frameDurations=n}return s(e,[{key:"getFrameNumber",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.frameDurations,i=t?n.length-1:0;!((e-=n[i])<0);)t?i--:i++;return i}},{key:"getKeyFrame",value:function(e,t){var n=this.keyFrames,r=this.frameDurations,a=this.totalDuration,s=Math.floor(e/a),o=e%a,l=0;switch(t){case i.NORMAL:l=0===s?this.getFrameNumber(o):r.length-1;break;case i.LOOP:l=this.getFrameNumber(o);break;case i.LOOP_PINGPONG:l=this.getFrameNumber(o,s%2===1);break;case i.REVERSED:l=0===s?this.getFrameNumber(o,!0):0;break;case i.LOOP_REVERSED:l=this.getFrameNumber(o,!0)}return n[l]}}]),e}();t.Animation=o},2121:function(e,t,n){"use strict";var i=n(861).default,r=n(7061).default,a=n(4704).default,s=n(6690).default,o=n(9728).default,l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(t){a(t)}}function o(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AssetManager=void 0;var u=n(7581),c=n(7139),h=n(9396),f=function(){function e(t){s(this,e),this.promises=[],this.atlases=new Map,this.textures=new Map,this.jsonData=new Map,this.binaryData=new Map,this.done=0,this.listeners=[],this.fonts=new Map,this.gl=t}return o(e,[{key:"addListener",value:function(e){this.listeners.push(e)}},{key:"reportDone",value:function(){this.done++;var e,t=a(this.listeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)(this.done/this.getTotal()*100,this.done>=this.getTotal())}}catch(n){t.e(n)}finally{t.f()}}},{key:"loadAtlas",value:function(e,t){var n=this,i=h.TextureAtlas.load(this.gl,e,{}).then((function(e){return n.atlases.set(t,e),n.reportDone(),e}));return this.promises.push(i),i}},{key:"getAtlas",value:function(e){return this.atlases.get(e)}},{key:"loadJsonData",value:function(e,t){var n=this,i=fetch(e).then((function(e){return e.json()})).then((function(e){return n.jsonData.set(t,e),n.reportDone(),e}));return this.promises.push(i),i}},{key:"getJsonData",value:function(e){return this.jsonData.get(e)}},{key:"loadBinaryData",value:function(e,t){var n=this,i=fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return n.binaryData.set(t,e),n.reportDone(),e}));return this.promises.push(i),i}},{key:"getBinaryData",value:function(e){return this.binaryData.get(e)}},{key:"loadFont",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u.BitmapFont.load(this.gl,e,i).then((function(e){return n.fonts.set(t,e),n.reportDone(),e}));return this.promises.push(r),r}},{key:"getFont",value:function(e){return this.fonts.get(e)}},{key:"loadTexture",value:function(e,t){var n=this,i=c.Texture.load(this.gl,e).then((function(e){return n.textures.set(t,e),n.reportDone(),e}));return this.promises.push(i),i}},{key:"getTexture",value:function(e){return this.textures.get(e)}},{key:"finishLoading",value:function(){return l(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.promises);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getDone",value:function(){return this.done}},{key:"getTotal",value:function(){return this.promises.length}},{key:"disposeAll",value:function(){var e=this;i(this.atlases.keys()).forEach((function(t){e.atlases.get(t).dispose(),e.atlases.delete(t)})),i(this.textures.keys()).forEach((function(t){e.textures.get(t).dispose(),e.textures.delete(t)})),i(this.fonts.keys()).forEach((function(t){e.fonts.get(t).dispose(),e.fonts.delete(t)}))}}]),e}();t.AssetManager=f,t.default=f},7581:function(e,t,n){"use strict";var i=n(7061).default,r=n(9728).default,a=n(6690).default,s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(t){a(t)}}function o(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapFont=void 0;var o=n(3959),l=n(2791),u=n(8606),c=r((function e(t,n,i){var r=this;a(this,e),this.load=function(e){for(var t=Object.values(e.glyphs),n=0;n<t.length;n++){var i=t[n];if(i)for(var a=0;a<i.length;a++){var s=i[a];s&&e.setGlyphRegion(s,r.regions[s.page])}}null!=e.missingGlyph&&e.setGlyphRegion(e.missingGlyph,r.regions[e.missingGlyph.page])},this.draw=function(e,t,n,i,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:u.Align.left,o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:t.length,h=arguments.length>9?arguments[9]:void 0;r.cache.clear(),r.cache.addText(t,n,i,l,c,a,s,o,h),r.cache.draw(e)},this.getColor=function(){return r.cache.getColor()},this.getScaleX=function(){return r.data.scaleX},this.getScaleY=function(){return r.data.scaleY},this.getRegions=function(){return r.regions},this.getRegion=function(e){return r.regions[e]},this.getLineHeight=function(){return r.data.lineHeight},this.getSpaceXadvance=function(){return r.data.spaceXadvance},this.getXHeight=function(){return r.data.xHeight},this.getCapHeight=function(){return r.data.capHeight},this.getAscent=function(){return r.data.ascent},this.getDescent=function(){return r.data.descent},this.isFlipped=function(){return r.flipped},this.dispose=function(){if(r.ownsTexture)for(var e=0;e<r.regions.length;e++)r.regions[e].texture.dispose()},this.setFixedWidthGlyphs=function(e){for(var t=r.data,n=0,i=0,a=e.length;i<a;i++){var s=t.getGlyph(e.charAt(i));null!=s&&s.xadvance>n&&(n=s.xadvance)}for(var o=0,l=e.length;o<l;o++){var u=t.getGlyph(e.charAt(o));u&&(u.xoffset+=(n-u.xadvance)/2,u.xadvance=n,u.kerning=[],u.kerning=null,u.fixedWidth=!0)}},this.setUseIntegerPositions=function(e){r.integer=e,r.cache.setUseIntegerPositions(e)},this.usesIntegerPositions=function(){return r.integer},this.getCache=function(){return r.cache},this.getData=function(){return r.data},this.getOwnsTexture=function(){return r.ownsTexture},this.setOwnsTexture=function(e){r.ownsTexture=e},this.newFontCache=function(){return new o.BitmapFontCache(r,r.integer)},this.regions=n,this.flipped=t.flipped,this.data=t,this.integer=i,0!==this.regions.length?(this.ownsTexture=!1,this.cache=this.newFontCache(),this.load(t)):console.log("No texture region were found")}));t.BitmapFont=c,c.load=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s(void 0,void 0,void 0,i().mark((function a(){var s;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=new l.BitmapFontData(t,n),i.next=3,s.loadFont(e);case 3:return i.abrupt("return",new c(s,s.regions,r));case 4:case"end":return i.stop()}}),a)})))}},3959:function(e,t,n){"use strict";var i=n(861).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapFontCache=void 0;var s=n(7712),o=n(9699),l=n(8606),u=function(){function e(t,n){var a=this;r(this,e),this.tempColor=new l.Color(1,1,1,1),this.drawingTexts=[],this.layouts=[],this.pooledLayouts=[],this.color=new l.Color(1,1,1,1),this.setPosition=function(e,t){a.translate(e-a.x,t-a.y)},this.translate=function(e,t){if(0!==e||0!==t){a.integer&&(e=Math.round(e),t=Math.round(t)),a.x+=e,a.y+=t;for(var n=a.pageVertices,i=0,r=n.length;i<r;i++)for(var s=n[i],o=0,l=a.idx[i];o<l;o+=5)s[o]+=e,s[o+1]+=t}},this.setColors=function(e,t,n,i){for(var r=255<<24|255*n<<16|255*t<<8|255*e,s=o.NumberUtil.intToFloatColor(r),l=0,u=a.pageVertices.length;l<u;l++)for(var c=a.pageVertices[l],h=2,f=a.idx[l];h<f;h+=5)c[h]=s},this.getColor=function(){return a.color},this.setColor=function(e,t,n,i){a.color.set(e,t,n,i)},this.clear=function(){a.x=0,a.y=0,l.Pools.freeAll("GlyphLayout",a.pooledLayouts),a.pooledLayouts.length=0,a.layouts.length=0;for(var e=0,t=a.idx.length;e<t;e++)null!=a.pageGlyphIndices&&(a.pageGlyphIndices[e].length=0),a.idx[e]=0},this.requireGlyphs=function(e){if(1===a.pageVertices.length)a.requirePageGlyphs(0,e.glyphCount);else{for(var t=a.tempGlyphCount,n=0;n<t.length;n++)t[n]=0;for(var i=0,r=e.runs.length;i<r;i++)for(var s=e.runs[i].glyphs,o=s,l=0,u=s.length;l<u;l++)t[o[l].page]++;for(var c=0,h=t.length;c<h;c++)a.requirePageGlyphs(c,t[c])}},this.requirePageGlyphs=function(e,t){var n=a.idx[e]+20*t,i=a.pageVertices[e];if(i){if(i.length<n){var r=new Array(n);l.Utils.arrayCopy(i,0,r,0,a.idx[e]),a.pageVertices[e]=r}}else a.pageVertices[e]=new Array(n)},this.setPageCount=function(e){var t=new Array(e).fill([]);l.Utils.arrayCopy(a.pageVertices,0,t,0,a.pageVertices.length),a.pageVertices=i(t);var n=new Array(e);l.Utils.arrayCopy(a.idx,0,n,0,a.idx.length),a.idx=n;var r=new Array(e),s=0;null!=a.pageGlyphIndices&&(s=a.pageGlyphIndices.length,l.Utils.arrayCopy(a.pageGlyphIndices,0,r,0,a.pageGlyphIndices.length));for(var o=s;o<e;o++)r[o]=[];a.pageGlyphIndices=r,a.tempGlyphCount=new Array(e)},this.addToCache=function(e,t,n){var i=e.runs.length;if(0!==i){a.pageVertices.length<a.font.regions.length&&a.setPageCount(a.font.regions.length),a.layouts.push(e),a.requireGlyphs(e);var r=e.colors,s=0,l=0,u=0,c=0;a.drawingTexts.length=0;for(var h=0;h<i;h++)for(var f=e.runs[h],d=f.glyphs,p=f.xAdvances,v=t+f.x,m=n+f.y,g=0,y=f.glyphs.length;g<y;g++)u++===l&&(c=o.NumberUtil.intToFloatColor(r[++s]),l=++s<r.length?r[s]:-1),v+=p[g],a.drawingTexts.push(d[g].id),a.addGlyph(d[g],v,m,c);a.currentTint=o.NumberUtil.intToFloatColor(-1)}},this.addGlyph=function(e,t,n,i){var r=a.font.data.scaleX,s=a.font.data.scaleY;t+=e.xoffset*r,n+=e.yoffset*s;var o=e.width*r,l=e.height*s,u=e.u,c=e.u2,h=e.v,f=e.v2;a.integer&&(t=Math.round(t),n=Math.round(n),o=Math.round(o),l=Math.round(l));var d=t+o,p=n+l,v=e.page,m=a.idx[v];a.idx[v]+=20,null!=a.pageGlyphIndices&&a.pageGlyphIndices[v].push(a.glyphCount++);var g=a.pageVertices[v];g[m++]=t,g[m++]=n,g[m++]=i,g[m++]=u,g[m++]=h,g[m++]=t,g[m++]=p,g[m++]=i,g[m++]=u,g[m++]=f,g[m++]=d,g[m++]=p,g[m++]=i,g[m++]=c,g[m++]=f,g[m++]=d,g[m++]=n,g[m++]=i,g[m++]=c,g[m]=h},this.setText=function(e,t,n,i,r,s,o,l,u){return a.clear(),a.addText(e,t,n,i,r,s,o,l,u)},this.setTextToCache=function(e,t,n){a.clear(),a.addTextToCache(e,t,n)},this.addText=function(e,t,n,i,r,s,o,u,c){var h=l.Pools.obtain("GlyphLayout");return a.pooledLayouts.push(h),h.setText(a.font,e,i,r,a.color,s,o,u,c),a.addTextToCache(h,t,n),h},this.addTextToCache=function(e,t,n){a.addToCache(e,t,n+a.font.data.ascent)},this.getX=function(){return a.x},this.getY=function(){return a.y},this.getFont=function(){return a.font},this.setUseIntegerPositions=function(e){a.integer=e},this.usesIntegerPositions=function(){return a.integer},this.getVertices=function(e){return a.pageVertices[e]},this.getVertexCount=function(e){return a.idx[e]},this.getLayouts=function(){return a.layouts},this.font=t,this.integer=n;var u=t.regions.length;if(0===u&&console.log("The specified font must contain at least one texture page."),this.pageVertices=new Array(u).fill([]),this.idx=new Array(u),u>1){this.pageGlyphIndices=new Array(u);for(var c=0,h=this.pageGlyphIndices.length;c<h;c++)this.pageGlyphIndices[c]=[]}this.tempGlyphCount=new Array(u),l.Pools.get("GlyphLayout",(function(){return new s.GlyphLayout(t,"",0,0,l.Color.WHITE,0,l.Align.left,!1)}))}return a(e,[{key:"draw",value:function(e){for(var t=this,n=this.font.getRegions(),i=0;i<this.pageVertices.length;i++)if(this.idx[i]>0)for(var r=this.pageVertices[i],a=function(i){var a=20*i,s=n.find((function(e){var n;return e.id===(null===(n=t.drawingTexts)||void 0===n?void 0:n[i])}));s&&s.draw(e,r[0+a],r[1+a],r[10+a]-r[0+a],r[11+a]-r[1+a])},s=0;s<this.idx[i]/20;s++)a(s)}}]),e}();t.BitmapFontCache=u},2791:function(e,t,n){"use strict";var i=n(861).default,r=n(7061).default,a=n(6690).default,s=n(9728).default,o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(t){a(t)}}function o(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapFontData=void 0;var l=n(2013),u=n(7139),c=n(859),h=n(8606),f=65535,d=function(){function e(t,n){var i=this;a(this,e),this.capHeight=1,this.blankLineScale=1,this.scaleX=1,this.scaleY=1,this.glyphs={},this.xHeight=1,this.xChars=["x","e","a","o","n","s","r","c","u","m","v","w","z"],this.capChars=["M","N","B","D","C","E","F","K","A","G","H","I","J","L","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.loadFont=function(e){return o(i,void 0,void 0,r().mark((function t(){var n,i,a,s,o,d,v,m,g,y,_,b,x,w,k,M,T,S,A,E,L,C,O,P,I,N,R,F,B,D,j,U,V,G,z,W,H,Y,X,q,$,K,Q,Z,J,ee,te,ne,ie,re,ae,se,oe,le,ue,ce,he,fe,de,pe,ve,me,ge,ye,_e,be;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.imagePaths){t.next=2;break}return t.abrupt("return");case 2:return n=0,t.next=5,fetch(this.fontFile);case 5:return a=t.sent,t.next=8,a.text();case 8:if(i=t.sent,s=i.split(/\r?\n/).map((function(e){return e.trim()})),t.prev=10,"string"===typeof(o=s[n])){t.next=14;break}throw new Error("File is empty.");case 14:if(o=o.substring(o.indexOf("padding=")+8),4===(d=o.substring(0,o.indexOf(" ")).split(",",4)).length){t.next=18;break}throw new Error("Invalid padding.");case 18:if(this.padTop=parseInt(d[0]),this.padRight=parseInt(d[1]),this.padBottom=parseInt(d[2]),this.padLeft=parseInt(d[3]),v=this.padTop+this.padBottom,n++,"string"===typeof(o=s[n])){t.next=27;break}throw new Error("Missing common header.");case 27:if(!((m=o.split(" ",9)).length<3)){t.next=30;break}throw new Error("Invalid common header.");case 30:if(m[1].startsWith("lineHeight=")){t.next=32;break}throw new Error("Missing: lineHeight");case 32:if(this.lineHeight=parseInt(m[1].substring(11)),m[2].startsWith("base=")){t.next=35;break}throw new Error("Missing: base");case 35:if(g=parseInt(m[2].substring(5)),y=1,m.length>=6&&null!=m[5]&&m[5].startsWith("pages="))try{y=Math.max(1,parseInt(m[5].substring(6)))}catch(r){}this.imagePaths=new Array(y),_=[],b=0;case 41:if(!(b<y)){t.next=65;break}if(n++,"string"===typeof(o=s[n])){t.next=46;break}throw new Error("Missing additional page definitions.");case 46:if(!((x=o.match(new RegExp(".*id=(\\d+)")))&&x.length>1)){t.next=57;break}if(w=x[1],t.prev=49,parseInt(w)===b){t.next=53;break}throw new Error("Page IDs must be indices starting at 0: "+w);case 53:t.next=57;break;case 55:t.prev=55,t.t0=t.catch(49);case 57:if((k=o.match(new RegExp('.*file="?([^"]+)"?')))&&!(k.length<=1)){t.next=60;break}throw new Error("Missing: file");case 60:M=k[1],_[b]=M;case 62:b++,t.next=41;break;case 65:this.descent=0;case 66:if(n++,o=s[n]){t.next=71;break}return t.abrupt("break",105);case 71:if(!o.startsWith("kernings ")){t.next=73;break}return t.abrupt("break",105);case 73:if(!o.startsWith("metrics ")){t.next=75;break}return t.abrupt("break",105);case 75:if(o.startsWith("char ")){t.next=77;break}return t.abrupt("continue",66);case 77:if(T=new l.Glyph,(S=new p(o,"=")).nextToken(),S.nextToken(),!((A=parseInt(S.nextToken()))>0&&A>f)){t.next=84;break}return t.abrupt("continue",66);case 84:if(T.id=A+"",S.nextToken(),T.srcX=parseInt(S.nextToken()),S.nextToken(),T.srcY=parseInt(S.nextToken()),S.nextToken(),T.width=parseInt(S.nextToken()),S.nextToken(),T.height=parseInt(S.nextToken()),S.nextToken(),T.xoffset=parseInt(S.nextToken()),S.nextToken(),this.flipped?T.yoffset=parseInt(S.nextToken()):T.yoffset=-(T.height+parseInt(S.nextToken())),S.nextToken(),T.xadvance=parseInt(S.nextToken()),S.hasMoreTokens()&&S.nextToken(),S.hasMoreTokens())try{T.page=parseInt(S.nextToken())}catch(xe){}T.width>0&&T.height>0&&(this.descent=Math.min(g+T.yoffset,this.descent)),A<=0?this.missingGlyph=T:A<=f&&this.setGlyph(A,T),t.next=66;break;case 105:this.descent+=this.padBottom;case 106:if(n++,"string"===typeof(o=s[n])){t.next=111;break}return t.abrupt("break",127);case 111:if(o.startsWith("kerning ")){t.next=113;break}return t.abrupt("break",127);case 113:if((E=new p(o,"=")).nextToken(),E.nextToken(),L=parseInt(E.nextToken()),E.nextToken(),C=parseInt(E.nextToken()),!(L<0||L>f||C<0||C>f)){t.next=121;break}return t.abrupt("continue",106);case 121:O=this.getGlyph(L+""),E.nextToken(),P=parseInt(E.nextToken()),O&&O.setKerning(C,P),t.next=106;break;case 127:I=!1,N=0,R=0,F=0,B=0,D=0,j=0,U=0,null!=o&&o.startsWith("metrics ")&&(I=!0,(V=new p(o,"=")).nextToken(),V.nextToken(),N=parseFloat(V.nextToken()),V.nextToken(),R=parseFloat(V.nextToken()),V.nextToken(),F=parseFloat(V.nextToken()),V.nextToken(),B=parseFloat(V.nextToken()),V.nextToken(),D=parseFloat(V.nextToken()),V.nextToken(),j=parseFloat(V.nextToken()),V.nextToken(),U=parseFloat(V.nextToken())),(G=this.getGlyph("32"))||((G=new l.Glyph).id="32",(z=this.getGlyph("l"))||(z=this.getFirstGlyph()),G.xadvance=z.xadvance,this.setGlyph(32,G)),0===G.width&&(G.width=this.padLeft+G.xadvance+this.padRight,G.xoffset=-this.padLeft),this.spaceXadvance=G.xadvance,H=0;case 141:if(!(H<this.xChars.length)){t.next=148;break}if(!(W=this.getGlyph(this.xChars[H]))){t.next=145;break}return t.abrupt("break",148);case 145:H++,t.next=141;break;case 148:W||(W=this.getFirstGlyph()),this.xHeight=W.height-v,X=0;case 151:if(!(X<this.capChars.length)){t.next=158;break}if(!(Y=this.getGlyph(this.capChars[X]))){t.next=155;break}return t.abrupt("break",158);case 155:X++,t.next=151;break;case 158:if(Y){t.next=178;break}q=Object.values(this.glyphs),$=0;case 161:if(!($<q.length)){t.next=176;break}if(K=q[$]){t.next=165;break}return t.abrupt("continue",173);case 165:Q=0;case 166:if(!(Q<K.length)){t.next=173;break}if(K[Q]&&0!==K[Q].height&&0!==K[Q].width){t.next=169;break}return t.abrupt("continue",170);case 169:this.capHeight=Math.max(this.capHeight,K[Q].height);case 170:Q++,t.next=166;break;case 173:$++,t.next=161;break;case 176:t.next=179;break;case 178:this.capHeight=Y.height;case 179:for(this.capHeight-=v,this.ascent=g-this.capHeight,this.down=-this.lineHeight,this.flipped&&(this.ascent=-this.ascent,this.down=-this.down),I&&(this.ascent=N,this.descent=R,this.down=F,this.capHeight=B,this.lineHeight=D,this.spaceXadvance=j,this.xHeight=U),Z=[],J=Object.values(this.glyphs),ee=0;ee<J.length;ee++)for(te=Object.values(J[ee]),ne=0;ne<te.length;ne++)ie={id:te[ne].id,left:te[ne].srcX,top:te[ne].srcY,width:te[ne].width,height:te[ne].height,xoffset:te[ne].xoffset,yoffset:te[ne].yoffset,xadvance:te[ne].xadvance,page:_[te[ne].page],pageId:te[ne].page},Z.push(ie);re=[],ae=0;case 189:if(!(ae<y)){t.next=199;break}return t.next=192,u.Texture.load(e,(0,h.concatAndResolveUrl)(this.fontFile,"../".concat(_[ae])));case 192:se=t.sent,oe=1/se.width,le=1/se.height,re.push({texture:se,invTexWidth:oe,invTexHeight:le});case 196:ae++,t.next=189;break;case 199:for(this.regions=[],ue=0,ce=Z;ue<ce.length;ue++)he=ce[ue],fe=he.left,de=he.top,pe=he.width,ve=he.height,me=re[he.pageId],ge=me.texture,ye=me.invTexWidth,_e=me.invTexHeight,(be=new c.TextureRegion(ge,fe,de,pe,ve,he,ye,_e)).originalWidth=pe,be.originalHeight=ve,be.offsetX=0,be.offsetY=0,this.regions.push(be);t.next=206;break;case 203:t.prev=203,t.t1=t.catch(10),console.error(t.t1);case 206:case"end":return t.stop()}}),t,this,[[10,203],[49,55]])})))},this.setGlyphRegion=function(e,t){var n=t.texture,r=1/n.width,a=1/n.height,s=t.u,o=t.v,l=(t.originalWidth,t.originalHeight,e.srcX),u=e.srcX+e.width,c=e.srcY,h=e.srcY+e.height;e.u=s+l*r,e.u2=s+u*r,i.flipped?(e.v=o+c*a,e.v2=o+h*a):(e.v2=o+c*a,e.v=o+h*a)},this.setLineHeight=function(e){i.lineHeight=e*i.scaleY,i.down=i.flipped?i.lineHeight:-i.lineHeight},this.setGlyph=function(e,t){var n=i.glyphs[e/l.PAGE_SIZE];n||(n=new Array(l.PAGE_SIZE),i.glyphs[e/l.PAGE_SIZE]=n),n[e&l.PAGE_SIZE-1]=t},this.getFirstGlyph=function(){for(var e=Object.values(i.glyphs),t=0;t<e.length;t++){var n=e[t];if(n)for(var r=0;r<n.length;r++){var a=n[r];if(a&&0!==a.height&&0!==a.width)return a}}},this.hasGlyph=function(e){return!!i.missingGlyph||null!=i.getGlyph(e)},this.getGlyph=function(e){var t=i.glyphs[e.charCodeAt(0)/l.PAGE_SIZE];if(null!=t)return t[e.charCodeAt(0)&l.PAGE_SIZE-1]},this.getGlyphs=function(e,t,n,r,a){if(0!==r-n){var s=i.markupEnabled,o=i.scaleX,l=e.glyphs,u=e.xAdvances;do{var c=t.charAt(n++);if("\r"!==c){var h=i.getGlyph(c);if(!h){if(!i.missingGlyph)continue;h=i.missingGlyph}l.push(h),u.push(a?(a.xadvance+a.getKerning(c))*o:h.fixedWidth?0:-h.xoffset*o-i.padLeft),a=h,s&&"["===c&&n<r&&"["===t.charAt(n)&&n++}}while(n<r);if(a){var f=a.fixedWidth?a.xadvance*o:(a.width+a.xoffset)*o-i.padRight;u.push(f)}}},this.getWrapIndex=function(e,t){var n=t-1,r=e,a=r[n].id;if(i.isWhitespace(a+""))return n;for(i.isBreakChar(a+"")&&n--;n>0;n--)if(a=r[n].id,i.isWhitespace(a+"")||i.isBreakChar(a+""))return n+1;return 0},this.isBreakChar=function(e){if(!i.breakChars)return!1;for(var t=String.fromCharCode(parseInt(e)),n=0;n<i.breakChars.length;n++)if(t===i.breakChars[n])return!0;return!1},this.isWhitespace=function(e){switch(String.fromCharCode(parseInt(e))){case"\n":case"\r":case"\t":case" ":return!0;default:return!1}},this.getImagePath=function(e){return i.imagePaths[e]},this.getImagePaths=function(){return i.imagePaths},this.setScale=function(e,t){if(0!==e&&0!==t){var n=e/i.scaleX,r=t/i.scaleY;i.lineHeight*=r,i.spaceXadvance*=n,i.xHeight*=r,i.capHeight*=r,i.ascent*=r,i.descent*=r,i.down*=r,i.padLeft*=n,i.padRight*=n,i.padTop*=r,i.padBottom*=r,i.scaleX=e,i.scaleY=t}},this.scale=function(e){i.setScale(i.scaleX+e,i.scaleY+e)},this.fontFile=t,this.flipped=n}return s(e,[{key:"setXYScale",value:function(e){this.setScale(e,e)}}]),e}();t.BitmapFontData=d;var p=function(){function e(t,n){a(this,e),this.strArray=[],this.currentIndex=0;for(var r=t.split(/\s+/),s=0;s<r.length;s++){var o,l=r[s];(o=this.strArray).push.apply(o,i(l.split(n)))}}return s(e,[{key:"hasMoreTokens",value:function(){return this.currentIndex>=this.strArray.length}},{key:"nextToken",value:function(){return this.strArray[this.currentIndex++]}}]),e}()},5477:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BoundingBox=void 0;var s=n(7811),o=function(){function e(){r(this,e),this.min=new s.Vector3,this.max=new s.Vector3,this.cnt=new s.Vector3,this.dim=new s.Vector3,this.clr()}return a(e,[{key:"getCenter",value:function(e){return e.setFrom(this.cnt)}},{key:"getCenterX",value:function(){return this.cnt.x}},{key:"getCenterY",value:function(){return this.cnt.y}},{key:"getCenterZ",value:function(){return this.cnt.z}},{key:"getCorner000",value:function(e){return e.set(this.min.x,this.min.y,this.min.z)}},{key:"getCorner001",value:function(e){return e.set(this.min.x,this.min.y,this.max.z)}},{key:"getCorner010",value:function(e){return e.set(this.min.x,this.max.y,this.min.z)}},{key:"getCorner011",value:function(e){return e.set(this.min.x,this.max.y,this.max.z)}},{key:"getCorner100",value:function(e){return e.set(this.max.x,this.min.y,this.min.z)}},{key:"getCorner101",value:function(e){return e.set(this.max.x,this.min.y,this.max.z)}},{key:"getCorner110",value:function(e){return e.set(this.max.x,this.max.y,this.min.z)}},{key:"getCorner111",value:function(e){return e.set(this.max.x,this.max.y,this.max.z)}},{key:"getDimensions",value:function(e){return e.setFrom(this.dim)}},{key:"getWidth",value:function(){return this.dim.x}},{key:"getHeight",value:function(){return this.dim.y}},{key:"getDepth",value:function(){return this.dim.z}},{key:"getMin",value:function(e){return e.setFrom(this.min)}},{key:"getMax",value:function(e){return e.setFrom(this.max)}},{key:"setFromBounds",value:function(e){return this.set(e.min,e.max)}},{key:"set",value:function(e,t){return this.min.set(e.x<t.x?e.x:t.x,e.y<t.y?e.y:t.y,e.z<t.z?e.z:t.z),this.max.set(e.x>t.x?e.x:t.x,e.y>t.y?e.y:t.y,e.z>t.z?e.z:t.z),this.update(),this}},{key:"update",value:function(){this.cnt.setFrom(this.min).add(this.max).scale(.5),this.dim.setFrom(this.max).sub(this.min)}},{key:"setFromPoints",value:function(e){this.inf();var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.extPoint(r)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"inf",value:function(){return this.min.set(1/0,1/0,1/0),this.max.set(-1/0,-1/0,-1/0),this.cnt.set(0,0,0),this.dim.set(0,0,0),this}},{key:"extPoint",value:function(e){return this.set(this.min.set(Math.min(this.min.x,e.x),Math.min(this.min.y,e.y),Math.min(this.min.z,e.z)),this.max.set(Math.max(this.max.x,e.x),Math.max(this.max.y,e.y),Math.max(this.max.z,e.z)))}},{key:"clr",value:function(){return this.set(this.min.set(0,0,0),this.max.set(0,0,0))}},{key:"isValid",value:function(){return this.min.x<=this.max.x&&this.min.y<=this.max.y&&this.min.z<=this.max.z}},{key:"extBounds",value:function(e){return this.set(this.min.set(Math.min(this.min.x,e.min.x),Math.min(this.min.y,e.min.y),Math.min(this.min.z,e.min.z)),this.max.set(Math.max(this.max.x,e.max.x),Math.max(this.max.y,e.max.y),Math.max(this.max.z,e.max.z)))}},{key:"extSphere",value:function(e,t){return this.set(this.min.set(Math.min(this.min.x,e.x-t),Math.min(this.min.y,e.y-t),Math.min(this.min.z,e.z-t)),this.max.set(Math.max(this.max.x,e.x+t),Math.max(this.max.y,e.y+t),Math.max(this.max.z,e.z+t)))}},{key:"extTransformedBox",value:function(t,n){return this.extPoint(e.tmpVector.set(t.min.x,t.min.y,t.min.z).multiply(n)),this.extPoint(e.tmpVector.set(t.min.x,t.min.y,t.max.z).multiply(n)),this.extPoint(e.tmpVector.set(t.min.x,t.max.y,t.min.z).multiply(n)),this.extPoint(e.tmpVector.set(t.min.x,t.max.y,t.max.z).multiply(n)),this.extPoint(e.tmpVector.set(t.max.x,t.min.y,t.min.z).multiply(n)),this.extPoint(e.tmpVector.set(t.max.x,t.min.y,t.max.z).multiply(n)),this.extPoint(e.tmpVector.set(t.max.x,t.max.y,t.min.z).multiply(n)),this.extPoint(e.tmpVector.set(t.max.x,t.max.y,t.max.z).multiply(n)),this}},{key:"mul",value:function(t){var n=this.min.x,i=this.min.y,r=this.min.z,a=this.max.x,s=this.max.y,o=this.max.z;return this.inf(),this.extPoint(e.tmpVector.set(n,i,r).multiply(t)),this.extPoint(e.tmpVector.set(n,i,o).multiply(t)),this.extPoint(e.tmpVector.set(n,s,r).multiply(t)),this.extPoint(e.tmpVector.set(n,s,o).multiply(t)),this.extPoint(e.tmpVector.set(a,i,r).multiply(t)),this.extPoint(e.tmpVector.set(a,i,o).multiply(t)),this.extPoint(e.tmpVector.set(a,s,r).multiply(t)),this.extPoint(e.tmpVector.set(a,s,o).multiply(t)),this}},{key:"containsBounds",value:function(e){return!this.isValid()||this.min.x<=e.min.x&&this.min.y<=e.min.y&&this.min.z<=e.min.z&&this.max.x>=e.max.x&&this.max.y>=e.max.y&&this.max.z>=e.max.z}},{key:"intersects",value:function(e){if(!this.isValid())return!1;var t=Math.abs(this.cnt.x-e.cnt.x),n=this.dim.x/2+e.dim.x/2,i=Math.abs(this.cnt.y-e.cnt.y),r=this.dim.y/2+e.dim.y/2,a=Math.abs(this.cnt.z-e.cnt.z),s=this.dim.z/2+e.dim.z/2;return t<=n&&i<=r&&a<=s}},{key:"containsPoint",value:function(e){return this.min.x<=e.x&&this.max.x>=e.x&&this.min.y<=e.y&&this.max.y>=e.y&&this.min.z<=e.z&&this.max.z>=e.z}},{key:"ext",value:function(e,t,n){return this.set(this.min.set(Math.min(this.min.x,e),Math.min(this.min.y,t),Math.min(this.min.z,n)),this.max.set(Math.max(this.max.x,e),Math.max(this.max.y,t),Math.max(this.max.z,n)))}}]),e}();t.BoundingBox=o,o.tmpVector=new s.Vector3},7459:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OrthoCamera=void 0;var a=n(4995),s=n(7811),o=function(){function e(t,n,r,o){i(this,e),this.position=new s.Vector3(0,0,0),this.direction=new s.Vector3(0,0,-1),this.up=new s.Vector3(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new a.Matrix4,this.inverseProjectionView=new a.Matrix4,this.projection=new a.Matrix4,this.view=new a.Matrix4,this.yDown=!1,this.tmp3=new s.Vector3,this.resize(t,n,r,o)}return r(e,[{key:"getYDown",value:function(){return this.yDown}},{key:"setYDown",value:function(e){this.yDown=e,e?(this.up.set(0,-1,0),this.direction.set(0,0,1)):(this.up.set(0,1,0),this.direction.set(0,0,-1)),this.update()}},{key:"resize",value:function(e,t,n,i){this.viewportWidth=e,this.viewportHeight=t,this.screenWidth=n,this.screenHeight=i,this.update()}},{key:"setPosition",value:function(e,t){this.position.set(e,t,this.position.z)}},{key:"update",value:function(){var e=this.projection,t=this.view,n=this.projectionView,i=this.inverseProjectionView,r=this.zoom,a=this.viewportWidth,s=this.viewportHeight;e.ortho(r*(-a/2),r*(a/2),r*(-s/2),r*(s/2),this.near,this.far),t.lookAt(this.position,this.direction,this.up),n.set(e.values),n.multiply(t),i.set(n.values).invert(),this.combined=n.values}},{key:"screenToWorld",value:function(e,t,n){t=t||this.screenWidth,n=n||this.screenHeight;var i=e.x,r=n-e.y-1;return e.x=2*i/t-1,e.y=2*r/n-1,e.z=2*e.z-1,e.project(this.inverseProjectionView),e}},{key:"worldToScreen",value:function(e,t,n){return t=t||this.screenWidth,n=n||this.screenHeight,e.project(this.projectionView),e.x=t*(e.x+1)/2,e.y=n*(e.y+1)/2,e.z=(e.z+1)/2,e}},{key:"unprojectVector2",value:function(e,t){this.tmp3.set(t.x,t.y,0),this.screenToWorld(this.tmp3),e.set(this.tmp3.x,this.tmp3.y)}},{key:"setViewport",value:function(e,t){this.viewportWidth=e,this.viewportHeight=t}}]),e}();t.OrthoCamera=o},6176:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var a=function(){function e(){i(this,e)}return r(e,[{key:"setScreen",value:function(e){this.currentScreen&&this.currentScreen.dispose&&this.currentScreen.dispose(),this.currentScreen=e,this.currentScreen&&this.currentScreen.init&&this.currentScreen.init(this)}},{key:"update",value:function(e){this.currentScreen&&this.currentScreen.update&&this.currentScreen.update(e,this)}}]),e}();t.Game=a,a.shared=new a},2013:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Glyph=t.PAGES=t.PAGE_SIZE=t.LOG2_PAGE_SIZE=void 0,t.LOG2_PAGE_SIZE=9,t.PAGE_SIZE=1<<t.LOG2_PAGE_SIZE,t.PAGES=65536/t.PAGE_SIZE;var a=function(){function e(){i(this,e),this.page=0}return r(e,[{key:"getKerning",value:function(e){if(this.kerning){var n=this.kerning[e.charCodeAt(0)>>>t.LOG2_PAGE_SIZE];if(null!=n)return n[e.charCodeAt(0)&t.PAGE_SIZE-1]}return 0}},{key:"setKerning",value:function(e,n){this.kerning||(this.kerning=[]);var i=this.kerning[e>>>t.LOG2_PAGE_SIZE];i||(this.kerning[e>>>t.LOG2_PAGE_SIZE]=i=new Uint32Array(new ArrayBuffer(t.PAGE_SIZE))),i[e&t.PAGE_SIZE-1]=n}}]),e}();t.Glyph=a},7712:function(e,t,n){"use strict";var i=n(861).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GlyphLayout=void 0;var s=n(9045),o=n(8606),l=function(){function e(t,n){var a=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(null===n||void 0===n?void 0:n.length)||0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.Color.WHITE,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:o.Align.left,d=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],p=arguments.length>8?arguments[8]:void 0;r(this,e),this.epsilon=1e-4,this.glyphRunPool=o.Pools.get("GlyphRun",(function(){return new s.GlyphRun})),this.colorStack=new Array(4),this.runs=[],this.colors=[],this.setText=function(e,t,n,i,r,s,o,l,u){a.reset();var c=e.data;if(n!==i){l&&(s=Math.max(s,3*c.spaceXadvance));var h=l||null!=u,f=r.toIntBits(),d=f;a.colors.shift();var p=c.markupEnabled;p&&a.colorStack.push(f);for(var v=!1,m=0,g=c.down,y=null,_=null,b=n;;){var x=void 0,w=!1;if(n===i){if(b===i)break;x=i,v=!0}else{if("\n"!==t.charAt(n++))continue;x=n-1,w=!0}e:{var k=a.glyphRunPool.obtain();if(k.x=0,k.y=m,c.getGlyphs(k,t,b,x,_),a.glyphCount+=k.glyphs.length,d!==f&&(a.colors[a.colors.length-2]===a.glyphCount?a.colors[a.colors.length-1]=d:(a.colors.push(a.glyphCount),a.colors.push(d)),f=d),0===k.glyphs.length){if(a.glyphRunPool.free(k),!y)break}else y?(y.appendRun(k),a.glyphRunPool.free(k)):(y=k,a.runs.push(y));if(w||v?(a.setLastGlyphXAdvance(c,y),_=null):_=y.glyphs[y.glyphs.length-1],h&&0!==y.glyphs.length&&(w||v))for(var M=y.xAdvances[0]+y.xAdvances[1],T=2;T<y.xAdvances.length;T++){var S=y.glyphs[T-1];if(M+a.getGlyphWidth(S,c)-a.epsilon<=s)M+=y.xAdvances[T];else{if(null!=u){a.truncate(c,y,s,u);break}var A=c.getWrapIndex(y.glyphs,T);if((0===A&&0===y.x||A>=y.glyphs.length)&&(A=T-1),!(y=a.wrap(c,y,A)))break e;a.runs.push(y),m+=g,y.x=0,y.y=m,M=y.xAdvances[0]+y.xAdvances[1],T=1}}}w&&(y=null,_=null,m+=x===b?g*c.blankLineScale:g),b=n}a.height=c.capHeight+Math.abs(m),a.calculateWidths(c),a.alignRuns(s,o),p&&(a.colorStack.length=0)}else a.height=c.capHeight},this.calculateWidths=function(e){for(var t,n=0,r=i(a.runs),s=0,o=a.runs.length;s<o;s++){for(var l=r[s],u=l.xAdvances,c=l.x+u[0],h=0,f=l.glyphs,d=0;d<l.glyphs.length;){var p=f[d],v=a.getGlyphWidth(p,e);h=Math.max(h,c+v),c+=null!==(t=u[++d])&&void 0!==t?t:0}l.width=Math.max(c,h)-l.x,n=Math.max(n,l.x+(isNaN(l.width)?c:l.width))}a.width=n},this.alignRuns=function(e,t){if(0===(t&o.Align.left))for(var n=0!==(t&o.Align.center),r=i(a.runs),s=0,l=a.runs.length;s<l;s++){var u=r[s];u.x+=n?.5*(e-u.width):e-u.width}},this.truncate=function(e,t,n,i){var r=t.glyphs.length,s=a.glyphRunPool.obtain();e.getGlyphs(s,i,0,i.length,null);var l=0;if(s.xAdvances.length>0){a.setLastGlyphXAdvance(e,s);for(var u=s.xAdvances,c=1;c<s.xAdvances.length;c++)l+=u[c]}n-=l;for(var h=0,f=t.x,d=t.xAdvances;h<t.xAdvances.length;){if((f+=d[h])>n)break;h++}if(h>1){if(h-1>=0&&t.glyphs.length>h-1)for(var p=h-1;p<t.glyphs.length;p++)t.glyphs.splice(p,1);if(h>=0&&t.xAdvances.length>h)for(var v=h;v<t.xAdvances.length;v++)t.xAdvances.splice(v,1);a.setLastGlyphXAdvance(e,t),s.xAdvances.length>0&&o.Utils.arrayCopy(s.xAdvances,1,t.xAdvances,t.xAdvances.length,s.xAdvances.length-1)}else t.glyphs.length=0,t.xAdvances.length=0,o.Utils.arrayCopy(s.xAdvances,0,t.xAdvances,t.xAdvances.length,s.xAdvances.length);var m=r-t.glyphs.length;if(m>0&&(a.glyphCount-=m,e.markupEnabled))for(;a.colors.length>2&&a.colors[a.colors.length-2]>=a.glyphCount;)a.colors.length-=2;o.Utils.arrayCopy(s.glyphs,0,t.glyphs,t.glyphs.length,s.glyphs.length),a.glyphCount+=i.length,a.glyphRunPool.free(s)},this.setLastGlyphXAdvance=function(e,t){var n=t.glyphs[t.glyphs.length-1];n.fixedWidth||(t.xAdvances[t.xAdvances.length-1]=a.getGlyphWidth(n,e))},this.getGlyphWidth=function(e,t){return(e.width+e.xoffset)*t.scaleX-t.padRight},this.getLineOffset=function(e,t){return-e[0].xoffset*t.scaleX-t.padLeft},this.reset=function(){a.glyphRunPool.freeAll(a.runs),a.runs.length=0,a.colors.length=0,a.glyphCount=0,a.width=0,a.height=0},t&&n&&this.setText(t,n,l,u,c,h,f,d,p)}return a(e,[{key:"wrap",value:function(e,t,n){for(var i=t.glyphs.length,r=t.glyphs,a=t.xAdvances,s=n;s>0&&e.isWhitespace(r[s-1].id);s--);for(var l,u=n;u<i&&e.isWhitespace(r[u].id);u++);if(u<i){var c=(l=this.glyphRunPool.obtain()).glyphs;o.Utils.arrayCopy(r,0,c,c.length,s),r.splice(0,u-1+1),t.glyphs=c,l.glyphs=r;var h=l.xAdvances;o.Utils.arrayCopy(a,0,h,h.length,s+1),a.splice(1,u),a[0]=this.getLineOffset(r,e),t.xAdvances=h,l.xAdvances=a;var f=t.glyphs.length,d=l.glyphs.length,p=i-f-d;if(this.glyphCount-=p,e.markupEnabled&&p>0)for(var v=this.glyphCount-d,m=this.colors.length-2;m>=2;m-=2){var g=this.colors[m];if(g<=v)break;this.colors[m]=g-p}}else{r=r.slice(0,s),a=a.slice(0,s+1);var y=u-s;if(y>0&&(this.glyphCount-=y,e.markupEnabled&&this.colors[this.colors.length-2]>this.glyphCount)){for(var _=this.colors[this.colors.length-1];this.colors[this.colors.length-2]>this.glyphCount;)this.colors.length-=2;this.colors[this.colors.length-2]=this.glyphCount,this.colors[this.colors.length-1]=_}}return 0===s?(this.glyphRunPool.free(t),this.runs.pop()):this.setLastGlyphXAdvance(e,t),l}}]),e}();t.GlyphLayout=l},9045:function(e,t,n){"use strict";var i=n(9728).default,r=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GlyphRun=void 0;var a=i((function e(){var t=this;r(this,e),this.glyphs=[],this.xAdvances=[],this.appendRun=function(e){t.glyphs.concat(e.glyphs),t.xAdvances.length||t.xAdvances.length--,t.xAdvances.concat(e.xAdvances)},this.reset=function(){t.glyphs.length=0,t.xAdvances.length=0}}));t.GlyphRun=a},6964:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.InputEvent=void 0;var a=n(8041),s=n(2283);!function(e){e.TouchStart="touchStart",e.TouchEnd="touchEnd",e.TouchMove="touchMove"}(t.InputEvent||(t.InputEvent={}));var o=function(){function e(t){var n=this;i(this,e),this.screenCoord=new s.Vector2,this.worldCoord=new s.Vector2,this.canvas=t,this.lastX=0,this.lastY=0,this.touched=!1;var r=this.emitter=new a.EventEmitter;this.mouseDownHandler=function(e){n.touched=!0,n.handleMove(e),r.emit("touchStart",n.getX(),n.getY())},this.mouseUpHandler=function(e){n.touched=!1,r.emit("touchEnd",n.getX(),n.getY())},this.mouseMoveHandler=function(e){n.handleMove(e),r.emit("touchMove",n.getX(),n.getY())},this.touchStartHandler=function(e){e.preventDefault();var t=e.touches[0];n.canvas.dispatchEvent(new MouseEvent("mousedown",{clientX:t.clientX,clientY:t.clientY}))},this.touchEndHandler=function(e){e.preventDefault(),n.canvas.dispatchEvent(new MouseEvent("mouseup"))},this.touchMoveHandler=function(e){e.preventDefault();var t=e.touches[0];n.canvas.dispatchEvent(new MouseEvent("mousemove",{clientX:t.clientX,clientY:t.clientY}))},this.canvas.addEventListener("mousedown",this.mouseDownHandler,!1),this.canvas.addEventListener("mouseup",this.mouseUpHandler,!1),this.canvas.addEventListener("mousemove",this.mouseMoveHandler,!1),this.canvas.addEventListener("touchstart",this.touchStartHandler,!1),this.canvas.addEventListener("touchend",this.touchEndHandler,!1),this.canvas.addEventListener("touchmove",this.touchMoveHandler,!1)}return r(e,[{key:"cleanup",value:function(){this.canvas.removeEventListener("mousedown",this.mouseDownHandler),this.canvas.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("touchstart",this.touchStartHandler),this.canvas.removeEventListener("touchend",this.touchEndHandler),this.canvas.removeEventListener("touchmove",this.touchMoveHandler)}},{key:"addEventListener",value:function(e,t){this.emitter.addListener(e,t)}},{key:"handleMove",value:function(e){var t=this.canvas.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;this.lastX=n,this.lastY=i}},{key:"getX",value:function(){return this.lastX}},{key:"getY",value:function(){return this.lastY}},{key:"isTouched",value:function(){return this.touched}},{key:"getTouchedWorldCoord",value:function(e){return this.screenCoord.set(this.getX(),this.getY()),e.unprojectVector2(this.worldCoord,this.screenCoord),this.worldCoord}}]),e}();t.InputHandler=o},6239:function(e,t,n){"use strict";var i=n(4704).default,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix3=void 0;var s=n(4995),o=n(8606),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,e),this.val=new Array(9),this.tmp=new Array(9),t?this.setByMatrix3(t):this.idt()}return a(e,[{key:"idt",value:function(){var t=this.val;return t[e.M00]=1,t[e.M10]=0,t[e.M20]=0,t[e.M01]=0,t[e.M11]=1,t[e.M21]=0,t[e.M02]=0,t[e.M12]=0,t[e.M22]=1,this}},{key:"mulWithMatrix3",value:function(t){var n=this.val,i=n[e.M00]*t.val[e.M00]+n[e.M01]*t.val[e.M10]+n[e.M02]*t.val[e.M20],r=n[e.M00]*t.val[e.M01]+n[e.M01]*t.val[e.M11]+n[e.M02]*t.val[e.M21],a=n[e.M00]*t.val[e.M02]+n[e.M01]*t.val[e.M12]+n[e.M02]*t.val[e.M22],s=n[e.M10]*t.val[e.M00]+n[e.M11]*t.val[e.M10]+n[e.M12]*t.val[e.M20],o=n[e.M10]*t.val[e.M01]+n[e.M11]*t.val[e.M11]+n[e.M12]*t.val[e.M21],l=n[e.M10]*t.val[e.M02]+n[e.M11]*t.val[e.M12]+n[e.M12]*t.val[e.M22],u=n[e.M20]*t.val[e.M00]+n[e.M21]*t.val[e.M10]+n[e.M22]*t.val[e.M20],c=n[e.M20]*t.val[e.M01]+n[e.M21]*t.val[e.M11]+n[e.M22]*t.val[e.M21],h=n[e.M20]*t.val[e.M02]+n[e.M21]*t.val[e.M12]+n[e.M22]*t.val[e.M22];return n[e.M00]=i,n[e.M10]=s,n[e.M20]=u,n[e.M01]=r,n[e.M11]=o,n[e.M21]=c,n[e.M02]=a,n[e.M12]=l,n[e.M22]=h,this}},{key:"mulLeft",value:function(t){var n=this.val,i=t.val[e.M00]*n[e.M00]+t.val[e.M01]*n[e.M10]+t.val[e.M02]*n[e.M20],r=t.val[e.M00]*n[e.M01]+t.val[e.M01]*n[e.M11]+t.val[e.M02]*n[e.M21],a=t.val[e.M00]*n[e.M02]+t.val[e.M01]*n[e.M12]+t.val[e.M02]*n[e.M22],s=t.val[e.M10]*n[e.M00]+t.val[e.M11]*n[e.M10]+t.val[e.M12]*n[e.M20],o=t.val[e.M10]*n[e.M01]+t.val[e.M11]*n[e.M11]+t.val[e.M12]*n[e.M21],l=t.val[e.M10]*n[e.M02]+t.val[e.M11]*n[e.M12]+t.val[e.M12]*n[e.M22],u=t.val[e.M20]*n[e.M00]+t.val[e.M21]*n[e.M10]+t.val[e.M22]*n[e.M20],c=t.val[e.M20]*n[e.M01]+t.val[e.M21]*n[e.M11]+t.val[e.M22]*n[e.M21],h=t.val[e.M20]*n[e.M02]+t.val[e.M21]*n[e.M12]+t.val[e.M22]*n[e.M22];return n[e.M00]=i,n[e.M10]=s,n[e.M20]=u,n[e.M01]=r,n[e.M11]=o,n[e.M21]=c,n[e.M02]=a,n[e.M12]=l,n[e.M22]=h,this}},{key:"setToRotation",value:function(e){return this.setToRotationRad(o.MathUtils.degreesToRadians*e)}},{key:"setToRotationRad",value:function(t){var n=Math.cos(t),i=Math.sin(t),r=this.val;return r[e.M00]=n,r[e.M10]=i,r[e.M20]=0,r[e.M01]=-i,r[e.M11]=n,r[e.M21]=0,r[e.M02]=0,r[e.M12]=0,r[e.M22]=1,this}},{key:"setToRotationWithAxis",value:function(t,n){var i=Math.cos(n),r=Math.sin(n),a=this.val,s=1-i;return a[e.M00]=s*t.x*t.x+i,a[e.M01]=s*t.x*t.y-t.z*r,a[e.M02]=s*t.z*t.x+t.y*r,a[e.M10]=s*t.x*t.y+t.z*r,a[e.M11]=s*t.y*t.y+i,a[e.M12]=s*t.y*t.z-t.x*r,a[e.M20]=s*t.z*t.x-t.y*r,a[e.M21]=s*t.y*t.z+t.x*r,a[e.M22]=s*t.z*t.z+i,this}},{key:"setToTranslation",value:function(t,n){var i=this.val;return i[e.M00]=1,i[e.M10]=0,i[e.M20]=0,i[e.M01]=0,i[e.M11]=1,i[e.M21]=0,i[e.M02]=t,i[e.M12]=n,i[e.M22]=1,this}},{key:"setToScaling",value:function(t,n){var i=this.val;return i[e.M00]=t,i[e.M10]=0,i[e.M20]=0,i[e.M01]=0,i[e.M11]=n,i[e.M21]=0,i[e.M02]=0,i[e.M12]=0,i[e.M22]=1,this}},{key:"toString",value:function(){var t=this.val;return"["+t[e.M00]+"|"+t[e.M01]+"|"+t[e.M02]+"]\n["+t[e.M10]+"|"+t[e.M11]+"|"+t[e.M12]+"]\n["+t[e.M20]+"|"+t[e.M21]+"|"+t[e.M22]+"]"}},{key:"det",value:function(){var t=this.val;return t[e.M00]*t[e.M11]*t[e.M22]+t[e.M01]*t[e.M12]*t[e.M20]+t[e.M02]*t[e.M10]*t[e.M21]-t[e.M00]*t[e.M12]*t[e.M21]-t[e.M01]*t[e.M10]*t[e.M22]-t[e.M02]*t[e.M11]*t[e.M20]}},{key:"inv",value:function(){var t=this.det();if(0===t)throw new Error("Can't invert a singular matrix");var n=1/t,i=this.tmp,r=this.val;return i[e.M00]=r[e.M11]*r[e.M22]-r[e.M21]*r[e.M12],i[e.M10]=r[e.M20]*r[e.M12]-r[e.M10]*r[e.M22],i[e.M20]=r[e.M10]*r[e.M21]-r[e.M20]*r[e.M11],i[e.M01]=r[e.M21]*r[e.M02]-r[e.M01]*r[e.M22],i[e.M11]=r[e.M00]*r[e.M22]-r[e.M20]*r[e.M02],i[e.M21]=r[e.M20]*r[e.M01]-r[e.M00]*r[e.M21],i[e.M02]=r[e.M01]*r[e.M12]-r[e.M11]*r[e.M02],i[e.M12]=r[e.M10]*r[e.M02]-r[e.M00]*r[e.M12],i[e.M22]=r[e.M00]*r[e.M11]-r[e.M10]*r[e.M01],r[e.M00]=n*i[e.M00],r[e.M10]=n*i[e.M10],r[e.M20]=n*i[e.M20],r[e.M01]=n*i[e.M01],r[e.M11]=n*i[e.M11],r[e.M21]=n*i[e.M21],r[e.M02]=n*i[e.M02],r[e.M12]=n*i[e.M12],r[e.M22]=n*i[e.M22],this}},{key:"setByMatrix3",value:function(e){var t,n=i(e.val);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.val.push(r)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"setByMatrix4",value:function(t){var n=this.val;return n[e.M00]=t.values[s.Matrix4.M00],n[e.M10]=t.values[s.Matrix4.M10],n[e.M20]=t.values[s.Matrix4.M20],n[e.M01]=t.values[s.Matrix4.M01],n[e.M11]=t.values[s.Matrix4.M11],n[e.M21]=t.values[s.Matrix4.M21],n[e.M02]=t.values[s.Matrix4.M02],n[e.M12]=t.values[s.Matrix4.M12],n[e.M22]=t.values[s.Matrix4.M22],this}},{key:"trnByVector2",value:function(t){var n=this.val;return n[e.M02]+=t.x,n[e.M12]+=t.y,this}},{key:"trnByMatrix3",value:function(t,n){var i=this.val;return i[e.M02]+=t,i[e.M12]+=n,this}},{key:"trnByVector3",value:function(t){var n=this.val;return n[e.M02]+=t.x,n[e.M12]+=t.y,this}},{key:"translate",value:function(t,n){var i=this.val;return this.tmp[e.M00]=1,this.tmp[e.M10]=0,this.tmp[e.M20]=0,this.tmp[e.M01]=0,this.tmp[e.M11]=1,this.tmp[e.M21]=0,this.tmp[e.M02]=t,this.tmp[e.M12]=n,this.tmp[e.M22]=1,e.mul(i,this.tmp),this}},{key:"rotate",value:function(e){return this.rotateRad(o.MathUtils.degreesToRadians*e)}},{key:"rotateRad",value:function(t){if(0===t)return this;var n=Math.cos(t),i=Math.sin(t),r=this.tmp;return r[e.M00]=n,r[e.M10]=i,r[e.M20]=0,r[e.M01]=-i,r[e.M11]=n,r[e.M21]=0,r[e.M02]=0,r[e.M12]=0,r[e.M22]=1,e.mul(this.val,r),this}},{key:"scale",value:function(t,n){var i=this.tmp;return i[e.M00]=t,i[e.M10]=0,i[e.M20]=0,i[e.M01]=0,i[e.M11]=n,i[e.M21]=0,i[e.M02]=0,i[e.M12]=0,i[e.M22]=1,e.mul(this.val,i),this}},{key:"getValues",value:function(){return this.val}},{key:"getTranslation",value:function(t){return t.x=this.val[e.M02],t.y=this.val[e.M12],t}},{key:"getScale",value:function(t){var n=this.val;return t.x=Math.sqrt(n[e.M00]*n[e.M00]+n[e.M01]*n[e.M01]),t.y=Math.sqrt(n[e.M10]*n[e.M10]+n[e.M11]*n[e.M11]),t}},{key:"getRotation",value:function(){return o.MathUtils.radiansToDegrees*Math.atan2(this.val[e.M10],this.val[e.M00])}},{key:"getRotationRad",value:function(){return Math.atan2(this.val[e.M10],this.val[e.M00])}},{key:"sclByNumber",value:function(t){return this.val[e.M00]*=t,this.val[e.M11]*=t,this}},{key:"sclByVector2",value:function(t){return this.val[e.M00]*=t.x,this.val[e.M11]*=t.y,this}},{key:"scl",value:function(t){return this.val[e.M00]*=t.x,this.val[e.M11]*=t.y,this}},{key:"transpose",value:function(){var t=this.val,n=t[e.M10],i=t[e.M20],r=t[e.M01],a=t[e.M21],s=t[e.M02],o=t[e.M12];return t[e.M01]=n,t[e.M02]=i,t[e.M10]=r,t[e.M12]=a,t[e.M20]=s,t[e.M21]=o,this}}],[{key:"mul",value:function(t,n){var i=t[e.M00]*n[e.M00]+t[e.M01]*n[e.M10]+t[e.M02]*n[e.M20],r=t[e.M00]*n[e.M01]+t[e.M01]*n[e.M11]+t[e.M02]*n[e.M21],a=t[e.M00]*n[e.M02]+t[e.M01]*n[e.M12]+t[e.M02]*n[e.M22],s=t[e.M10]*n[e.M00]+t[e.M11]*n[e.M10]+t[e.M12]*n[e.M20],o=t[e.M10]*n[e.M01]+t[e.M11]*n[e.M11]+t[e.M12]*n[e.M21],l=t[e.M10]*n[e.M02]+t[e.M11]*n[e.M12]+t[e.M12]*n[e.M22],u=t[e.M20]*n[e.M00]+t[e.M21]*n[e.M10]+t[e.M22]*n[e.M20],c=t[e.M20]*n[e.M01]+t[e.M21]*n[e.M11]+t[e.M22]*n[e.M21],h=t[e.M20]*n[e.M02]+t[e.M21]*n[e.M12]+t[e.M22]*n[e.M22];t[e.M00]=i,t[e.M10]=s,t[e.M20]=u,t[e.M01]=r,t[e.M11]=o,t[e.M21]=c,t[e.M02]=a,t[e.M12]=l,t[e.M22]=h}}]),e}();t.Matrix3=l,l.M00=0,l.M01=3,l.M02=6,l.M10=1,l.M11=4,l.M12=7,l.M20=2,l.M21=5,l.M22=8},4995:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix4=void 0;var a=n(5122),s=n(8606),o=n(7811),l=function(){function e(){i(this,e),this.temp=new Float32Array(16),this.values=new Float32Array(16);var t=this.values;t[e.M00]=1,t[e.M11]=1,t[e.M22]=1,t[e.M33]=1}return r(e,[{key:"set",value:function(e){return this.values.set(e),this}},{key:"setFromQuaternion",value:function(t){var n=2*t.x,i=2*t.y,r=2*t.z,a=t.w*n,s=t.w*i,o=t.w*r,l=t.x*n,u=t.x*i,c=t.x*r,h=t.y*i,f=t.y*r,d=t.z*r,p=this.values;return p[e.M00]=1-(h+d),p[e.M01]=u-o,p[e.M02]=c+s,p[e.M03]=0,p[e.M10]=u+o,p[e.M11]=1-(l+d),p[e.M12]=f-a,p[e.M13]=0,p[e.M20]=c-s,p[e.M21]=f+a,p[e.M22]=1-(l+h),p[e.M23]=0,p[e.M30]=0,p[e.M31]=0,p[e.M32]=0,p[e.M33]=1,this}},{key:"setFromTranslationRotation",value:function(t,n,i){var r=2*n.x,a=2*n.y,s=2*n.z,o=n.w*r,l=n.w*a,u=n.w*s,c=n.x*r,h=n.x*a,f=n.x*s,d=n.y*a,p=n.y*s,v=n.z*s,m=this.values;return m[e.M00]=i.x*(1-(d+v)),m[e.M01]=i.y*(h-u),m[e.M02]=i.z*(f+l),m[e.M03]=t.x,m[e.M10]=i.x*(h+u),m[e.M11]=i.y*(1-(c+v)),m[e.M12]=i.z*(p-o),m[e.M13]=t.y,m[e.M20]=i.x*(f-l),m[e.M21]=i.y*(p+o),m[e.M22]=i.z*(1-(c+d)),m[e.M23]=t.z,m[e.M30]=0,m[e.M31]=0,m[e.M32]=0,m[e.M33]=1,this}},{key:"transpose",value:function(){var t=this.temp,n=this.values;return t[e.M00]=n[e.M00],t[e.M01]=n[e.M10],t[e.M02]=n[e.M20],t[e.M03]=n[e.M30],t[e.M10]=n[e.M01],t[e.M11]=n[e.M11],t[e.M12]=n[e.M21],t[e.M13]=n[e.M31],t[e.M20]=n[e.M02],t[e.M21]=n[e.M12],t[e.M22]=n[e.M22],t[e.M23]=n[e.M32],t[e.M30]=n[e.M03],t[e.M31]=n[e.M13],t[e.M32]=n[e.M23],t[e.M33]=n[e.M33],this.set(t)}},{key:"identity",value:function(){var t=this.values;return t[e.M00]=1,t[e.M01]=0,t[e.M02]=0,t[e.M03]=0,t[e.M10]=0,t[e.M11]=1,t[e.M12]=0,t[e.M13]=0,t[e.M20]=0,t[e.M21]=0,t[e.M22]=1,t[e.M23]=0,t[e.M30]=0,t[e.M31]=0,t[e.M32]=0,t[e.M33]=1,this}},{key:"invert",value:function(){var t=this.values,n=this.temp,i=t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33];if(0===i)throw new Error("non-invertible matrix");var r=1/i;return n[e.M00]=t[e.M12]*t[e.M23]*t[e.M31]-t[e.M13]*t[e.M22]*t[e.M31]+t[e.M13]*t[e.M21]*t[e.M32]-t[e.M11]*t[e.M23]*t[e.M32]-t[e.M12]*t[e.M21]*t[e.M33]+t[e.M11]*t[e.M22]*t[e.M33],n[e.M01]=t[e.M03]*t[e.M22]*t[e.M31]-t[e.M02]*t[e.M23]*t[e.M31]-t[e.M03]*t[e.M21]*t[e.M32]+t[e.M01]*t[e.M23]*t[e.M32]+t[e.M02]*t[e.M21]*t[e.M33]-t[e.M01]*t[e.M22]*t[e.M33],n[e.M02]=t[e.M02]*t[e.M13]*t[e.M31]-t[e.M03]*t[e.M12]*t[e.M31]+t[e.M03]*t[e.M11]*t[e.M32]-t[e.M01]*t[e.M13]*t[e.M32]-t[e.M02]*t[e.M11]*t[e.M33]+t[e.M01]*t[e.M12]*t[e.M33],n[e.M03]=t[e.M03]*t[e.M12]*t[e.M21]-t[e.M02]*t[e.M13]*t[e.M21]-t[e.M03]*t[e.M11]*t[e.M22]+t[e.M01]*t[e.M13]*t[e.M22]+t[e.M02]*t[e.M11]*t[e.M23]-t[e.M01]*t[e.M12]*t[e.M23],n[e.M10]=t[e.M13]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M20]*t[e.M32]+t[e.M10]*t[e.M23]*t[e.M32]+t[e.M12]*t[e.M20]*t[e.M33]-t[e.M10]*t[e.M22]*t[e.M33],n[e.M11]=t[e.M02]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M22]*t[e.M30]+t[e.M03]*t[e.M20]*t[e.M32]-t[e.M00]*t[e.M23]*t[e.M32]-t[e.M02]*t[e.M20]*t[e.M33]+t[e.M00]*t[e.M22]*t[e.M33],n[e.M12]=t[e.M03]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M10]*t[e.M32]+t[e.M00]*t[e.M13]*t[e.M32]+t[e.M02]*t[e.M10]*t[e.M33]-t[e.M00]*t[e.M12]*t[e.M33],n[e.M13]=t[e.M02]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M12]*t[e.M20]+t[e.M03]*t[e.M10]*t[e.M22]-t[e.M00]*t[e.M13]*t[e.M22]-t[e.M02]*t[e.M10]*t[e.M23]+t[e.M00]*t[e.M12]*t[e.M23],n[e.M20]=t[e.M11]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M21]*t[e.M30]+t[e.M13]*t[e.M20]*t[e.M31]-t[e.M10]*t[e.M23]*t[e.M31]-t[e.M11]*t[e.M20]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M33],n[e.M21]=t[e.M03]*t[e.M21]*t[e.M30]-t[e.M01]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M20]*t[e.M31]+t[e.M00]*t[e.M23]*t[e.M31]+t[e.M01]*t[e.M20]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M33],n[e.M22]=t[e.M01]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M11]*t[e.M30]+t[e.M03]*t[e.M10]*t[e.M31]-t[e.M00]*t[e.M13]*t[e.M31]-t[e.M01]*t[e.M10]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M33],n[e.M23]=t[e.M03]*t[e.M11]*t[e.M20]-t[e.M01]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M10]*t[e.M21]+t[e.M00]*t[e.M13]*t[e.M21]+t[e.M01]*t[e.M10]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M23],n[e.M30]=t[e.M12]*t[e.M21]*t[e.M30]-t[e.M11]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M20]*t[e.M31]+t[e.M10]*t[e.M22]*t[e.M31]+t[e.M11]*t[e.M20]*t[e.M32]-t[e.M10]*t[e.M21]*t[e.M32],n[e.M31]=t[e.M01]*t[e.M22]*t[e.M30]-t[e.M02]*t[e.M21]*t[e.M30]+t[e.M02]*t[e.M20]*t[e.M31]-t[e.M00]*t[e.M22]*t[e.M31]-t[e.M01]*t[e.M20]*t[e.M32]+t[e.M00]*t[e.M21]*t[e.M32],n[e.M32]=t[e.M02]*t[e.M11]*t[e.M30]-t[e.M01]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M10]*t[e.M31]+t[e.M00]*t[e.M12]*t[e.M31]+t[e.M01]*t[e.M10]*t[e.M32]-t[e.M00]*t[e.M11]*t[e.M32],n[e.M33]=t[e.M01]*t[e.M12]*t[e.M20]-t[e.M02]*t[e.M11]*t[e.M20]+t[e.M02]*t[e.M10]*t[e.M21]-t[e.M00]*t[e.M12]*t[e.M21]-t[e.M01]*t[e.M10]*t[e.M22]+t[e.M00]*t[e.M11]*t[e.M22],t[e.M00]=n[e.M00]*r,t[e.M01]=n[e.M01]*r,t[e.M02]=n[e.M02]*r,t[e.M03]=n[e.M03]*r,t[e.M10]=n[e.M10]*r,t[e.M11]=n[e.M11]*r,t[e.M12]=n[e.M12]*r,t[e.M13]=n[e.M13]*r,t[e.M20]=n[e.M20]*r,t[e.M21]=n[e.M21]*r,t[e.M22]=n[e.M22]*r,t[e.M23]=n[e.M23]*r,t[e.M30]=n[e.M30]*r,t[e.M31]=n[e.M31]*r,t[e.M32]=n[e.M32]*r,t[e.M33]=n[e.M33]*r,this}},{key:"determinant",value:function(){var t=this.values;return t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33]}},{key:"translate",value:function(t,n,i){var r=this.values;return r[e.M03]+=t,r[e.M13]+=n,r[e.M23]+=i,this}},{key:"setTranslation",value:function(t,n,i){var r=this.values;return r[e.M03]=t,r[e.M13]=n,r[e.M23]=i,this}},{key:"getTranslation",value:function(t){var n=this.values;return t.x=n[e.M03],t.y=n[e.M13],t.z=n[e.M23],t}},{key:"hasRotationOrScaling",value:function(){var t=this.values;return!(s.MathUtils.isEqual(t[e.M00],1)&&s.MathUtils.isEqual(t[e.M11],1)&&s.MathUtils.isEqual(t[e.M22],1)&&s.MathUtils.isZero(t[e.M01])&&s.MathUtils.isZero(t[e.M02])&&s.MathUtils.isZero(t[e.M10])&&s.MathUtils.isZero(t[e.M12])&&s.MathUtils.isZero(t[e.M20])&&s.MathUtils.isZero(t[e.M21]))}},{key:"det3x3",value:function(){var t=this.values;return t[e.M00]*t[e.M11]*t[e.M22]+t[e.M01]*t[e.M12]*t[e.M20]+t[e.M02]*t[e.M10]*t[e.M21]-t[e.M00]*t[e.M12]*t[e.M21]-t[e.M01]*t[e.M10]*t[e.M22]-t[e.M02]*t[e.M11]*t[e.M20]}},{key:"copy",value:function(){return(new e).set(this.values)}},{key:"projection",value:function(t,n,i,r){this.identity();var a=1/Math.tan(i*(Math.PI/180)/2),s=(n+t)/(t-n),o=2*n*t/(t-n),l=this.values;return l[e.M00]=a/r,l[e.M10]=0,l[e.M20]=0,l[e.M30]=0,l[e.M01]=0,l[e.M11]=a,l[e.M21]=0,l[e.M31]=0,l[e.M02]=0,l[e.M12]=0,l[e.M22]=s,l[e.M32]=-1,l[e.M03]=0,l[e.M13]=0,l[e.M23]=o,l[e.M33]=0,this}},{key:"ortho2d",value:function(e,t,n,i){return this.ortho(e,e+n,t,t+i,0,1)}},{key:"ortho",value:function(t,n,i,r,a,s){this.identity();var o=2/(n-t),l=2/(r-i),u=-2/(s-a),c=-(n+t)/(n-t),h=-(r+i)/(r-i),f=-(s+a)/(s-a),d=this.values;return d[e.M00]=o,d[e.M10]=0,d[e.M20]=0,d[e.M30]=0,d[e.M01]=0,d[e.M11]=l,d[e.M21]=0,d[e.M31]=0,d[e.M02]=0,d[e.M12]=0,d[e.M22]=u,d[e.M32]=0,d[e.M03]=c,d[e.M13]=h,d[e.M23]=f,d[e.M33]=1,this}},{key:"multiply",value:function(t){var n=this.temp,i=this.values,r=t.values;return n[e.M00]=i[e.M00]*r[e.M00]+i[e.M01]*r[e.M10]+i[e.M02]*r[e.M20]+i[e.M03]*r[e.M30],n[e.M01]=i[e.M00]*r[e.M01]+i[e.M01]*r[e.M11]+i[e.M02]*r[e.M21]+i[e.M03]*r[e.M31],n[e.M02]=i[e.M00]*r[e.M02]+i[e.M01]*r[e.M12]+i[e.M02]*r[e.M22]+i[e.M03]*r[e.M32],n[e.M03]=i[e.M00]*r[e.M03]+i[e.M01]*r[e.M13]+i[e.M02]*r[e.M23]+i[e.M03]*r[e.M33],n[e.M10]=i[e.M10]*r[e.M00]+i[e.M11]*r[e.M10]+i[e.M12]*r[e.M20]+i[e.M13]*r[e.M30],n[e.M11]=i[e.M10]*r[e.M01]+i[e.M11]*r[e.M11]+i[e.M12]*r[e.M21]+i[e.M13]*r[e.M31],n[e.M12]=i[e.M10]*r[e.M02]+i[e.M11]*r[e.M12]+i[e.M12]*r[e.M22]+i[e.M13]*r[e.M32],n[e.M13]=i[e.M10]*r[e.M03]+i[e.M11]*r[e.M13]+i[e.M12]*r[e.M23]+i[e.M13]*r[e.M33],n[e.M20]=i[e.M20]*r[e.M00]+i[e.M21]*r[e.M10]+i[e.M22]*r[e.M20]+i[e.M23]*r[e.M30],n[e.M21]=i[e.M20]*r[e.M01]+i[e.M21]*r[e.M11]+i[e.M22]*r[e.M21]+i[e.M23]*r[e.M31],n[e.M22]=i[e.M20]*r[e.M02]+i[e.M21]*r[e.M12]+i[e.M22]*r[e.M22]+i[e.M23]*r[e.M32],n[e.M23]=i[e.M20]*r[e.M03]+i[e.M21]*r[e.M13]+i[e.M22]*r[e.M23]+i[e.M23]*r[e.M33],n[e.M30]=i[e.M30]*r[e.M00]+i[e.M31]*r[e.M10]+i[e.M32]*r[e.M20]+i[e.M33]*r[e.M30],n[e.M31]=i[e.M30]*r[e.M01]+i[e.M31]*r[e.M11]+i[e.M32]*r[e.M21]+i[e.M33]*r[e.M31],n[e.M32]=i[e.M30]*r[e.M02]+i[e.M31]*r[e.M12]+i[e.M32]*r[e.M22]+i[e.M33]*r[e.M32],n[e.M33]=i[e.M30]*r[e.M03]+i[e.M31]*r[e.M13]+i[e.M32]*r[e.M23]+i[e.M33]*r[e.M33],this.set(this.temp)}},{key:"multiplyLeft",value:function(t){var n=this.temp,i=this.values,r=t.values;return n[e.M00]=r[e.M00]*i[e.M00]+r[e.M01]*i[e.M10]+r[e.M02]*i[e.M20]+r[e.M03]*i[e.M30],n[e.M01]=r[e.M00]*i[e.M01]+r[e.M01]*i[e.M11]+r[e.M02]*i[e.M21]+r[e.M03]*i[e.M31],n[e.M02]=r[e.M00]*i[e.M02]+r[e.M01]*i[e.M12]+r[e.M02]*i[e.M22]+r[e.M03]*i[e.M32],n[e.M03]=r[e.M00]*i[e.M03]+r[e.M01]*i[e.M13]+r[e.M02]*i[e.M23]+r[e.M03]*i[e.M33],n[e.M10]=r[e.M10]*i[e.M00]+r[e.M11]*i[e.M10]+r[e.M12]*i[e.M20]+r[e.M13]*i[e.M30],n[e.M11]=r[e.M10]*i[e.M01]+r[e.M11]*i[e.M11]+r[e.M12]*i[e.M21]+r[e.M13]*i[e.M31],n[e.M12]=r[e.M10]*i[e.M02]+r[e.M11]*i[e.M12]+r[e.M12]*i[e.M22]+r[e.M13]*i[e.M32],n[e.M13]=r[e.M10]*i[e.M03]+r[e.M11]*i[e.M13]+r[e.M12]*i[e.M23]+r[e.M13]*i[e.M33],n[e.M20]=r[e.M20]*i[e.M00]+r[e.M21]*i[e.M10]+r[e.M22]*i[e.M20]+r[e.M23]*i[e.M30],n[e.M21]=r[e.M20]*i[e.M01]+r[e.M21]*i[e.M11]+r[e.M22]*i[e.M21]+r[e.M23]*i[e.M31],n[e.M22]=r[e.M20]*i[e.M02]+r[e.M21]*i[e.M12]+r[e.M22]*i[e.M22]+r[e.M23]*i[e.M32],n[e.M23]=r[e.M20]*i[e.M03]+r[e.M21]*i[e.M13]+r[e.M22]*i[e.M23]+r[e.M23]*i[e.M33],n[e.M30]=r[e.M30]*i[e.M00]+r[e.M31]*i[e.M10]+r[e.M32]*i[e.M20]+r[e.M33]*i[e.M30],n[e.M31]=r[e.M30]*i[e.M01]+r[e.M31]*i[e.M11]+r[e.M32]*i[e.M21]+r[e.M33]*i[e.M31],n[e.M32]=r[e.M30]*i[e.M02]+r[e.M31]*i[e.M12]+r[e.M32]*i[e.M22]+r[e.M33]*i[e.M32],n[e.M33]=r[e.M30]*i[e.M03]+r[e.M31]*i[e.M13]+r[e.M32]*i[e.M23]+r[e.M33]*i[e.M33],this.set(this.temp)}},{key:"idt",value:function(){var t=this.values;return t[e.M00]=1,t[e.M01]=0,t[e.M02]=0,t[e.M03]=0,t[e.M10]=0,t[e.M11]=1,t[e.M12]=0,t[e.M13]=0,t[e.M20]=0,t[e.M21]=0,t[e.M22]=1,t[e.M23]=0,t[e.M30]=0,t[e.M31]=0,t[e.M32]=0,t[e.M33]=1,this}},{key:"lookAt",value:function(t,n,i){e.initTemps();var r=e.xAxis,a=e.yAxis,s=e.zAxis;s.setFrom(n).normalize(),r.setFrom(n).normalize(),r.cross(i).normalize(),a.setFrom(r).cross(s).normalize(),this.identity();var o=this.values;return o[e.M00]=r.x,o[e.M01]=r.y,o[e.M02]=r.z,o[e.M10]=a.x,o[e.M11]=a.y,o[e.M12]=a.z,o[e.M20]=-s.x,o[e.M21]=-s.y,o[e.M22]=-s.z,e.tmpMatrix.identity(),e.tmpMatrix.values[e.M03]=-t.x,e.tmpMatrix.values[e.M13]=-t.y,e.tmpMatrix.values[e.M23]=-t.z,this.multiply(e.tmpMatrix),this}},{key:"setToLookAt",value:function(t,n,i){return null===e.tempVec&&(e.tempVec=new o.Vector3),e.tempVec.setFrom(n).sub(t),this.lookAt(t,e.tempVec,i),this}},{key:"rotate",value:function(t){var n=t.x,i=t.y,r=t.z,a=t.w,s=n*n,o=n*i,l=n*r,u=n*a,c=i*i,h=i*r,f=i*a,d=r*r,p=r*a,v=1-2*(c+d),m=2*(o-p),g=2*(l+f),y=2*(o+p),_=1-2*(s+d),b=2*(h-u),x=2*(l-f),w=2*(h+u),k=1-2*(s+c),M=this.values,T=M[e.M00]*v+M[e.M01]*y+M[e.M02]*x,S=M[e.M00]*m+M[e.M01]*_+M[e.M02]*w,A=M[e.M00]*g+M[e.M01]*b+M[e.M02]*k,E=M[e.M10]*v+M[e.M11]*y+M[e.M12]*x,L=M[e.M10]*m+M[e.M11]*_+M[e.M12]*w,C=M[e.M10]*g+M[e.M11]*b+M[e.M12]*k,O=M[e.M20]*v+M[e.M21]*y+M[e.M22]*x,P=M[e.M20]*m+M[e.M21]*_+M[e.M22]*w,I=M[e.M20]*g+M[e.M21]*b+M[e.M22]*k,N=M[e.M30]*v+M[e.M31]*y+M[e.M32]*x,R=M[e.M30]*m+M[e.M31]*_+M[e.M32]*w,F=M[e.M30]*g+M[e.M31]*b+M[e.M32]*k;return M[e.M00]=T,M[e.M10]=E,M[e.M20]=O,M[e.M30]=N,M[e.M01]=S,M[e.M11]=L,M[e.M21]=P,M[e.M31]=R,M[e.M02]=A,M[e.M12]=C,M[e.M22]=I,M[e.M32]=F,this}},{key:"scale",value:function(t,n,i){var r=this.values;return r[e.M00]*=t,r[e.M01]*=n,r[e.M02]*=i,r[e.M10]*=t,r[e.M11]*=n,r[e.M12]*=i,r[e.M20]*=t,r[e.M21]*=n,r[e.M22]*=i,r[e.M30]*=t,r[e.M31]*=n,r[e.M32]*=i,this}},{key:"setToRotation",value:function(t,n){return 0===n?(this.idt(),this):this.setFromQuaternion(e.quat.setFromAxis(t.x,t.y,t.z,n))}}],[{key:"initTemps",value:function(){null===e.xAxis&&(e.xAxis=new o.Vector3),null===e.yAxis&&(e.yAxis=new o.Vector3),null===e.zAxis&&(e.zAxis=new o.Vector3)}},{key:"matrix4_proj",value:function(t,n){var i=1/(n[0]*t[e.M30]+n[1]*t[e.M31]+n[2]*t[e.M32]+t[e.M33]),r=(n[0]*t[e.M00]+n[1]*t[e.M01]+n[2]*t[e.M02]+t[e.M03])*i,a=(n[0]*t[e.M10]+n[1]*t[e.M11]+n[2]*t[e.M12]+t[e.M13])*i,s=(n[0]*t[e.M20]+n[1]*t[e.M21]+n[2]*t[e.M22]+t[e.M23])*i;n[0]=r,n[1]=a,n[2]=s}},{key:"prj",value:function(t,n,i,r,a){for(var s=e.tmpArrayForVec,o=0;o<r;o++){var l=i+o*a,u=0;s[u]=n[l+u++],s[u]=n[l+u++],s[u]=n[l+u++],u=0,e.matrix4_proj(t.values,s),n[o*a+u]=s[u++],n[o*a+u]=s[u++],n[o*a+u]=s[u++]}}}]),e}();t.Matrix4=l,l.M00=0,l.M01=4,l.M02=8,l.M03=12,l.M10=1,l.M11=5,l.M12=9,l.M13=13,l.M20=2,l.M21=6,l.M22=10,l.M23=14,l.M30=3,l.M31=7,l.M32=11,l.M33=15,l.xAxis=null,l.yAxis=null,l.zAxis=null,l.tempVec=null,l.tmpMatrix=new l,l.quat=new a.Quaternion,l.tmpArrayForVec=[]},1514:function(e,t,n){"use strict";var i=n(1655).default,r=n(6389).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Color2Attribute=t.ColorAttribute=t.TexCoordAttribute=t.Position3Attribute=t.Position2Attribute=t.VertexAttribute=t.VertexAttributeType=t.Mesh=void 0;var o,l=n(1858),u=function(){function e(t,n,i,r){a(this,e),this.attributes=n,this.verticesLength=0,this.dirtyVertices=!1,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.context=t,this.elementsPerVertex=0;for(var s=0;s<n.length;s++)this.elementsPerVertex+=n[s].numElements;this.vertices=new Float32Array(i*this.elementsPerVertex),this.indices=new Uint16Array(r)}return s(e,[{key:"getAttributes",value:function(){return this.attributes}},{key:"maxVertices",value:function(){return this.vertices.length/this.elementsPerVertex}},{key:"numVertices",value:function(){return this.verticesLength/this.elementsPerVertex}},{key:"setVerticesLength",value:function(e){this.dirtyVertices=!0,this.verticesLength=e}},{key:"getVertices",value:function(){return this.vertices}},{key:"maxIndices",value:function(){return this.indices.length}},{key:"numIndices",value:function(){return this.indicesLength}},{key:"setIndicesLength",value:function(e){this.dirtyIndices=!0,this.indicesLength=e}},{key:"getIndices",value:function(){return this.indices}},{key:"getVertexSizeInFloats",value:function(){for(var e=0,t=0;t<this.attributes.length;t++){e+=this.attributes[t].numElements}return e}},{key:"setVertices",value:function(e){if(this.dirtyVertices=!0,e.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(e,0),this.verticesLength=e.length}},{key:"setIndices",value:function(e){if(this.dirtyIndices=!0,e.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(e,0),this.indicesLength=e.length}},{key:"draw",value:function(e,t){this.drawWithOffset(e,t,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)}},{key:"drawWithOffset",value:function(e,t,n,i){var r=this.context;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(e),this.indicesLength>0?r.drawElements(t,i,r.UNSIGNED_SHORT,2*n):r.drawArrays(t,n,i),this.unbind(e)}},{key:"bind",value:function(e){var t=this.context;t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer);for(var n=0,i=0;i<this.attributes.length;i++){var r=this.attributes[i],a=e.getAttributeLocation(r.name);t.enableVertexAttribArray(a),t.vertexAttribPointer(a,r.numElements,t.FLOAT,!1,4*this.elementsPerVertex,4*n),n+=r.numElements}this.indicesLength>0&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)}},{key:"unbind",value:function(e){for(var t=this.context,n=0;n<this.attributes.length;n++){var i=this.attributes[n],r=e.getAttributeLocation(i.name);t.disableVertexAttribArray(r)}t.bindBuffer(t.ARRAY_BUFFER,null),this.indicesLength>0&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}},{key:"update",value:function(){var e=this.context;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),e.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),e.DYNAMIC_DRAW),this.dirtyIndices=!1)}},{key:"restore",value:function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()}},{key:"dispose",value:function(){var e=this.context;e.deleteBuffer(this.verticesBuffer),e.deleteBuffer(this.indicesBuffer)}}]),e}();t.Mesh=u,function(e){e[e.Float=0]="Float"}(o=t.VertexAttributeType||(t.VertexAttributeType={}));var c=s((function e(t,n,i){a(this,e),this.name=t,this.type=n,this.numElements=i}));t.VertexAttribute=c;var h=function(e){i(n,e);var t=r(n);function n(){return a(this,n),t.call(this,l.Shader.POSITION,o.Float,2)}return s(n)}(c);t.Position2Attribute=h;var f=function(e){i(n,e);var t=r(n);function n(){return a(this,n),t.call(this,l.Shader.POSITION,o.Float,3)}return s(n)}(c);t.Position3Attribute=f;var d=function(e){i(n,e);var t=r(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a(this,n),t.call(this,l.Shader.TEXCOORDS+(0===e?"":e),o.Float,2)}return s(n)}(c);t.TexCoordAttribute=d;var p=function(e){i(n,e);var t=r(n);function n(){return a(this,n),t.call(this,l.Shader.COLOR,o.Float,4)}return s(n)}(c);t.ColorAttribute=p;var v=function(e){i(n,e);var t=r(n);function n(){return a(this,n),t.call(this,l.Shader.COLOR2,o.Float,4)}return s(n)}(c);t.Color2Attribute=v},9699:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NumberUtil=void 0;var a=new Int8Array(4),s=new Int32Array(a.buffer,0,1),o=new Float32Array(a.buffer,0,1),l=function(){function e(){i(this,e)}return r(e,null,[{key:"intBitsToFloat",value:function(e){return s[0]=e,o[0]}},{key:"floatToIntBits",value:function(e){return o[0]=e,s[0]}},{key:"intToFloatColor",value:function(t){return e.intBitsToFloat(4278190079&t)}},{key:"colorToFloat",value:function(t,n,i,r){var a=t<<24|n<<16|i<<8|r;return e.intToFloatColor(a)}},{key:"isPowerOfTwo",value:function(e){return 0===(e&e-1)}},{key:"nextPowerOfTwo",value:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,(e|=e>>16)+1}}]),e}();t.NumberUtil=l},1251:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PolygonBatch=void 0;var a=n(8606),s=n(1514),o=n(1858),l=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],u=new a.Color(1,1,1,1),c=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10920;if(i(this,e),this.isDrawing=!1,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,this.projectionValues=new Float32Array(16),this.color=u,this.twoColorTint=!0,this.yDown=!1,r>10920)throw new Error("Can't have more than 10920 triangles per batch: "+r);this.context=t;var a=n?[new s.Position2Attribute,new s.ColorAttribute,new s.TexCoordAttribute,new s.Color2Attribute]:[new s.Position2Attribute,new s.ColorAttribute,new s.TexCoordAttribute];this.mesh=new s.Mesh(t,a,r,3*r),this.shader=o.Shader.newTwoColoredTextured(t);var l=this.context;this.srcColorBlend=l.SRC_ALPHA,this.srcAlphaBlend=l.ONE,this.dstBlend=l.ONE_MINUS_SRC_ALPHA,this.twoColorTint=n}return r(e,[{key:"setColor",value:function(e){this.color=e}},{key:"setShader",value:function(e){this.shader.dispose(),this.shader=e}},{key:"setProjection",value:function(e){this.projectionValues=e}},{key:"begin",value:function(){if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0;var e=this.shader;this.lastTexture=null,this.isDrawing=!0,e.bind(),e.setUniform4x4f(o.Shader.MVP_MATRIX,this.projectionValues),e.setUniformi("u_texture",0);var t=this.context;t.enable(t.BLEND),t.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend)}},{key:"setBlendMode",value:function(e,t,n){this.srcColorBlend===e&&this.srcAlphaBlend===t&&this.dstBlend===n||(this.srcColorBlend=e,this.srcAlphaBlend=t,this.dstBlend=n,this.isDrawing&&(this.flush(),this.context.blendFuncSeparate(e,n,t,n)))}},{key:"drawVerticesWithOffset",value:function(t,n,i,r){for(var a=[],s=0;s<r;s++)a[s]=n[s+i];this.drawVertices(t,a,e.QUAD_TRIANGLES)}},{key:"drawVertices",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.QUAD_TRIANGLES;t!==this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+n.length>this.mesh.getVertices().length||this.indicesLength+i.length>this.mesh.getIndices().length)&&this.flush();var r=this.mesh.numVertices();this.mesh.getVertices().set(n,this.verticesLength),this.verticesLength+=n.length,this.mesh.setVerticesLength(this.verticesLength);for(var a=this.mesh.getIndices(),s=this.indicesLength,o=0;o<i.length;s++,o++)a[s]=i[o]+r;this.indicesLength+=i.length,this.mesh.setIndicesLength(this.indicesLength)}},{key:"flush",value:function(){0!==this.verticesLength&&(this.lastTexture.bind(),this.mesh.draw(this.shader,this.context.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++)}},{key:"end",value:function(){if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader.unbind(),this.lastTexture=null,this.isDrawing=!1,e.totalDrawCalls+=this.drawCalls;var t=this.context;t.disable(t.BLEND)}},{key:"getDrawCalls",value:function(){return this.drawCalls}},{key:"dispose",value:function(){this.mesh.dispose()}},{key:"setYDown",value:function(e){this.yDown=e}},{key:"draw",value:function(t,n,i,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1,p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,v=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,m=arguments.length>14&&void 0!==arguments[14]&&arguments[14],g=this.color;if(this.yDown){var y=d;d=v,v=y}n=n||0,i=i||0;var _=-s,b=(r=0===r?r:r||t.width)-s,x=r-s,w=-s,k=-o,M=-o,T=(a=0===a?a:a||t.height)-o,S=a-o;if(1!==c&&(_*=c,b*=c,x*=c,w*=c),1!==h&&(k*=h,M*=h,T*=h,S*=h),0!==u){var A=Math.cos(u),E=Math.sin(u),L=A*_-E*k,C=E*_+A*k,O=A*b-E*M,P=E*b+A*M,I=A*x-E*T,N=E*x+A*T,R=A*w-E*S,F=E*w+A*S;_=L,b=O,x=I,w=R,k=C,M=P,T=N,S=F}_+=n+s,b+=n+s,x+=n+s,w+=n+s,k+=i+o,M+=i+o,T+=i+o,S+=i+o;var B=f,D=d,j=p,U=v,V=j,G=D,z=B,W=U;m&&(this.yDown?(B=f,D=v,j=p,U=d,V=f,G=d,z=p,W=v):(B=p,D=d,j=f,U=v,V=p,G=v,z=f,W=d));var H=0;l[H++]=_,l[H++]=k,l[H++]=g.r,l[H++]=g.g,l[H++]=g.b,l[H++]=g.a,l[H++]=B,l[H++]=D,this.twoColorTint&&(l[H++]=0,l[H++]=0,l[H++]=0,l[H++]=0),l[H++]=b,l[H++]=M,l[H++]=g.r,l[H++]=g.g,l[H++]=g.b,l[H++]=g.a,l[H++]=V,l[H++]=G,this.twoColorTint&&(l[H++]=0,l[H++]=0,l[H++]=0,l[H++]=0),l[H++]=x,l[H++]=T,l[H++]=g.r,l[H++]=g.g,l[H++]=g.b,l[H++]=g.a,l[H++]=j,l[H++]=U,this.twoColorTint&&(l[H++]=0,l[H++]=0,l[H++]=0,l[H++]=0),l[H++]=w,l[H++]=S,l[H++]=g.r,l[H++]=g.g,l[H++]=g.b,l[H++]=g.a,l[H++]=z,l[H++]=W,this.twoColorTint&&(l[H++]=0,l[H++]=0,l[H++]=0,l[H]=0),this.drawVertices(t,l,e.QUAD_TRIANGLES)}}],[{key:"resetTotalDrawCalls",value:function(){e.totalDrawCalls=0}}]),e}();t.PolygonBatch=c,c.QUAD_TRIANGLES=[0,1,2,2,3,0],c.totalDrawCalls=0},5122:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Quaternion=void 0;var a=n(4995),s=n(8606),o=n(7811),l=n(6239),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;i(this,e),this.set(t,n,r,a)}return r(e,[{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}},{key:"setFrom",value:function(e){return this.set(e.x,e.y,e.z,e.w)}},{key:"len",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"toString",value:function(){return"["+this.x+"|"+this.y+"|"+this.z+"|"+this.w+"]"}},{key:"setEulerAngles",value:function(e,t,n){return this.setEulerAnglesRad(e*s.MathUtils.degreesToRadians,t*s.MathUtils.degreesToRadians,n*s.MathUtils.degreesToRadians)}},{key:"setEulerAnglesRad",value:function(e,t,n){var i=.5*n,r=Math.sin(i),a=Math.cos(i),s=.5*t,o=Math.sin(s),l=Math.cos(s),u=.5*e,c=Math.sin(u),h=Math.cos(u),f=h*o,d=c*l,p=h*l,v=c*o;return this.x=f*a+d*r,this.y=d*a-f*r,this.z=p*r-v*a,this.w=p*a+v*r,this}},{key:"getGimbalPole",value:function(){var e=this.y*this.x+this.z*this.w;return e>.499?1:e<-.499?-1:0}},{key:"getRollRad",value:function(){var e=this.getGimbalPole();return 0===e?Math.atan2(2*(this.w*this.z+this.y*this.x),1-2*(this.x*this.x+this.z*this.z)):2*e*Math.atan2(this.y,this.w)}},{key:"getRoll",value:function(){return this.getRollRad()*s.MathUtils.radiansToDegrees}},{key:"getPitchRad",value:function(){var e=this.getGimbalPole();return 0===e?Math.asin(s.MathUtils.clamp(2*(this.w*this.x-this.z*this.y),-1,1)):e*s.MathUtils.PI*.5}},{key:"getPitch",value:function(){return this.getPitchRad()*s.MathUtils.radiansToDegrees}},{key:"getYawRad",value:function(){return 0===this.getGimbalPole()?Math.atan2(2*(this.y*this.w+this.x*this.z),1-2*(this.y*this.y+this.x*this.x)):0}},{key:"getYaw",value:function(){return this.getYawRad()*s.MathUtils.radiansToDegrees}},{key:"len2",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"nor",value:function(){var e=this.len2();return 0===e||s.MathUtils.isEqual(e,1)||(e=Math.sqrt(e),this.w/=e,this.x/=e,this.y/=e,this.z/=e),this}},{key:"conjugate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"transform",value:function(t){e.tmp2.set(this.x,this.y,this.z,this.w),e.tmp2.conjugate();var n=e.tmp1.set(t.x,t.y,t.z,0);return e.tmp2.mulLeft(n.x,n.y,n.z,n.w).mulLeft(this.x,this.y,this.z,this.w),t.x=e.tmp2.x,t.y=e.tmp2.y,t.z=e.tmp2.z,t}},{key:"mul",value:function(e,t,n,i){var r=this.w*e+this.x*i+this.y*n-this.z*t,a=this.w*t+this.y*i+this.z*e-this.x*n,s=this.w*n+this.z*i+this.x*t-this.y*e,o=this.w*i-this.x*e-this.y*t-this.z*n;return this.x=r,this.y=a,this.z=s,this.w=o,this}},{key:"mulLeft",value:function(e,t,n,i){var r=i*this.x+e*this.w+t*this.z-n*this.y,a=i*this.y+t*this.w+n*this.x-e*this.z,s=i*this.z+n*this.w+e*this.y-t*this.x,o=i*this.w-e*this.x-t*this.y-n*this.z;return this.x=r,this.y=a,this.z=s,this.w=o,this}},{key:"add",value:function(e,t,n,i){return this.x+=e,this.y+=t,this.z+=n,this.w+=i,this}},{key:"toMatrix",value:function(e){var t=this.x*this.x,n=this.x*this.y,i=this.x*this.z,r=this.x*this.w,s=this.y*this.y,o=this.y*this.z,l=this.y*this.w,u=this.z*this.z,c=this.z*this.w;e[a.Matrix4.M00]=1-2*(s+u),e[a.Matrix4.M01]=2*(n-c),e[a.Matrix4.M02]=2*(i+l),e[a.Matrix4.M03]=0,e[a.Matrix4.M10]=2*(n+c),e[a.Matrix4.M11]=1-2*(t+u),e[a.Matrix4.M12]=2*(o-r),e[a.Matrix4.M13]=0,e[a.Matrix4.M20]=2*(i-l),e[a.Matrix4.M21]=2*(o+r),e[a.Matrix4.M22]=1-2*(t+s),e[a.Matrix4.M23]=0,e[a.Matrix4.M30]=0,e[a.Matrix4.M31]=0,e[a.Matrix4.M32]=0,e[a.Matrix4.M33]=1}},{key:"idt",value:function(){return this.set(0,0,0,1)}},{key:"isIdentity",value:function(){return s.MathUtils.isZero(this.x)&&s.MathUtils.isZero(this.y)&&s.MathUtils.isZero(this.z)&&s.MathUtils.isEqual(this.w,1)}},{key:"setFromAxis",value:function(e,t,n,i){return this.setFromAxisRad(e,t,n,i*s.MathUtils.degreesToRadians)}},{key:"setFromAxisRad",value:function(e,t,n,i){var r=new o.Vector3(e,t,n).length();if(0===r)return this.idt();r=1/r;var a=i<0?s.MathUtils.PI2- -i%s.MathUtils.PI2:i%s.MathUtils.PI2,l=Math.sin(a/2),u=Math.cos(a/2);return this.set(r*e*l,r*t*l,r*n*l,u).nor()}},{key:"setFromMatrix4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.setFromAxes(e.values[a.Matrix4.M00],e.values[a.Matrix4.M01],e.values[a.Matrix4.M02],e.values[a.Matrix4.M10],e.values[a.Matrix4.M11],e.values[a.Matrix4.M12],e.values[a.Matrix4.M20],e.values[a.Matrix4.M21],e.values[a.Matrix4.M22],t)}},{key:"setFromMatrix3",value:function(e,t){return this.setFromAxes(e.val[l.Matrix3.M00],e.val[l.Matrix3.M01],e.val[l.Matrix3.M02],e.val[l.Matrix3.M10],e.val[l.Matrix3.M11],e.val[l.Matrix3.M12],e.val[l.Matrix3.M20],e.val[l.Matrix3.M21],e.val[l.Matrix3.M22],t)}},{key:"setFromAxes",value:function(e,t,n,i,r,a,s,l,u){var c=arguments.length>9&&void 0!==arguments[9]&&arguments[9];if(c){var h=1/new o.Vector3(e,t,n).length(),f=1/new o.Vector3(i,r,a).length(),d=1/new o.Vector3(s,l,u).length();e*=h,t*=h,n*=h,i*=f,r*=f,a*=f,s*=d,l*=d,u*=d}var p=e+r+u;if(p>=0){var v=Math.sqrt(p+1);this.w=.5*v,v=.5/v,this.x=(l-a)*v,this.y=(n-s)*v,this.z=(i-t)*v}else if(e>r&&e>u){var m=Math.sqrt(1+e-r-u);this.x=.5*m,m=.5/m,this.y=(i+t)*m,this.z=(n+s)*m,this.w=(l-a)*m}else if(r>u){var g=Math.sqrt(1+r-e-u);this.y=.5*g,g=.5/g,this.x=(i+t)*g,this.z=(l+a)*g,this.w=(n-s)*g}else{var y=Math.sqrt(1+u-e-r);this.z=.5*y,y=.5/y,this.x=(n+s)*y,this.y=(l+a)*y,this.w=(i-t)*y}return this}},{key:"setFromCross",value:function(e,t){var n=s.MathUtils.clamp(e.dot(t),-1,1),i=Math.acos(n);return this.setFromAxisRad(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x,i)}},{key:"slerp",value:function(e,t){var n=this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w,i=n<0?-n:n,r=1-t,a=t;if(1-i>.1){var s=Math.acos(i),o=1/Math.sin(s);r=Math.sin((1-t)*s)*o,a=Math.sin(t*s)*o}return n<0&&(a=-a),this.x=r*this.x+a*e.x,this.y=r*this.y+a*e.y,this.z=r*this.z+a*e.z,this.w=r*this.w+a*e.w,this}},{key:"slerpWithQuaternions",value:function(t){var n=1/t.length;this.set(t[0].x,t[0].y,t[0].z,t[0].w).exp(n);for(var i=1;i<t.length;i++){var r=e.tmp1.set(t[i].x,t[i].y,t[i].z,t[i].w).exp(n);this.mul(r.x,r.y,r.z,r.w)}return this.nor(),this}},{key:"exp",value:function(e){var t=this.len(),n=Math.pow(t,e),i=Math.acos(this.w/t),r=0;return r=Math.abs(i)<.001?n*e/t:n*Math.sin(e*i)/(t*Math.sin(i)),this.w=n*Math.cos(e*i),this.x*=r,this.y*=r,this.z*=r,this.nor(),this}},{key:"dot",value:function(e,t,n,i){return this.x*e+this.y*t+this.z*n+this.w*i}},{key:"mulByScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"getAxisAngle",value:function(e){return this.getAxisAngleRad(e.x,e.y,e.z)*s.MathUtils.radiansToDegrees}},{key:"getAxisAngleRad",value:function(e,t,n){this.w>1&&this.nor();var i=2*Math.acos(this.w),r=Math.sqrt(1-this.w*this.w);return r<s.MathUtils.FLOAT_ROUNDING_ERROR?(this.x,this.y,this.z):(this.x/r,this.y/r,this.z/r),i}},{key:"getAngleRad",value:function(){return 2*Math.acos(this.w>1?this.w/this.len():this.w)}},{key:"getAngle",value:function(){return this.getAngleRad()*s.MathUtils.radiansToDegrees}}],[{key:"len",value:function(e,t,n,i){return Math.sqrt(e*e+t*t+n*n+i*i)}},{key:"len2",value:function(e,t,n,i){return e*e+t*t+n*n+i*i}},{key:"dot",value:function(e,t,n,i,r,a,s,o){return e*r+t*a+n*s+i*o}}]),e}();t.Quaternion=u,u.tmp1=new u(0,0,0,0),u.tmp2=new u(0,0,0,0)},1858:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Shader=void 0;var a=function(){function e(t,n,r){i(this,e),this.vertexShader=n,this.fragmentShader=r,this.vs=null,this.fs=null,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vsSource=n,this.fsSource=r,this.context=t,this.compile()}return r(e,[{key:"getProgram",value:function(){return this.program}},{key:"getVertexShader",value:function(){return this.vertexShader}},{key:"getFragmentShader",value:function(){return this.fragmentShader}},{key:"getVertexShaderSource",value:function(){return this.vsSource}},{key:"getFragmentSource",value:function(){return this.fsSource}},{key:"compile",value:function(){var e=this.context;try{this.vs=this.compileShader(e.VERTEX_SHADER,this.vertexShader),this.fs=this.compileShader(e.FRAGMENT_SHADER,this.fragmentShader),this.program=this.compileProgram(this.vs,this.fs)}catch(t){throw this.dispose(),t}}},{key:"compileShader",value:function(e,t){var n=this.context,i=n.createShader(e);if(n.shaderSource(i,t),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS)){var r="Couldn't compile shader: "+n.getShaderInfoLog(i);if(n.deleteShader(i),!n.isContextLost())throw new Error(r)}return i}},{key:"compileProgram",value:function(e,t){var n=this.context,i=n.createProgram();if(n.attachShader(i,e),n.attachShader(i,t),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS)){var r="Couldn't compile shader program: "+n.getProgramInfoLog(i);if(n.deleteProgram(i),!n.isContextLost())throw new Error(r)}return i}},{key:"restore",value:function(){this.compile()}},{key:"bind",value:function(){this.context.useProgram(this.program)}},{key:"unbind",value:function(){this.context.useProgram(null)}},{key:"setUniformi",value:function(e,t){this.context.uniform1i(this.getUniformLocation(e),t)}},{key:"setUniformf",value:function(e,t){this.context.uniform1f(this.getUniformLocation(e),t)}},{key:"setUniform2f",value:function(e,t,n){this.context.uniform2f(this.getUniformLocation(e),t,n)}},{key:"setUniform3f",value:function(e,t,n,i){this.context.uniform3f(this.getUniformLocation(e),t,n,i)}},{key:"setUniform1fWithLocation",value:function(e,t){this.context.uniform1f(e,t)}},{key:"setUniform3fWithLocation",value:function(e,t,n,i){this.context.uniform3f(e,t,n,i)}},{key:"setUniform4f",value:function(e,t,n,i,r){this.context.uniform4f(this.getUniformLocation(e),t,n,i,r)}},{key:"setUniform2x2f",value:function(e,t){this.tmp2x2.set(t),this.context.uniformMatrix2fv(this.getUniformLocation(e),!1,this.tmp2x2)}},{key:"setUniform3x3f",value:function(e,t){this.tmp3x3.set(t),this.context.uniformMatrix3fv(this.getUniformLocation(e),!1,this.tmp3x3)}},{key:"setUniform4x4f",value:function(e,t){this.tmp4x4.set(t),this.context.uniformMatrix4fv(this.getUniformLocation(e),!1,this.tmp4x4)}},{key:"setUniform4x4fWithLocation",value:function(e,t){this.context.uniformMatrix4fv(e,!1,t)}},{key:"setUniform3fv",value:function(e,t){this.context.uniform3fv(this.getUniformLocation(e),t)}},{key:"getUniformLocation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.context.getUniformLocation(this.program,e);if(t&&!n&&!this.context.isContextLost())throw new Error("Couldn't find location for uniform ".concat(e));return n}},{key:"getAttributeLocation",value:function(e){return this.context.getAttribLocation(this.program,e)}},{key:"dispose",value:function(){this.vs&&(this.context.deleteShader(this.vs),this.vs=null),this.fs&&(this.context.deleteShader(this.fs),this.fs=null),this.program&&(this.context.deleteProgram(this.program),this.program=null)}}],[{key:"newColoredTextured",value:function(t){return new e(t,"\n         attribute vec4 ".concat(e.POSITION,";\n         attribute vec4 ").concat(e.COLOR,";\n         attribute vec2 ").concat(e.TEXCOORDS,";\n         uniform mat4 ").concat(e.MVP_MATRIX,";\n         varying vec4 v_color;\n         varying vec2 v_texCoords;\n \n         void main () {\n           v_color = ").concat(e.COLOR,";\n           v_texCoords = ").concat(e.TEXCOORDS,";\n           gl_Position = ").concat(e.MVP_MATRIX," * ").concat(e.POSITION,";\n         }\n       "),"\n         #ifdef GL_ES\n           #define LOWP lowp\n           precision mediump float;\n         #else\n           #define LOWP\n         #endif\n         varying LOWP vec4 v_color;\n         varying vec2 v_texCoords;\n         uniform sampler2D u_texture;\n \n         void main () {\n           gl_FragColor = v_color * texture2D(u_texture, v_texCoords);\n         }\n       ")}},{key:"newTwoColoredTextured",value:function(t){return new e(t,"\n         attribute vec4 ".concat(e.POSITION,";\n         attribute vec4 ").concat(e.COLOR,";\n         attribute vec4 ").concat(e.COLOR2,";\n         attribute vec2 ").concat(e.TEXCOORDS,";\n         uniform mat4 ").concat(e.MVP_MATRIX,";\n         varying vec4 v_light;\n         varying vec4 v_dark;\n         varying vec2 v_texCoords;\n \n         void main () {\n           v_light = ").concat(e.COLOR,";\n           v_dark = ").concat(e.COLOR2,";\n           v_texCoords = ").concat(e.TEXCOORDS,";\n           gl_Position = ").concat(e.MVP_MATRIX," * ").concat(e.POSITION,";\n         }\n       "),"\n         #ifdef GL_ES\n           #define LOWP lowp\n           precision mediump float;\n         #else\n           #define LOWP\n         #endif\n         varying LOWP vec4 v_light;\n         varying LOWP vec4 v_dark;\n         varying vec2 v_texCoords;\n         uniform sampler2D u_texture;\n \n         void main () {\n           vec4 texColor = texture2D(u_texture, v_texCoords);\n           gl_FragColor.a = texColor.a * v_light.a;\n           gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n         }\n       ")}},{key:"newColored",value:function(t){return new e(t,"\n         attribute vec4 ".concat(e.POSITION,";\n         attribute vec4 ").concat(e.COLOR,";\n         uniform mat4 ").concat(e.MVP_MATRIX,";\n         varying vec4 v_color;\n \n         void main () {\n           v_color = ").concat(e.COLOR,";\n           gl_Position = ").concat(e.MVP_MATRIX," * ").concat(e.POSITION,";\n         }\n       "),"\n         #ifdef GL_ES\n           #define LOWP lowp\n           precision mediump float;\n         #else\n           #define LOWP\n         #endif\n         varying LOWP vec4 v_color;\n \n         void main () {\n           gl_FragColor = v_color;\n         }\n       ")}}]),e}();t.Shader=a,a.MVP_MATRIX="u_projTrans",a.POSITION="a_position",a.COLOR="a_color",a.COLOR2="a_color2",a.TEXCOORDS="a_texCoords",a.SAMPLER="u_texture",a.NORMAL="a_normal",a.TANGENT="a_tangent",a.BINORMAL="a_binormal",a.BONEWEIGHT="a_boneWeight"},2987:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeRenderer=t.ShapeType=void 0;var a,s=n(1514),o=n(1858),l=n(8606),u=n(2283);!function(e){e[e.Point=0]="Point",e[e.Line=1]="Line",e[e.Filled=4]="Filled"}(a=t.ShapeType||(t.ShapeType={}));var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10920;if(i(this,e),this.isDrawing=!1,this.shapeType=a.Filled,this.color=new l.Color(1,1,1,1),this.vertexIndex=0,this.tmp=new u.Vector2,this.projectionValues=new Float32Array(16),n>10920)throw new Error("Can't have more than 10920 triangles per batch: "+n);this.context=t,this.mesh=new s.Mesh(t,[new s.Position2Attribute,new s.ColorAttribute],n,0);var r=this.context;this.srcColorBlend=r.SRC_ALPHA,this.srcAlphaBlend=r.ONE,this.dstBlend=r.ONE_MINUS_SRC_ALPHA,this.shader=o.Shader.newColored(r)}return r(e,[{key:"setProjection",value:function(e){this.projectionValues=e}},{key:"begin",value:function(){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.vertexIndex=0,this.isDrawing=!0,this.shader.bind(),this.shader.setUniform4x4f(o.Shader.MVP_MATRIX,this.projectionValues);var e=this.context;e.enable(e.BLEND),e.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend)}},{key:"setBlendMode",value:function(e,t,n){(this.srcColorBlend=e,this.srcAlphaBlend=t,this.dstBlend=n,this.isDrawing)&&(this.flush(),this.context.blendFuncSeparate(e,n,t,n))}},{key:"setColor",value:function(e){this.color.setFromColor(e)}},{key:"setColorWith",value:function(e,t,n,i){this.color.set(e,t,n,i)}},{key:"point",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.check(a.Point,1),null===n&&(n=this.color),this.vertex(e,t,n)}},{key:"line",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.check(a.Line,2),null===r&&(r=this.color),this.vertex(e,t,r),this.vertex(n,i,r)}},{key:"triangle",value:function(e,t,n,i,r,s,o){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;this.check(e?a.Filled:a.Line,3),null===l&&(l=this.color),null===u&&(u=this.color),null===c&&(c=this.color),e?(this.vertex(t,n,l),this.vertex(i,r,u),this.vertex(s,o,c)):(this.vertex(t,n,l),this.vertex(i,r,u),this.vertex(i,r,l),this.vertex(s,o,u),this.vertex(s,o,l),this.vertex(t,n,u))}},{key:"quad",value:function(e,t,n,i,r,s,o,l,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,d=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null;this.check(e?a.Filled:a.Line,3),null===c&&(c=this.color),null===h&&(h=this.color),null===f&&(f=this.color),null===d&&(d=this.color),e?(this.vertex(t,n,c),this.vertex(i,r,h),this.vertex(s,o,f),this.vertex(s,o,f),this.vertex(l,u,d),this.vertex(t,n,c)):(this.vertex(t,n,c),this.vertex(i,r,h),this.vertex(i,r,h),this.vertex(s,o,f),this.vertex(s,o,f),this.vertex(l,u,d),this.vertex(l,u,d),this.vertex(t,n,c))}},{key:"rect",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this.quad(e,t,n,t+i,n,t+i,n+r,t,n+r,a,a,a,a)}},{key:"rectLine",value:function(e,t,n,i,r,s){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.check(e?a.Filled:a.Line,8),null===o&&(o=this.color);var l=this.tmp.set(r-n,t-i);l.nor(),s*=.5;var u=l.x*s,c=l.y*s;e?(this.vertex(t+u,n+c,o),this.vertex(t-u,n-c,o),this.vertex(i+u,r+c,o),this.vertex(i-u,r-c,o),this.vertex(i+u,r+c,o),this.vertex(t-u,n-c,o)):(this.vertex(t+u,n+c,o),this.vertex(t-u,n-c,o),this.vertex(i+u,r+c,o),this.vertex(i-u,r-c,o),this.vertex(i+u,r+c,o),this.vertex(t+u,n+c,o),this.vertex(i-u,r-c,o),this.vertex(t-u,n-c,o))}},{key:"x",value:function(e,t,n){this.line(e-n,t-n,e+n,t+n),this.line(e-n,t+n,e+n,t-n)}},{key:"polygon",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(n<3)throw new Error("Polygon must contain at least 3 vertices");this.check(a.Line,2*n),null===i&&(i=this.color),n<<=1;for(var r=e[t<<=1],s=e[t+1],o=t+n,l=t,u=t+n-2;l<u;l+=2){var c=e[l],h=e[l+1],f=0,d=0;l+2>=o?(f=r,d=s):(f=e[l+2],d=e[l+3]),this.vertex(c,h,i),this.vertex(f,d,i)}}},{key:"circle",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(0===s&&(s=Math.max(1,6*l.MathUtils.cbrt(i)|0)),s<=0)throw new Error("segments must be > 0.");null===r&&(r=this.color);var o=2*l.MathUtils.PI/s,u=Math.cos(o),c=Math.sin(o),h=i,f=0;if(e){this.check(a.Filled,3*s+3),s--;for(var d=0;d<s;d++){this.vertex(t,n,r),this.vertex(t+h,n+f,r);var p=h;h=u*h-c*f,f=c*p+u*f,this.vertex(t+h,n+f,r)}this.vertex(t,n,r),this.vertex(t+h,n+f,r)}else{this.check(a.Line,2*s+2);for(var v=0;v<s;v++){this.vertex(t+h,n+f,r);var m=h;h=u*h-c*f,f=c*m+u*f,this.vertex(t+h,n+f,r)}this.vertex(t+h,n+f,r)}h=i,f=0,this.vertex(t+h,n+f,r)}},{key:"curve",value:function(e,t,n,i,r,s,o,l,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;this.check(a.Line,2*u+2),null===c&&(c=this.color);for(var h=1/u,f=h*h,d=h*h*h,p=3*h,v=3*f,m=6*f,g=6*d,y=e-2*n+r,_=t-2*i+s,b=3*(n-r)-e+o,x=3*(i-s)-t+l,w=e,k=t,M=(n-e)*p+y*v+b*d,T=(i-t)*p+_*v+x*d,S=y*m+b*g,A=_*m+x*g,E=b*g,L=x*g;u-- >0;)this.vertex(w,k,c),w+=M,k+=T,M+=S,T+=A,S+=E,A+=L,this.vertex(w,k,c);this.vertex(w,k,c),this.vertex(o,l,c)}},{key:"vertex",value:function(e,t,n){var i=this.vertexIndex,r=this.mesh.getVertices();r[i++]=e,r[i++]=t,r[i++]=n.r,r[i++]=n.g,r[i++]=n.b,r[i++]=n.a,this.vertexIndex=i}},{key:"end",value:function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush();var e=this.context;e.disable(e.BLEND),this.isDrawing=!1}},{key:"flush",value:function(){0!==this.vertexIndex&&(this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0)}},{key:"check",value:function(e,t){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType===e){if(!(this.mesh.maxVertices()-this.mesh.numVertices()<t))return;this.flush()}else this.flush(),this.shapeType=e}},{key:"dispose",value:function(){this.mesh.dispose()}}]),e}();t.ShapeRenderer=c},5297:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Sprite=void 0;var a=n(8606),s=n(2283),o=function(){function e(t){i(this,e),this.region=t,this.dirty=!1,this.position=new s.Vector2(0,0),this.size=new s.Vector2(0,0),this.origin=new s.Vector2(0,0),this.scale=new s.Vector2(1,1),this.color=new a.Color(1,1,1,1),this.rotation=0,this.vertices=new Float32Array(48),this.bounds={x:0,y:0,width:0,height:0},this.setSize(t.width,t.height),this.setOrigin(t.width/2,t.height/2)}return r(e,[{key:"set",value:function(e){this.region=e.region,this.position.setVector(e.position),this.size.setVector(e.size),this.origin.setVector(e.origin),this.rotation=e.rotation,this.scale.setVector(e.scale),this.color.setFromColor(e.color),this.dirty=!0}},{key:"setBounds",value:function(e,t,n,i){this.setPosition(e,t),this.setSize(e,t),this.dirty=!0}},{key:"setSize",value:function(e,t){this.size.set(e,t),this.dirty=!0}},{key:"setPosition",value:function(e,t){this.position.set(e,t),this.dirty=!0}},{key:"setOriginBasedPosition",value:function(e,t){this.setPosition(e-this.origin.x,t-this.origin.y)}},{key:"setX",value:function(e){this.position.x=e,this.dirty=!0}},{key:"setY",value:function(e){this.position.y=e,this.dirty=!0}},{key:"setCenterX",value:function(e){this.setX(e-this.size.x/2)}},{key:"setCenterY",value:function(e){this.setY(e-this.size.y/2)}},{key:"setCenter",value:function(e,t){this.setPosition(e-this.size.x/2,t-this.size.y/2)}},{key:"translateX",value:function(e){this.translate(e,0)}},{key:"translateY",value:function(e){this.translate(0,e)}},{key:"translate",value:function(e,t){this.position.add(e,t),this.dirty=!0}},{key:"setColor",value:function(e){this.color.setFromColor(e),this.dirty=!0}},{key:"setAlpha",value:function(e){this.color.a=e,this.dirty=!0}},{key:"setOrigin",value:function(e,t){this.origin.set(e,t),this.dirty=!0}},{key:"setOriginCenter",value:function(){this.origin.set(this.size.x/2,this.size.y/2),this.dirty=!0}},{key:"setRotation",value:function(e){this.rotation=e,this.dirty=!0}},{key:"getRotation",value:function(){return this.rotation}},{key:"rotate",value:function(e){0!==e&&(this.rotation+=e,this.dirty=!0)}},{key:"setScale",value:function(e,t){this.scale.set(e,t),this.dirty=!0}},{key:"applyScale",value:function(e){this.scale.scale(e),this.dirty=!0}},{key:"getVertices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.vertices,n=this.region;if(!this.dirty)return t;var i=this.position.x,r=this.position.y,a=this.size.x,s=this.size.y,o=this.origin.x,l=this.origin.y,u=this.rotation,c=this.scale.x,h=this.scale.y,f=n.u,d=n.v,p=n.u2,v=n.v2,m=this.color,g=n.rotated,y=a/n.originalWidth,_=s/n.originalHeight,b=n.width*y,x=n.height*_,w=i+n.offsetX*y;if(i=w,r=e?r+s-n.offsetY*_-x:r+n.offsetY*_,e){var k=d;d=v,v=k}var M=-o,T=(a=b)-o,S=a-o,A=-o,E=-l,L=-l,C=(s=x)-l,O=s-l;if(1!==c&&(M*=c,T*=c,S*=c,A*=c),1!==h&&(E*=h,L*=h,C*=h,O*=h),0!==u){var P=Math.cos(u),I=Math.sin(u),N=P*M-I*E,R=I*M+P*E,F=P*T-I*L,B=I*T+P*L,D=P*S-I*C,j=I*S+P*C,U=P*A-I*O,V=I*A+P*O;M=N,T=F,S=D,A=U,E=R,L=B,C=j,O=V}M+=i+o,T+=i+o,S+=i+o,A+=i+o,E+=r+l,L+=r+l,C+=r+l,O+=r+l;var G=f,z=d,W=p,H=v,Y=W,X=z,q=G,$=H;g&&(e?(G=f,z=v,W=p,H=d,Y=f,X=d,q=p,$=v):(G=p,z=d,W=f,H=v,Y=p,X=v,q=f,$=d));var K=0;return t[K++]=M,t[K++]=E,t[K++]=m.r,t[K++]=m.g,t[K++]=m.b,t[K++]=m.a,t[K++]=G,t[K++]=z,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=T,t[K++]=L,t[K++]=m.r,t[K++]=m.g,t[K++]=m.b,t[K++]=m.a,t[K++]=Y,t[K++]=X,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=S,t[K++]=C,t[K++]=m.r,t[K++]=m.g,t[K++]=m.b,t[K++]=m.a,t[K++]=W,t[K++]=H,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=0,t[K++]=A,t[K++]=O,t[K++]=m.r,t[K++]=m.g,t[K++]=m.b,t[K++]=m.a,t[K++]=q,t[K++]=$,t[K++]=0,t[K++]=0,t[K++]=0,t[K]=0,t}},{key:"getBoundingRectangle",value:function(){var e=this.vertices,t=e[0],n=e[1],i=e[0],r=e[1];return t=(t=(t=t>e[12]?e[12]:t)>e[24]?e[24]:t)>e[36]?e[36]:t,i=(i=(i=i<e[12]?e[12]:i)<e[24]?e[24]:i)<e[36]?e[36]:i,n=(n=(n=n>e[13]?e[13]:n)>e[25]?e[25]:n)>e[37]?e[37]:n,r=(r=(r=r<e[13]?e[13]:r)<e[25]?e[25]:r)<e[37]?e[37]:r,this.bounds.x=t,this.bounds.y=n,this.bounds.width=i-t,this.bounds.height=r-n,this.bounds}},{key:"draw",value:function(e){e.drawVertices(this.region.texture,this.getVertices(e.yDown))}},{key:"drawWithAlpha",value:function(e,t){var n=this.getColor().a;this.setAlpha(n*t),this.draw(e),this.setAlpha(n)}},{key:"getX",value:function(){return this.position.x}},{key:"getY",value:function(){return this.position.y}},{key:"getWidth",value:function(){return this.size.x}},{key:"getHeight",value:function(){return this.size.y}},{key:"getOriginX",value:function(){return this.origin.x}},{key:"getOriginY",value:function(){return this.origin.y}},{key:"getScaleX",value:function(){return this.scale.x}},{key:"getScaleY",value:function(){return this.scale.y}},{key:"getColor",value:function(){return this.color}}]),e}();t.Sprite=o},7139:function(e,t,n){"use strict";var i,r=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Texture=t.TextureWrap=t.TextureFilter=void 0,function(e){e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.MipMap=9987]="MipMap",e[e.MipMapNearestNearest=9984]="MipMapNearestNearest",e[e.MipMapLinearNearest=9985]="MipMapLinearNearest",e[e.MipMapNearestLinear=9986]="MipMapNearestLinear",e[e.MipMapLinearLinear=9987]="MipMapLinearLinear"}(i=t.TextureFilter||(t.TextureFilter={})),function(e){e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.ClampToEdge=33071]="ClampToEdge",e[e.Repeat=10497]="Repeat"}(t.TextureWrap||(t.TextureWrap={}));var s=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r(this,e),this.texture=null,this.boundUnit=0,this.useMipMaps=!1,this.width=0,this.height=0,this._image=n,this.context=t,this.useMipMaps=i,this.restore(),this.width=n.width,this.height=n.height}return a(e,[{key:"getImage",value:function(){return this._image}},{key:"getWebGLTexture",value:function(){return this.texture}},{key:"setFilters",value:function(t,n){var i=this.context;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e.validateMagFilter(n))}},{key:"setWraps",value:function(e,t){var n=this.context;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t)}},{key:"update",value:function(t){var n=this.context;this.texture||(this.texture=this.context.createTexture()),this.bind(),e.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,this._image),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t?n.LINEAR_MIPMAP_LINEAR:n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),t&&n.generateMipmap(n.TEXTURE_2D)}},{key:"restore",value:function(){this.texture=null,this.update(this.useMipMaps)}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.context;this.boundUnit=e,t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)}},{key:"unbind",value:function(){var e=this.context;e.activeTexture(e.TEXTURE0+this.boundUnit),e.bindTexture(e.TEXTURE_2D,null)}},{key:"dispose",value:function(){this.context.deleteTexture(this.texture)}}],[{key:"createWhiteTexture",value:function(t){return new e(t,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1))}},{key:"load",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r){var a=new Image;a.onload=function(){r(new e(t,a,i))},a.src=n}))}},{key:"validateMagFilter",value:function(e){switch(e){case i.MipMap:case i.MipMapLinearLinear:case i.MipMapLinearNearest:case i.MipMapNearestLinear:case i.MipMapNearestNearest:return i.Linear;default:return e}}}]),e}();t.Texture=s,s.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1},9396:function(e,t,n){"use strict";var i=n(7061).default,r=n(7424).default,a=n(4704).default,s=n(6690).default,o=n(9728).default,l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(t){a(t)}}function o(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAtlas=void 0;var u=n(7139),c=n(859),h=n(8606),f=function(){function e(t,n){s(this,e),this.pages=t,this.regions=n}return o(e,[{key:"dispose",value:function(){var e,t=a(this.pages);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getPages",value:function(){return this.pages}},{key:"getRegions",value:function(){return this.regions}},{key:"findRegion",value:function(e,t){for(var n=0;n<this.regions.length;n++){var i=this.regions[n];if(i.name===e&&(void 0===t||i.index===t))return i}return null}},{key:"findRegions",value:function(e){return this.regions.filter((function(t){return t.name===e})).sort((function(e,t){return e.index-t.index}))}}],[{key:"load",value:function(t,n,a){return l(this,void 0,void 0,i().mark((function s(){var o,l,f,d,p,v,m,g,y,_,b,x,w,k,M,T,S,A,E,L,C,O,P,I,N,R,F,B,D,j,U,V,G,z,W,H,Y,X,q,$,K;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(n).then((function(e){return e.text()}));case 2:o=i.sent,l=[],f=[],d=[],v=o.split(/\r?\n/),m=0;case 8:if(void 0!==(y=v[m])){i.next=12;break}return i.abrupt("break",16);case 12:0===y.trim().length?p=null:p?(L=y,m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),C="true"===g[0],m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),O=parseInt(g[0],10),P=parseInt(g[1],10),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),I=parseInt(g[0],10),N=parseInt(g[1],10),R={name:L,rotate:C,left:O,top:P,width:I,height:N,page:p},m++,y=v[m],4===(g=y.split(":")[1].split(",").map((function(e){return e.trim()}))).length&&(R.splits=g.map((function(e){return parseInt(e,10)})),m++,y=v[m],4===(g=y.split(":")[1].split(",").map((function(e){return e.trim()}))).length&&(R.pads=g.map((function(e){return parseInt(e,10)})),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})))),R.originalWidth=parseInt(g[0],10),R.originalHeight=parseInt(g[1],10),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),R.offsetX=parseInt(g[0],10),R.offsetY=parseInt(g[1],10),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),R.index=parseInt(g[0],10),d.push(R)):(_=(0,h.concatAndResolveUrl)(n,"../".concat(y)),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),b=parseInt(g[0],10),x=parseInt(g[1],10),m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),w=g[0],m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),k=r(g,2),M=k[0],T=k[1],m++,y=v[m],g=y.split(":")[1].split(",").map((function(e){return e.trim()})),S=g[0],A=u.TextureWrap.ClampToEdge,E=u.TextureWrap.ClampToEdge,"x"===S?A=u.TextureWrap.Repeat:"y"===S?E=u.TextureWrap.Repeat:"xy"===S&&(A=u.TextureWrap.Repeat,E=u.TextureWrap.Repeat),p={file:_,width:b,height:x,format:w,mipMaps:"Nearest"!==M&&"Linear"!==M,min:M,max:T,direction:S,repeatX:A,repeatY:E},l.push(p)),m++,i.next=8;break;case 16:F=0,B=l;case 17:if(!(F<B.length)){i.next=27;break}return D=B[F],i.next=21,u.Texture.load(t,D.file,a);case 21:D.texture=i.sent,D.invTexWidth=1/D.texture.width,D.invTexHeight=1/D.texture.height;case 24:F++,i.next=17;break;case 27:for(j=[],U=0,V=d;U<V.length;U++)G=V[U],z=G.left,W=G.top,H=G.rotate?G.height:G.width,Y=G.rotate?G.width:G.height,X=G.page,q=X.texture,$=X.invTexWidth,K=X.invTexHeight,j.push(new c.TextureRegion(q,z,W,H,Y,G,$,K,G.rotate));return i.abrupt("return",new e(f,j));case 30:case"end":return i.stop()}}),s)})))}}]),e}();t.TextureAtlas=f},859:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureRegion=void 0;var a=function(){function e(t,n,r,a,s,o,l,u){var c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];i(this,e),this.name=null,this.index=0,this.texture=null,this.regionX=0,this.regionY=0,this.width=0,this.height=0,this.invTexWidth=0,this.invTexHeight=0,this.originalWidth=0,this.originalHeight=0,this.offsetX=0,this.offsetY=0,this.u=0,this.v=0,this.u2=0,this.v2=0,this.rotated=!1,l&&u||(l=1/t.width,u=1/t.height);var h=n*l,f=(r+s)*u,d=(n+a)*l,p=r*u;for(var v in this.texture=t,this.regionX=n,this.regionY=r,this.width=a,this.height=s,this.originalWidth=a,this.originalHeight=s,this.offsetX=0,this.offsetY=0,this.u=h,this.v=f,this.u2=d,this.v2=p,this.rotated=c,o)this[v]=o[v]}return r(e,[{key:"draw",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,c=this.originalWidth,h=this.originalHeight,f=this.offsetX,d=this.offsetY,p=this.width,v=this.height,m=i/c,g=r/h,y=p*m,_=v*g,b=t+f*m,x=0;a-=b-t,s-=(x=e.yDown?n+r-d*g-_:n+d*g)-n,e.draw(this.texture,b,x,y,_,a,s,o,l,u,this.u,this.v,this.u2,this.v2,this.rotated)}}],[{key:"splitTexture",value:function(t,n,i){for(var r=t.width/n,a=t.height/i,s=[],o=0;o<i;o++)for(var l=0;l<n;l++)s.push(new e(t,l*r,o*a,r,a,{}));return s}}]),e}();t.TextureRegion=a},8606:function(e,t,n){"use strict";var i,r=n(1588).default,a=n(3808).default,s=n(1655).default,o=n(6389).default,l=n(6690).default,u=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.concatAndResolveUrl=t.ArrayMap=t.copyArray=t.createStage=t.pointInRect=t.resizeCanvas=t.createGameLoop=t.WindowedMean=t.TimeKeeper=t.Pools=t.FlushablePool=t.Pool=t.Utils=t.PowOut=t.Pow=t.Interpolation=t.MathUtils=t.Color=t.StringSet=t.IntSet=t.Align=void 0;var c=function(){function e(){l(this,e)}return u(e,null,[{key:"isLeft",value:function(e){return 0!==(e&this.left)}},{key:"isRight",value:function(e){return 0!==(e&this.right)}},{key:"isTop",value:function(e){return 0!==(e&this.top)}},{key:"isBottom",value:function(e){return 0!==(e&this.bottom)}},{key:"isCenterVertical",value:function(e){return 0===(e&this.top)&&0===(e&this.bottom)}},{key:"isCenterHorizontal",value:function(e){return 0===(e&this.left)&&0===(e&this.right)}}]),e}();t.Align=c,i=c,c.center=1,c.top=2,c.bottom=4,c.left=8,c.right=16,c.topLeft=i.top|i.left,c.topRight=i.top|i.right,c.bottomLeft=i.bottom|i.left,c.bottomRight=i.bottom|i.right;var h=function(){function e(){l(this,e),this.array=new Array}return u(e,[{key:"add",value:function(e){var t=this.contains(e);return this.array[0|e]=0|e,!t}},{key:"contains",value:function(e){return void 0!==this.array[0|e]}},{key:"remove",value:function(e){this.array[0|e]=void 0}},{key:"clear",value:function(){this.array.length=0}}]),e}();t.IntSet=h;var f=function(){function e(){l(this,e),this.entries={},this.size=0}return u(e,[{key:"add",value:function(e){var t=this.entries[e];return this.entries[e]=!0,!t&&(this.size++,!0)}},{key:"addAll",value:function(e){for(var t=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return t!==this.size}},{key:"contains",value:function(e){return this.entries[e]}},{key:"clear",value:function(){this.entries={},this.size=0}}]),e}();t.StringSet=f;var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;l(this,e),this.r=t,this.g=n,this.b=i,this.a=r}return u(e,[{key:"unsafeSet",value:function(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i}},{key:"set",value:function(e,t,n,i){return this.r=e,this.g=t,this.b=n,this.a=i,this.clamp()}},{key:"setFromColor",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}},{key:"setFromString",value:function(e){return e="#"===e.charAt(0)?e.substring(1):e,this.r=parseInt(e.substring(0,2),16)/255,this.g=parseInt(e.substring(2,4),16)/255,this.b=parseInt(e.substring(4,6),16)/255,this.a=8!==e.length?1:parseInt(e.substring(6,8),16)/255,this}},{key:"add",value:function(e,t,n,i){return this.r+=e,this.g+=t,this.b+=n,this.a+=i,this.clamp()}},{key:"clamp",value:function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}},{key:"lerp",value:function(e,t){return this.r+=t*(e.r-this.r),this.g+=t*(e.g-this.g),this.b+=t*(e.b-this.b),this.a+=t*(e.a-this.a),this.clamp()}},{key:"mul",value:function(e,t,n,i){return this.r*=e,this.g*=t,this.b*=n,this.a*=i,this.clamp()}},{key:"toIntBits",value:function(){return 255*this.a<<24|255*this.b<<16|255*this.g<<8|255*this.r}},{key:"equals",value:function(e){return this===e||this.toIntBits()===e.toIntBits()}}],[{key:"rgba8888ToColor",value:function(e,t){e.r=((4278190080&t)>>>24)/255,e.g=((16711680&t)>>>16)/255,e.b=((65280&t)>>>8)/255,e.a=(255&t)/255}},{key:"rgb888ToColor",value:function(e,t){e.r=((16711680&t)>>>16)/255,e.g=((65280&t)>>>8)/255,e.b=(255&t)/255}},{key:"fromString",value:function(t){return(new e).setFromString(t)}}]),e}();t.Color=d,d.WHITE=new d(1,1,1,1),d.RED=new d(1,0,0,1),d.GREEN=new d(0,1,0,1),d.BLUE=new d(0,0,1,1),d.MAGENTA=new d(1,0,1,1);var p=function(){function e(){l(this,e)}return u(e,null,[{key:"clamp",value:function(e,t,n){return e<t?t:e>n?n:e}},{key:"cosDeg",value:function(t){return Math.cos(t*e.degRad)}},{key:"sinDeg",value:function(t){return Math.sin(t*e.degRad)}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}},{key:"toInt",value:function(e){return e>0?Math.floor(e):Math.ceil(e)}},{key:"cbrt",value:function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}},{key:"randomTriangular",value:function(t,n){return e.randomTriangularWith(t,n,.5*(t+n))}},{key:"randomTriangularWith",value:function(e,t,n){var i=Math.random(),r=t-e;return i<=(n-e)/r?e+Math.sqrt(i*r*(n-e)):t-Math.sqrt((1-i)*r*(t-n))}},{key:"isPowerOfTwo",value:function(e){return e&&0===(e&e-1)}},{key:"isEqual",value:function(t,n){return Math.abs(t-n)<=e.FLOAT_ROUNDING_ERROR}},{key:"isZero",value:function(t){return Math.abs(t)<=e.FLOAT_ROUNDING_ERROR}}]),e}();t.MathUtils=p,p.FLOAT_ROUNDING_ERROR=1e-6,p.PI=3.1415927,p.PI2=2*p.PI,p.radiansToDegrees=180/p.PI,p.radDeg=p.radiansToDegrees,p.degreesToRadians=p.PI/180,p.degRad=p.degreesToRadians;var v=function(){function e(){l(this,e)}return u(e,[{key:"apply",value:function(e,t,n){return e+(t-e)*this.applyInternal(n)}}]),e}();t.Interpolation=v;var m=function(e){s(n,e);var t=o(n);function n(e){var i;return l(this,n),(i=t.call(this)).power=2,i.power=e,i}return u(n,[{key:"applyInternal",value:function(e){return e<=.5?Math.pow(2*e,this.power)/2:Math.pow(2*(e-1),this.power)/(this.power%2===0?-2:2)+1}}]),n}(v);t.Pow=m;var g=function(e){s(n,e);var t=o(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"applyInternal",value:function(e){return Math.pow(e-1,this.power)*(this.power%2===0?-1:1)+1}}]),n}(m);t.PowOut=g;var y=function(){function e(){l(this,e)}return u(e,null,[{key:"arrayCopy",value:function(e,t,n,i,r){for(var a=t,s=i;a<t+r;a++,s++)n[s]=e[a]}},{key:"arrayFill",value:function(e,t,n,i){for(var r=t;r<n;r++)e[r]=i}},{key:"setArraySize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.length;if(i===t)return e;if(e.length=t,i<t)for(var r=i;r<t;r++)e[r]=n;return e}},{key:"ensureArrayCapacity",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.length>=n?t:e.setArraySize(t,n,i)}},{key:"newArray",value:function(e,t){for(var n=new Array(e),i=0;i<e;i++)n[i]=t;return n}},{key:"newFloatArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var n=new Array(t),i=0;i<n.length;i++)n[i]=0;return n}},{key:"newShortArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var n=new Array(t),i=0;i<n.length;i++)n[i]=0;return n}},{key:"toFloatArray",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}},{key:"toSinglePrecision",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}},{key:"contains",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}},{key:"enumValue",value:function(e,t){return e[t[0].toUpperCase()+t.slice(1)]}},{key:"getHashCodeOfString",value:function(e){var t,n=0;if(0===this.length)return n;for(t=0;t<this.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}}]),e}();t.Utils=y,y.SUPPORTS_TYPED_ARRAYS="undefined"!==typeof Float32Array;var _=function(){function e(t){l(this,e),this.items=new Array,this.instantiator=t||function(){return{}}}return u(e,[{key:"obtain",value:function(){return this.items.length>0?this.items.pop():this.instantiator()}},{key:"free",value:function(e){(null===e||void 0===e?void 0:e.reset)&&e.reset(),this.items.push(e)}},{key:"freeAll",value:function(e){for(var t=0;t<e.length;t++)this.free(e[t])}},{key:"clear",value:function(){this.items.length=0}}]),e}();t.Pool=_;var b=function(e){s(n,e);var t=o(n);function n(e){var i;return l(this,n),(i=t.call(this,e)).obtained=new Array,i}return u(n,[{key:"obtain",value:function(){var e=r(a(n.prototype),"obtain",this).call(this);return this.obtained.push(e),e}},{key:"flush",value:function(){r(a(n.prototype),"freeAll",this).call(this,this.obtained),this.obtained.length=0}},{key:"free",value:function(e){var t=this.obtained.indexOf(e);t>-1&&this.obtained.splice(t,1),r(a(n.prototype),"free",this).call(this,e)}},{key:"freeAll",value:function(e){for(var t=0;t<e.length;t++){var i=this.obtained.indexOf(e[t]);i>=0&&this.obtained.splice(i,1)}r(a(n.prototype),"freeAll",this).call(this,e)}}]),n}(_);t.FlushablePool=b;var x=function(){function e(){l(this,e)}return u(e,null,[{key:"free",value:function(e,t){this.pools[e]&&this.pools[e].free(t)}},{key:"freeAll",value:function(e,t){this.pools[e]&&this.pools[e].freeAll(t)}},{key:"get",value:function(e,t){return this.pools[e]||(this.pools[e]=new _(t)),this.pools[e]}},{key:"set",value:function(e,t){this.pools[e]=t}},{key:"obtain",value:function(e,t){return this.get(e,t).obtain()}}]),e}();t.Pools=x,x.pools={};var w=function(){function e(){l(this,e),this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return u(e,[{key:"update",value:function(){var e=Date.now()/1e3;this.delta=e-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=e,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}]),e}();t.TimeKeeper=w;var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;l(this,e),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return u(e,[{key:"hasEnoughData",value:function(){return this.addedValues>=this.values.length}},{key:"addValue",value:function(e){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=e,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}},{key:"getMean",value:function(){if(this.hasEnoughData()){if(this.dirty){for(var e=0,t=0;t<this.values.length;t++)e+=this.values[t];this.mean=e/this.values.length,this.dirty=!1}return this.mean}return 0}}]),e}();t.WindowedMean=k;t.createGameLoop=function(e){var t,n=Date.now(),i=0,r=!0,a=0,s=0;function o(){if(r){var l=Date.now()-n;n=Date.now(),a++,(s+=l)>=1e3&&(i=a,a=0,s-=1e3),t=requestAnimationFrame(o),e(l/1e3)}}return o(),{isRunning:function(){return r},start:function(){r||(r=!0,o())},stop:function(){t&&cancelAnimationFrame(t),r=!1},getFps:function(){return i}}};t.resizeCanvas=function(e,t){var n=t||window.devicePixelRatio||1,i=e.clientWidth*n,r=e.clientHeight*n;return e.width===i&&e.height===r||(e.width=i,e.height=r),[i,r]};t.pointInRect=function(e,t,n,i,r,a){return e>n&&e<n+r&&t>i&&t<i+a};t.createStage=function(e){e=Object.assign(Object.assign({},{hidden:!1,info:!0}),e);var t=document.createElement("div");t.setAttribute("style","position:fixed;top:0;left:0;right:0;bottom:0;"),e.wrapperClassName&&(t.className=e.wrapperClassName),e.hidden&&(t.style.display="none");var n=document.createElement("canvas");n.setAttribute("style","width:100%;height:100%;");var i=document.createElement("div");return i.setAttribute("style","position:absolute;top:1em;left:1em;color:white"),e.info||(i.style.display="none"),t.appendChild(n),t.appendChild(i),document.body.appendChild(t),{getCanvas:function(){return n},getInfo:function(){return i},show:function(){return t.style.display="block"},hide:function(){return t.style.display="none"},cleanup:function(){return document.body.removeChild(t)}}};t.copyArray=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length,a=0;a<r;a++)t[n+a]=e[i+a]};var M=function(){function e(){l(this,e),this.keys=[],this.values=[],this.size=0}return u(e,[{key:"set",value:function(e,t){var n=this.indexOfKey(e);return-1===n&&(n=this.size++),this.keys[n]=e,this.values[n]=t,n}},{key:"get",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.size-1;n>=0;n--)if(this.keys[n]===e)return this.values[n];return t}},{key:"indexOfKey",value:function(e){for(var t=0,n=this.size;t<n;t++)if(this.keys[t]===e)return t;return-1}},{key:"removeKey",value:function(e){for(var t=0,n=this.size;t<n;t++)this.keys[t]===e&&this.removeIndex(t)}},{key:"removeIndex",value:function(e){if(e>=this.size)throw new Error("index out of bound");this.size--,this.keys.splice(e,1),this.values.splice(e,1)}},{key:"clear",value:function(){this.keys.length=0,this.values.length=0,this.size=0}}]),e}();t.ArrayMap=M,t.concatAndResolveUrl=function(e,t){for(var n=e.split("/"),i=t.split("/"),r=[],a=0,s=n.length;a<s;a++)if(".."===n[a])r.pop();else{if("."===n[a])continue;r.push(n[a])}for(var o=0,l=i.length;o<l;o++)if(".."===i[o])r.pop();else{if("."===i[o])continue;r.push(i[o])}return r.join("/")}},2283:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Vector2=void 0;var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return r(e,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setVector",value:function(e){return this.set(e.x,e.y)}},{key:"add",value:function(e,t){return this.x+=e,this.y+=t,this}},{key:"addVector",value:function(e){return this.add(e.x,e.y)}},{key:"sub",value:function(e,t){return this.add(-e,-t)}},{key:"subVector",value:function(e){return this.sub(e.x,e.y)}},{key:"scale",value:function(e){return this.x*=e,this.y*=e,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"distanceSqr",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSqr(e))}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"len2",value:function(){return this.x*this.x+this.y*this.y}},{key:"len",value:function(){return Math.sqrt(this.len2())}},{key:"nor",value:function(){var e=this.len();return 0!==e&&(this.x/=e,this.y/=e),this}},{key:"rotateRad",value:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.x*t-this.y*n,r=this.x*n+this.y*t;return this.x=i,this.y=r,this}},{key:"rotate",value:function(e){return this.rotateRad(e*Math.PI/180)}},{key:"cpy",value:function(){return new e(this.x,this.y)}},{key:"mul",value:function(e){var t=this.x*e.val[0]+this.y*e.val[3]+e.val[6],n=this.x*e.val[1]+this.y*e.val[4]+e.val[7];return this.x=t,this.y=n,this}},{key:"lerp",value:function(e,t){var n=1-t;return this.x=this.x*n+e.x*t,this.y=this.y*n+e.y*t,this}}]),e}();t.Vector2=a},7811:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Vector3=void 0;var a=n(6239),s=n(4995),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,e),this.x=0,this.y=0,this.z=0,this.x=t,this.y=n,this.z=r}return r(e,[{key:"isZero",value:function(){return 0===this.x&&0===this.y&&0===this.z}},{key:"dst2",value:function(e){var t=e.x-this.x,n=e.y-this.y,i=e.z-this.z;return t*t+n*n+i*i}},{key:"setFrom",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"set",value:function(e,t,n){return this.x=e,this.y=t,this.z=n,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"scale",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"normalize",value:function(){var e=this.length();return 0===e||(e=1/e,this.x*=e,this.y*=e,this.z*=e),this}},{key:"cross",value:function(e){return this.set(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}},{key:"multiply",value:function(e){var t=e.values;return this.set(this.x*t[s.Matrix4.M00]+this.y*t[s.Matrix4.M01]+this.z*t[s.Matrix4.M02]+t[s.Matrix4.M03],this.x*t[s.Matrix4.M10]+this.y*t[s.Matrix4.M11]+this.z*t[s.Matrix4.M12]+t[s.Matrix4.M13],this.x*t[s.Matrix4.M20]+this.y*t[s.Matrix4.M21]+this.z*t[s.Matrix4.M22]+t[s.Matrix4.M23])}},{key:"multiplyMat3",value:function(e){var t=e.val;return this.set(this.x*t[a.Matrix3.M00]+this.y*t[a.Matrix3.M01]+this.z*t[a.Matrix3.M02],this.x*t[a.Matrix3.M10]+this.y*t[a.Matrix3.M11]+this.z*t[a.Matrix3.M12],this.x*t[a.Matrix3.M20]+this.y*t[a.Matrix3.M21]+this.z*t[a.Matrix3.M22])}},{key:"project",value:function(e){var t=e.values,n=1/(this.x*t[s.Matrix4.M30]+this.y*t[s.Matrix4.M31]+this.z*t[s.Matrix4.M32]+t[s.Matrix4.M33]);return this.set((this.x*t[s.Matrix4.M00]+this.y*t[s.Matrix4.M01]+this.z*t[s.Matrix4.M02]+t[s.Matrix4.M03])*n,(this.x*t[s.Matrix4.M10]+this.y*t[s.Matrix4.M11]+this.z*t[s.Matrix4.M12]+t[s.Matrix4.M13])*n,(this.x*t[s.Matrix4.M20]+this.y*t[s.Matrix4.M21]+this.z*t[s.Matrix4.M22]+t[s.Matrix4.M23])*n)}},{key:"unproject",value:function(e,t,n,i,r,a){var s=this.x,o=this.y,l=this.z;return s-=n,o=a-o-1,o-=i,e.set(2*s/r-1,2*o/a-1,2*l-1),e.project(t),e}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"dotWithValue",value:function(e,t,n){return this.x*e+this.y*t+this.z*n}},{key:"rotate",value:function(t,n){return e.tmpMat.setToRotation(t,n),this.multiply(e.tmpMat)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"length2",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"distance",value:function(e){var t=e.x-this.x,n=e.y-this.y,i=e.z-this.z;return Math.sqrt(t*t+n*n+i*i)}},{key:"lerp",value:function(e,t){return this.x+=t*(e.x-this.x),this.y+=t*(e.y-this.y),this.z+=t*(e.z-this.z),this}},{key:"equals",value:function(e){return this===e||this.x===e.x&&this.y===e.y&&this.z===e.z}}]),e}();t.Vector3=o,o.X=new o(1,0,0),o.Y=new o(0,1,0),o.Z=new o(0,0,1),o.Zero=new o(0,0,0),o.tmpMat=new s.Matrix4},5533:function(e,t,n){"use strict";var i=n(4704).default,r=n(7424).default;Object.defineProperty(t,"__esModule",{value:!0}),t.createViewport=void 0;var a=n(7459),s=n(8606);t.createViewport=function(e,t,n,o){var l,u={autoUpdate:!0,pixelRatio:void 0,crop:!0};(o=Object.assign(Object.assign({},u),o)).disablePremultipliedAlpha&&(l={premultipliedAlpha:!1}),l=Object.assign(Object.assign({},l),o.contextOption);var c=e.getContext("webgl2",l);c||(c=e.getContext("webgl",l));var h,f=[],d=o,p=d.autoUpdate,v=d.pixelRatio,m=d.crop,g={pixelRatio:v=v||window.devicePixelRatio||1,x:0,y:0,width:t,height:n,worldWidth:t,worldHeight:n},y=(0,s.resizeCanvas)(e,v),_=r(y,2),b=_[0],x=_[1],w=new a.OrthoCamera(t,n,b,x);p&&(h=function(e){k.update()},window.addEventListener("resize",h));var k={getViewportInfo:function(){return g},getCamera:function(){return w},addCamera:function(e){f.push(e)},getContext:function(){return c},getCanvas:function(){return e},update:function(){var a=(0,s.resizeCanvas)(e,v),o=r(a,2),l=o[0],u=o[1],h=t/n,d=l/u;if(m){var p,y;h<d?(y=u,p=u*h):(p=l,y=l/h);var _=(l-p)/2,b=(u-y)/2;g.x=_,g.y=b,g.width=p,g.height=y,c.viewport(_,b,p,y),w.setPosition(t/2,n/2),w.resize(t,n,p,y);var x,k=i(f);try{for(k.s();!(x=k.n()).done;){var M=x.value;M.setPosition(t/2,n/2),M.resize(t,n,p,y)}}catch(P){k.e(P)}finally{k.f()}}else{var T,S,A,E;g.x=0,g.y=0,g.width=l,g.height=u,c.viewport(0,0,l,u),h<d?(A=-((T=(S=n)*d)-t)/2,E=0):(A=0,E=-((S=(T=t)/d)-n)/2),w.setPosition(A+T/2,E+S/2),w.resize(T,S,l,u);var L,C=i(f);try{for(C.s();!(L=C.n()).done;){var O=L.value;O.setPosition(A+T/2,E+S/2),O.resize(T,S,l,u)}}catch(P){C.e(P)}finally{C.f()}}},cleanUp:function(){h&&window.removeEventListener("resize",h)}};return p&&k.update(),k}},4411:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportInputHandler=void 0;var a=n(6964),s=n(2283),o=function(){function e(t){i(this,e),this.screenCoord=new s.Vector2,this.worldCoord=new s.Vector2,this.viewport=t,this.canvas=t.getCanvas(),this.inputHandler=new a.InputHandler(this.canvas)}return r(e,[{key:"isTouched",value:function(){return this.inputHandler.isTouched()}},{key:"cleanup",value:function(){this.inputHandler.cleanup()}},{key:"addEventListener",value:function(e,t){var n,i;this.inputHandler.addEventListener(e,(n=t,i=this.viewport,function(e,t){var r=i.getViewportInfo(),a=r.x,s=r.y,o=r.pixelRatio;n(e=e*o-a,t=t*o-s)}))}},{key:"getX",value:function(){var e=this.viewport.getViewportInfo(),t=e.x,n=e.pixelRatio;return this.inputHandler.getX()*n-t}},{key:"getY",value:function(){var e=this.viewport.getViewportInfo(),t=e.y,n=e.pixelRatio;return this.inputHandler.getY()*n-t}},{key:"getTouchedWorldCoord",value:function(e){return e||(e=this.viewport.getCamera()),this.screenCoord.set(this.getX(),this.getY()),e.unprojectVector2(this.worldCoord,this.screenCoord),this.worldCoord}}]),e}();t.ViewportInputHandler=o},2955:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(6893),t),r(n(8656),t),r(n(2121),t),r(n(7581),t),r(n(3959),t),r(n(2791),t),r(n(5477),t),r(n(7459),t),r(n(6176),t),r(n(2013),t),r(n(7712),t),r(n(9045),t),r(n(6964),t),r(n(4995),t),r(n(1514),t),r(n(9699),t),r(n(1251),t),r(n(5122),t),r(n(1858),t),r(n(2987),t),r(n(5297),t),r(n(7139),t),r(n(9396),t),r(n(859),t),r(n(8606),t),r(n(2283),t),r(n(7811),t),r(n(5533),t),r(n(4411),t)},6510:function(e,t,n){var i;!function(){"use strict";var r=function(){this.init()};r.prototype={init:function(){var e=this||a;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||a;if(e=parseFloat(e),t.ctx||d(),"undefined"!==typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),r=0;r<i.length;r++){var s=t._howls[n]._soundById(i[r]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||a;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),r=0;r<i.length;r++){var s=t._howls[n]._soundById(i[r]);s&&s._node&&(s._node.muted=!!e||s._muted)}return t},stop:function(){for(var e=this||a,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||a,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!==typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||a)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||a;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||a,t=null;try{t="undefined"!==typeof Audio?new Audio:null}catch(c){return e}if(!t||"function"!==typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",r=i.match(/OPR\/([0-6].)/g),s=r&&parseInt(r[0].split("/")[1],10)<33,o=-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome"),l=i.match(/Version\/(.*?) /),u=o&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(s||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||a;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch(n){e.noAudio=!0;break}for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var a=e._howls[r]._getSoundIds(),s=0;s<a.length;s++){var o=e._howls[r]._soundById(a[s]);o&&o._node&&!o._node._unlocked&&(o._node._unlocked=!0,o._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),"undefined"===typeof l.start?l.noteOn(0):l.start(0),"function"===typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||a;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!==typeof Promise&&(t instanceof Promise||"function"===typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||a;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!==typeof e.ctx.suspend&&a.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!==typeof e.ctx.resume&&a.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var a=new r,s=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(e){var t=this;return a.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!==typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!==typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!==typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=a.usingWebAudio&&!t._html5,"undefined"!==typeof a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(a.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"===typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var i,r;if(e._format&&e._format[n])i=e._format[n];else{if("string"!==typeof(r=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(i=/^data:audio\/([^;,]+);/i.exec(r))||(i=/\.([^.]+)$/.exec(r.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&a.codecs(i)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&u(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,i=null;if("number"===typeof e)i=e,e=null;else{if("string"===typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"===typeof e&&(e="__default",!n._playLock)){for(var r=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(r++,i=n._sounds[s]._id);1===r?e=null:i=null}}var o=i?n._soundById(i):n._inactiveSound();if(!o)return null;if(i&&!e&&(e=o._sprite||"__default"),"loaded"!==n._state){o._sprite=e,o._ended=!1;var l=o._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(i&&!o._paused)return t||n._loadQueue("play"),o._id;n._webAudio&&a._autoResume();var u=Math.max(0,o._seek>0?o._seek:n._sprite[e][0]/1e3),c=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),h=1e3*c/Math.abs(o._rate),f=n._sprite[e][0]/1e3,d=(n._sprite[e][0]+n._sprite[e][1])/1e3;o._sprite=e,o._ended=!1;var p=function(){o._paused=!1,o._seek=u,o._start=f,o._stop=d,o._loop=!(!o._loop&&!n._sprite[e][2])};if(!(u>=d)){var v=o._node;if(n._webAudio){var m=function(){n._playLock=!1,p(),n._refreshBuffer(o);var e=o._muted||n._muted?0:o._volume;v.gain.setValueAtTime(e,a.ctx.currentTime),o._playStart=a.ctx.currentTime,"undefined"===typeof v.bufferSource.start?o._loop?v.bufferSource.noteGrainOn(0,u,86400):v.bufferSource.noteGrainOn(0,u,c):o._loop?v.bufferSource.start(0,u,86400):v.bufferSource.start(0,u,c),h!==1/0&&(n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),h)),t||setTimeout((function(){n._emit("play",o._id),n._loadQueue()}),0)};"running"===a.state&&"interrupted"!==a.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(o._id))}else{var g=function(){v.currentTime=u,v.muted=o._muted||n._muted||a._muted||v.muted,v.volume=o._volume*a.volume(),v.playbackRate=o._rate;try{var i=v.play();if(i&&"undefined"!==typeof Promise&&(i instanceof Promise||"function"===typeof i.then)?(n._playLock=!0,p(),i.then((function(){n._playLock=!1,v._unlocked=!0,t?n._loadQueue():n._emit("play",o._id)})).catch((function(){n._playLock=!1,n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0}))):t||(n._playLock=!1,p(),n._emit("play",o._id)),v.playbackRate=o._rate,v.paused)return void n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||o._loop?n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),h):(n._endTimers[o._id]=function(){n._ended(o),v.removeEventListener("ended",n._endTimers[o._id],!1)},v.addEventListener("ended",n._endTimers[o._id],!1))}catch(r){n._emit("playerror",o._id,r)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===v.src&&(v.src=n._src,v.load());var y=window&&window.ejecta||!v.readyState&&a._navigator.isCocoonJS;if(v.readyState>=3||y)g();else{n._playLock=!0,n._state="loading";v.addEventListener(a._canPlayEvent,(function e(){n._state="loaded",g(),v.removeEventListener(a._canPlayEvent,e,!1)}),!1),n._clearTimer(o._id)}}return o._id}n._ended(o)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),i=0;i<n.length;i++){t._clearTimer(n[i]);var r=t._soundById(n[i]);if(r&&!r._paused&&(r._seek=t.seek(n[i]),r._rateSeek=0,r._paused=!0,t._stopFade(n[i]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;"undefined"===typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var i=n._getSoundIds(e),r=0;r<i.length;r++){n._clearTimer(i[r]);var a=n._soundById(i[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(i[r]),a._node&&(n._webAudio?a._node.bufferSource&&("undefined"===typeof a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),t||n._emit("stop",a._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"===typeof t){if("boolean"!==typeof e)return n._muted;n._muted=e}for(var i=n._getSoundIds(t),r=0;r<i.length;r++){var s=n._soundById(i[r]);s&&(s._muted=e,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,a.ctx.currentTime):s._node&&(s._node.muted=!!a._muted||e),n._emit("mute",s._id))}return n},volume:function(){var e,t,n,i=this,r=arguments;if(0===r.length)return i._volume;if(1===r.length||2===r.length&&"undefined"===typeof r[1]){var s=i._getSoundIds(),o=s.indexOf(r[0]);o>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(!("undefined"!==typeof e&&e>=0&&e<=1))return(n=t?i._soundById(t):i._sounds[0])?n._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,r)}}),i;"undefined"===typeof t&&(i._volume=e),t=i._getSoundIds(t);for(var l=0;l<t.length;l++)(n=i._soundById(t[l]))&&(n._volume=e,r[2]||i._stopFade(t[l]),i._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,a.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*a.volume()),i._emit("volume",n._id));return i},fade:function(e,t,n,i){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(e,t,n,i)}}),r;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),r.volume(e,i);for(var s=r._getSoundIds(i),o=0;o<s.length;o++){var l=r._soundById(s[o]);if(l){if(i||r._stopFade(s[o]),r._webAudio&&!l._muted){var u=a.ctx.currentTime,c=u+n/1e3;l._volume=e,l._node.gain.setValueAtTime(e,u),l._node.gain.linearRampToValueAtTime(t,c)}r._startFadeInterval(l,e,t,n,s[o],"undefined"===typeof i)}}return r},_startFadeInterval:function(e,t,n,i,r,a){var s=this,o=t,l=n-t,u=Math.abs(l/.01),c=Math.max(4,u>0?i/u:i),h=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var r=(Date.now()-h)/i;h=Date.now(),o+=l*r,o=Math.round(100*o)/100,o=l<0?Math.max(n,o):Math.min(n,o),s._webAudio?e._volume=o:s.volume(o,e._id,!0),a&&(s._volume=o),(n<t&&o<=n||n>t&&o>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))}),c)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,i=this,r=arguments;if(0===r.length)return i._loop;if(1===r.length){if("boolean"!==typeof r[0])return!!(n=i._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],i._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var a=i._getSoundIds(t),s=0;s<a.length;s++)(n=i._soundById(a[s]))&&(n._loop=e,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,i.playing(a[s])&&(i.pause(a[s],!0),i.play(a[s],!0)))));return i},rate:function(){var e,t,n,i=this,r=arguments;if(0===r.length)t=i._sounds[0]._id;else if(1===r.length){var s=i._getSoundIds(),o=s.indexOf(r[0]);o>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("number"!==typeof e)return(n=i._soundById(t))?n._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,r)}}),i;"undefined"===typeof t&&(i._rate=e),t=i._getSoundIds(t);for(var l=0;l<t.length;l++)if(n=i._soundById(t[l])){i.playing(t[l])&&(n._rateSeek=i.seek(t[l]),n._playStart=i._webAudio?a.ctx.currentTime:n._playStart),n._rate=e,i._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,a.ctx.currentTime):n._node&&(n._node.playbackRate=e);var u=i.seek(t[l]),c=(i._sprite[n._sprite][0]+i._sprite[n._sprite][1])/1e3-u,h=1e3*c/Math.abs(n._rate);!i._endTimers[t[l]]&&n._paused||(i._clearTimer(t[l]),i._endTimers[t[l]]=setTimeout(i._ended.bind(i,n),h)),i._emit("rate",n._id)}return i},seek:function(){var e,t,n=this,i=arguments;if(0===i.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===i.length){var r=n._getSoundIds(),s=r.indexOf(i[0]);s>=0?t=parseInt(i[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(i[0]))}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("undefined"===typeof t)return 0;if("number"===typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,i)}}),n;var o=n._soundById(t);if(o){if(!("number"===typeof e&&e>=0)){if(n._webAudio){var l=n.playing(t)?a.ctx.currentTime-o._playStart:0,u=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(u+l*Math.abs(o._rate))}return o._node.currentTime}var c=n.playing(t);c&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var h=function(){c&&n.play(t,!0),n._emit("seek",t)};if(c&&!n._webAudio){var f=function e(){n._playLock?setTimeout(e,0):h()};setTimeout(f,0)}else h()}return n},playing:function(e){var t=this;if("number"===typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var i=0;i<t._sounds.length;i++)if(!t._sounds[i]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,i=t._soundById(e);return i&&(n=t._sprite[i._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(a._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),a._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var i=a._howls.indexOf(e);i>=0&&a._howls.splice(i,1);var r=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===e._src||e._src.indexOf(a._howls[n]._src)>=0){r=!1;break}return l&&r&&delete l[e._src],a.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,i){var r=this["_on"+e];return"function"===typeof t&&r.push(i?{id:n,fn:t,once:i}:{id:n,fn:t}),this},off:function(e,t,n){var i=this,r=i["_on"+e],a=0;if("number"===typeof t&&(n=t,t=null),t||n)for(a=0;a<r.length;a++){var s=n===r[a].id;if(t===r[a].fn&&s||!t&&s){r.splice(a,1);break}}else if(e)i["_on"+e]=[];else{var o=Object.keys(i);for(a=0;a<o.length;a++)0===o[a].indexOf("_on")&&Array.isArray(i[o[a]])&&(i[o[a]]=[])}return i},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var i=this,r=i["_on"+e],a=r.length-1;a>=0;a--)r[a].id&&r[a].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(i,r[a].fn),0),r[a].once&&i.off(e,r[a].fn,r[a].id));return i._loadQueue(e),i},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=a.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),r)}return t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),a._autoSuspend()),t._webAudio||i||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!==typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new o(e)},_drain:function(){var e=this,t=e._pool,n=0,i=0;if(!(e._sounds.length<t)){for(i=0;i<e._sounds.length;i++)e._sounds[i]._ended&&n++;for(i=e._sounds.length-1;i>=0;i--){if(n<=t)return;e._sounds[i]._ended&&(e._webAudio&&e._sounds[i]._node&&e._sounds[i]._node.disconnect(0),e._sounds.splice(i,1),n--)}}},_getSoundIds:function(e){if("undefined"===typeof e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=a.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,a.ctx.currentTime),this},_cleanBuffer:function(e){var t=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(a._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=a._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=a._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"===typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),e._node.gain.setValueAtTime(n,a.ctx.currentTime),e._node.paused=!0,e._node.connect(a.masterGain)):a.noAudio||(e._node=a._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(a._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*a.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(a._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},u=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);h(i.buffer,e)}else{var a=new XMLHttpRequest;a.open(e._xhr.method,t,!0),a.withCredentials=e._xhr.withCredentials,a.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){a.setRequestHeader(t,e._xhr.headers[t])})),a.onload=function(){var t=(a.status+"")[0];"0"===t||"2"===t||"3"===t?h(a.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},c(a)}},c=function(e){try{e.send()}catch(t){e.onerror()}},h=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},i=function(e){e&&t._sounds.length>0?(l[t._src]=e,f(t,e)):n()};"undefined"!==typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(e).then(i).catch(n):a.ctx.decodeAudioData(e,i,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){if(a.usingWebAudio){try{"undefined"!==typeof AudioContext?a.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(r){a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),t=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var i=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());a._navigator&&!i&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain="undefined"===typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:a._volume,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};void 0===(i=function(){return{Howler:a,Howl:s}}.apply(t,[]))||(e.exports=i),t.Howler=a,t.Howl=s,"undefined"!==typeof n.g?(n.g.HowlerGlobal=r,n.g.Howler=a,n.g.Howl=s,n.g.Sound=o):"undefined"!==typeof window&&(window.HowlerGlobal=r,window.Howler=a,window.Howl=s,window.Sound=o)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var i=this;return i.ctx&&i.ctx.listener?(t="number"!==typeof t?i._pos[1]:t,n="number"!==typeof n?i._pos[2]:n,"number"!==typeof e?i._pos:(i._pos=[e,t,n],"undefined"!==typeof i.ctx.listener.positionX?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]),i)):i},HowlerGlobal.prototype.orientation=function(e,t,n,i,r,a){var s=this;if(!s.ctx||!s.ctx.listener)return s;var o=s._orientation;return t="number"!==typeof t?o[1]:t,n="number"!==typeof n?o[2]:n,i="number"!==typeof i?o[3]:i,r="number"!==typeof r?o[4]:r,a="number"!==typeof a?o[5]:a,"number"!==typeof e?o:(s._orientation=[e,t,n,i,r,a],"undefined"!==typeof s.ctx.listener.forwardX?(s.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(e,t,n,i,r,a),s)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!==typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(e,n)}}),i;var r="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof n){if("number"!==typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0]}for(var a=i._getSoundIds(n),s=0;s<a.length;s++){var o=i._soundById(a[s]);if(o){if("number"!==typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||t(o,r),"spatial"===r?"undefined"!==typeof o._panner.positionX?(o._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(e,0,0):o._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),i._emit("stereo",o._id)}}return i},Howl.prototype.pos=function(e,n,i,r){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(e,n,i,r)}}),a;if(n="number"!==typeof n?0:n,i="number"!==typeof i?-.5:i,"undefined"===typeof r){if("number"!==typeof e)return a._pos;a._pos=[e,n,i]}for(var s=a._getSoundIds(r),o=0;o<s.length;o++){var l=a._soundById(s[o]);if(l){if("number"!==typeof e)return l._pos;l._pos=[e,n,i],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),"undefined"!==typeof l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setPosition(e,n,i)),a._emit("pos",l._id)}}return a},Howl.prototype.orientation=function(e,n,i,r){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(e,n,i,r)}}),a;if(n="number"!==typeof n?a._orientation[1]:n,i="number"!==typeof i?a._orientation[2]:i,"undefined"===typeof r){if("number"!==typeof e)return a._orientation;a._orientation=[e,n,i]}for(var s=a._getSoundIds(r),o=0;o<s.length;o++){var l=a._soundById(s[o]);if(l){if("number"!==typeof e)return l._orientation;l._orientation=[e,n,i],l._node&&(l._panner||(l._pos||(l._pos=a._pos||[0,0,-.5]),t(l,"spatial")),"undefined"!==typeof l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,i)),a._emit("orientation",l._id)}}return a},Howl.prototype.pannerAttr=function(){var e,n,i,r=this,a=arguments;if(!r._webAudio)return r;if(0===a.length)return r._pannerAttr;if(1===a.length){if("object"!==typeof a[0])return(i=r._soundById(parseInt(a[0],10)))?i._pannerAttr:r._pannerAttr;e=a[0],"undefined"===typeof n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),r._pannerAttr={coneInnerAngle:"undefined"!==typeof e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:"undefined"!==typeof e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:"undefined"!==typeof e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:r._distanceModel,maxDistance:"undefined"!==typeof e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:r._maxDistance,refDistance:"undefined"!==typeof e.pannerAttr.refDistance?e.pannerAttr.refDistance:r._refDistance,rolloffFactor:"undefined"!==typeof e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:"undefined"!==typeof e.pannerAttr.panningModel?e.pannerAttr.panningModel:r._panningModel})}else 2===a.length&&(e=a[0],n=parseInt(a[1],10));for(var s=r._getSoundIds(n),o=0;o<s.length;o++)if(i=r._soundById(s[o])){var l=i._pannerAttr;l={coneInnerAngle:"undefined"!==typeof e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:"undefined"!==typeof e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:"undefined"!==typeof e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:"undefined"!==typeof e.maxDistance?e.maxDistance:l.maxDistance,refDistance:"undefined"!==typeof e.refDistance?e.refDistance:l.refDistance,rolloffFactor:"undefined"!==typeof e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:"undefined"!==typeof e.panningModel?e.panningModel:l.panningModel};var u=i._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(i._pos||(i._pos=r._pos||[0,0,-.5]),t(i,"spatial"))}return r},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,"undefined"!==typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"undefined"!==typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},534:function(e,t,n){"use strict";var i=n(7313),r=n(2224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,i,r,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var F,B=Object.assign;function D(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),a=i.stack.split("\n"),s=r.length-1,o=a.length-1;1<=s&&0<=o&&r[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||r[s]!==a[o]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function V(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case T:return"Profiler";case M:return"StrictMode";case L:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ve(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Me=null;function Te(e){if(e=_r(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=xr(t),we(e.stateNode,e.type,t))}}function Se(e){ke?Me?Me.push(e):Me=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Me;if(Me=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ee(e,t){return e(t)}function Le(){}var Ce=!1;function Oe(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Ee(e,t,n)}finally{Ce=!1,(null!==ke||null!==Me)&&(Le(),Ae())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Ie=!1}function Re(e,t,n,i,r,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,Be=null,De=!1,je=null,Ue={onError:function(e){Fe=!0,Be=e}};function Ve(e,t,n,i,r,a,s,o,l){Fe=!1,Be=null,Re.apply(Ue,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ge(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return We(r),e;if(s===i)return We(r),t;s=s.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Xe=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,$e=r.unstable_shouldYield,Ke=r.unstable_requestPaint,Qe=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~r;0!==o?i=ht(o):0!==(a&=s)&&(i=ht(a))}else 0!==(s=n&~r)?i=ht(s):0!==a&&(i=ht(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-st(t)),i|=e[n],t&=~r;return i}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,kt,Mt,Tt,St=!1,At=[],Et=null,Lt=null,Ct=null,Ot=new Map,Pt=new Map,It=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ft(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Bt(e){var t=yr(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function jt(e,t,n){Dt(e)&&n.delete(t)}function Ut(){St=!1,null!==Et&&Dt(Et)&&(Et=null),null!==Lt&&Dt(Lt)&&(Lt=null),null!==Ct&&Dt(Ct)&&(Ct=null),Ot.forEach(jt),Pt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Gt(e){function t(t){return Vt(t,e)}if(0<At.length){Vt(At[0],e);for(var n=1;n<At.length;n++){var i=At[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Et&&Vt(Et,e),null!==Lt&&Vt(Lt,e),null!==Ct&&Vt(Ct,e),Ot.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(i=It[n]).blockedOn===e&&(i.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Bt(n),null===n.blockedOn&&It.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,i){var r=_t,a=zt.transition;zt.transition=null;try{_t=1,Xt(e,t,n,i)}finally{_t=r,zt.transition=a}}function Yt(e,t,n,i){var r=_t,a=zt.transition;zt.transition=null;try{_t=4,Xt(e,t,n,i)}finally{_t=r,zt.transition=a}}function Xt(e,t,n,i){if(Wt){var r=$t(e,t,n,i);if(null===r)Wi(e,t,i,qt,n),Rt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Et=Ft(Et,e,t,n,i,r),!0;case"dragenter":return Lt=Ft(Lt,e,t,n,i,r),!0;case"mouseover":return Ct=Ft(Ct,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Ot.set(a,Ft(Ot.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Pt.set(a,Ft(Pt.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Rt(e,i),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var a=_r(r);if(null!==a&&xt(a),null===(a=$t(e,t,n,i))&&Wi(e,t,i,qt,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var qt=null;function $t(e,t,n,i){if(qt=null,null!==(e=yr(e=xe(i))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,i=n.length,r="value"in Qt?Qt.value:Qt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[a-t];t++);return Jt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),hn=B({},un,{view:0,detail:0}),fn=an(hn),dn=B({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(dn),vn=an(B({},dn,{dataTransfer:0})),mn=an(B({},hn,{relatedTarget:0})),gn=an(B({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=B({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(yn),bn=an(B({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Mn}var Sn=B({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Sn),En=an(B({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=an(B({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Cn=an(B({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=B({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),In=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Rn,Bn=c&&(!Nn||Rn&&8<Rn&&11>=Rn),Dn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,i){Se(i),0<(t=Yi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function qn(e){Di(e,0)}function $n(e){if(X(br(e)))return e}function Kn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function ti(){Yn&&(Yn.detachEvent("onpropertychange",ni),Xn=Yn=null)}function ni(e){if("value"===e.propertyName&&$n(Xn)){var t=[];Hn(t,Xn,e,xe(e)),Oe(qn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Xn=n,(Yn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function ai(e,t){if("click"===e)return $n(t)}function si(e,t){if("input"===e||"change"===e)return $n(t)}var oi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(oi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!oi(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fi(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=fi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&di(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=ci(n,a);var s=ci(n,i);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vi=c&&"documentMode"in document&&11>=document.documentMode,mi=null,gi=null,yi=null,_i=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==mi||mi!==q(i)||("selectionStart"in(i=mi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Yi(gi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},ki={},Mi={};function Ti(e){if(ki[e])return ki[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mi)return ki[e]=n[t];return e}c&&(Mi=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Si=Ti("animationend"),Ai=Ti("animationiteration"),Ei=Ti("animationstart"),Li=Ti("transitionend"),Ci=new Map,Oi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){Ci.set(e,t),l(t,[e])}for(var Ii=0;Ii<Oi.length;Ii++){var Ni=Oi[Ii];Pi(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Pi(Si,"onAnimationEnd"),Pi(Ai,"onAnimationIteration"),Pi(Ei,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Li,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Bi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,s,o,l,u){if(Ve.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var c=Be;Fe=!1,Be=null,De||(De=!0,je=c)}}(i,t,void 0,e),e.currentTarget=null}function Di(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break e;Bi(r,o,u),a=l}else for(s=0;s<i.length;s++){if(l=(o=i[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break e;Bi(r,o,u),a=l}}}if(De)throw e=je,De=!1,je=null,e}function ji(e,t){var n=t[vr];void 0===n&&(n=t[vr]=new Set);var i=e+"__bubble";n.has(i)||(zi(t,e,2,!1),n.add(i))}function Ui(e,t,n){var i=0;t&&(i|=4),zi(n,e,i,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Vi]){e[Vi]=!0,s.forEach((function(t){"selectionchange"!==t&&(Fi.has(t)||Ui(t,!1,e),Ui(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,Ui("selectionchange",!1,t))}}function zi(e,t,n,i){switch(Kt(t)){case 1:var r=Ht;break;case 4:r=Yt;break;default:r=Xt}n=r.bind(null,t,n,e),r=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var o=i.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=yr(o)))return;if(5===(l=s.tag)||6===l){i=a=s;continue e}o=o.parentNode}}i=i.return}Oe((function(){var i=a,r=xe(n),s=[];e:{var o=Ci.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case Si:case Ai:case Ei:l=gn;break;case Li:l=Cn;break;case"scroll":l=fn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==o?o+"Capture":null:o;c=[];for(var d,p=i;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Pe(p,f))&&c.push(Hi(p,v,d)))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,r),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[pr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(h=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?o:br(l),d=null==u?o:br(u),(o=new c(v,p+"leave",l,n,r)).target=h,o.relatedTarget=d,v=null,yr(r)===i&&((c=new c(f,p+"enter",u,n,r)).target=d,c.relatedTarget=h,v=c),h=v,l&&u)e:{for(f=u,p=0,d=c=l;d;d=Xi(d))p++;for(d=0,v=f;v;v=Xi(v))d++;for(;0<p-d;)c=Xi(c),p--;for(;0<d-p;)f=Xi(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xi(c),f=Xi(f)}c=null}else c=null;null!==l&&qi(s,o,l,c,!1),null!==u&&null!==h&&qi(s,h,u,c,!0)}if("select"===(l=(o=i?br(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Kn;else if(Wn(o))if(Qn)m=si;else{m=ri;var g=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ai);switch(m&&(m=m(e,i))?Hn(s,m,n,r):(g&&g(e,o,i),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=i?br(i):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mi=g,gi=i,yi=null);break;case"focusout":yi=gi=mi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,bi(s,n,r);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":bi(s,n,r)}var y;if(Nn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Gn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Bn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Gn&&(y=en()):(Zt="value"in(Qt=r)?Qt.value:Qt.textContent,Gn=!0)),0<(g=Yi(i,_)).length&&(_=new bn(_,e,null,n,r),s.push({event:_,listeners:g}),y?_.data=y:null!==(y=Vn(n))&&(_.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Dn);case"textInput":return(e=t.data)===Dn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Nn&&Un(e,t)?(e=en(),Jt=Zt=Qt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Yi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=y))}Di(s,t)}))}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Pe(e,n))&&i.unshift(Hi(e,a,r)),null!=(a=Pe(e,t))&&i.push(Hi(e,a,r))),e=e.return}return i}function Xi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qi(e,t,n,i,r){for(var a=t._reactName,s=[];null!==n&&n!==i;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==u&&(o=u,r?null!=(l=Pe(n,a))&&s.unshift(Hi(n,l,o)):r||null!=(l=Pe(n,a))&&s.push(Hi(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $i=/\r\n?/g,Ki=/\u0000|\uFFFD/g;function Qi(e){return("string"===typeof e?e:""+e).replace($i,"\n").replace(Ki,"")}function Zi(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(a(425))}function Ji(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(or)}:ir;function or(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Gt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Gt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),fr="__reactFiber$"+hr,dr="__reactProps$"+hr,pr="__reactContainer$"+hr,vr="__reactEvents$"+hr,mr="__reactListeners$"+hr,gr="__reactHandles$"+hr;function yr(e){var t=e[fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[fr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[fr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[fr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xr(e){return e[dr]||null}var wr=[],kr=-1;function Mr(e){return{current:e}}function Tr(e){0>kr||(e.current=wr[kr],wr[kr]=null,kr--)}function Sr(e,t){kr++,wr[kr]=e.current,e.current=t}var Ar={},Er=Mr(Ar),Lr=Mr(!1),Cr=Ar;function Or(e,t){var n=e.type.contextTypes;if(!n)return Ar;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ir(){Tr(Lr),Tr(Er)}function Nr(e,t,n){if(Er.current!==Ar)throw Error(a(168));Sr(Er,t),Sr(Lr,n)}function Rr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,z(e)||"Unknown",r));return B({},n,i)}function Fr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,Cr=Er.current,Sr(Er,e),Sr(Lr,Lr.current),!0}function Br(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Rr(e,t,Cr),i.__reactInternalMemoizedMergedChildContext=e,Tr(Lr),Tr(Er),Sr(Er,e)):Tr(Lr),Sr(Lr,n)}var Dr=null,jr=!1,Ur=!1;function Vr(e){null===Dr?Dr=[e]:Dr.push(e)}function Gr(){if(!Ur&&null!==Dr){Ur=!0;var e=0,t=_t;try{var n=Dr;for(_t=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Dr=null,jr=!1}catch(r){throw null!==Dr&&(Dr=Dr.slice(e+1)),Xe(Je,Gr),r}finally{_t=t,Ur=!1}}return null}var zr=[],Wr=0,Hr=null,Yr=0,Xr=[],qr=0,$r=null,Kr=1,Qr="";function Zr(e,t){zr[Wr++]=Yr,zr[Wr++]=Hr,Hr=e,Yr=t}function Jr(e,t,n){Xr[qr++]=Kr,Xr[qr++]=Qr,Xr[qr++]=$r,$r=e;var i=Kr;e=Qr;var r=32-st(i)-1;i&=~(1<<r),n+=1;var a=32-st(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Kr=1<<32-st(t)+r|n<<r|i,Qr=a+e}else Kr=1<<a|n<<r|i,Qr=e}function ea(e){null!==e.return&&(Zr(e,1),Jr(e,1,0))}function ta(e){for(;e===Hr;)Hr=zr[--Wr],zr[Wr]=null,Yr=zr[--Wr],zr[Wr]=null;for(;e===$r;)$r=Xr[--qr],Xr[qr]=null,Qr=Xr[--qr],Xr[qr]=null,Kr=Xr[--qr],Xr[qr]=null}var na=null,ia=null,ra=!1,aa=null;function sa(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$r?{id:Kr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ra){var t=ia;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ur(n.nextSibling);var i=na;t&&oa(e,t)?sa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ra)return ca(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw fa(),Error(a(418));for(;t;)sa(e,t),t=ur(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?ur(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ia;e;)e=ur(e.nextSibling)}function da(){ia=na=null,ra=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Mr(null),ya=null,_a=null,ba=null;function xa(){ba=_a=ya=null}function wa(e){var t=ga.current;Tr(ga),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){ya=e,ba=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ya)throw Error(a(308));_a=e,ya.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Sa=null;function Aa(e){null===Sa?Sa=[e]:Sa.push(e)}function Ea(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Aa(t)):(n.next=r.next,r.next=n),t.interleaved=n,La(e,i)}function La(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ca=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&El)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,La(e,n)}return null===(r=i.interleaved)?(t.next=t,Aa(i)):(t.next=r.next,r.next=t),i.interleaved=t,La(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fa(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,i){var r=e.updateQueue;Ca=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==a){var h=r.baseState;for(s=0,c=u=l=null,o=a;;){var f=o.lane,d=o.eventTime;if((i&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=B({},h,f);break e;case 2:Ca=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=r.effects)?r.effects=[o]:f.push(o))}else d={eventTime:d,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,s|=f;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(f=o).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=h}}function Da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var ja=(new i.Component).refs;function Ua(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),a=Ia(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,r))&&(nu(t,e,r,i),Ra(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),a=Ia(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,r))&&(nu(t,e,r,i),Ra(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),i=tu(e),r=Ia(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Na(e,r,i))&&(nu(t,e,i,n),Ra(t,e,i))}};function Ga(e,t,n,i,r,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function za(e,t,n){var i=!1,r=Ar,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(r=Pr(t)?Cr:Er.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Or(e,r):Ar),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Ta(a):(a=Pr(t)?Cr:Er.current,r.context=Or(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Va.enqueueReplaceState(r,r.state,null),Ba(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;t===ja&&(t=r.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Bu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var a=n.type;return a===k?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&qa(a)===t.type)?((i=r(t,n.props)).ref=Ya(e,t,n),i.return=e,i):((i=Nu(n.type,n.key,n.props,null,e.mode,i)).ref=Ya(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,a){return null===t||7!==t.tag?((t=Ru(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case w:return(t=Du(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function d(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?u(e,t,n,i):null;case w:return n.key===r?c(e,t,n,i):null;case P:return d(e,t,(r=n._init)(n._payload),i)}if(te(n)||R(n))return null!==r?null:h(e,t,n,i,null);Xa(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case P:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||R(i))return h(t,e=e.get(n)||null,i,r,null);Xa(t,i)}return null}function v(r,a,o,l){for(var u=null,c=null,h=a,v=a=0,m=null;null!==h&&v<o.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(r,h,o[v],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(r,h),a=s(g,a,v),null===c?u=g:c.sibling=g,c=g,h=m}if(v===o.length)return n(r,h),ra&&Zr(r,v),u;if(null===h){for(;v<o.length;v++)null!==(h=f(r,o[v],l))&&(a=s(h,a,v),null===c?u=h:c.sibling=h,c=h);return ra&&Zr(r,v),u}for(h=i(r,h);v<o.length;v++)null!==(m=p(h,r,v,o[v],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=s(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(r,e)})),ra&&Zr(r,v),u}function m(r,o,l,u){var c=R(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,v=o,m=o=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var _=d(r,v,y.value,u);if(null===_){null===v&&(v=g);break}e&&v&&null===_.alternate&&t(r,v),o=s(_,o,m),null===h?c=_:h.sibling=_,h=_,v=g}if(y.done)return n(r,v),ra&&Zr(r,m),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=f(r,y.value,u))&&(o=s(y,o,m),null===h?c=y:h.sibling=y,h=y);return ra&&Zr(r,m),c}for(v=i(r,v);!y.done;m++,y=l.next())null!==(y=p(v,r,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),o=s(y,o,m),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(r,e)})),ra&&Zr(r,m),c}return function e(i,a,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var u=s.key,c=a;null!==c;){if(c.key===u){if((u=s.type)===k){if(7===c.tag){n(i,c.sibling),(a=r(c,s.props.children)).return=i,i=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&qa(u)===c.type){n(i,c.sibling),(a=r(c,s.props)).ref=Ya(i,c,s),a.return=i,i=a;break e}n(i,c);break}t(i,c),c=c.sibling}s.type===k?((a=Ru(s.props.children,i.mode,l,s.key)).return=i,i=a):((l=Nu(s.type,s.key,s.props,null,i.mode,l)).ref=Ya(i,a,s),l.return=i,i=l)}return o(i);case w:e:{for(c=s.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(i,a.sibling),(a=r(a,s.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Du(s,i.mode,l)).return=i,i=a}return o(i);case P:return e(i,a,(c=s._init)(s._payload),l)}if(te(s))return v(i,a,s,l);if(R(s))return m(i,a,s,l);Xa(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,s)).return=i,i=a):(n(i,a),(a=Bu(s,i.mode,l)).return=i,i=a),o(i)):n(i,a)}}var Ka=$a(!0),Qa=$a(!1),Za={},Ja=Mr(Za),es=Mr(Za),ts=Mr(Za);function ns(e){if(e===Za)throw Error(a(174));return e}function is(e,t){switch(Sr(ts,t),Sr(es,e),Sr(Ja,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Tr(Ja),Sr(Ja,t)}function rs(){Tr(Ja),Tr(es),Tr(ts)}function as(e){ns(ts.current);var t=ns(Ja.current),n=le(t,e.type);t!==n&&(Sr(es,e),Sr(Ja,n))}function ss(e){es.current===e&&(Tr(Ja),Tr(es))}var os=Mr(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function cs(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=b.ReactCurrentDispatcher,fs=b.ReactCurrentBatchConfig,ds=0,ps=null,vs=null,ms=null,gs=!1,ys=!1,_s=0,bs=0;function xs(){throw Error(a(321))}function ws(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function ks(e,t,n,i,r,s){if(ds=s,ps=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?so:oo,e=n(i,r),ys){s=0;do{if(ys=!1,_s=0,25<=s)throw Error(a(301));s+=1,ms=vs=null,t.updateQueue=null,hs.current=lo,e=n(i,r)}while(ys)}if(hs.current=ao,t=null!==vs&&null!==vs.next,ds=0,ms=vs=ps=null,gs=!1,t)throw Error(a(300));return e}function Ms(){var e=0!==_s;return _s=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?ps.memoizedState=ms=e:ms=ms.next=e,ms}function Ss(){if(null===vs){var e=ps.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ms?ps.memoizedState:ms.next;if(null!==t)ms=t,vs=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ms?ps.memoizedState=ms=e:ms=ms.next=e}return ms}function As(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=Ss(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=vs,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((ds&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,o=i):u=u.next=f,ps.lanes|=h,Fl|=h}c=c.next}while(null!==c&&c!==s);null===u?o=i:u.next=l,oi(i,t.memoizedState)||(bo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ps.lanes|=s,Fl|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ls(e){var t=Ss(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{s=e(s,o.action),o=o.next}while(o!==r);oi(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Cs(){}function Os(e,t){var n=ps,i=Ss(),r=t(),s=!oi(i.memoizedState,r);if(s&&(i.memoizedState=r,bo=!0),i=i.queue,zs(Ns.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Ds(9,Is.bind(null,n,i,r,t),void 0,null),null===Ll)throw Error(a(349));0!==(30&ds)||Ps(n,t,r)}return r}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,i){t.value=n,t.getSnapshot=i,Rs(t)&&Fs(e)}function Ns(e,t,n){return n((function(){Rs(t)&&Fs(e)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(i){return!0}}function Fs(e){var t=La(e,1);null!==t&&nu(t,e,1,-1)}function Bs(e){var t=Ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,ps,e),[t.memoizedState,e]}function Ds(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function js(){return Ss().memoizedState}function Us(e,t,n,i){var r=Ts();ps.flags|=e,r.memoizedState=Ds(1|t,n,void 0,void 0===i?null:i)}function Vs(e,t,n,i){var r=Ss();i=void 0===i?null:i;var a=void 0;if(null!==vs){var s=vs.memoizedState;if(a=s.destroy,null!==i&&ws(i,s.deps))return void(r.memoizedState=Ds(t,n,a,i))}ps.flags|=e,r.memoizedState=Ds(1|t,n,a,i)}function Gs(e,t){return Us(8390656,8,e,t)}function zs(e,t){return Vs(2048,8,e,t)}function Ws(e,t){return Vs(4,2,e,t)}function Hs(e,t){return Vs(4,4,e,t)}function Ys(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4,4,Ys.bind(null,t,e),n)}function qs(){}function $s(e,t){var n=Ss();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ws(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ks(e,t){var n=Ss();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ws(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Qs(e,t,n){return 0===(21&ds)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(oi(n,t)||(n=vt(),ps.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var i=fs.transition;fs.transition={};try{e(!1),t()}finally{_t=n,fs.transition=i}}function Js(){return Ss().memoizedState}function eo(e,t,n){var i=tu(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))io(t,n);else if(null!==(n=Ea(e,t,n,i))){nu(n,e,i,eu()),ro(n,t,i)}}function to(e,t,n){var i=tu(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))io(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,oi(o,s)){var l=t.interleaved;return null===l?(r.next=r,Aa(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(u){}null!==(n=Ea(e,t,r,i))&&(nu(n,e,i,r=eu()),ro(n,t,i))}}function no(e){var t=e.alternate;return e===ps||null!==t&&t===ps}function io(e,t){ys=gs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ro(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ao={readContext:Ta,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},so={readContext:Ta,useCallback:function(e,t){return Ts().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Gs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var n=Ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ts();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=eo.bind(null,ps,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ts().memoizedState=e},useState:Bs,useDebugValue:qs,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=Zs.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ps,r=Ts();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ll)throw Error(a(349));0!==(30&ds)||Ps(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Gs(Ns.bind(null,i,s,e),[e]),i.flags|=2048,Ds(9,Is.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Ts(),t=Ll.identifierPrefix;if(ra){var n=Qr;t=":"+t+"R"+(n=(Kr&~(1<<32-st(Kr)-1)).toString(32)+n),0<(n=_s++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ta,useCallback:$s,useContext:Ta,useEffect:zs,useImperativeHandle:Xs,useInsertionEffect:Ws,useLayoutEffect:Hs,useMemo:Ks,useReducer:Es,useRef:js,useState:function(){return Es(As)},useDebugValue:qs,useDeferredValue:function(e){return Qs(Ss(),vs.memoizedState,e)},useTransition:function(){return[Es(As)[0],Ss().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Os,useId:Js,unstable_isNewReconciler:!1},lo={readContext:Ta,useCallback:$s,useContext:Ta,useEffect:zs,useImperativeHandle:Xs,useInsertionEffect:Ws,useLayoutEffect:Hs,useMemo:Ks,useReducer:Ls,useRef:js,useState:function(){return Ls(As)},useDebugValue:qs,useDeferredValue:function(e){var t=Ss();return null===vs?t.memoizedState=e:Qs(t,vs.memoizedState,e)},useTransition:function(){return[Ls(As)[0],Ss().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Os,useId:Js,unstable_isNewReconciler:!1};function uo(e,t){try{var n="",i=t;do{n+=V(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=i),ho(0,t)},n}function vo(e,t,n){(n=Ia(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ho(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof i&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new fo;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var _o=b.ReactCurrentOwner,bo=!1;function xo(e,t,n,i){t.child=null===e?Qa(t,null,n,i):Ka(t,e.child,n,i)}function wo(e,t,n,i,r){n=n.render;var a=t.ref;return Ma(t,r),i=ks(e,t,n,i,a,r),n=Ms(),null===e||bo?(ra&&n&&ea(t),t.flags|=1,xo(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function ko(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Pu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Mo(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&e.ref===t.ref)return Wo(e,t,r)}return t.flags|=1,(e=Iu(a,i)).ref=t.ref,e.return=t,t.child=e}function Mo(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(bo=!1,t.pendingProps=i=a,0===(e.lanes&r))return t.lanes=e.lanes,Wo(e,t,r);0!==(131072&e.flags)&&(bo=!0)}}return Ao(e,t,n,i,r)}function To(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Il,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(Il,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Sr(Il,Pl),Pl|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Sr(Il,Pl),Pl|=i;return xo(e,t,r,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,i,r){var a=Pr(n)?Cr:Er.current;return a=Or(t,a),Ma(t,r),n=ks(e,t,n,i,a,r),i=Ms(),null===e||bo?(ra&&i&&ea(t),t.flags|=1,xo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function Eo(e,t,n,i,r){if(Pr(n)){var a=!0;Fr(t)}else a=!1;if(Ma(t,r),null===t.stateNode)zo(e,t),za(t,n,i),Ha(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ta(u):u=Or(t,u=Pr(n)?Cr:Er.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==i||l!==u)&&Wa(t,s,i,u),Ca=!1;var f=t.memoizedState;s.state=f,Ba(t,i,s,r),l=t.memoizedState,o!==i||f!==l||Lr.current||Ca?("function"===typeof c&&(Ua(t,n,c,i),l=t.memoizedState),(o=Ca||Ga(t,n,o,i,f,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=u,i=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Pa(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ma(t.type,o),s.props=u,h=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Or(t,l=Pr(n)?Cr:Er.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||f!==l)&&Wa(t,s,i,l),Ca=!1,f=t.memoizedState,s.state=f,Ba(t,i,s,r);var p=t.memoizedState;o!==h||f!==p||Lr.current||Ca?("function"===typeof d&&(Ua(t,n,d,i),p=t.memoizedState),(u=Ca||Ga(t,n,u,i,f,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),s.props=i,s.state=p,s.context=l,i=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return Lo(e,t,n,i,a,r)}function Lo(e,t,n,i,r,a){So(e,t);var s=0!==(128&t.flags);if(!i&&!s)return r&&Br(t,n,!1),Wo(e,t,a);i=t.stateNode,_o.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,o,a)):xo(e,t,o,a),t.memoizedState=i.state,r&&Br(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),is(e,t.containerInfo)}function Oo(e,t,n,i,r){return da(),pa(r),t.flags|=256,xo(e,t,n,i),t.child}var Po,Io,No,Ro={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var i,r=t.pendingProps,s=os.current,o=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&s)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Sr(os,1&s),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fu(l,r,0,null),e=Ru(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Ro,e):Do(t,l));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,r,s,o){if(n)return 256&t.flags?(t.flags&=-257,jo(e,t,o,i=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Fu({mode:"visible",children:i.children},r,0,null),(s=Ru(s,r,o,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ka(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Ro,s);if(0===(1&t.mode))return jo(e,t,o,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,jo(e,t,o,i=co(s=Error(a(419)),i,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(i=Ll)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|o))?0:r)&&r!==s.retryLane&&(s.retryLane=r,La(e,r),nu(i,e,r,-1))}return vu(),jo(e,t,o,i=co(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ia=ur(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(Xr[qr++]=Kr,Xr[qr++]=Qr,Xr[qr++]=$r,Kr=e.id,Qr=e.overflow,$r=t),(t=Do(t,i.children)).flags|=4096,t)}(e,t,l,r,i,s,n);if(o){o=r.fallback,l=t.mode,i=(s=e.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null):(r=Iu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==i?o=Iu(i,o):(o=Ru(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,r}return e=(o=e.child).sibling,r=Iu(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Do(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function jo(e,t,n,i){return null!==i&&pa(i),Ka(t,e.child,null,n),(e=Do(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),ka(e.return,t,n)}function Vo(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Go(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(xo(e,t,i.children,n),0!==(2&(i=os.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Sr(os,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vo(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ls(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vo(t,!0,n,null,a);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xo(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Pr(t.type)&&Ir(),Yo(t),null;case 3:return i=t.stateNode,rs(),Tr(Lr),Tr(Er),cs(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),Yo(t),null;case 5:ss(t);var r=ns(ts.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Yo(t),null}if(e=ns(Ja.current),ha(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[fr]=t,i[dr]=s,e=0!==(1&t.mode),n){case"dialog":ji("cancel",i),ji("close",i);break;case"iframe":case"object":case"embed":ji("load",i);break;case"video":case"audio":for(r=0;r<Ri.length;r++)ji(Ri[r],i);break;case"source":ji("error",i);break;case"img":case"image":case"link":ji("error",i),ji("load",i);break;case"details":ji("toggle",i);break;case"input":K(i,s),ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ji("invalid",i);break;case"textarea":re(i,s),ji("invalid",i)}for(var l in ye(n,s),r=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==s.suppressHydrationWarning&&Zi(i.textContent,u,e),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Zi(i.textContent,u,e),r=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&ji("scroll",i)}switch(n){case"input":Y(i),J(i,s,!0);break;case"textarea":Y(i),se(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Ji)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[fr]=t,e[dr]=i,Po(e,t),t.stateNode=e;e:{switch(l=_e(n,i),n){case"dialog":ji("cancel",e),ji("close",e),r=i;break;case"iframe":case"object":case"embed":ji("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ri.length;r++)ji(Ri[r],e);r=i;break;case"source":ji("error",e),r=i;break;case"img":case"image":case"link":ji("error",e),ji("load",e),r=i;break;case"details":ji("toggle",e),r=i;break;case"input":K(e,i),r=$(e,i),ji("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=B({},i,{value:void 0}),ji("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),ji("invalid",e)}for(s in ye(n,r),u=r)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&ji("scroll",e):null!=c&&_(e,s,c,l))}switch(n){case"input":Y(e),J(e,i,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)No(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=ns(ts.current),ns(Ja.current),ha(t)){if(i=t.stateNode,n=t.memoizedProps,i[fr]=t,(s=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[fr]=t,t.stateNode=i}return Yo(t),null;case 13:if(Tr(os),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,s=!1;else if(s=ha(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[fr]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),s=!1}else null!==aa&&(su(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===Nl&&(Nl=3):vu())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return rs(),null===e&&Gi(t.stateNode.containerInfo),Yo(t),null;case 10:return wa(t.type._context),Yo(t),null;case 19:if(Tr(os),null===(s=t.memoizedState))return Yo(t),null;if(i=0!==(128&t.flags),null===(l=s.rendering))if(i)Ho(s,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ls(e))){for(t.flags|=128,Ho(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sr(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Gl&&(t.flags|=128,i=!0,Ho(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ls(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ra)return Yo(t),null}else 2*Qe()-s.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,i=!0,Ho(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=os.current,Sr(os,i?1&n|2:1&n),t):(Yo(t),null);case 22:case 23:return hu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qo(e,t){switch(ta(t),t.tag){case 1:return Pr(t.type)&&Ir(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return rs(),Tr(Lr),Tr(Er),cs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ss(t),null;case 13:if(Tr(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Tr(os),null;case 4:return rs(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Io=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,ns(Ja.current);var a,s=null;switch(n){case"input":r=$(e,r),i=$(e,i),s=[];break;case"select":r=B({},r,{value:void 0}),i=B({},i,{value:void 0}),s=[];break;case"textarea":r=ie(e,r),i=ie(e,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Ji)}for(c in ye(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&ji("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},No=function(e,t,n,i){n!==i&&(t.flags|=4)};var $o=!1,Ko=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Mu(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Mu(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&el(t,n,a)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fr],delete t[dr],delete t[vr],delete t[mr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ji));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Ko||Jo(n,t);case 6:var i=cl,r=hl;cl=null,fl(e,t,n),hl=r,null!==(cl=i)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Gt(e)):lr(cl,n.stateNode));break;case 4:i=cl,r=hl,cl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),cl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Ko&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),r=r.next}while(r!==i)}fl(e,t,n);break;case 1:if(!Ko&&(Jo(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){Mu(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ko=(i=Ko)||null!==n.memoizedState,fl(e,t,n),Ko=i):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach((function(t){var i=Eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));dl(s,o,r),cl=null,hl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){Mu(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),gl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(m){Mu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Mu(e,e.return,m)}}break;case 1:vl(t,e),gl(e),512&i&&null!==n&&Jo(n,n.return);break;case 5:if(vl(t,e),gl(e),512&i&&null!==n&&Jo(n,n.return),32&e.flags){var r=e.stateNode;try{fe(r,"")}catch(m){Mu(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(r,s),_e(l,o);var c=_e(l,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];"style"===h?me(r,f):"dangerouslySetInnerHTML"===h?he(r,f):"children"===h?fe(r,f):_(r,h,f,c)}switch(l){case"input":Z(r,s);break;case"textarea":ae(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(r,!!s.multiple,p,!1):d!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[dr]=s}catch(m){Mu(e,e.return,m)}}break;case 6:if(vl(t,e),gl(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(m){Mu(e,e.return,m)}}break;case 3:if(vl(t,e),gl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(m){Mu(e,e.return,m)}break;case 4:default:vl(t,e),gl(e);break;case 13:vl(t,e),gl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Qe())),4&i&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ko=(c=Ko)||h,vl(t,e),Ko=c):vl(t,e),gl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(f=Zo=h;null!==Zo;){switch(p=(d=Zo).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Jo(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){i=d,n=d.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Mu(i,n,m)}}break;case 5:Jo(d,d.return);break;case 22:if(null!==d.memoizedState){xl(f);continue}}null!==p?(p.return=d,Zo=p):xl(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{r=f.stateNode,c?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,o=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",o))}catch(m){Mu(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Mu(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vl(t,e),gl(e),4&i&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(fe(r,""),i.flags&=-33),ul(e,ol(e),r);break;case 3:case 4:var s=i.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){Mu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,_l(e,t,n)}function _l(e,t,n){for(var i=0!==(1&e.mode);null!==Zo;){var r=Zo,a=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||$o;if(!s){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Ko;o=$o;var u=Ko;if($o=s,(Ko=l)&&!u)for(Zo=r;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?wl(r):null!==l?(l.return=s,Zo=l):wl(r);for(;null!==a;)Zo=a,_l(a,t,n),a=a.sibling;Zo=r,$o=o,Ko=u}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Zo=a):bl(e)}}function bl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ko)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Da(t,s,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Da(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Gt(f)}}}break;default:throw Error(a(163))}Ko||512&t.flags&&rl(t)}catch(d){Mu(t,t.return,d)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function xl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Mu(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Mu(t,r,l)}}var a=t.return;try{rl(t)}catch(l){Mu(t,a,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){Mu(t,s,l)}}}catch(l){Mu(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var kl,Ml=Math.ceil,Tl=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,Al=b.ReactCurrentBatchConfig,El=0,Ll=null,Cl=null,Ol=0,Pl=0,Il=Mr(0),Nl=0,Rl=null,Fl=0,Bl=0,Dl=0,jl=null,Ul=null,Vl=0,Gl=1/0,zl=null,Wl=!1,Hl=null,Yl=null,Xl=!1,ql=null,$l=0,Kl=0,Ql=null,Zl=-1,Jl=0;function eu(){return 0!==(6&El)?Qe():-1!==Zl?Zl:Zl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Ol?Ol&-Ol:null!==va.transition?(0===Jl&&(Jl=vt()),Jl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nu(e,t,n,i){if(50<Kl)throw Kl=0,Ql=null,Error(a(185));gt(e,n,i),0!==(2&El)&&e===Ll||(e===Ll&&(0===(2&El)&&(Bl|=n),4===Nl&&ou(e,Ol)),iu(e,i),1===n&&0===El&&0===(1&t.mode)&&(Gl=Qe()+500,jr&&Gr()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=r[s];-1===l?0!==(o&n)&&0===(o&i)||(r[s]=dt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var i=ft(e,e===Ll?Ol:0);if(0===i)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){jr=!0,Vr(e)}(lu.bind(null,e)):Vr(lu.bind(null,e)),sr((function(){0===(6&El)&&Gr()})),n=null;else{switch(bt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Lu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Zl=-1,Jl=0,0!==(6&El))throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var i=ft(e,e===Ll?Ol:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=mu(e,i);else{t=i;var r=El;El|=2;var s=pu();for(Ll===e&&Ol===t||(zl=null,Gl=Qe()+500,fu(e,t));;)try{yu();break}catch(l){du(e,l)}xa(),Tl.current=s,El=r,null!==Cl?t=0:(Ll=null,Ol=0,t=Nl)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=au(e,r))),1===t)throw n=Rl,fu(e,0),ou(e,i),iu(e,Qe()),n;if(6===t)ou(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!oi(a(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=mu(e,i))&&(0!==(s=pt(e))&&(i=s,t=au(e,s))),1===t))throw n=Rl,fu(e,0),ou(e,i),iu(e,Qe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,Ul,zl);break;case 3:if(ou(e,i),(130023424&i)===i&&10<(t=Vl+500-Qe())){if(0!==ft(e,0))break;if(((r=e.suspendedLanes)&i)!==i){eu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(xu.bind(null,e,Ul,zl),t);break}xu(e,Ul,zl);break;case 4:if(ou(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-st(i);s=1<<o,(o=t[o])>r&&(r=o),i&=~s}if(i=r,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ml(i/1960))-i)){e.timeoutHandle=ir(xu.bind(null,e,Ul,zl),i);break}xu(e,Ul,zl);break;default:throw Error(a(329))}}}return iu(e,Qe()),e.callbackNode===n?ru.bind(null,e):null}function au(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Ul,Ul=n,null!==t&&su(t)),e}function su(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ou(e,t){for(t&=~Dl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function lu(e){if(0!==(6&El))throw Error(a(327));wu();var t=ft(e,0);if(0===(1&t))return iu(e,Qe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=au(e,i))}if(1===n)throw n=Rl,fu(e,0),ou(e,t),iu(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Ul,zl),iu(e,Qe()),null}function uu(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Gl=Qe()+500,jr&&Gr())}}function cu(e){null!==ql&&0===ql.tag&&0===(6&El)&&wu();var t=El;El|=1;var n=Al.transition,i=_t;try{if(Al.transition=null,_t=1,e)return e()}finally{_t=i,Al.transition=n,0===(6&(El=t))&&Gr()}}function hu(){Pl=Il.current,Tr(Il)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Cl)for(n=Cl.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ir();break;case 3:rs(),Tr(Lr),Tr(Er),cs();break;case 5:ss(i);break;case 4:rs();break;case 13:case 19:Tr(os);break;case 10:wa(i.type._context);break;case 22:case 23:hu()}n=n.return}if(Ll=e,Cl=e=Iu(e.current,null),Ol=Pl=t,Nl=0,Rl=null,Dl=Bl=Fl=0,Ul=jl=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(i=(n=Sa[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var s=a.next;a.next=r,i.next=s}n.pending=i}Sa=null}return e}function du(e,t){for(;;){var n=Cl;try{if(xa(),hs.current=ao,gs){for(var i=ps.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}gs=!1}if(ds=0,ms=vs=ps=null,ys=!1,_s=0,Sl.current=null,null===n||null===n.return){Nl=1,Rl=t,Cl=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(s,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){mo(s,c,t),vu();break e}u=Error(a(426))}else if(ra&&1&l.mode){var g=go(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yo(g,o,l,0,t),pa(uo(u,l));break e}}s=u=uo(u,l),4!==Nl&&(Nl=2),null===jl?jl=[s]:jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fa(s,po(0,u,t));break e;case 1:l=u;var y=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Yl||!Yl.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,Fa(s,vo(s,l,t));break e}}s=s.return}while(null!==s)}bu(n)}catch(b){t=b,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function pu(){var e=Tl.current;return Tl.current=ao,null===e?ao:e}function vu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Ll||0===(268435455&Fl)&&0===(268435455&Bl)||ou(Ll,Ol)}function mu(e,t){var n=El;El|=2;var i=pu();for(Ll===e&&Ol===t||(zl=null,fu(e,t));;)try{gu();break}catch(r){du(e,r)}if(xa(),El=n,Tl.current=i,null!==Cl)throw Error(a(261));return Ll=null,Ol=0,Nl}function gu(){for(;null!==Cl;)_u(Cl)}function yu(){for(;null!==Cl&&!$e();)_u(Cl)}function _u(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bu(e):Cl=t,Sl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Pl)))return void(Cl=n)}else{if(null!==(n=qo(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Nl=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Nl&&(Nl=5)}function xu(e,t,n){var i=_t,r=Al.transition;try{Al.transition=null,_t=1,function(e,t,n,i){do{wu()}while(null!==ql);if(0!==(6&El))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,s),e===Ll&&(Cl=Ll=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Lu(tt,(function(){return wu(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Al.transition,Al.transition=null;var o=_t;_t=1;var l=El;El|=4,Sl.current=null,function(e,t){if(er=Wt,di(e=fi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(l=o+r),f!==s||0!==i&&3!==f.nodeType||(u=o+i),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===r&&(l=o),d===s&&++h===i&&(u=o),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(x){Mu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}v=tl,tl=!1}(e,n),ml(n,e),pi(tr),Wt=!!er,tr=er=null,e.current=n,yl(n,e,r),Ke(),El=l,_t=o,Al.transition=s}else e.current=n;if(Xl&&(Xl=!1,ql=e,$l=r),0===(s=e.pendingLanes)&&(Yl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i((r=t[n]).value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&wu(),0!==(1&(s=e.pendingLanes))?e===Ql?Kl++:(Kl=0,Ql=e):Kl=0,Gr()}(e,t,n,i)}finally{Al.transition=r,_t=i}return null}function wu(){if(null!==ql){var e=bt($l),t=Al.transition,n=_t;try{if(Al.transition=null,_t=16>e?16:e,null===ql)var i=!1;else{if(e=ql,ql=null,$l=0,0!==(6&El))throw Error(a(331));var r=El;for(El|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zo=c;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var f=h.child;if(null!==f)f.return=h,Zo=f;else for(;null!==Zo;){var d=(h=Zo).sibling,p=h.return;if(al(h),h===c){Zo=null;break}if(null!==d){d.return=p,Zo=d;break}Zo=p}}}var v=s.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Zo=y;break e}Zo=s.return}}var _=e.current;for(Zo=_;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=_;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){Mu(l,l.return,w)}if(l===o){Zo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Zo=x;break e}Zo=l.return}}if(El=r,Gr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{_t=n,Al.transition=t}}return!1}function ku(e,t,n){e=Na(e,t=po(0,t=uo(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),iu(e,t))}function Mu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Yl||!Yl.has(i))){t=Na(t,e=vo(t,e=uo(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),iu(t,e));break}}t=t.return}}function Tu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(Ol&n)===n&&(4===Nl||3===Nl&&(130023424&Ol)===Ol&&500>Qe()-Vl?fu(e,0):Dl|=n),iu(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=La(e,t))&&(gt(e,t,n),iu(e,n))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Su(e,n)}function Lu(e,t){return Xe(e,t)}function Cu(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,i){return new Cu(e,t,n,i)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,i,r,s){var o=2;if(i=e,"function"===typeof e)Pu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Ru(n.children,r,s,t);case M:o=8,r|=8;break;case T:return(e=Ou(12,n,t,2|r)).elementType=T,e.lanes=s,e;case L:return(e=Ou(13,n,t,r)).elementType=L,e.lanes=s,e;case C:return(e=Ou(19,n,t,r)).elementType=C,e.lanes=s,e;case I:return Fu(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case A:o=9;break e;case E:o=11;break e;case O:o=14;break e;case P:o=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ou(o,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Ru(e,t,n,i){return(e=Ou(7,e,i,t)).lanes=n,e}function Fu(e,t,n,i){return(e=Ou(22,e,i,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,i,r,a,s,o,l){return e=new ju(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ou(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Vu(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Gu(e){if(!e)return Ar;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pr(n))return Rr(e,n,t)}return t}function zu(e,t,n,i,r,a,s,o,l){return(e=Uu(n,i,!0,e,0,a,0,o,l)).context=Gu(null),n=e.current,(a=Ia(i=eu(),r=tu(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,r),e.current.lanes=r,gt(e,r,i),iu(e,i),e}function Wu(e,t,n,i){var r=t.current,a=eu(),s=tu(r);return n=Gu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Na(r,t,s))&&(nu(e,r,s,a),Ra(e,r,s)),s}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Lr.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),da();break;case 5:as(t);break;case 1:Pr(t.type)&&Fr(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Sr(ga,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Sr(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(Sr(os,1&os.current),null!==(e=Wo(e,t,n))?e.sibling:null);Sr(os,1&os.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Go(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sr(os,os.current),i)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ra&&0!==(1048576&t.flags)&&Jr(t,Yr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;zo(e,t),e=t.pendingProps;var r=Or(t,Er.current);Ma(t,n),r=ks(null,t,i,e,r,n);var s=Ms();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(i)?(s=!0,Fr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Oa(t),r.updater=Va,t.stateNode=r,r._reactInternals=t,Ha(t,i,e,n),t=Lo(null,t,i,!0,s,n)):(t.tag=0,ra&&s&&ea(t),xo(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(i),e=ma(i,e),r){case 0:t=Ao(null,t,i,e,n);break e;case 1:t=Eo(null,t,i,e,n);break e;case 11:t=wo(null,t,i,e,n);break e;case 14:t=ko(null,t,i,ma(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ao(e,t,i,r=t.elementType===i?r:ma(i,r),n);case 1:return i=t.type,r=t.pendingProps,Eo(e,t,i,r=t.elementType===i?r:ma(i,r),n);case 3:e:{if(Co(t),null===e)throw Error(a(387));i=t.pendingProps,r=(s=t.memoizedState).element,Pa(e,t),Ba(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oo(e,t,i,n,r=uo(Error(a(423)),t));break e}if(i!==r){t=Oo(e,t,i,n,r=uo(Error(a(424)),t));break e}for(ia=ur(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=Qa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),i===r){t=Wo(e,t,n);break e}xo(e,t,i,n)}t=t.child}return t;case 5:return as(t),null===e&&ua(t),i=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,o=r.children,nr(i,r)?o=null:null!==s&&nr(i,s)&&(t.flags|=32),So(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Bo(e,t,n);case 4:return is(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ka(t,null,i,n):xo(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,wo(e,t,i,r=t.elementType===i?r:ma(i,r),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,Sr(ga,i._currentValue),i._currentValue=o,null!==s)if(oi(s.value,o)){if(s.children===r.children&&!Lr.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===s.tag){(u=Ia(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ka(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}xo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ma(t,n),i=i(r=Ta(r)),t.flags|=1,xo(e,t,i,n),t.child;case 14:return r=ma(i=t.type,t.pendingProps),ko(e,t,i,r=ma(i.type,r),n);case 15:return Mo(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ma(i,r),zo(e,t),t.tag=1,Pr(i)?(e=!0,Fr(t)):e=!1,Ma(t,n),za(t,i,r),Ha(t,i,r,n),Lo(null,t,i,!0,e,n);case 19:return Go(e,t,n);case 22:return To(e,t,n)}throw Error(a(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,i,r){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof r){var o=r;r=function(){var e=Hu(s);o.call(e)}}Wu(t,s,e,r)}else s=function(e,t,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var e=Hu(s);a.call(e)}}var s=zu(t,i,e,0,null,!1,0,"",Ju);return e._reactRootContainer=s,e[pr]=s.current,Gi(8===e.nodeType?e.parentNode:e),cu(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var o=i;i=function(){var e=Hu(l);o.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pr]=l.current,Gi(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,l,n,i)})),l}(n,t,e,r,i);return Hu(s)}Ku.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wu(e,t,null,null)},Ku.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[pr]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Bt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Qe()),0===(6&El)&&(Gl=Qe()+500,Gr()))}break;case 13:cu((function(){var t=La(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Xu(e,1)}},wt=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)nu(t,e,134217728,eu());Xu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=La(e,t);if(null!==n)nu(n,e,t,eu());Xu(e,t)}},Mt=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=xr(i);if(!r)throw Error(a(90));X(i),Z(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uu,Le=cu;var tc={usingClientEntryPoint:!1,Events:[_r,br,xr,Se,Ae,uu]},nc={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{rt=rc.inject(ic),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return Vu(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,i="",r=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Gi(8===e.nodeType?e.parentNode:e),new $u(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",o=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,r,0,s,o),e[pr]=t.current,Gi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ku(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},1739:function(e,t,n){"use strict";var i=n(1168);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},5918:function(e,t,n){"use strict";var i=n(7313),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,a={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:a,_owner:o.current}}t.jsx=u,t.jsxs=u},306:function(e,t){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=_.prototype=new y;b.constructor=_,v(b,g.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,i){var r,a={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,r)&&!M.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,r,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=e),e=""===a?"."+E(l,0):a,x(s)?(r="",null!=e&&(r=e.replace(A,"$&/")+"/"),L(s,t,r,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+E(o=e[u],u);l+=L(o,t,r,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=L(o=o.value,t,r,c=a+E(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,n){if(null==e)return e;var i=[],r=0;return L(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},N={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=s,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!M.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},3095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var o=2*(i+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<r&&0>a(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[o]=n,i=o);else{if(!(u<r&&0>a(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function x(e){if(m=!1,b(e),!v)if(null!==i(u))v=!0,I(w);else{var t=i(c);null!==t&&N(x,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=d;try{for(b(n),f=i(u);null!==f&&(!(f.expirationTime>n)||e&&!L());){var s=f.callback;if("function"===typeof s){f.callback=null,d=f.priorityLevel;var o=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?f.callback=o:f===i(u)&&r(u),b(n)}else r(u);f=i(u)}if(null!==f)var l=!0;else{var h=i(c);null!==h&&N(x,h.startTime-n),l=!1}return l}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,M=!1,T=null,S=-1,A=5,E=-1;function L(){return!(t.unstable_now()-E<A)}function C(){if(null!==T){var e=t.unstable_now();E=e;var n=!0;try{n=T(!0,e)}finally{n?k():(M=!1,T=null)}}else M=!1}if("function"===typeof _)k=function(){_(C)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=C,k=function(){P.postMessage(null)}}else k=function(){g(C,0)};function I(e){T=e,M||(M=!0,k())}function N(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,I(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(c,e),null===i(u)&&e===i(c)&&(m?(y(S),S=-1):m=!0,N(x,a-s))):(e.sortIndex=o,n(u,e),v||p||(v=!0,I(w))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},1531:function(e,t,n){"use strict";var i=n(7313);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useState,s=i.useEffect,o=i.useLayoutEffect,l=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(i){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=a({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return o((function(){r.value=n,r.getSnapshot=t,u(r)&&c({inst:r})}),[e,n,t]),s((function(){return u(r)&&c({inst:r}),e((function(){u(r)&&c({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},5531:function(e,t,n){"use strict";var i=n(7313),r=n(1239);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,o=i.useRef,l=i.useEffect,u=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var h=o(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=u((function(){function e(e){if(!l){if(l=!0,s=e,e=i(e),void 0!==r&&f.hasValue){var t=f.value;if(r(t,e))return o=t}return o=e}if(t=o,a(s,e))return t;var n=i(e);return void 0!==r&&r(t,n)?t:(s=e,o=n)}var s,o,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,i,r]);var d=s(e,h[0],h[1]);return l((function(){f.hasValue=!0,f.value=d}),[d]),c(d),d}},1239:function(e,t,n){"use strict";e.exports=n(1531)},7058:function(e,t,n){"use strict";e.exports=n(5531)},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var i=n(3897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var i=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw s}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var i=n(3808),r=n(9617),a=n(4993);e.exports=function(e){var t=r();return function(){var n,r=i(e);if(t){var s=i(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var i=n(1753);function r(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=r=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=r=function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var i=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(l){o=!0,r=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var i=n(8698).default,r=n(6115);e.exports=function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var i=n(8698).default;function r(){"use strict";e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(O){h=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),o=new E(i||[]);return s(a,"_invoke",{value:M(e,n,o)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=f;var p={};function v(){}function m(){}function g(){}var y={};h(y,l,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(L([])));b&&b!==n&&a.call(b,l)&&(y=b);var x=g.prototype=v.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(r,s,o,l){var u=d(e[r],e,s);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==i(h)&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(u.arg)}var r;s(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}})}function M(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return C()}for(n.method=r,n.arg=a;;){var s=n.delegate;if(s){var o=T(s,n);if(o){if(o===p)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function T(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=g,s(x,"constructor",{value:g,configurable:!0}),s(g,"constructor",{value:m,configurable:!0}),m.displayName=h(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,h(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(k.prototype),h(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var s=new k(f(e,n,i,r),a);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(x),h(x,c,"Generator"),h(x,l,(function(){return this})),h(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],s=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var o=a.call(r,"catchLoc"),l=a.call(r,"finallyLoc");if(o&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var i=n(5372),r=n(8872),a=n(6116),s=n(2218);e.exports=function(e,t){return i(e)||r(e,t)||a(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var i=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var i=n(3405),r=n(9498),a=n(6116),s=n(2281);e.exports=function(e){return i(e)||r(e)||a(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var i=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){s[e]=function(){return i[e]}}));return s.default=function(){return i},n.d(a,s),a}}(),n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".fe66ef9a.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="vpbank-lixi-game:";n.l=function(i,r,a,s){if(e[i])e[i].push(r);else{var o,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+a){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=i),e[i]=[r];var f=function(t,n){o.onerror=o.onload=null,clearTimeout(d);var r=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){var e={179:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,(function(i){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,r[1](o)}}),"chunk-"+t,t)}};var t=function(t,i){var r,a,s=i[0],o=i[1],l=i[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)l(n)}for(t&&t(i);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunkvpbank_lixi_game=self.webpackChunkvpbank_lixi_game||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),function(){"use strict";var e=n(1739),t=function(e){e&&e instanceof Function&&n.e(27).then(n.bind(n,4027)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),r(e),a(e),s(e)}))},i=n(7058),r=n(7313),a=n.t(r,2);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var c="function"===typeof Symbol&&Symbol.observable||"@@observable",h=function(){return Math.random().toString(36).substring(7).split("").join(".")},f={INIT:"@@redux/INIT"+h(),REPLACE:"@@redux/REPLACE"+h(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+h()}};function d(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(u(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(u(1));return n(p)(e,t)}if("function"!==typeof e)throw new Error(u(2));var r=e,a=t,s=[],o=s,l=!1;function h(){o===s&&(o=s.slice())}function v(){if(l)throw new Error(u(3));return a}function m(e){if("function"!==typeof e)throw new Error(u(4));if(l)throw new Error(u(5));var t=!0;return h(),o.push(e),function(){if(t){if(l)throw new Error(u(6));t=!1,h();var n=o.indexOf(e);o.splice(n,1),s=null}}}function g(e){if(!d(e))throw new Error(u(7));if("undefined"===typeof e.type)throw new Error(u(8));if(l)throw new Error(u(9));try{l=!0,a=r(a,e)}finally{l=!1}for(var t=s=o,n=0;n<t.length;n++){(0,t[n])()}return e}function y(e){if("function"!==typeof e)throw new Error(u(10));r=e,g({type:f.REPLACE})}function _(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(u(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[c]=function(){return this},e}return g({type:f.INIT}),(i={dispatch:g,subscribe:m,getState:v,replaceReducer:y})[c]=_,i}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(u(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map((function(e){return e(r)}));return i=v.apply(void 0,a)(n.dispatch),l(l({},n),{},{dispatch:i})}}}function g(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"===typeof r?r(n,i,e):t(r)}}}}var y=g();y.withExtraArgument=g;var _=y;function b(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function x(e){return!!e&&!!e[le]}function w(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ue}(e)||Array.isArray(e)||!!e[oe]||!!(null===(t=e.constructor)||void 0===t?void 0:t[oe])||L(e)||C(e))}function k(e,t,n){void 0===n&&(n=!1),0===M(e)?(n?Object.keys:ce)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function M(e){var t=e[le];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:L(e)?2:C(e)?3:0}function T(e,t){return 2===M(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function S(e,t){return 2===M(e)?e.get(t):e[t]}function A(e,t,n){var i=M(e);2===i?e.set(t,n):3===i?(e.delete(t),e.add(n)):e[t]=n}function E(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function L(e){return ie&&e instanceof Map}function C(e){return re&&e instanceof Set}function O(e){return e.o||e.t}function P(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=he(e);delete t[le];for(var n=ce(t),i=0;i<n.length;i++){var r=n[i],a=t[r];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function I(e,t){return void 0===t&&(t=!1),R(e)||x(e)||!w(e)||(M(e)>1&&(e.set=e.add=e.clear=e.delete=N),Object.freeze(e),t&&k(e,(function(e,t){return I(t,!0)}),!0)),e}function N(){b(2)}function R(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function F(e){var t=fe[e];return t||b(18,e),t}function B(){return te}function D(e,t){t&&(F("Patches"),e.u=[],e.s=[],e.v=t)}function j(e){U(e),e.p.forEach(G),e.p=null}function U(e){e===te&&(te=e.l)}function V(e){return te={p:[],l:te,h:e,m:!0,_:0}}function G(e){var t=e[le];0===t.i||1===t.i?t.j():t.O=!0}function z(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||F("ES5").S(t,e,i),i?(n[le].P&&(j(t),b(4)),w(e)&&(e=W(t,e),t.l||Y(t,e)),t.u&&F("Patches").M(n[le].t,e,t.u,t.s)):e=W(t,n,[]),j(t),t.u&&t.v(t.u,t.s),e!==se?e:void 0}function W(e,t,n){if(R(t))return t;var i=t[le];if(!i)return k(t,(function(r,a){return H(e,i,t,r,a,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return Y(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=4===i.i||5===i.i?i.o=P(i.k):i.o;k(3===i.i?new Set(r):r,(function(t,a){return H(e,i,r,t,a,n)})),Y(e,r,!1),n&&e.u&&F("Patches").R(i,n,e.u,e.s)}return i.o}function H(e,t,n,i,r,a){if(x(r)){var s=W(e,r,a&&t&&3!==t.i&&!T(t.D,i)?a.concat(i):void 0);if(A(n,i,s),!x(s))return;e.m=!1}if(w(r)&&!R(r)){if(!e.h.F&&e._<1)return;W(e,r),t&&t.A.l||Y(e,r)}}function Y(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&I(t,n)}function X(e,t){var n=e[le];return(n?O(n):e)[t]}function q(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function $(e){e.P||(e.P=!0,e.l&&$(e.l))}function K(e){e.o||(e.o=P(e.t))}function Q(e,t,n){var i=L(t)?F("MapSet").N(t,n):C(t)?F("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:B(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=i,a=de;n&&(r=[i],a=pe);var s=Proxy.revocable(r,a),o=s.revoke,l=s.proxy;return i.k=l,i.j=o,l}(t,n):F("ES5").J(t,n);return(n?n.A:B()).p.push(i),i}function Z(e){return x(e)||b(22,e),function e(t){if(!w(t))return t;var n,i=t[le],r=M(t);if(i){if(!i.P&&(i.i<4||!F("ES5").K(i)))return i.t;i.I=!0,n=J(t,r),i.I=!1}else n=J(t,r);return k(n,(function(t,r){i&&S(i.t,t)===r||A(n,t,e(r))})),3===r?new Set(n):n}(e)}function J(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return P(e)}var ee,te,ne="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ie="undefined"!=typeof Map,re="undefined"!=typeof Set,ae="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,se=ne?Symbol.for("immer-nothing"):((ee={})["immer-nothing"]=!0,ee),oe=ne?Symbol.for("immer-draftable"):"__$immer_draftable",le=ne?Symbol.for("immer-state"):"__$immer_state",ue=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ce="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,he=Object.getOwnPropertyDescriptors||function(e){var t={};return ce(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},fe={},de={get:function(e,t){if(t===le)return e;var n=O(e);if(!T(n,t))return function(e,t,n){var i,r=q(t,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(e.k):void 0}(e,n,t);var i=n[t];return e.I||!w(i)?i:i===X(e.t,t)?(K(e),e.o[t]=Q(e.A.h,i,e)):i},has:function(e,t){return t in O(e)},ownKeys:function(e){return Reflect.ownKeys(O(e))},set:function(e,t,n){var i=q(O(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var r=X(O(e),t),a=null==r?void 0:r[le];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(E(n,r)&&(void 0!==n||T(e.t,t)))return!0;K(e),$(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==X(e.t,t)||t in e.t?(e.D[t]=!1,K(e),$(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=O(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){b(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){b(12)}},pe={};k(de,(function(e,t){pe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),pe.deleteProperty=function(e,t){return pe.set.call(this,e,t,void 0)},pe.set=function(e,t,n){return de.set.call(this,e[0],t,n,e[0])};var ve=function(){function e(e){var t=this;this.g=ae,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var r=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=r);for(var i=arguments.length,s=Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return a.produce(e,(function(e){var i;return(i=n).call.apply(i,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&b(6),void 0!==i&&"function"!=typeof i&&b(7),w(e)){var o=V(t),l=Q(t,e,void 0),u=!0;try{s=n(l),u=!1}finally{u?j(o):U(o)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return D(o,i),z(e,o)}),(function(e){throw j(o),e})):(D(o,i),z(s,o))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===se&&(s=void 0),t.F&&I(s,!0),i){var c=[],h=[];F("Patches").M(e,s,c,h),i(c,h)}return s}b(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))};var i,r,a=t.produce(e,n,(function(e,t){i=e,r=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,i,r]})):[a,i,r]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){w(e)||b(8),x(e)&&(e=Z(e));var t=V(this),n=Q(this,e,void 0);return n[le].C=!0,U(t),n},t.finishDraft=function(e,t){var n=(e&&e[le]).A;return D(n,t),z(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ae&&b(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));var r=F("Patches").$;return x(e)?r(e,t):this.produce(e,(function(e){return r(e,t)}))},e}(),me=new ve,ge=(me.produce,me.produceWithPatches.bind(me),me.setAutoFreeze.bind(me),me.setUseProxies.bind(me),me.applyPatches.bind(me),me.createDraft.bind(me),me.finishDraft.bind(me),n(9165)),ye=n.n(ge),_e=(0,r.createContext)(),be=function(){throw new Error("uSES not initialized!")},xe=function(e,t){return e===t};function we(e){return function(t,n){void 0===n&&(n=xe);var i=(0,r.useContext)(e),a=be(i.subscribe,i.getState,i.getServerState||i.getState,t,n);return(0,r.useDebugValue)(a),a}}var ke=we(_e);function Me(e){return function(t){return t((0,r.useContext)(e).getActions())}}var Te=Me(_e);function Se(e){return function(){return(0,r.useContext)(e).dispatch}}Se(_e);function Ae(e){return function(){var t=(0,r.useContext)(e),n=(0,r.useState)(!1),i=n[0],a=n[1];return(0,r.useEffect)((function(){t.persist.resolveRehydration().then((function(){return a(!0)}))}),[]),i}}Ae(_e);var Ee=function(e,t){var n;return(n={}).$_a=!0,n.fn=e,n.config=t,n};var Le;function Ce(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Oe(e){return function e(t){var n=Object.keys(t).reduce((function(e,n){return null==Object.getOwnPropertyDescriptor(t,n).get&&(e[n]=t[n]),e}),{});return Object.keys(n).forEach((function(t){Ce(n[t])&&(n[t]=e(n[t]))})),n}(e)}function Pe(e){return null!=e&&"object"===typeof e&&"function"===typeof e.then}function Ie(e,t){return e.reduce((function(e,t){return Ce(e)?e[t]:void 0}),t)}function Ne(e,t,n){if(0===e.length)return n;var i=l({},t),r=e[0];return 1===e.length?i[r]=n:i[r]=Ne(e.slice(1),i[r],n),i}function Re(e,t,n){0!==e.length?e.reduce((function(t,i,r){return r+1===e.length?t[i]=n:t[i]=t[i]||{},t[i]}),t):"object"===typeof n&&(Object.keys(t).forEach((function(e){delete t[e]})),Object.keys(n).forEach((function(e){t[e]=n[e]})))}function Fe(e){return void 0===e&&(e=!1),function(t,n,i,r){if(r&&"immer"in r?!1===(null==r?void 0:r.immer):e){var a=Ie(t,n),s=i(a);return a!==s?Ne(t,n,s):n}if(Le||(Le=new ve({useProxies:"undefined"!==typeof Proxy&&"undefined"!==typeof Proxy.revocable&&"undefined"!==typeof Reflect,autoFreeze:!1})),0===t.length){var o=Le.createDraft(n),l=i(o);return l?x(l)?Le.finishDraft(l):l:Le.finishDraft(o)}var u=t.slice(0,t.length-1),c=Le.createDraft(n),h=Ie(u,n),f=i(Ie(t,c));return f&&(h[t[t.length-1]]=f),Le.finishDraft(c)}}var Be=function(e){var t=[];return function(e,t,n){return new Promise((function(i,r){var a=e[Symbol.iterator](),s=0;!function e(n){var o=a.next();o.done?i(n):Promise.all([n,o.value]).then((function(n){return e(t(n[0],n[1],s++))})).catch((function(e){return r(e)}))}(n)}))}(e,(function(e,n){return n().then((function(e){t.push(e)}))})).then((function(){return t}))};function De(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}function je(e,t,n,i){var r=Fe(e),a=function(e,n){var i=t[n.type];return i?function(e,t,n,i,a){return r(i,e,(function(e){return n(e,t.payload)}),a)}(e,n,i,i.def.meta.parent,i.def.config):e},s=function(e,t){return n.reduce((function(e,n){var i=n.parentPath,a=n.key,s=n.reducer,o=n.config;return r(i,e,(function(e){return e[a]=s(x(e[a])?function(e){return x(e)||b(23,e),e[le].t}(e[a]):e[a],t),e}),o)}),e)};return function(e,t){var r=a(e,t),o=n.length>0?s(r,t):r;return e!==o&&i.forEach((function(e){var t=e.parentPath,n=e.bindComputedProperty,i=Ie(t,o);null!=i&&n(i,o)})),o}}var Ue={getItem:function(){},setItem:function(){},removeItem:function(){}},Ve=function(e){var t;return function(){if(!t){try{"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e])}catch(B){}t||(t=Ue)}return t}},Ge=Ve("localStorage"),ze=Ve("sessionStorage");function We(e,t){void 0===t&&(t=[]),null==e&&(e=ze()),"string"===typeof e&&(e="localStorage"===e?Ge():"sessionStorage"===e?ze():Ue);var n=[].concat(t).reverse(),i=function(t){var i=e===Ge()||e===ze()?JSON.parse(t).data:t;return n.length>0&&null!=i&&"object"===typeof i&&Object.keys(i).forEach((function(e){i[e]=n.reduce((function(t,n){return n.out(t,e)}),i[e])})),i},r=Pe(e.getItem("_"));return{getItem:function(t){if(r)return e.getItem(t).then((function(e){return null!=e?i(e):void 0}));var n=e.getItem(t);return null!=n?i(n):void 0},setItem:function(n,i){return e.setItem(n,function(n){return t.length>0&&null!=n&&"object"===typeof n&&Object.keys(n).forEach((function(e){n[e]=t.reduce((function(t,n){return n.in(t,e)}),n[e])})),e===Ge()||e===ze()?JSON.stringify({data:n}):n}(i))},removeItem:function(t){return e.removeItem(t)}}}function He(e,t){return function(){return 0===t._i._persistenceConfig.length?Promise.resolve():Be(t._i._persistenceConfig.map((function(t){var n=t.path,i=t.config;return function(){return Promise.resolve(i.storage.removeItem(e(n)))}})))}}function Ye(e,t){var n,i=Promise.resolve(),r=!1,a="undefined"===typeof window?function(e){return e()}:null!=window.requestIdleCallback?window.requestIdleCallback:window.requestAnimationFrame;return{persist:function(s){if(0!==t._i._persistenceConfig.length){var o=function(){r=!0,i=new Promise((function(i){a((function(){Be(t._i._persistenceConfig.map((function(t){var n=t.path,i=t.config;return function(){var t=i.storage,r=i.allow,a=i.deny,o=function(e,t,n){var i=Object.keys(e);return t.length>0&&(i=i.reduce((function(e,n){return-1!==t.findIndex((function(e){return e===n}))?[].concat(e,[n]):e}),[])),n.length>0&&(i=i.reduce((function(e,t){return-1!==n.findIndex((function(e){return e===t}))?e:[].concat(e,[t])}),[])),i}(Oe(Ie(n,s)),r,a),l={};return o.map((function(e){var t=Ie([].concat(n,[e]),s),i=Ce(t)?Oe(t):t;l[e]=i})),Promise.resolve(t.setItem(e(n),l))}}))).finally((function(){if(r=!1,n){var e=n;n=null,e()}else i()}))}))}))};r?n=o:o()}},clear:He(e,t),flush:function(){return n&&n(),i}}}function Xe(e,t,n,i){if(0===n._i._persistenceConfig.length)return Promise.resolve();var r=Oe(n._i._dS),a=!1;return Be(n._i._persistenceConfig.map((function(t){return function(){var n=t.path,s=t.config,o=s.mergeStrategy,l=s.storage;if(i&&(n.length<1||n[0]!==i))return Promise.resolve();var u=function(e,t){return null!=e&&null!=t&&(typeof e!==typeof t||Array.isArray(e)&&!Array.isArray(t))},c=function(e){null!=e&&(!function(e){if("overwrite"===o)Re(n,r,e);else if("mergeShallow"===o){var t=Ie(n,r);Object.keys(e).forEach((function(n){u(t[n],e[n])||(t[n]=e[n])}))}else"mergeDeep"===o&&function e(t,n){Object.keys(n).forEach((function(i){u(t[i],n[i])||(Ce(n[i])?(t[i]=t[i]||{},e(t[i],n[i])):t[i]=n[i])}))}(Ie(n,r),e)}(e),a=!0)},h=l.getItem(e(n));return Pe(h)?h.then(c):Promise.resolve(c(h))}}))).then((function(){a&&t(r)}))}var qe=function(e,t){console.log("Error in "+e),console.log(t)},$e=function(e,t){return function(){try{var n=t.apply(void 0,arguments);Pe(n)&&n.catch((function(t){qe(e,t)}))}catch(i){qe(e,i)}}};function Ke(e){return function(){return function(t){return function(n){var i=t(n);if(n&&e._i._lAM[n.type]&&e._i._lAM[n.type].length>0){var r=e._i._aCD[n.type];e._i._lAM[n.type].forEach((function(e){e({type:r?r.def.meta.type:n.type,payload:n.payload,error:n.error,result:n.result})}))}return i}}}}function Qe(e,t,n,i){var r,a,s=!1,o=[],l=!1;return function(e,u){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){if(l)return r;var t=n.stateResolvers.map((function(t){return t(e,u)}));if(s&&(u===a||De(t,o)||i._i._cS.isInReducer&&null!==(new Error).stack.match(/shallowCopy/gi)))return r;var c=n.fn.apply(n,t);return function(e,t){l=!0;var n=ye()(e,t);return l=!1,n}(c,r)||(r=c),o=t,a=u,s=!0,r}})}}function Ze(e){return function(){return function(t){return function(n){e._i._cS.isInReducer=!0;var i=t(n);return e._i._cS.isInReducer=!1,i}}}}function Je(e){return function(t){return function(n){return function(i){if(0===e._i._e.length)return n(i);var r=t.getState(),a=n(i),s=t.getState();return r!==s&&e._i._e.forEach((function(e){var t=Ie(e.meta.parent,r),n=Ie(e.meta.parent,s),a=e.dependencyResolvers.map((function(e){return e(t,r)})),o=e.dependencyResolvers.map((function(e){return e(n,s)}));a.some((function(e,t){return e!==o[t]}))&&e.actionCreator(a,o,i)})),a}}}}var et=function(e){console.error(e)};var tt,nt=function(e,t){console.log("Error in "+e),console.log(t)},it=function(e,t){return function(){try{var n=t.apply(void 0,arguments);Pe(n)&&n.catch((function(t){nt(e,t)}))}catch(i){nt(e,i)}}};function rt(e,t,n,i){var r=t,a={},s={},o={},u={},c=[],h=[],f=[],d={},p={},v=[],m=[];return m=m.sort((function(e,t){var n=e.path.join("."),i=t.path.join(".");return n<i?-1:n>i?1:0})),function e(p,g){return Object.keys(p).forEach((function(y){var _=p[y],b=[].concat(g,[y]),x={parent:g,path:b,key:y},w=function(){var e=Ie(g,t);Re(b,r,e&&y in e?e[y]:_)};if("$_p"!==y)if(null!=_&&"object"===typeof _)if(_.$_a||_.$_aO){var k=l({},_),M=k.$_a?"@action":"@actionOn";k.meta={actionName:x.key,category:M,type:M+"."+x.path.join("."),parent:x.parent,path:x.path},k.actionCreator=function(e,t){function n(n){var i={type:e.meta.type,payload:n,config:e.config};return e.$_aO&&e.meta.resolvedTargets&&(n.resolvedTargets=[].concat(e.meta.resolvedTargets)),t.dispatch(i)}return n.type=e.meta.type,n}(k,i),k.actionCreator.def=k,k.fn.def=k,a[k.meta.type]=k.actionCreator,o[k.meta.type]=k.fn,"ePRS"!==x.key&&(k.$_aO?(v.push(k),Re(b,d,k.actionCreator)):Re(b,s,k.actionCreator))}else if(_.$_t||_.$_tO){var T=l({},_),S=(T.$_t?"@thunk":"@thunkOn")+"."+x.path.join(".");T.meta={actionName:x.key,parent:x.parent,path:x.path,type:S,startType:S+"(start)",successType:S+"(success)",failType:S+"(fail)"},T.thunkHandler=function(e,t,n,i){return function(r,a){var s={dispatch:t.dispatch,fail:a,getState:function(){return Ie(e.meta.parent,t.getState())},getStoreActions:function(){return i},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};return e.$_tO&&e.meta.resolvedTargets&&(r.resolvedTargets=[].concat(e.meta.resolvedTargets)),e.fn(Ie(e.meta.parent,i),r,s)}}(T,i,n,s),Re(b,u,T.thunkHandler),T.actionCreator=function(e,t){var n=function(n){var i=$e(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,payload:n})})),r=$e(e.meta.failType,(function(i){return t.dispatch({type:e.meta.failType,payload:n,error:i})})),a=$e(e.meta.successType,(function(i){return t.dispatch({type:e.meta.successType,payload:n,result:i})}));i();var s=null,o=function(e){s=e},l=t.dispatch((function(){return e.thunkHandler(n,o)}));return Pe(l)?l.then((function(e){return s?r(s):a(e),e})):(s?r(s):a(l),l)};return n.type=e.meta.type,n.successType=e.meta.successType,n.failType=e.meta.failType,n.startType=e.meta.startType,n}(T,i),T.actionCreator.def=T,a[T.meta.type]=T.actionCreator,T.$_tO?(v.push(T),Re(b,d,T.actionCreator)):Re(b,s,T.actionCreator)}else if(_.$_c){var A=Ie(g,r),E=Qe(0,y,_,i);E(A,r),c.push({key:y,parentPath:g,bindComputedProperty:E})}else if(_.$_r)h.push({key:y,parentPath:g,reducer:_.fn,config:_.config});else if(_.$_e){var L=l({},_),C="@effectOn."+x.path.join(".");L.meta={type:C,actionName:x.key,parent:x.parent,path:x.path,startType:C+"(start)",successType:C+"(success)",failType:C+"(fail)"};var O=function(e,t,n,i){var r,a=Ie(e.meta.parent,i);return function(s){var o={dispatch:t.dispatch,getState:function(){return Ie(e.meta.parent,t.getState())},getStoreActions:function(){return i},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};if(void 0!==r){var l=r();r=void 0,Pe(l)&&l.catch(et)}var u=e.fn(a,s,o);if(Pe(u))return u.then((function(e){}));"function"===typeof u&&(r=u)}}(L,i,n,s),P=function(e,t,n){var i=function(i,r,a){var s={prev:i,current:r,action:a},o=it(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,change:s})})),l=it(e.meta.successType,(function(){return t.dispatch({type:e.meta.successType,change:s})}));o();try{var u=t.dispatch((function(){return n(s)}));return Pe(u)?u.then((function(e){return l(e),e}),et):(l(u),u)}catch(c){et(c)}};return i.type=e.meta.type,i.startType=e.meta.startType,i.successType=e.meta.successType,i.failType=e.meta.failType,i}(L,i,O);L.actionCreator=P,f.push(L)}else if(Ce(_)){null==Ie(b,r)&&Re(b,r,{}),e(_,b)}else w();else w();else m.push(function(e,t){return void 0===t&&(t={}),{path:e,config:{allow:t.allow||[],deny:t.deny||[],mergeStrategy:t.mergeStrategy||"mergeDeep",storage:We(t.storage,t.transformers)}}}(g,_))}))}(e,[]),function(e,t,n,i){e.forEach((function(e){var r=e.targetResolver(Ie(e.meta.parent,t),t),a=(Array.isArray(r)?r:[r]).reduce((function(e,t){return"function"===typeof t&&t.def.meta.type&&n[t.def.meta.type]?t.def.meta.successType?e.push(t.def.meta.successType):e.push(t.def.meta.type):"string"===typeof t&&e.push(t),e}),[]);e.meta.resolvedTargets=a,a.forEach((function(t){var r=i[t]||[];r.push(n[e.meta.type]),i[t]=r}))}))}(v,s,a,p),{_aCD:a,_aC:s,_aRD:o,_cP:c,_cR:h,_cS:{isInReducer:!1},_dS:r,_e:f,_lAC:d,_lAM:p,_persistenceConfig:m}}function at(e,t){void 0===t&&(t={});var n=Oe(e),i=t,r=i.compose,a=i.devTools,s=void 0!==a&&a,o=i.disableImmer,u=void 0!==o&&o,c=i.enhancers,h=void 0===c?[]:c,f=i.initialState,d=void 0===f?void 0:f,g=i.injections,y=void 0===g?{}:g,b=i.middleware,x=void 0===b?[]:b,w=i.mockActions,k=void 0!==w&&w,M=i.name,T=void 0===M?"EasyPeasyStore":M,S=i.version,A=void 0===S?0:S,E=i.reducerEnhancer,L=void 0===E?function(e){return e}:E,C=function(e){return l(l({},e),{},{ePRS:Ee((function(e,t){return t}))})},O={},P=C(n),I=[],N=function(e){return"["+T+"]["+A+"]"+(e.length>0?"["+e.join(".")+"]":"")},R=Ye(N,O),F=function(e,t){return function(n){var i=n.getState;return function(n){return function(r){var a=n(r);return r&&"@action.ePRS"!==r.type&&t._i._persistenceConfig.length>0&&e.persist(i()),a}}}}(R,O),B=function(e){return O._i._aCD["@action.ePRS"](e)},D=function(e){void 0===e&&(e={});var t=rt(P,e,y,O);O._i=l(l({},t),{},{reducer:L(je(u,t._aRD,t._cR,t._cP))})},j=!0===s?{}:s,U=r||(s&&"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(l({name:T},j)):v);D(d||{});var V=[Ze(O)].concat(x,[_,Ke(O),Je(O),F]);k&&V.push((function(){return function(){return function(e){null!=e&&I.push(e)}}}));var G=p(O._i.reducer,O._i._dS,U.apply(void 0,[m.apply(void 0,V)].concat(h)));G.subscribe((function(){O._i._cS.isInReducer=!1})),O.dispatch=G.dispatch,O.getState=G.getState;var z=function(){Object.keys(G.dispatch).forEach((function(e){delete G.dispatch[e]})),Object.keys(O._i._aC).forEach((function(e){G.dispatch[e]=O._i._aC[e]}))};z();var W=function(e){var t=G.getState();e&&delete t[e],D(t),G.replaceReducer(O._i.reducer),B(O._i._dS),z()},H=Xe(N,B,O);return Object.assign(G,{addModel:function(e,t){P[e],P[e]=t,W();var n=Xe(N,B,O,e);return{resolveRehydration:function(){return n}}},clearMockedActions:function(){I=[]},getActions:function(){return O._i._aC},getListeners:function(){return O._i._lAC},getMockedActions:function(){return[].concat(I)},getServerState:d,persist:{clear:R.clear,flush:R.flush,resolveRehydration:function(){return H}},reconfigure:function(e){P=C(e),W()},removeModel:function(e){P[e]&&(delete P[e],W(e))}})}function st(e){var t=e.children,n=e.store;return r.createElement(_e.Provider,{value:n},t)}function ot(e){if(Array.isArray(e))return e}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ut(e,t){if(e){if("string"===typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function ct(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ht(e,t){return ot(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(l){o=!0,r=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return a}}(e,t)||ut(e,t)||ct()}function ft(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function dt(e){return function(e){if(Array.isArray(e))return lt(e)}(e)||ft(e)||ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mt(e,t,n){return t&&vt(e.prototype,t),n&&vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gt(e,t){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gt(e,t)}function yt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}function _t(e){return _t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_t(e)}function bt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e,t){if(t&&("object"===xt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wt(e)}function Mt(e){var t=bt();return function(){var n,i=_t(e);if(t){var r=_t(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return kt(this,n)}}function Tt(e,t,n){return Tt=bt()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&gt(r,n.prototype),r},Tt.apply(null,arguments)}function St(e){var t="function"===typeof Map?new Map:void 0;return St=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Tt(e,arguments,_t(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),gt(n,e)},St(e)}function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},At.apply(this,arguments)}!function(e){be=e}(i.useSyncExternalStoreWithSelector),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(tt||(tt={}));var Et,Lt="popstate";function Ct(e){return{usr:e.state,key:e.key}}function Ot(e,t,n,i){return void 0===n&&(n=null),At({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?It(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function Pt(e){var t=e.pathname,n=void 0===t?"/":t,i=e.search,r=void 0===i?"":i,a=e.hash,s=void 0===a?"":a;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function It(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Nt(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:Pt(e);return new URL(n,t)}function Rt(e,t,n,i){void 0===i&&(i={});var r=i,a=r.window,s=void 0===a?document.defaultView:a,o=r.v5Compat,l=void 0!==o&&o,u=s.history,c=tt.Pop,h=null;function f(){c=tt.Pop,h&&h({action:c,location:d.location})}var d={get action(){return c},get location(){return e(s,u)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Lt,f),h=e,function(){s.removeEventListener(Lt,f),h=null}},createHref:function(e){return t(s,e)},encodeLocation:function(e){var t=Nt(Pt(e));return At({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){c=tt.Push;var i=Ot(d.location,e,t);n&&n(i,e);var r=Ct(i),a=d.createHref(i);try{u.pushState(r,"",a)}catch(o){s.location.assign(a)}l&&h&&h({action:c,location:d.location})},replace:function(e,t){c=tt.Replace;var i=Ot(d.location,e,t);n&&n(i,e);var r=Ct(i),a=d.createHref(i);u.replaceState(r,"",a),l&&h&&h({action:c,location:d.location})},go:function(e){return u.go(e)}};return d}function Ft(e,t,n){void 0===n&&(n="/");var i=Wt(("string"===typeof t?It(t):t).pathname||"/",n);if(null==i)return null;var r=Bt(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(r);for(var a=null,s=0;null==a&&s<r.length;++s)a=Vt(r[s],zt(i));return a}function Bt(e,t,n,i){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i=""),e.forEach((function(e,r){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(Ht(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));var s=Kt([i,a.relativePath]),o=n.concat(a);e.children&&e.children.length>0&&(Ht(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Bt(e.children,t,o,s)),(null!=e.path||e.index)&&t.push({path:s,score:Ut(s,e.index),routesMeta:o})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Et||(Et={}));var Dt=/^:\w+$/,jt=function(e){return"*"===e};function Ut(e,t){var n=e.split("/"),i=n.length;return n.some(jt)&&(i+=-2),t&&(i+=2),n.filter((function(e){return!jt(e)})).reduce((function(e,t){return e+(Dt.test(t)?3:""===t?1:10)}),i)}function Vt(e,t){for(var n=e.routesMeta,i={},r="/",a=[],s=0;s<n.length;++s){var o=n[s],l=s===n.length-1,u="/"===r?t:t.slice(r.length)||"/",c=Gt({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);var h=o.route;a.push({params:i,pathname:Kt([r,c.pathname]),pathnameBase:Qt(Kt([r,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(r=Kt([r,c.pathnameBase]))}return a}function Gt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Yt("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return i.push(t),"([^\\/]+)"}));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");return[new RegExp(r,t?void 0:"i"),i]}(e.path,e.caseSensitive,e.end),i=ht(n,2),r=i[0],a=i[1],s=t.match(r);if(!s)return null;var o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var i=u[n]||"";l=o.slice(0,o.length-i.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Yt(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(u[n]||"",t),e}),{}),pathname:o,pathnameBase:l,pattern:e}}function zt(e){try{return decodeURI(e)}catch(t){return Yt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Wt(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function Ht(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Yt(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Xt(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function qt(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function $t(e,t,n,i){var r;void 0===i&&(i=!1),"string"===typeof e?r=It(e):(Ht(!(r=At({},e)).pathname||!r.pathname.includes("?"),Xt("?","pathname","search",r)),Ht(!r.pathname||!r.pathname.includes("#"),Xt("#","pathname","hash",r)),Ht(!r.search||!r.search.includes("#"),Xt("#","search","hash",r)));var a,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(i||null==o)a=n;else{var l=t.length-1;if(o.startsWith("..")){for(var u=o.split("/");".."===u[0];)u.shift(),l-=1;r.pathname=u.join("/")}a=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?It(e):e,i=n.pathname,r=n.search,a=void 0===r?"":r,s=n.hash,o=void 0===s?"":s,l=i?i.startsWith("/")?i:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(i,t):t;return{pathname:l,search:Zt(a),hash:Jt(o)}}(r,a),h=o&&"/"!==o&&o.endsWith("/"),f=(s||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!f||(c.pathname+="/"),c}var Kt=function(e){return e.join("/").replace(/\/\/+/g,"/")},Qt=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Zt=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Jt=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},en=function(e){yt(n,e);var t=Mt(n);function n(){return pt(this,n),t.apply(this,arguments)}return mt(n)}(St(Error));var tn=mt((function e(t,n,i){pt(this,e),this.status=t,this.statusText=n||"",this.data=i}));function nn(e){return e instanceof tn}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var rn=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(dt(rn)));function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},an.apply(this,arguments)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},on=r.useState,ln=r.useEffect,un=r.useLayoutEffect,cn=r.useDebugValue;function hn(e){var t=e.getSnapshot,n=e.value;try{var i=t();return!sn(n,i)}catch(r){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,a.useSyncExternalStore;var fn=r.createContext(null);var dn=r.createContext(null);var pn=r.createContext(null);var vn=r.createContext(null);var mn=r.createContext(null);var gn=r.createContext(null);var yn=r.createContext({outlet:null,matches:[]});var _n=r.createContext(null);function bn(){return null!=r.useContext(gn)}function xn(){return bn()||Ht(!1),r.useContext(gn).location}function wn(){bn()||Ht(!1);var e=r.useContext(mn),t=e.basename,n=e.navigator,i=r.useContext(yn).matches,a=xn().pathname,s=JSON.stringify(qt(i).map((function(e){return e.pathnameBase}))),o=r.useRef(!1);r.useEffect((function(){o.current=!0}));var l=r.useCallback((function(e,i){if(void 0===i&&(i={}),o.current)if("number"!==typeof e){var r=$t(e,JSON.parse(s),a,"path"===i.relative);"/"!==t&&(r.pathname="/"===r.pathname?t:Kt([t,r.pathname])),(i.replace?n.replace:n.push)(r,i.state,i)}else n.go(e)}),[t,n,s,a]);return l}function kn(){var e=function(){var e,t=r.useContext(_n),n=Ln(Tn.UseRouteError),i=r.useContext(yn),a=i.matches[i.matches.length-1];if(t)return t;return i||Ht(!1),!a.route.id&&Ht(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=nn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:s},"errorElement")," props on\xa0",r.createElement("code",{style:s},"<Route>")))}var Mn,Tn,Sn=function(e){yt(n,e);var t=Mt(n);function n(e){var i;return pt(this,n),(i=t.call(this,e)).state={location:e.location,error:e.error},i}return mt(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(_n.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function An(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fn);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),r.createElement(yn.Provider,{value:t},i)}function En(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var s=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));s>=0||Ht(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((function(e,s,o){var l=s.route.id?null==a?void 0:a[s.route.id]:null,u=n?s.route.errorElement||r.createElement(kn,null):null,c=function(){return r.createElement(An,{match:s,routeContext:{outlet:e,matches:t.concat(i.slice(0,o+1))}},l?u:void 0!==s.route.element?s.route.element:e)};return n&&(s.route.errorElement||0===o)?r.createElement(Sn,{location:n.location,component:u,error:l,children:c()}):c()}),null)}function Ln(e){var t=r.useContext(pn);return t||Ht(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(Mn||(Mn={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Tn||(Tn={}));var Cn;function On(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;bn()||Ht(!1);var s=r.useContext(pn),o=wn();return r.useEffect((function(){s&&"idle"!==s.navigation.state||o(t,{replace:n,state:i,relative:a})})),null}function Pn(e){Ht(!1)}function In(e){var t=e.basename,n=void 0===t?"/":t,i=e.children,a=void 0===i?null:i,s=e.location,o=e.navigationType,l=void 0===o?tt.Pop:o,u=e.navigator,c=e.static,h=void 0!==c&&c;bn()&&Ht(!1);var f=n.replace(/^\/*/,"/"),d=r.useMemo((function(){return{basename:f,navigator:u,static:h}}),[f,u,h]);"string"===typeof s&&(s=It(s));var p=s,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,_=p.hash,b=void 0===_?"":_,x=p.state,w=void 0===x?null:x,k=p.key,M=void 0===k?"default":k,T=r.useMemo((function(){var e=Wt(m,f);return null==e?null:{pathname:e,search:y,hash:b,state:w,key:M}}),[f,m,y,b,w,M]);return null==T?null:r.createElement(mn.Provider,{value:d},r.createElement(gn.Provider,{children:a,value:{location:T,navigationType:l}}))}function Nn(e){var t=e.children,n=e.location,i=r.useContext(dn);return function(e,t){bn()||Ht(!1);var n,i=r.useContext(pn),a=r.useContext(yn).matches,s=a[a.length-1],o=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),u=(s&&s.route,xn());if(t){var c,h="string"===typeof t?It(t):t;"/"===l||(null==(c=h.pathname)?void 0:c.startsWith(l))||Ht(!1),n=h}else n=u;var f=n.pathname||"/",d=Ft(e,{pathname:"/"===l?f:f.slice(l.length)||"/"}),p=En(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Kt([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Kt([l,e.pathnameBase])})})),a,i||void 0);return t&&p?r.createElement(gn.Provider,{value:{location:an({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:tt.Pop}},p):p}(i&&!t?i.router.routes:Fn(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Cn||(Cn={}));var Rn=new Promise((function(){}));r.Component;function Fn(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Pn&&Ht(!1),e.props.index&&e.props.children&&Ht(!1);var a=[].concat(dt(t),[i]),s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(s.children=Fn(e.props.children,a)),n.push(s)}else n.push.apply(n,Fn(e.props.children,t))})),n}function Bn(e){var t,n=e.basename,i=e.children,a=e.window,s=r.useRef();null==s.current&&(s.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),Rt((function(e,t){var n=e.location;return Ot("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Pt(t)}),null,t)));var o=s.current,l=ht(r.useState({action:o.action,location:o.location}),2),u=l[0],c=l[1];return r.useLayoutEffect((function(){return o.listen(c)}),[o]),r.createElement(In,{basename:n,children:i,location:u.location,navigationType:u.action,navigator:o})}var Dn,jn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Dn||(Dn={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(jn||(jn={}));var Un=n(6123),Vn=n.n(Un),Gn={userToken:null},zn=.56,Wn="app::showNotice",Hn="@userToken",Yn=function(){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight,i=0,r=0,a=getComputedStyle(e).getPropertyValue("--inset-top"),s=getComputedStyle(e).getPropertyValue("--inset-bottom");isNaN(parseFloat(a))||(i=parseFloat(a)),isNaN(parseFloat(s))||(r=parseFloat(s));var o=function(){try{var e=localStorage.getItem("screen::resolution");return e?JSON.parse(e):{}}catch(t){return{width:Gn.clientWidth,height:Gn.clientHeight,paddingTop:Gn.paddingTop,paddingBottom:Gn.paddingBottom}}}();"number"===typeof o.width&&(t=o.width),"number"===typeof o.height&&(n=o.height),"number"===typeof o.paddingTop&&(i=o.paddingTop),"number"===typeof o.paddingBottom&&(r=o.paddingBottom),"number"===typeof o.width||"number"===typeof o.height||"number"===typeof o.paddingTop&&"number"===typeof o.paddingBottom||(i&&(n+=i),r&&(n+=r));var l=0,u=0;t/n>=zn?l=(u=n)*zn:u=(l=t)/zn;var c=.025*l,h=0;h=t/n>=.5?.5*n:t,e.style.setProperty("--inset-top","".concat(i,"px")),e.style.setProperty("--inset-bottom","".concat(r,"px")),e.style.setProperty("--app-height","".concat(n,"px")),e.style.setProperty("--app-width","".concat(t,"px")),e.style.setProperty("--game-width","".concat(l,"px")),e.style.setProperty("--ingame-width","".concat(h,"px")),e.style.setProperty("--game-height","".concat(u+(n-u)/2,"px")),e.style.setProperty("--padding-horizontal","".concat(c,"px"))};function Xn(){Xn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(E){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,s=Object.create(a.prototype),o=new T(r||[]);return i(s,"_invoke",{value:x(e,n,o)}),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==t&&n.call(g,a)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,s,o){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==xt(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,o)}),(function(e){r("throw",e,s,o)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,o)}))}o(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function x(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return A()}for(n.method=r,n.arg=a;;){var s=n.delegate;if(s){var o=w(s,n);if(o){if(o===h)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,s,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var s=new b(u(t,n,i,r),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(y),l(y,o,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(o&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function qn(e,t,n,i,r,a,s){try{var o=e[a](s),l=o.value}catch(u){return void n(u)}o.done?t(l):Promise.resolve(l).then(i,r)}function $n(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function s(e){qn(a,i,r,s,o,"next",e)}function o(e){qn(a,i,r,s,o,"throw",e)}s(void 0)}))}}var Kn,Qn,Zn,Jn="button_pushable__Y0Adf",ei="button_pushable-front__dTReR",ti=n(6510);!function(e){e.TIME_LEFT_10S="10s_left",e.BUTTON_CLICK="button_click",e.BETTER_NEXT_TIME="next_time",e.HIT_HIGH_SCORE="hit_high_score",e.HIT_LOW_SCORE="hit_low_score",e.LUCKY_WISH="luckywish",e.MEOW="meow",e.REWARD_NORMAL="reward_normal",e.REWARD_SPECIAL="reward_special",e.ZOOM="zoom",e.SHOW_CHEST="show_chest"}(Kn||(Kn={})),function(e){e.BG="vpbank_bg"}(Qn||(Qn={})),function(e){e[e.MUSIC=0]="MUSIC",e[e.SOUND_FX=1]="SOUND_FX"}(Zn||(Zn={}));var ni=mt((function e(){var t=this;pt(this,e),this.playingBgMusics=[],this.loadedSounds={},this.soundMuteState={},this.isMusicEnable=!1,this.isSoundFxEnable=!1,this.isFocus=!1,this.loadSound=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new Promise((function(a){t.loadedSounds[n]&&a();var s=new ti.Howl({src:["".concat(e).concat(n,".mp3")],volume:r,loop:i,onloaderror:function(e,t){},onplayerror:function(e,t){}});s.once("load",(function(){t.loadedSounds[n]=s;var e=t.isSoundFx(n)?Zn.SOUND_FX:Zn.MUSIC,i=Object.keys(t.soundMuteState).find((function(t){return t==="".concat(n,"_").concat(e)}));if(void 0!==i&&null!==i)try{t.loadedSounds[n].mute(t.soundMuteState[i])}catch(r){console.error(r)}a()}))}))},this.isSoundFx=function(e){return!!Object.values(Kn).find((function(t){return t===e}))},this.setIsFocus=function(e){t.isFocus=e},this.setMusicEnable=function(e){t.isMusicEnable=e},this.setSoundFxEnable=function(e){t.isSoundFxEnable=e},this.mute=function(e,n){e===Zn.SOUND_FX&&Object.values(Kn).forEach((function(e){t.soundMuteState["".concat(e,"_").concat(Zn.SOUND_FX)]=n})),e===Zn.MUSIC&&Object.values(Qn).forEach((function(e){t.soundMuteState["".concat(e,"_").concat(Zn.MUSIC)]=n}));var i=!0;return Object.keys(t.loadedSounds).forEach((function(r){if(t.isSoundFx(r)&&e===Zn.SOUND_FX||!t.isSoundFx(r)&&e===Zn.MUSIC)try{var a;null===(a=t.loadedSounds[r])||void 0===a||a.mute(n)}catch(s){console.error(s),i=!1}})),i},this.muteAll=function(e){t.isMusicEnable&&t.mute(Zn.MUSIC,e),t.isSoundFxEnable&&t.mute(Zn.SOUND_FX,e)},this.initSounds=function(){var e=$n(Xn().mark((function e(n){return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.loadSound(n,Qn.BG,!0,.2).then((function(){setTimeout((function(){ii.play(Qn.BG)}),100)})),t.loadSound(n,Kn.TIME_LEFT_10S,!0),t.loadSound(n,Kn.BUTTON_CLICK),t.loadSound(n,Kn.HIT_HIGH_SCORE),t.loadSound(n,Kn.HIT_LOW_SCORE),t.loadSound(n,Kn.LUCKY_WISH),t.loadSound(n,Kn.MEOW),t.loadSound(n,Kn.REWARD_NORMAL),t.loadSound(n,Kn.REWARD_SPECIAL),t.loadSound(n,Kn.SHOW_CHEST),t.loadSound(n,Kn.ZOOM),t.loadSound(n,Kn.BETTER_NEXT_TIME)]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.play=function(e){var n=t.isBgMusic(e);if(n){if(t.playingBgMusics.includes(e))return;t.playingBgMusics.push(e)}var i=t.loadedSounds[e];if(n&&i&&(null===i||void 0===i||!i.playing())||i)try{i.play()}catch(r){console.error(r)}},this.stop=function(e){if(t.isBgMusic(e)){var n=t.playingBgMusics.findIndex((function(t){return t===e}));n>-1&&t.playingBgMusics.splice(n,1)}try{var i;null===(i=t.loadedSounds[e])||void 0===i||i.stop()}catch(r){console.error(r)}},this.isBgMusic=function(e){return Object.values(Qn).includes(e)},Object.values(Qn).forEach((function(e){t.soundMuteState["".concat(e,"_").concat(Zn.MUSIC)]=!0})),Object.values(Kn).forEach((function(e){t.soundMuteState["".concat(e,"_").concat(Zn.SOUND_FX)]=!0}))})),ii=new ni,ri=n(6417),ai=function(e){var t=e.className,n=e.children,i=e.disabled,r=e.frontStyle,a=e.customStyle,s=e.title,o=e.onClick,l={backgroundColor:"transparent",pointerEvents:i?"none":"auto"};return(0,ri.jsx)("button",{className:Vn()(Jn,t,{disabled:i}),disabled:i,style:Object.assign(l,a||{}),tabIndex:-1,title:s,type:"button",onClick:function(){i||(ii.play(Kn.BUTTON_CLICK),o&&o())},children:(0,ri.jsx)("div",{className:ei,style:r,children:n})})},si=n(1168);function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oi.apply(this,arguments)}function li(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function ui(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gt(e,t)}function ci(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var hi=!1,fi=r.createContext(null),di=function(e){return e.scrollTop},pi="unmounted",vi="exited",mi="entering",gi="entered",yi="exiting",_i=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,a=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?a?(r=vi,i.appearStatus=mi):r=gi:r=t.unmountOnExit||t.mountOnEnter?pi:vi,i.state={status:r},i.nextCallback=null,i}ui(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===pi?{status:vi}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==mi&&n!==gi&&(t=mi):n!==mi&&n!==gi||(t=yi)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===mi){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:si.findDOMNode(this);n&&di(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vi&&this.setState({status:pi})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[si.findDOMNode(this),i],a=r[0],s=r[1],o=this.getTimeouts(),l=i?o.appear:o.enter;!e&&!n||hi?this.safeSetState({status:gi},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:mi},(function(){t.props.onEntering(a,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:gi},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:si.findDOMNode(this);t&&!hi?(this.props.onExit(i),this.safeSetState({status:yi},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:vi},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:vi},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:si.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=r[0],s=r[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===pi)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,li(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(fi.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function bi(){}_i.contextType=fi,_i.propTypes={},_i.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bi,onEntering:bi,onEntered:bi,onExit:bi,onExiting:bi,onExited:bi},_i.UNMOUNTED=pi,_i.EXITED=vi,_i.ENTERING=mi,_i.ENTERED=gi,_i.EXITING=yi;var xi=_i,wi=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"===typeof n.className?n.className=ci(n.className,i):n.setAttribute("class",ci(n.className&&n.className.baseVal||"",i)));var n,i}))},ki=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),r=i[0],a=i[1];t.removeClasses(r,"exit"),t.addClass(r,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),r=i[0],a=i[1]?"appear":"enter";t.addClass(r,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),r=i[0],a=i[1]?"appear":"enter";t.removeClasses(r,a),t.addClass(r,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"===typeof n,r=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:i?r+"-active":n[e+"Active"],doneClassName:i?r+"-done":n[e+"Done"]}},t}ui(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&r&&(i+=" "+r),"active"===n&&e&&di(e),i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"===typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,r=n.active,a=n.done;this.appliedClasses[t]={},i&&wi(e,i),r&&wi(e,r),a&&wi(e,a)},n.render=function(){var e=this.props,t=(e.classNames,li(e,["classNames"]));return r.createElement(xi,oi({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(r.Component);ki.defaultProps={classNames:""},ki.propTypes={};var Mi=ki,Ti=document.getElementById("modal"),Si=function(e){var t=e.backdrop,n=void 0===t||t,i=e.children,a=e.dismissOnBackdropClick,s=void 0===a||a,o=e.visible,l=void 0!==o&&o,u=e.zIndex,c=void 0===u?10:u,h=e.backdropColor,f=void 0===h?"rgba(0,0,0,0.8)":h,d=e.onDismiss,p=e.onEntered,v=ht((0,r.useState)(!1),2),m=v[0],g=v[1],y=ht((0,r.useState)(!1),2),_=y[0],b=y[1],x=(0,r.createRef)(),w=(0,r.useMemo)((function(){return document.createElement("div")}),[]);if((0,r.useEffect)((function(){return null===Ti||void 0===Ti||Ti.appendChild(w),function(){null===Ti||void 0===Ti||Ti.removeChild(w)}}),[w]),(0,r.useEffect)((function(){var e=null;return l?g(!0):(b(!1),e=setTimeout((function(){g(!1)}),500)),function(){e&&clearTimeout(e)}}),[l]),(0,r.useEffect)((function(){m&&b(!0)}),[m]),!m)return null;var k=(0,ri.jsxs)("div",{className:"modal".concat(l?" on":""),style:{zIndex:c},children:[l&&(0,ri.jsx)("div",{className:"backdrop",style:{opacity:n?1:0,backgroundColor:f},onClick:function(){s&&d()}}),(0,ri.jsx)(Mi,{classNames:"modal-container",in:_,nodeRef:x,timeout:500,onEntered:p,children:(0,ri.jsx)("div",{className:"modal-content noselect",ref:x,children:i})},"modal-container")]});return si.createPortal(k,w)},Ai={enableMusic:!0,enableSound:!0,userToken:""},Ei=function(){try{var e=localStorage.getItem("setting::enableMusic");return e?JSON.parse(e):(Li(!0),!0)}catch(t){return Ai.enableMusic}},Li=function(e){try{localStorage.setItem("setting::enableMusic",e.toString())}catch(t){Ai.enableMusic=e}},Ci=function(e){try{localStorage.setItem("setting::enableSound",e.toString())}catch(t){Ai.enableSound=e}},Oi=function(){try{var e=localStorage.getItem("setting::enableSound");return e?JSON.parse(e):(Ci(!0),!0)}catch(t){return Ai.enableSound}},Pi=function(){try{return localStorage.getItem(Hn)}catch(e){return Ai.userToken}},Ii=function(e){try{localStorage.setItem(Hn,e)}catch(t){Ai.userToken=e}},Ni="settingModal_container__Fdj6w",Ri="settingModal_closeButton__X9h8l",Fi="settingModal_header__j1zNu",Bi="settingModal_settingRow__USwm2",Di="settingModal_settingWrapper__HH82+",ji="settingModal_settingLeft__q2euH",Ui="settingModal_settingRight__UO4bj",Vi="settingModal_toggleOn__6-YcI",Gi="settingModal_ruleLink__aPHBe",zi="settingModal_soundFX__Ruift",Wi="settingModal_custom__rUa8+",Hi="settingModal_enableTitle__Mip9f",Yi="settingModal_disableTitle__2q5bR",Xi="assets/ui/unmute_enable.png",qi="assets/ui/mute_enable.png",$i="assets/ui/unmute_disable.png",Ki="assets/ui/mute_disable.png",Qi={position:"absolute",bottom:"-20%"},Zi=function(e){var t=e.visible,n=e.onDismiss,i=ht((0,r.useState)(!1),2),a=i[0],s=i[1],o=ht((0,r.useState)(!1),2),l=o[0],u=o[1],c=wn();(0,r.useEffect)((function(){var e=Ei();u(e);var t=Oi();s(t)}),[]);var h=(0,r.useCallback)(function(){var e=$n(Xn().mark((function e(t){return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ii.mute(Zn.MUSIC,!t)&&(ii.setMusicEnable(t),Li(t),u(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),f=(0,r.useCallback)(function(){var e=$n(Xn().mark((function e(t){return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ii.mute(Zn.SOUND_FX,!t)&&(ii.setSoundFxEnable(t),Ci(t),s(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,ri.jsx)(Si,{visible:t,onDismiss:n,children:(0,ri.jsxs)("div",{className:Ni,style:{backgroundImage:"url(".concat("assets/ui/settings_popup.png",")")},children:[(0,ri.jsx)(ai,{title:"close",onClick:n,customStyle:Qi,children:(0,ri.jsx)("div",{className:Ri,style:{backgroundImage:"url(".concat("assets/ui/close.png",")")}})}),(0,ri.jsxs)("div",{className:Fi,children:[(0,ri.jsx)("img",{src:"assets/ui/settings.png",alt:"",style:{marginRight:5}}),(0,ri.jsx)("div",{className:Vn()(Wi,"sg-bold"),children:"T\xf9y ch\u1ec9nh"})]}),(0,ri.jsxs)("div",{className:Bi,children:[(0,ri.jsx)("div",{className:Vn()(zi,"sg-regular"),children:"Nh\u1ea1c game"}),(0,ri.jsxs)("div",{className:Di,children:[(0,ri.jsxs)("div",{className:Vn()(ji,l&&Vi),onClick:function(){return h(!0)},children:[(0,ri.jsx)("img",{src:l?Xi:$i,alt:""}),(0,ri.jsx)("div",{className:l?Hi:Yi,children:"B\u1eadt"})]}),(0,ri.jsxs)("div",{className:Vn()(Ui,!l&&Vi),onClick:function(){return h(!1)},children:[(0,ri.jsx)("img",{src:l?Ki:qi,alt:""}),(0,ri.jsx)("div",{className:l?Yi:Hi,children:"T\u1eaft"})]})]})]}),(0,ri.jsxs)("div",{className:Bi,children:[(0,ri.jsx)("div",{className:Vn()(zi,"sg-regular"),children:"\xc2m thanh"}),(0,ri.jsxs)("div",{className:Di,children:[(0,ri.jsxs)("div",{className:Vn()(ji,a&&Vi),onClick:function(){return f(!0)},children:[(0,ri.jsx)("img",{src:a?Xi:$i,alt:""}),(0,ri.jsx)("div",{className:a?Hi:Yi,children:"B\u1eadt"})]}),(0,ri.jsxs)("div",{className:Vn()(Ui,!a&&Vi),onClick:function(){return f(!1)},children:[(0,ri.jsx)("img",{src:a?Ki:qi,alt:""}),(0,ri.jsx)("div",{className:a?Yi:Hi,children:"T\u1eaft"})]})]})]}),(0,ri.jsx)(ai,{title:"",onClick:function(){n(),c("/rule")},children:(0,ri.jsx)("div",{className:Vn()(Gi,"sg-regular"),children:"Th\u1ec3 l\u1ec7 ch\u01b0\u01a1ng tr\xecnh"})})]})})},Ji="header_header__6Odox",er="header_settings_btn__SIdhl",tr="header_username__PSkgY",nr="header_back_btn__78W5E";function ir(e,t){return function(){return e.apply(t,arguments)}}var rr,ar=Object.prototype.toString,sr=Object.getPrototypeOf,or=(rr=Object.create(null),function(e){var t=ar.call(e);return rr[t]||(rr[t]=t.slice(8,-1).toLowerCase())}),lr=function(e){return e=e.toLowerCase(),function(t){return or(t)===e}},ur=function(e){return function(t){return typeof t===e}},cr=Array.isArray,hr=ur("undefined");var fr=lr("ArrayBuffer");var dr=ur("string"),pr=ur("function"),vr=ur("number"),mr=function(e){return null!==e&&"object"===typeof e},gr=function(e){if("object"!==or(e))return!1;var t=sr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yr=lr("Date"),_r=lr("File"),br=lr("Blob"),xr=lr("FileList"),wr=lr("URLSearchParams");function kr(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.allOwnKeys,s=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),cr(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{var o,l=s?Object.getOwnPropertyNames(e):Object.keys(e),u=l.length;for(n=0;n<u;n++)o=l[n],t.call(null,e[o],o,e)}}function Mr(e,t){t=t.toLowerCase();for(var n,i=Object.keys(e),r=i.length;r-- >0;)if(t===(n=i[r]).toLowerCase())return n;return null}var Tr="undefined"===typeof self?"undefined"===typeof global?void 0:global:self,Sr=function(e){return!hr(e)&&e!==Tr};var Ar,Er=(Ar="undefined"!==typeof Uint8Array&&sr(Uint8Array),function(e){return Ar&&e instanceof Ar}),Lr=lr("HTMLFormElement"),Cr=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Or=lr("RegExp"),Pr=function(e,t){var n=Object.getOwnPropertyDescriptors(e),i={};kr(n,(function(n,r){!1!==t(n,r,e)&&(i[r]=n)})),Object.defineProperties(e,i)},Ir={isArray:cr,isArrayBuffer:fr,isBuffer:function(e){return null!==e&&!hr(e)&&null!==e.constructor&&!hr(e.constructor)&&pr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||ar.call(e)===t||pr(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&fr(e.buffer)},isString:dr,isNumber:vr,isBoolean:function(e){return!0===e||!1===e},isObject:mr,isPlainObject:gr,isUndefined:hr,isDate:yr,isFile:_r,isBlob:br,isRegExp:Or,isFunction:pr,isStream:function(e){return mr(e)&&pr(e.pipe)},isURLSearchParams:wr,isTypedArray:Er,isFileList:xr,forEach:kr,merge:function e(){for(var t=Sr(this)&&this||{},n=t.caseless,i={},r=function(t,r){var a=n&&Mr(i,r)||r;gr(i[a])&&gr(t)?i[a]=e(i[a],t):gr(t)?i[a]=e({},t):cr(t)?i[a]=t.slice():i[a]=t},a=0,s=arguments.length;a<s;a++)arguments[a]&&kr(arguments[a],r);return i},extend:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.allOwnKeys;return kr(t,(function(t,i){n&&pr(t)?e[i]=ir(t,n):e[i]=t}),{allOwnKeys:r}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,i){var r,a,s,o={};if(t=t||{},null==e)return t;do{for(a=(r=Object.getOwnPropertyNames(e)).length;a-- >0;)s=r[a],i&&!i(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&sr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:or,kindOfTest:lr,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;if(cr(e))return e;var t=e.length;if(!vr(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,i=(e&&e[Symbol.iterator]).call(e);(n=i.next())&&!n.done;){var r=n.value;t.call(e,r[0],r[1])}},matchAll:function(e,t){for(var n,i=[];null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Lr,hasOwnProperty:Cr,hasOwnProp:Cr,reduceDescriptors:Pr,freezeMethods:function(e){Pr(e,(function(t,n){if(pr(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=e[n];pr(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},i=function(e){e.forEach((function(e){n[e]=!0}))};return cr(e)?i(e):i(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Mr,global:Tr,isContextDefined:Sr,toJSONObject:function(e){var t=new Array(10);return function e(n,i){if(mr(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;var r=cr(n)?[]:{};return kr(n,(function(t,n){var a=e(t,i+1);!hr(a)&&(r[n]=a)})),t[i]=void 0,r}}return n}(e,0)}};function Nr(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}Ir.inherits(Nr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ir.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Rr=Nr.prototype,Fr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Fr[e]={value:e}})),Object.defineProperties(Nr,Fr),Object.defineProperty(Rr,"isAxiosError",{value:!0}),Nr.from=function(e,t,n,i,r,a){var s=Object.create(Rr);return Ir.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Nr.call(s,e.message,t,n,i,r),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};var Br=Nr,Dr=n(9881);function jr(e){return Ir.isPlainObject(e)||Ir.isArray(e)}function Ur(e){return Ir.endsWith(e,"[]")?e.slice(0,-2):e}function Vr(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ur(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Gr=Ir.toFlatObject(Ir,{},null,(function(e){return/^is[A-Z]/.test(e)}));var zr=function(e,t,n){if(!Ir.isObject(e))throw new TypeError("target must be an object");t=t||new(Dr||FormData);var i,r=(n=Ir.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ir.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((i=t)&&Ir.isFunction(i.append)&&"FormData"===i[Symbol.toStringTag]&&i[Symbol.iterator]);if(!Ir.isFunction(a))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(Ir.isDate(e))return e.toISOString();if(!l&&Ir.isBlob(e))throw new Br("Blob is not supported. Use a Buffer instead.");return Ir.isArrayBuffer(e)||Ir.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var a=e;if(e&&!i&&"object"===typeof e)if(Ir.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ir.isArray(e)&&function(e){return Ir.isArray(e)&&!e.some(jr)}(e)||Ir.isFileList(e)||Ir.endsWith(n,"[]")&&(a=Ir.toArray(e)))return n=Ur(n),a.forEach((function(e,i){!Ir.isUndefined(e)&&null!==e&&t.append(!0===o?Vr([n],i,s):null===o?n:n+"[]",u(e))})),!1;return!!jr(e)||(t.append(Vr(i,n,s),u(e)),!1)}var h=[],f=Object.assign(Gr,{defaultVisitor:c,convertValue:u,isVisitable:jr});if(!Ir.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!Ir.isUndefined(n)){if(-1!==h.indexOf(n))throw Error("Circular reference detected in "+i.join("."));h.push(n),Ir.forEach(n,(function(n,r){!0===(!(Ir.isUndefined(n)||null===n)&&a.call(t,n,Ir.isString(r)?r.trim():r,i,f))&&e(n,i?i.concat(r):[r])})),h.pop()}}(e),t};function Wr(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Hr(e,t){this._pairs=[],e&&zr(e,this,t)}var Yr=Hr.prototype;Yr.append=function(e,t){this._pairs.push([e,t])},Yr.toString=function(e){var t=e?function(t){return e.call(this,t,Wr)}:Wr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Xr=Hr;function qr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $r(e,t,n){if(!t)return e;var i,r=n&&n.encode||qr,a=n&&n.serialize;if(i=a?a(t,n):Ir.isURLSearchParams(t)?t.toString():new Xr(t,n).toString(r)){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var Kr=function(){function e(){pt(this,e),this.handlers=[]}return mt(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Ir.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),Qr=Kr,Zr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jr="undefined"!==typeof URLSearchParams?URLSearchParams:Xr,ea=FormData,ta=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),na={isBrowser:!0,classes:{URLSearchParams:Jr,FormData:ea,Blob:Blob},isStandardBrowserEnv:ta,protocols:["http","https","file","blob","url","data"]};var ia=function(e){function t(e,n,i,r){var a=e[r++],s=Number.isFinite(+a),o=r>=e.length;return a=!a&&Ir.isArray(i)?i.length:a,o?(Ir.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s):(i[a]&&Ir.isObject(i[a])||(i[a]=[]),t(e,n,i[a],r)&&Ir.isArray(i[a])&&(i[a]=function(e){var t,n,i={},r=Object.keys(e),a=r.length;for(t=0;t<a;t++)i[n=r[t]]=e[n];return i}(i[a])),!s)}if(Ir.isFormData(e)&&Ir.isFunction(e.entries)){var n={};return Ir.forEachEntry(e,(function(e,i){t(function(e){return Ir.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),i,n,0)})),n}return null},ra={"Content-Type":void 0};var aa={transitional:Zr,adapter:["xhr","http"],transformRequest:[function(e,t){var n,i=t.getContentType()||"",r=i.indexOf("application/json")>-1,a=Ir.isObject(e);if(a&&Ir.isHTMLForm(e)&&(e=new FormData(e)),Ir.isFormData(e))return r&&r?JSON.stringify(ia(e)):e;if(Ir.isArrayBuffer(e)||Ir.isBuffer(e)||Ir.isStream(e)||Ir.isFile(e)||Ir.isBlob(e))return e;if(Ir.isArrayBufferView(e))return e.buffer;if(Ir.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return zr(e,new na.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return na.isNode&&Ir.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Ir.isFileList(e))||i.indexOf("multipart/form-data")>-1){var s=this.env&&this.env.FormData;return zr(n?{"files[]":e}:e,s&&new s,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ir.isString(e))try{return(t||JSON.parse)(e),Ir.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||aa.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&Ir.isString(e)&&(n&&!this.responseType||i)){var r=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(r){if("SyntaxError"===a.name)throw Br.from(a,Br.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:na.classes.FormData,Blob:na.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ir.forEach(["delete","get","head"],(function(e){aa.headers[e]={}})),Ir.forEach(["post","put","patch"],(function(e){aa.headers[e]=Ir.merge(ra)}));var sa=aa,oa=Ir.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),la=Symbol("internals");function ua(e){return e&&String(e).trim().toLowerCase()}function ca(e){return!1===e||null==e?e:Ir.isArray(e)?e.map(ca):String(e)}function ha(e,t,n,i){return Ir.isFunction(i)?i.call(this,t,n):Ir.isString(t)?Ir.isString(i)?-1!==t.indexOf(i):Ir.isRegExp(i)?i.test(t):void 0:void 0}var fa=function(e,t){function n(e){pt(this,n),e&&this.set(e)}return mt(n,[{key:"set",value:function(e,t,n){var i=this;function r(e,t,n){var r=ua(t);if(!r)throw new Error("header name must be a non-empty string");var a=Ir.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||t]=ca(e))}var a=function(e,t){return Ir.forEach(e,(function(e,n){return r(e,n,t)}))};return Ir.isPlainObject(e)||e instanceof this.constructor?a(e,t):Ir.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,i,r={};return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!t||r[t]&&oa[t]||("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)})),r}(e),t):null!=e&&r(t,e,n),this}},{key:"get",value:function(e,t){if(e=ua(e)){var n=Ir.findKey(this,e);if(n){var i=this[n];if(!t)return i;if(!0===t)return function(e){for(var t,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=i.exec(e);)n[t[1]]=t[2];return n}(i);if(Ir.isFunction(t))return t.call(this,i,n);if(Ir.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=ua(e)){var n=Ir.findKey(this,e);return!(!n||t&&!ha(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,i=!1;function r(e){if(e=ua(e)){var r=Ir.findKey(n,e);!r||t&&!ha(0,n[r],r,t)||(delete n[r],i=!0)}}return Ir.isArray(e)?e.forEach(r):r(e),i}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return Ir.forEach(this,(function(i,r){var a=Ir.findKey(n,r);if(a)return t[a]=ca(i),void delete t[r];var s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(r):String(r).trim();s!==r&&delete t[r],t[s]=ca(i),n[s]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Ir.forEach(this,(function(n,i){null!=n&&!1!==n&&(t[i]=e&&Ir.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=ht(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[la]=this[la]={accessors:{}}).accessors,n=this.prototype;function i(e){var i=ua(e);t[i]||(!function(e,t){var n=Ir.toCamelCase(" "+t);["get","set","has"].forEach((function(i){Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return Ir.isArray(e)?e.forEach(i):i(e),this}}]),n}();fa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Ir.freezeMethods(fa.prototype),Ir.freezeMethods(fa);var da=fa;function pa(e,t){var n=this||sa,i=t||n,r=da.from(i.headers),a=i.data;return Ir.forEach(e,(function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)})),r.normalize(),a}function va(e){return!(!e||!e.__CANCEL__)}function ma(e,t,n){Br.call(this,null==e?"canceled":e,Br.ERR_CANCELED,t,n),this.name="CanceledError"}Ir.inherits(ma,Br,{__CANCEL__:!0});var ga=ma;var ya=na.isStandardBrowserEnv?{write:function(e,t,n,i,r,a){var s=[];s.push(e+"="+encodeURIComponent(t)),Ir.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ir.isString(i)&&s.push("path="+i),Ir.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function _a(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var ba=na.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=Ir.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var xa=function(e,t){e=e||10;var n,i=new Array(e),r=new Array(e),a=0,s=0;return t=void 0!==t?t:1e3,function(o){var l=Date.now(),u=r[s];n||(n=l),i[a]=o,r[a]=l;for(var c=s,h=0;c!==a;)h+=i[c++],c%=e;if((a=(a+1)%e)===s&&(s=(s+1)%e),!(l-n<t)){var f=u&&l-u;return f?Math.round(1e3*h/f):void 0}}};function wa(e,t){var n=0,i=xa(50,250);return function(r){var a=r.loaded,s=r.lengthComputable?r.total:void 0,o=a-n,l=i(o);n=a;var u={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}var ka="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var i,r=e.data,a=da.from(e.headers).normalize(),s=e.responseType;function o(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}Ir.isFormData(r)&&na.isStandardBrowserEnv&&a.setContentType(!1);var l=new XMLHttpRequest;if(e.auth){var u=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(u+":"+c))}var h=_a(e.baseURL,e.url);function f(){if(l){var i=da.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Br("Request failed with status code "+n.status,[Br.ERR_BAD_REQUEST,Br.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),o()}),(function(e){n(e),o()}),{data:s&&"text"!==s&&"json"!==s?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:i,config:e,request:l}),l=null}}if(l.open(e.method.toUpperCase(),$r(h,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(f)},l.onabort=function(){l&&(n(new Br("Request aborted",Br.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new Br("Network Error",Br.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||Zr;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Br(t,i.clarifyTimeoutError?Br.ETIMEDOUT:Br.ECONNABORTED,e,l)),l=null},na.isStandardBrowserEnv){var d=(e.withCredentials||ba(h))&&e.xsrfCookieName&&ya.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===r&&a.setContentType(null),"setRequestHeader"in l&&Ir.forEach(a.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),Ir.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),s&&"json"!==s&&(l.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",wa(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",wa(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=function(t){l&&(n(!t||t.type?new ga(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);p&&-1===na.protocols.indexOf(p)?n(new Br("Unsupported protocol "+p+":",Br.ERR_BAD_REQUEST,e)):l.send(r||null)}))},Ma={http:null,xhr:ka};Ir.forEach(Ma,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Ta=function(e){for(var t,n,i=(e=Ir.isArray(e)?e:[e]).length,r=0;r<i&&(t=e[r],!(n=Ir.isString(t)?Ma[t.toLowerCase()]:t));r++);if(!n){if(!1===n)throw new Br("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Ir.hasOwnProp(Ma,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Ir.isFunction(n))throw new TypeError("adapter is not a function");return n};function Sa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ga}function Aa(e){return Sa(e),e.headers=da.from(e.headers),e.data=pa.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ta(e.adapter||sa.adapter)(e).then((function(t){return Sa(e),t.data=pa.call(e,e.transformResponse,t),t.headers=da.from(t.headers),t}),(function(t){return va(t)||(Sa(e),t&&t.response&&(t.response.data=pa.call(e,e.transformResponse,t.response),t.response.headers=da.from(t.response.headers))),Promise.reject(t)}))}var Ea=function(e){return e instanceof da?e.toJSON():e};function La(e,t){t=t||{};var n={};function i(e,t,n){return Ir.isPlainObject(e)&&Ir.isPlainObject(t)?Ir.merge.call({caseless:n},e,t):Ir.isPlainObject(t)?Ir.merge({},t):Ir.isArray(t)?t.slice():t}function r(e,t,n){return Ir.isUndefined(t)?Ir.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function a(e,t){if(!Ir.isUndefined(t))return i(void 0,t)}function s(e,t){return Ir.isUndefined(t)?Ir.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function o(n,r,a){return a in t?i(n,r):a in e?i(void 0,n):void 0}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:function(e,t){return r(Ea(e),Ea(t),!0)}};return Ir.forEach(Object.keys(e).concat(Object.keys(t)),(function(i){var a=l[i]||r,s=a(e[i],t[i],i);Ir.isUndefined(s)&&a!==o||(n[i]=s)})),n}var Ca="1.2.0",Oa={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Oa[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Pa={};Oa.transitional=function(e,t,n){function i(e,t){return"[Axios v1.2.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Br(i(r," has been removed"+(t?" in "+t:"")),Br.ERR_DEPRECATED);return t&&!Pa[r]&&(Pa[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}};var Ia={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Br("options must be an object",Br.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),r=i.length;r-- >0;){var a=i[r],s=t[a];if(s){var o=e[a],l=void 0===o||s(o,a,e);if(!0!==l)throw new Br("option "+a+" must be "+l,Br.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Br("Unknown option "+a,Br.ERR_BAD_OPTION)}},validators:Oa},Na=Ia.validators,Ra=function(){function e(t){pt(this,e),this.defaults=t,this.interceptors={request:new Qr,response:new Qr}}return mt(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,i=t=La(this.defaults,t),r=i.transitional,a=i.paramsSerializer,s=i.headers;void 0!==r&&Ia.assertOptions(r,{silentJSONParsing:Na.transitional(Na.boolean),forcedJSONParsing:Na.transitional(Na.boolean),clarifyTimeoutError:Na.transitional(Na.boolean)},!1),void 0!==a&&Ia.assertOptions(a,{encode:Na.function,serialize:Na.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=s&&Ir.merge(s.common,s[t.method]))&&Ir.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete s[e]})),t.headers=da.concat(n,s);var o=[],l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var h,f=0;if(!l){var d=[Aa.bind(this),void 0];for(d.unshift.apply(d,o),d.push.apply(d,c),h=d.length,u=Promise.resolve(t);f<h;)u=u.then(d[f++],d[f++]);return u}h=o.length;var p=t;for(f=0;f<h;){var v=o[f++],m=o[f++];try{p=v(p)}catch(g){m.call(this,g);break}}try{u=Aa.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}},{key:"getUri",value:function(e){return $r(_a((e=La(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Ir.forEach(["delete","get","head","options"],(function(e){Ra.prototype[e]=function(t,n){return this.request(La(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ir.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(La(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Ra.prototype[e]=t(),Ra.prototype[e+"Form"]=t(!0)}));var Fa=Ra,Ba=function(){function e(t){if(pt(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var i=this;this.promise.then((function(e){if(i._listeners){for(var t=i._listeners.length;t-- >0;)i._listeners[t](e);i._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},t((function(e,t,r){i.reason||(i.reason=new ga(e,t,r),n(i.reason))}))}return mt(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Da=Ba;var ja=function e(t){var n=new Fa(t),i=ir(Fa.prototype.request,n);return Ir.extend(i,Fa.prototype,n,{allOwnKeys:!0}),Ir.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(La(t,n))},i}(sa);ja.Axios=Fa,ja.CanceledError=ga,ja.CancelToken=Da,ja.isCancel=va,ja.VERSION=Ca,ja.toFormData=zr,ja.AxiosError=Br,ja.Cancel=ja.CanceledError,ja.all=function(e){return Promise.all(e)},ja.spread=function(e){return function(t){return e.apply(null,t)}},ja.isAxiosError=function(e){return Ir.isObject(e)&&!0===e.isAxiosError},ja.AxiosHeaders=da,ja.formToJSON=function(e){return ia(Ir.isHTMLForm(e)?new FormData(e):e)},ja.default=ja;var Ua=ja,Va=new(n(8041).EventEmitter),Ga={closeable:!0},za=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ga;Va.emit(Wn,l({visible:!0,notice:e},t))},Wa=Ua.create({baseURL:"http://localhost:4000"});Wa.interceptors.request.use(function(){var e=$n(Xn().mark((function e(t){var n;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pi(),t.headers||(t.headers={}),n&&(t.headers.Authorization=n),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Wa.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&"User required!"===e.response.data){if("default_token"===Pi())return}else"Network Error"===e.message&&za("\xd4i, k\u1ebft n\u1ed1i internet b\u1ecb m\u1ea5t r\u1ed3i!");return Promise.reject(e)}));var Ha,Ya,Xa,qa,$a,Ka,Qa=Wa,Za=function(){var e=ke((function(e){return e.userInfo})),t=Te((function(e){return e.setUserInfo}));return[e,(0,r.useCallback)($n(Xn().mark((function e(){var n;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa.get("/api/user/info");case 2:return n=e.sent,t(l(l({},n.data.user),{},{ticketCount:n.data.ticketCount})),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)}))),[t])]},Ja="assets/ui/settings_btn.png",es=function(e){var t=e.setSettingModalVisible,n=ht(Za(),1)[0];return(0,ri.jsxs)("div",{className:Vn()(Ji,"row"),children:[["/","/home"].includes(window.location.pathname)?(0,ri.jsx)(ai,{title:"",onClick:function(){},children:(0,ri.jsx)("img",{src:"assets/ui/back_btn.png",className:nr,alt:"back_btn"})}):(0,ri.jsx)(ai,{title:"",onClick:function(){},children:(0,ri.jsx)("img",{src:Ja,className:Vn()(er,"hidden"),alt:"back_btn"})}),n&&(0,ri.jsx)("div",{children:(0,ri.jsx)("div",{className:Vn()(tr,"sg-regular"),children:n.fullName})}),(0,ri.jsx)(ai,{title:"",onClick:function(){return t(!0)},children:(0,ri.jsx)("img",{src:Ja,className:er,alt:"back_btn"})})]})},ts="layout_container__T+lEo",ns="layout_main__NS9px",is="layout_content__8yNkj",rs=function(e){var t=e.children,n=xn(),i=ht((0,r.useState)(!1),2),a=i[0],s=i[1];(0,r.useEffect)((function(){var e=new URLSearchParams(n.search),t=e.get("width"),i=e.get("height"),r=e.get("padTop"),a=e.get("padBottom");t&&i&&!isNaN(parseFloat(t))&&!isNaN(parseFloat(i))&&(!function(e,t,n,i){try{localStorage.setItem("screen::resolution",JSON.stringify({width:e,height:t,paddingTop:n,paddingBottom:i}))}catch(r){Gn.clientWidth=e,Gn.clientHeight=t,Gn.paddingTop=n,Gn.paddingBottom=i}}(parseFloat(t),parseFloat(i),r&&!isNaN(parseFloat(r))?parseFloat(r):void 0,a&&!isNaN(parseFloat(a))?parseFloat(a):void 0),Yn())}),[n.search]);var o=(0,r.useMemo)((function(){return!n.pathname.includes("/game")}),[n.pathname]);return(0,ri.jsxs)("div",{className:ts,children:[(0,ri.jsx)("div",{className:Vn()(ns),children:(0,ri.jsxs)("div",{className:is,children:[o&&(0,ri.jsx)(es,{setSettingModalVisible:s}),t]})}),(0,ri.jsx)(Zi,{onDismiss:function(){return s(!1)},visible:a})]})},as=n(2955),ss=function(e){var t,n=e.type,i=void 0===n?6:n,r=e.scale,a=parseFloat(null!==(t=document.documentElement.style.getPropertyValue("--game-width"))&&void 0!==t?t:1),s="number"===typeof r?r:.0031*a;return(0,ri.jsxs)("div",{className:"loader animation-".concat(i),style:{transform:"scale(".concat(s,") rotate(45deg)")},children:[(0,ri.jsx)("div",{className:"shape shape1"}),(0,ri.jsx)("div",{className:"shape shape2"}),(0,ri.jsx)("div",{className:"shape shape3"}),(0,ri.jsx)("div",{className:"shape shape4"})]})},os=function(e){var t,n=e.visible,i=e.className,r=e.bgTheme,a=void 0===r?"theme2":r;return(0,ri.jsx)("div",{className:Vn()("loader-modal-container",i),style:Object.assign({backgroundColor:(t=a,"theme1"===t?"rgba(1,1,1,0)":"rgba(0,0,0,0.5)")},n?{display:"flex"}:{display:"none"}),children:(0,ri.jsx)(ss,{})})},ls=new(mt((function e(){pt(this,e),this.WORLD_WIDTH=500,this.WORLD_HEIGHT=1e3,this.UI_WIDTH=this.WORLD_WIDTH*zn/.5,this.UI_HEIGHT=this.UI_WIDTH/zn,this.BG_WIDTH=650,this.BG_HEIGHT=1e3*this.BG_WIDTH/600,this.BG_OFFSET_X_FACTOR=.01*-this.WORLD_WIDTH,this.BG_OFFSET_X=(this.WORLD_WIDTH-this.BG_WIDTH)/2+this.BG_OFFSET_X_FACTOR,this.BG_OFFSET_Y=(this.WORLD_HEIGHT-this.BG_HEIGHT)/2,this.CAT_X=.49*this.WORLD_WIDTH,this.CAT_Y=.94*this.WORLD_HEIGHT,this.CAT_HITBOX_WIDTH=.4*this.WORLD_WIDTH,this.CAT_HITBOX_HEIGHT=.35*this.WORLD_WIDTH,this.CAT_HITBOX_X=this.WORLD_WIDTH/2-this.CAT_HITBOX_WIDTH/2,this.CAT_HITBOX_Y=.77*this.WORLD_HEIGHT,this.ARROW_WIDTH=.1*this.WORLD_WIDTH,this.ARROW_HEIGHT=0,this.ARROW_X=this.WORLD_WIDTH/2-this.ARROW_WIDTH/2,this.ARROW_Y=.72*this.WORLD_HEIGHT,this.ARROW_ORIGINAL_Y=.16*this.WORLD_HEIGHT,this.ARROW_ROTATE_SPEED=.5*Math.PI,this.ARROW_MAX_ANGLE=.35*Math.PI,this.ARROW_MIN_ANGLE=.35*-Math.PI,this.RANGE_WIDTH=.6*this.WORLD_WIDTH,this.RANGE_HEIGHT=0,this.RANGE_X=.505*this.WORLD_WIDTH-this.RANGE_WIDTH/2,this.RANGE_Y=.71*this.WORLD_HEIGHT,this.LM_SPAWN_X=.4*this.WORLD_WIDTH,this.LM_SPAWN_Y=.8*this.WORLD_HEIGHT,this.LM_WIDTH=.08*this.WORLD_WIDTH,this.LM_HEIGHT=137*this.LM_WIDTH/101,this.LM_START_THROW_X=.48*this.WORLD_WIDTH,this.LM_START_THROW_Y=.75*this.WORLD_HEIGHT,this.LM_START_ROTATION=0,this.LM_START_OPACITY=1,this.LM_START_SCALE=1,this.LM_TARGET_SCALE=1,this.LM_TARGET_SCALE_2=-2,this.LM_FADEAWAY_TARGET_OPACITY=.1,this.LM_THROW_DISTANCE=1.2*this.WORLD_HEIGHT,this.CHARACTER_WIDTH=.05*this.WORLD_WIDTH,this.CHARACTER_HEIGHT=0,this.SCORE_TARGET_OFFSET_Y=.07*this.WORLD_HEIGHT,this.SCORE_BADGE_WIDTH=.05*this.WORLD_WIDTH,this.SCORE_BADGE_HEIGHT=this.SCORE_BADGE_WIDTH,this.PLAY_BUTTON_WIDTH=.35*this.WORLD_WIDTH,this.PLAY_BUTTON_HEIGHT=216*this.PLAY_BUTTON_WIDTH/179,this.PLAY_BUTTON_X=this.WORLD_WIDTH/2-this.PLAY_BUTTON_WIDTH/2,this.PLAY_BUTTON_Y=.73*this.WORLD_HEIGHT,this.FLOWER1_WIDTH=.5*this.WORLD_WIDTH,this.FLOWER1_HEIGHT=764*this.FLOWER1_WIDTH/751,this.FLOWER1_X=this.BG_OFFSET_X+this.BG_WIDTH/2-this.UI_WIDTH/2-this.BG_OFFSET_X_FACTOR,this.FLOWER1_Y=this.BG_OFFSET_Y+this.BG_HEIGHT-this.FLOWER1_HEIGHT,this.FLOWER2_WIDTH=.5*this.WORLD_WIDTH,this.FLOWER2_HEIGHT=575*this.FLOWER2_WIDTH/979,this.FLOWER2_X=this.BG_OFFSET_X+this.BG_WIDTH/2+this.UI_WIDTH/2-this.FLOWER2_WIDTH-this.BG_OFFSET_X_FACTOR,this.FLOWER2_Y=this.BG_OFFSET_Y+this.BG_HEIGHT-this.FLOWER2_HEIGHT,this.BOTTOM_OVERLAY_WIDTH=this.UI_WIDTH,this.BOTTOM_OVERLAY_HEIGHT=110*this.BOTTOM_OVERLAY_WIDTH/428,this.BOTTOM_OVERLAY_X=this.BG_OFFSET_X+this.BG_WIDTH/2-this.UI_WIDTH/2-this.BG_OFFSET_X_FACTOR,this.BOTTOM_OVERLAY_Y=this.BG_OFFSET_Y+this.BG_HEIGHT-this.BOTTOM_OVERLAY_HEIGHT,this.WINDOW_CLOSE_TRANSITION_OFFSET_Y=.005*-this.WORLD_HEIGHT,this.WINDOW_CLOSE_TRANSITION_TARGET_OFFSET_Y=0})));!function(e){e.CHAR_1="char1",e.CHAR_2="char2",e.CHAR_3="char3",e.CHAR_4="char4",e.CHAR_5="char5"}(Ha||(Ha={})),function(e){e.NULL="Null",e.AM_NO="Am no",e.SUNG_TUC="Sung tuc",e.THINH_VUONG="Thinh vuong"}(Ya||(Ya={})),function(e){e.AM_NO="vpchest3",e.SUNG_TUC="vpchest",e.THINH_VUONG="vpchest2"}(Xa||(Xa={}));var us,cs=.5,hs="catvp",fs=[Ha.CHAR_1,Ha.CHAR_2,Ha.CHAR_3,Ha.CHAR_4,Ha.CHAR_5],ds=[Xa.AM_NO,Xa.SUNG_TUC,Xa.THINH_VUONG],ps="animation2",vs="animation",ms="animation2",gs="animation",ys=(s(qa={},Ha.CHAR_1,.7),s(qa,Ha.CHAR_2,1),s(qa,Ha.CHAR_3,1),s(qa,Ha.CHAR_4,.8),s(qa,Ha.CHAR_5,.8),qa),_s=(s($a={},Ha.CHAR_1,0),s($a,Ha.CHAR_2,0),s($a,Ha.CHAR_3,.005*ls.WORLD_HEIGHT),s($a,Ha.CHAR_4,0),s($a,Ha.CHAR_5,0),$a),bs=[10,110,360],xs={easy:10,normal:30,hard:50},ws="REQUEST_START_GAME",ks="START_GAME",Ms="END_GAME",Ts="NEW_SCORE",Ss="START_TIMER",As="PAUSE_TIMER",Es="RESUME_TIMER",Ls="SHOW_FOCUS_OVERLAY",Cs="HIDE_FOCUS_OVERLAY",Os="SHOW_FTUE_MODAL",Ps="HIDE_FTUE_MODAL",Is="FIRST_SHOT",Ns="RETRY",Rs="SHOW_CHEST_MODAL",Fs="START_OPEN_CHEST_ANIMATION",Bs="DONE_OPEN_CHEST_ANIMATION",Ds=(s(Ka={},Ya.NULL,""),s(Ka,Ya.AM_NO,"\u1ea4m No"),s(Ka,Ya.SUNG_TUC,"Sung T\xfac"),s(Ka,Ya.THINH_VUONG,"Th\u1ecbnh V\u01b0\u1ee3ng"),Ka),js=n(2474),Us=n(9997);function Vs(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Gs(e,t,n,i,r){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}!function(e){e[e.A1=0]="A1",e[e.A2=1]="A2",e[e.A3=2]="A3",e[e.A4=3]="A4",e[e.A5=4]="A5",e[e.B1=5]="B1",e[e.B2=6]="B2",e[e.B3=7]="B3",e[e.B4=8]="B4",e[e.B5=9]="B5",e[e.C1=10]="C1",e[e.C2=11]="C2",e[e.C3=12]="C3",e[e.D1=13]="D1",e[e.D2=14]="D2",e[e.D3=15]="D3",e[e.D4=16]="D4",e[e.D5=17]="D5",e[e.D6=18]="D6",e[e.E1=19]="E1",e[e.E2=20]="E2",e[e.E3=21]="E3",e[e.E4=22]="E4",e[e.E5=23]="E5"}(us||(us={}));var zs,Ws,Hs,Ys,Xs,qs,$s,Ks,Qs,Zs,Js,eo,to,no,io,ro,ao,so,oo=function(){var e=$n(Xn().mark((function e(t){var n,i,r,a,s,o;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.text();case 6:i=e.sent,r=i.split("\n"),a=[],s=0;case 10:if(!(s<r.length)){e.next=18;break}if(!((o=r[s].replace(" ","").split(",")).length<2)){e.next=14;break}return e.abrupt("continue",15);case 14:a.push({startTime:parseFloat(o[0].split("-")[0]),endTime:parseFloat(o[0].split("-")[1]),windowIndex:us[o[1]],count:parseInt(o[2]),duration:parseFloat(o[3])});case 15:s++,e.next=10;break;case 18:return e.abrupt("return",a);case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",[]);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),lo=function(e){return e>=360?Ya.THINH_VUONG:e>=110?Ya.SUNG_TUC:e>=10?Ya.AM_NO:Ya.NULL},uo=function(e,t,n,i){return e.setVector(n).subVector(t).scale(i).addVector(t)},co=function(e,t,n,i,r){return e.x>t&&e.x<t+i&&e.y>n&&e.y<n+r},ho=function(e,t,n){return e+(t-e)*n};!function(e){e.LOADING="Loading",e.READY_TO_PLAY="Ready to play",e.PLAYING="Playing",e.ENDED="Ended"}(zs||(zs={}));var fo,po,vo,mo,go,yo,_o,bo,xo,wo,ko,Mo,To,So,Ao,Eo,Lo,Co,Oo,Po,Io,No,Ro,Fo,Bo,Do,jo,Uo,Vo,Go,zo,Wo,Ho,Yo,Xo,qo,$o,Ko,Qo,Zo=(Ws=(0,Us.tB)("inputHandler"),Hs=(0,Us.tB)("arrowState"),Ys=(0,Us.tB)("camera"),Xs=(0,Us.tB)("effectStates"),qs=(0,Us.tB)("gameTimers"),$s=(0,Us.tB)("flyingLuckyMoneys"),Ks=(0,Us.tB)("collisions"),Qs=(0,Us.tB)("gameState"),Zs=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"inputHandler",Js,wt(e)),Vs(e,"arrowState",eo,wt(e)),Vs(e,"camera",to,wt(e)),Vs(e,"effectStates",no,wt(e)),Vs(e,"gameTimers",io,wt(e)),Vs(e,"flyingLuckyMoneys",ro,wt(e)),Vs(e,"collisions",ao,wt(e)),Vs(e,"gameState",so,wt(e)),e}return mt(n,[{key:"handleTouch",value:function(){var e=this.inputHandler.getTouchedWorldCoord();this.gameState.uiState===zs.PLAYING&&this.arrowState.throwable&&co(e,ls.CAT_HITBOX_X,ls.CAT_HITBOX_Y,ls.CAT_HITBOX_WIDTH,ls.CAT_HITBOX_HEIGHT)&&(this.arrowState.throwable=!1,this.gameTimers.throwDelayTimer.value=.5,this.effectStates.catThrowAnimation||(this.effectStates.catThrowAnimation={time:0,duration:.5}),this.flyingLuckyMoneys.push(function(e){var t={drawTime:0,throwTime:0,expireTime:0,collided:!1,rotation:ls.LM_START_ROTATION,status:"drawing",prevStatus:"none",position:new as.Vector2(ls.LM_SPAWN_X,ls.LM_SPAWN_Y),source:new as.Vector2(ls.LM_SPAWN_X,ls.LM_SPAWN_Y),target:new as.Vector2(ls.LM_START_THROW_X,ls.LM_START_THROW_Y),scale:ls.LM_START_SCALE,sourceScale:ls.LM_START_SCALE,targetScale:ls.LM_TARGET_SCALE,opacity:ls.LM_START_OPACITY,sourceOpacity:ls.LM_START_OPACITY,targetOpacity:ls.LM_START_OPACITY,hitbox:null},n=e.createPolygon(t.position.x-ls.LM_WIDTH/2,t.position.y-ls.LM_HEIGHT/2,[[0,0],[ls.LM_WIDTH,0],[ls.LM_WIDTH,ls.LM_HEIGHT],[0,ls.LM_HEIGHT]]);return t.hitbox=n,t}(this.collisions)),0===this.gameState.shotTimes&&Va.emit(Is),this.gameState.shotTimes+=1),this.gameState.uiState===zs.READY_TO_PLAY&&co(e,ls.PLAY_BUTTON_X,ls.PLAY_BUTTON_Y,ls.PLAY_BUTTON_WIDTH,ls.PLAY_BUTTON_HEIGHT)&&Va.emit(ws)}},{key:"initialized",value:function(){var e=this;this.inputHandler.addEventListener(as.InputEvent.TouchEnd,(function(t,n){e.handleTouch()}))}},{key:"process",value:function(){}}]),n}(Us.xP),Js=Gs(Zs.prototype,"inputHandler",[Ws],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=Gs(Zs.prototype,"arrowState",[Hs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=Gs(Zs.prototype,"camera",[Ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=Gs(Zs.prototype,"effectStates",[Xs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=Gs(Zs.prototype,"gameTimers",[qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=Gs(Zs.prototype,"flyingLuckyMoneys",[$s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=Gs(Zs.prototype,"collisions",[Ks],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=Gs(Zs.prototype,"gameState",[Qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs),Jo=(fo=(0,Us.tB)("batch"),po=(0,Us.tB)("assetManager"),vo=(0,Us.tB)("arrowState"),mo=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"polygonBatch",go,wt(e)),Vs(e,"assetManager",yo,wt(e)),Vs(e,"arrowState",_o,wt(e)),e.arrowTexture=void 0,e.rangeTexture=void 0,e}return mt(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.arrowTexture=e.findRegion("arrow",-1),this.rangeTexture=e.findRegion("range",-1),this.arrowTexture&&(ls.ARROW_HEIGHT=ls.ARROW_WIDTH*this.arrowTexture.originalHeight/this.arrowTexture.originalWidth),this.rangeTexture&&(ls.RANGE_HEIGHT=ls.RANGE_WIDTH*this.rangeTexture.originalHeight/this.rangeTexture.originalWidth))}},{key:"process",value:function(){this.polygonBatch.begin(),this.rangeTexture&&this.rangeTexture.draw(this.polygonBatch,ls.RANGE_X,ls.RANGE_Y,ls.RANGE_WIDTH,ls.RANGE_HEIGHT),this.arrowTexture&&this.arrowTexture.draw(this.polygonBatch,ls.ARROW_X,ls.ARROW_Y,ls.ARROW_WIDTH,ls.ARROW_HEIGHT,ls.ARROW_WIDTH/2,ls.ARROW_ORIGINAL_Y,this.arrowState.rotation),this.polygonBatch.end()}}]),n}(Us.xP),go=Gs(mo.prototype,"polygonBatch",[fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yo=Gs(mo.prototype,"assetManager",[po],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_o=Gs(mo.prototype,"arrowState",[vo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo),el=(bo=(0,Us.tB)("batch"),xo=(0,Us.tB)("assetManager"),wo=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"polygonBatch",ko,wt(e)),Vs(e,"assetManager",Mo,wt(e)),e.bgTexture=void 0,e}return mt(n,[{key:"initialized",value:function(){this.bgTexture=this.assetManager.getTexture("bg_general")}},{key:"process",value:function(){this.bgTexture&&(this.polygonBatch.begin(),this.polygonBatch.setColor(as.Color.WHITE),this.polygonBatch.draw(this.bgTexture,ls.BG_OFFSET_X,ls.BG_OFFSET_Y,ls.BG_WIDTH,ls.BG_HEIGHT),this.polygonBatch.end())}}]),n}(Us.xP),ko=Gs(wo.prototype,"polygonBatch",[bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mo=Gs(wo.prototype,"assetManager",[xo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wo),tl=(To=(0,Us.tB)("batch"),So=(0,Us.tB)("shapeRenderer"),Ao=(0,Us.tB)("assetManager"),Eo=(0,Us.tB)("skeletonRenderer"),Lo=(0,Us.tB)("catSpine"),Co=(0,Us.tB)("gameState"),Oo=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"polygonBatch",Po,wt(e)),Vs(e,"shapeRenderer",Io,wt(e)),Vs(e,"assetManager",No,wt(e)),Vs(e,"skeletonRenderer",Ro,wt(e)),Vs(e,"catSpine",Fo,wt(e)),Vs(e,"gameState",Bo,wt(e)),e.playButton=void 0,e.systemStateTime=0,e}return mt(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.playButton=e.findRegion("start_button"))}},{key:"process",value:function(){if(this.systemStateTime+=this.world.delta,this.catSpine&&this.gameState.uiState!==zs.READY_TO_PLAY&&(this.catSpine.animationState.update(this.world.delta),this.catSpine.animationState.apply(this.catSpine.skeleton),this.catSpine.skeleton.x=ls.CAT_X,this.catSpine.skeleton.y=ls.CAT_Y,this.catSpine.skeleton.scaleX=.11,this.catSpine.skeleton.scaleY=-.11,this.catSpine.skeleton.updateWorldTransform(),this.polygonBatch.begin(),this.skeletonRenderer.draw(this.polygonBatch,this.catSpine.skeleton),this.polygonBatch.end()),this.gameState.uiState===zs.READY_TO_PLAY&&this.playButton){var e=Math.sin(7*this.systemStateTime),t=(e=(e+1)/2)*ls.WORLD_WIDTH*2e-4;this.polygonBatch.begin(),this.playButton.draw(this.polygonBatch,ls.PLAY_BUTTON_X,ls.PLAY_BUTTON_Y,ls.PLAY_BUTTON_WIDTH,ls.PLAY_BUTTON_HEIGHT,ls.PLAY_BUTTON_WIDTH/2,ls.PLAY_BUTTON_HEIGHT/2,0,1+t,1+t),this.polygonBatch.end()}}}]),n}(Us.xP),Po=Gs(Oo.prototype,"polygonBatch",[To],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=Gs(Oo.prototype,"shapeRenderer",[So],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),No=Gs(Oo.prototype,"assetManager",[Ao],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ro=Gs(Oo.prototype,"skeletonRenderer",[Eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=Gs(Oo.prototype,"catSpine",[Lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bo=Gs(Oo.prototype,"gameState",[Co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oo),nl={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return 1===e?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return 0===e?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-nl.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*nl.Bounce.In(2*e):.5*nl.Bounce.Out(2*e-1)+.5}},generatePow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}},il=nl,rl=(Do=(0,Us.tB)("arrowState"),jo=(0,Us.tB)("flyingLuckyMoneys"),Uo=(0,Us.tB)("collisions"),Vo=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"arrowState",Go,wt(e)),Vs(e,"flyingLuckyMoneys",zo,wt(e)),Vs(e,"collisions",Wo,wt(e)),e.tmpVector=new as.Vector2(0,0),e.tmpRotatedVector=new as.Vector2(0,0),e}return mt(n,[{key:"checkStatus",value:function(e){if(e.status!==e.prevStatus&&(e.prevStatus=e.status,e.status,"throwing"===e.status)){var t=180*this.arrowState.rotation/Math.PI;this.tmpRotatedVector.set(0,.5*-ls.ARROW_ORIGINAL_Y).rotate(t).add(ls.ARROW_X+ls.ARROW_WIDTH/2,ls.ARROW_Y+ls.ARROW_ORIGINAL_Y),e.source.setVector(this.tmpRotatedVector),this.tmpRotatedVector.set(0,-ls.LM_THROW_DISTANCE).rotate(t).add(ls.ARROW_X+ls.ARROW_WIDTH/2,ls.ARROW_Y+ls.ARROW_ORIGINAL_Y),e.target.setVector(this.tmpRotatedVector),e.rotation=this.arrowState.rotation,e.sourceScale=e.scale,e.targetScale=ls.LM_TARGET_SCALE_2}}},{key:"process",value:function(){for(var e=0;e<this.flyingLuckyMoneys.length;e++){var t=this.flyingLuckyMoneys[e];t.drawTime<=.2?(t.drawTime+=this.world.delta,t.status="drawing",this.checkStatus(t)):t.drawTime>.2&&(t.throwTime+=this.world.delta,t.status="throwing",this.checkStatus(t),t.scale=ho(t.sourceScale,t.targetScale,il.Quadratic.In(t.throwTime/2.3)),t.collided||uo(t.position,t.source,t.target,il.Quadratic.Out(t.throwTime/2.3))),t.collided&&(t.expireTime+=this.world.delta,t.targetOpacity=ls.LM_FADEAWAY_TARGET_OPACITY,t.opacity=ho(t.sourceOpacity,t.targetOpacity,il.Quadratic.Out(t.expireTime/t.expireTime)))}for(var n=this.flyingLuckyMoneys.length-1;n>=0;n--){var i=this.flyingLuckyMoneys[n];i.collided&&i.expireTime>=.1?(this.collisions.remove(i.hitbox),this.flyingLuckyMoneys.splice(n,1)):(i.position.x<-.1*ls.WORLD_WIDTH||i.position.x>1.1*ls.WORLD_WIDTH||i.position.y<-.1*ls.WORLD_HEIGHT||i.position.y>1.1*ls.WORLD_HEIGHT)&&(this.collisions.remove(i.hitbox),this.flyingLuckyMoneys.splice(n,1))}}}]),n}(Us.xP),Go=Gs(Vo.prototype,"arrowState",[Do],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zo=Gs(Vo.prototype,"flyingLuckyMoneys",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wo=Gs(Vo.prototype,"collisions",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vo),al=(Ho=(0,Us.tB)("batch"),Yo=(0,Us.tB)("assetManager"),Xo=(0,Us.tB)("flyingLuckyMoneys"),qo=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"polygonBatch",$o,wt(e)),Vs(e,"assetManager",Ko,wt(e)),Vs(e,"flyingLuckyMoneys",Qo,wt(e)),e.LMTexture=void 0,e}return mt(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.LMTexture=e.findRegion("lixi",-1),this.LMTexture&&(ls.LM_HEIGHT=ls.LM_WIDTH*this.LMTexture.height/this.LMTexture.width))}},{key:"process",value:function(){this.polygonBatch.begin();for(var e=0;e<this.flyingLuckyMoneys.length;e++){var t=this.flyingLuckyMoneys[e];this.LMTexture&&"throwing"===t.status&&(this.polygonBatch.color.set(1,1,1,t.opacity),this.LMTexture.draw(this.polygonBatch,t.position.x-ls.LM_WIDTH/2,t.position.y-ls.LM_HEIGHT/2,ls.LM_WIDTH,ls.LM_HEIGHT,ls.LM_WIDTH/2,ls.LM_HEIGHT/2,t.rotation,t.scale,t.scale),this.polygonBatch.color.set(1,1,1,1))}this.polygonBatch.end()}}]),n}(Us.xP),$o=Gs(qo.prototype,"polygonBatch",[Ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ko=Gs(qo.prototype,"assetManager",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=Gs(qo.prototype,"flyingLuckyMoneys",[Xo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qo),sl=[],ol=function(){function e(){pt(this,e),this._bvh_branch=!0,this._bvh_parent=null,this._bvh_left=null,this._bvh_right=null,this._bvh_sort=0,this._bvh_min_x=0,this._bvh_min_y=0,this._bvh_max_x=0,this._bvh_max_y=0}return mt(e,null,[{key:"getBranch",value:function(){return sl.length?sl.pop():new e}},{key:"releaseBranch",value:function(e){sl.push(e)}},{key:"sortBranches",value:function(e,t){return e._bvh_sort>t._bvh_sort?-1:1}}]),e}(),ll=function(){function e(){pt(this,e),this._hierarchy=null,this._bodies=[],this._dirty_branches=[]}return mt(e,[{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=e._bvh;if(n&&n!==this)throw new Error("Body belongs to another collision system");e._bvh=this,this._bodies.push(e)}var i=e._polygon,r=e.x,a=e.y;i&&(e._dirty_coords||e.x!==e._x||e.y!==e._y||e.angle!==e._angle||e.scale_x!==e._scale_x||e.scale_y!==e._scale_y)&&e._calculateCoords();var s=e._bvh_padding,o=i?0:e.radius*e.scale,l=(i?e._min_x:r-o)-s,u=(i?e._min_y:a-o)-s,c=(i?e._max_x:r+o)+s,h=(i?e._max_y:a+o)+s;e._bvh_min_x=l,e._bvh_min_y=u,e._bvh_max_x=c,e._bvh_max_y=h;var f=this._hierarchy,d=0;if(f)for(;;){if(!f._bvh_branch){var p=f._bvh_parent,v=f._bvh_min_x,m=f._bvh_min_y,g=f._bvh_max_x,y=f._bvh_max_y,_=f._bvh_parent=e._bvh_parent=ol.getBranch();_._bvh_parent=p,_._bvh_left=f,_._bvh_right=e,_._bvh_sort=d++,_._bvh_min_x=l<v?l:v,_._bvh_min_y=u<m?u:m,_._bvh_max_x=c>g?c:g,_._bvh_max_y=h>y?h:y,p?p._bvh_left===f?p._bvh_left=_:p._bvh_right=_:this._hierarchy=_;break}var b=f._bvh_left,x=b._bvh_min_y,w=b._bvh_max_x,k=b._bvh_max_y,M=l<b._bvh_min_x?l:b._bvh_min_x,T=u<x?u:x,S=c>w?c:w,A=h>k?h:k,E=(w-b._bvh_min_x)*(k-x),L=(S-M)*(A-T),C=L-E,O=f._bvh_right,P=O._bvh_min_x,I=O._bvh_min_y,N=O._bvh_max_x,R=O._bvh_max_y,F=l<P?l:P,B=u<I?u:I,D=c>N?c:N,j=h>R?h:R,U=(N-P)*(R-I),V=(D-F)*(j-B),G=V-U;f._bvh_sort=d++,f._bvh_min_x=M<F?M:F,f._bvh_min_y=T<B?T:B,f._bvh_max_x=S>D?S:D,f._bvh_max_y=A>j?A:j,f=C<=G?b:O}else this._hierarchy=e}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=e._bvh;if(n&&n!==this)throw new Error("Body belongs to another collision system");e._bvh=null,this._bodies.splice(this._bodies.indexOf(e),1)}if(this._hierarchy!==e){var i=e._bvh_parent,r=i._bvh_parent,a=i._bvh_left,s=a===e?i._bvh_right:a;if(s._bvh_parent=r,s._bvh_branch&&(s._bvh_sort=i._bvh_sort),r){r._bvh_left===i?r._bvh_left=s:r._bvh_right=s;for(var o=r;o;){var l=o._bvh_left,u=l._bvh_min_x,c=l._bvh_min_y,h=l._bvh_max_x,f=l._bvh_max_y,d=o._bvh_right,p=d._bvh_min_x,v=d._bvh_min_y,m=d._bvh_max_x,g=d._bvh_max_y;o._bvh_min_x=u<p?u:p,o._bvh_min_y=c<v?c:v,o._bvh_max_x=h>m?h:m,o._bvh_max_y=f>g?f:g,o=o._bvh_parent}}else this._hierarchy=s;ol.releaseBranch(i)}else this._hierarchy=null}},{key:"update",value:function(){for(var e=this._bodies,t=e.length,n=0;n<t;++n){var i=e[n],r=!1;if(r||i.padding===i._bvh_padding||(i._bvh_padding=i.padding,r=!0),!r){var a=i._polygon;a&&(i._dirty_coords||i.x!==i._x||i.y!==i._y||i.angle!==i._angle||i.scale_x!==i._scale_x||i.scale_y!==i._scale_y)&&i._calculateCoords();var s=i.x,o=i.y,l=a?0:i.radius*i.scale,u=a?i._min_x:s-l,c=a?i._min_y:o-l,h=a?i._max_x:s+l,f=a?i._max_y:o+l;r=u<i._bvh_min_x||c<i._bvh_min_y||h>i._bvh_max_x||f>i._bvh_max_y}r&&(this.remove(i,!0),this.insert(i,!0))}}},{key:"potentials",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e._bvh_min_x,r=e._bvh_min_y,a=e._bvh_max_x,s=e._bvh_max_y,o=this._hierarchy,l=!0;if(!o||!o._bvh_branch)return n;for(;o;){if(l){l=!1;for(var u=o._bvh_branch?o._bvh_left:null;u&&u._bvh_max_x>=i&&u._bvh_max_y>=r&&u._bvh_min_x<=a&&u._bvh_min_y<=s;)u=(o=u)._bvh_branch?o._bvh_left:null}var c=o._bvh_branch?o._bvh_right:null;if(c&&c._bvh_max_x>i&&c._bvh_max_y>r&&c._bvh_min_x<a&&c._bvh_min_y<s)o=c,l=!0;else{o._bvh_branch||o===e||t&&!t(e,o)||n.push(o);var h=o._bvh_parent;if(!h)break;for(;h&&h._bvh_right===o;)h=(o=h)._bvh_parent;o=h}}return n}}]),e}();function ul(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=e._polygon,a=t._polygon,s=!1;return n&&(n.a=e,n.b=t,n.a_in_b=!0,n.b_in_a=!0,n.overlap=null,n.overlap_x=0,n.overlap_y=0),r&&(e._dirty_coords||e.x!==e._x||e.y!==e._y||e.angle!==e._angle||e.scale_x!==e._scale_x||e.scale_y!==e._scale_y)&&e._calculateCoords(),a&&(t._dirty_coords||t.x!==t._x||t.y!==t._y||t.angle!==t._angle||t.scale_x!==t._scale_x||t.scale_y!==t._scale_y)&&t._calculateCoords(),i&&!Al(e,t)||(r&&e._dirty_normals&&e._calculateNormals(),a&&t._dirty_normals&&t._calculateNormals(),s=r&&a?El(e,t,n):r?Ll(e,t,n,!1):a?Ll(t,e,n,!0):Cl(e,t,n)),n&&(n.collision=s),s}var cl,hl,fl,dl,pl,vl,ml,gl,yl,_l,bl,xl,wl,kl,Ml,Tl,Sl,Al=function(e,t){var n=e._polygon,i=n?0:e.x,r=n?0:e.y,a=n?0:e.radius*e.scale,s=n?e._min_x:i-a,o=n?e._min_y:r-a,l=n?e._max_x:i+a,u=n?e._max_y:r+a,c=t._polygon,h=c?0:t.x,f=c?0:t.y,d=c?0:t.radius*t.scale,p=c?t._min_x:h-d,v=c?t._min_y:f-d,m=c?t._max_x:h+d,g=c?t._max_y:f+d;return s<m&&o<g&&l>p&&u>v},El=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e._coords.length,r=t._coords.length;if(2===i&&2===r){var a=e._coords,s=t._coords;return n&&(n.overlap=0),a[0]===s[0]&&a[1]===s[1]}var o=e._coords,l=t._coords,u=e._normals,c=t._normals;if(i>2)for(var h=0,f=1;h<i;h+=2,f+=2)if(Ol(o,l,u[h],u[f],n))return!1;if(r>2)for(var d=0,p=1;d<r;d+=2,p+=2)if(Ol(o,l,c[d],c[p],n))return!1;return!0},Ll=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e._coords,a=e._edges,s=e._normals,o=t.x,l=t.y,u=t.radius*t.scale,c=2*u,h=u*u,f=r.length,d=!0,p=!0,v=null,m=0,g=0;if(2===f){var y=o-r[0],_=l-r[1],b=y*y+_*_;if(b>h)return!1;if(n){var x=Math.sqrt(b);v=u-x,m=y/x,g=_/x,p=!1}}else for(var w=0,k=1;w<f;w+=2,k+=2){var M=o-r[w],T=l-r[k],S=a[w],A=a[k],E=M*S+T*A,L=E<0?-1:E>S*S+A*A?1:0,C=!1,O=0,P=0,I=0;if(n&&d&&M*M+T*T>h&&(d=!1),L){var N=-1===L,R=N?0===w?f-2:w-2:w===f-2?0:w+2,F=R+1,B=o-r[R],D=l-r[F],j=a[R],U=a[F],V=B*j+D*U,G=V<0?-1:V>j*j+U*U?1:0;if(G===-L){var z=N?M:B,W=N?T:D,H=z*z+W*W;if(H>h)return!1;if(n){var Y=Math.sqrt(H);C=!0,O=u-Y,P=z/Y,I=W/Y,p=!1}}}else{var X=s[w],q=s[k],$=M*X+T*q,K=$<0?-$:$;if($>0&&K>u)return!1;n&&(C=!0,O=u-$,P=X,I=q,(p&&$>=0||O<c)&&(p=!1))}C&&(null===v||v>O)&&(v=O,m=P,g=I)}return n&&(n.a_in_b=i?p:d,n.b_in_a=i?d:p,n.overlap=v,n.overlap_x=i?-m:m,n.overlap_y=i?-g:g),!0},Cl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.radius*e.scale,r=t.radius*t.scale,a=t.x-e.x,s=t.y-e.y,o=i+r,l=a*a+s*s;if(l>o*o)return!1;if(n){var u=Math.sqrt(l);n.a_in_b=i<=r&&u<=r-i,n.b_in_a=r<=i&&u<=i-r,n.overlap=o-u,n.overlap_x=a/u,n.overlap_y=s/u}return!0},Ol=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=e.length,s=t.length;if(!a||!s)return!0;for(var o=null,l=null,u=null,c=null,h=0,f=1;h<a;h+=2,f+=2){var d=e[h]*n+e[f]*i;(null===o||o>d)&&(o=d),(null===l||l<d)&&(l=d)}for(var p=0,v=1;p<s;p+=2,v+=2){var m=t[p]*n+t[v]*i;(null===u||u>m)&&(u=m),(null===c||c<m)&&(c=m)}if(o>c||l<u)return!0;if(r){var g=0;if(o<u)if(r.a_in_b=!1,l<c)g=l-u,r.b_in_a=!1;else{var y=l-u,_=c-o;g=y<_?y:-_}else if(r.b_in_a=!1,l>c)g=o-c,r.a_in_b=!1;else{var b=l-u,x=c-o;g=b<x?b:-x}var w=r.overlap,k=g<0?-g:g;if(null===w||w>k){var M=g<0?-1:1;r.overlap=k,r.overlap_x=n*M,r.overlap_y=i*M}}return!1},Pl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;pt(this,e),this._circle=!1,this._polygon=!1,this._point=!1,this._bvh_branch=!1,this._bvh=null,this._bvh_parent=null,this._bvh_min_x=0,this._bvh_min_y=0,this._bvh_max_x=0,this._bvh_max_y=0,this.x=t,this.y=n,this.padding=i,this._bvh_padding=i}return mt(e,[{key:"collides",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return ul(this,e,t,n)}},{key:"potentials",value:function(e,t){var n=this._bvh;if(null===n)throw new Error("Body does not belong to a collision system");return n.potentials(this,e,t)}},{key:"remove",value:function(){var e=this._bvh;e&&e.remove(this,!1)}}]),e}(),Il=function(e){yt(n,e);var t=Mt(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return pt(this,n),(e=t.call(this,i,r,o))._polygon=!1,e._circle=!0,e._point=!1,e.radius=a,e.scale=s,e}return mt(n)}(Pl),Nl=function(e){yt(n,e);var t=Mt(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return pt(this,n),(e=t.call(this,i,r,u))._polygon=!0,e._circle=!1,e._point=!1,e._min_x=0,e._min_y=0,e._max_x=0,e._max_y=0,e._points=null,e._coords=null,e._edges=null,e._normals=null,e._dirty_coords=!0,e._dirty_normals=!0,e.angle=s,e.scale_x=o,e.scale_y=l,e._x=i,e._y=r,e._angle=s,e._scale_x=o,e._scale_y=l,e.setPoints(a),e}return mt(n,[{key:"setPoints",value:function(e){var t=e.length;this._points=new Float64Array(2*t),this._coords=new Float64Array(2*t),this._edges=new Float64Array(2*t),this._normals=new Float64Array(2*t);for(var n=this._points,i=0,r=0,a=1;i<t;++i,r+=2,a+=2){var s=e[i];n[r]=s[0],n[a]=s[1]}this._dirty_coords=!0}},{key:"_calculateCoords",value:function(){for(var e=this.x,t=this.y,n=this.angle,i=this.scale_x,r=this.scale_y,a=this._points,s=this._coords,o=a.length,l=0,u=0,c=0,h=0,f=0,d=1;f<o;f+=2,d+=2){var p=a[f]*i,v=a[d]*r;if(n){var m=Math.cos(n),g=Math.sin(n),y=p;p=y*m-v*g,v=y*g+v*m}p+=e,v+=t,s[f]=p,s[d]=v,0===f?(l=u=p,c=h=v):(p<l?l=p:p>u&&(u=p),v<c?c=v:v>h&&(h=v))}this._x=e,this._y=t,this._angle=n,this._scale_x=i,this._scale_y=r,this._min_x=l,this._min_y=c,this._max_x=u,this._max_y=h,this._dirty_coords=!1,this._dirty_normals=!0}},{key:"_calculateNormals",value:function(){for(var e=this._coords,t=this._edges,n=this._normals,i=e.length,r=0,a=1;r<i;r+=2,a+=2){var s=r+2<i?r+2:0,o=e[s]-e[r],l=e[s+1]-e[a],u=o||l?Math.sqrt(o*o+l*l):0;t[r]=o,t[a]=l,n[r]=u?l/u:0,n[a]=u?-o/u:0}this._dirty_normals=!1}}]),n}(Pl),Rl=function(e){yt(n,e);var t=Mt(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return pt(this,n),(e=t.call(this,i,r,[[0,0]],0,1,1,a))._polygon=!0,e._circle=!1,e._point=!0,e.setPoints=void 0,e}return mt(n)}(Nl),Fl=function(){function e(){pt(this,e),this._bvh=new ll}return mt(e,[{key:"createCircle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=new Il(e,t,n,i,r);return this._bvh.insert(a),a}},{key:"createPolygon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[[0,0]],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=new Nl(e,t,n,i,r,a,s);return this._bvh.insert(o),o}},{key:"createPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=new Rl(e,t,n);return this._bvh.insert(i),i}},{key:"insert",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var a=r[i];this._bvh.insert(a,!1)}return this}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var a=r[i];this._bvh.remove(a,!1)}return this}},{key:"update",value:function(){return this._bvh.update(),this}},{key:"potentials",value:function(e,t,n){return this._bvh.potentials(e,t,n)}},{key:"collides",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return ul(e,t,n,i)}}]),e}(),Bl=mt((function e(){pt(this,e),this.collision=!1,this.a=null,this.b=null,this.a_in_b=!1,this.b_in_a=!1,this.overlap=0,this.overlap_x=0,this.overlap_y=0}));!function(e){e[e.CLOSED=0]="CLOSED",e[e.WAITING=1]="WAITING",e[e.CELEBRATING=2]="CELEBRATING"}(cl||(cl={})),function(e){e.ZOOM_IN="Zoom in",e.SHOWING="Showing",e.ZOOM_OUT="Zoom out"}(hl||(hl={}));var Dl,jl,Ul,Vl,Gl,zl,Wl,Hl,Yl,Xl,ql,$l,Kl,Ql,Zl,Jl,eu,tu,nu,iu,ru,au,su,ou,lu,uu,cu,hu,fu,du,pu,vu,mu,gu,yu,_u,bu,xu,wu,ku,Mu,Tu,Su,Au,Eu,Lu,Cu,Ou,Pu,Iu,Nu,Ru,Fu,Bu,Du,ju,Uu,Vu,Gu,zu,Wu,Hu,Yu,Xu,qu,$u,Ku,Qu,Zu,Ju,ec,tc,nc,ic,rc,ac,sc,oc,lc,uc,cc,hc,fc,dc,pc,vc,mc,gc,yc,_c,bc=(fl=(0,Us.tB)("windows"),dl=(0,Us.tB)("effectStates"),pl=(0,Us.tB)("flyingLuckyMoneys"),vl=(0,Us.tB)("confettis"),ml=(0,Us.tB)("gameState"),gl=(0,Us.tB)("gameTimers"),yl=(0,Us.tB)("timeKeeper"),_l=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"windows",bl,wt(e)),Vs(e,"effectStates",xl,wt(e)),Vs(e,"flyingLuckyMoneys",wl,wt(e)),Vs(e,"confettis",kl,wt(e)),Vs(e,"gameState",Ml,wt(e)),Vs(e,"gameTimers",Tl,wt(e)),Vs(e,"timeKeeper",Sl,wt(e)),e.result=new Bl,e}return mt(n,[{key:"process",value:function(){for(var e=this,t=this.flyingLuckyMoneys.length-1;t>=0;t--){var n=this.flyingLuckyMoneys[t];n.hitbox.x=n.position.x-ls.LM_WIDTH/2,n.hitbox.y=n.position.y-ls.LM_HEIGHT/2;for(var i=function(t){var i=e.windows[t];if(!n.collided&&i.state===cl.WAITING&&n.hitbox.collides(i.hitbox,e.result)){n.collided=!0;var r=xs[i.difficulty]||0;e.gameState.score+=r;var a=lo(e.gameState.score),s=a!==e.gameState.currentChest;e.gameState.currentChest=a,Va.emit(Ts,{score:e.gameState.score,chest:a}),s&&setTimeout((function(){e.timeKeeper.paused=!0,e.gameTimers.zoomDelayTimer.value=3,e.effectStates.zoomTransition={time:0,state:hl.ZOOM_IN,zoomAtPoint:new as.Vector2(i.boundary.x+i.boundary.width/2,i.boundary.y+i.boundary.height/2),zoomCenterPosition:new as.Vector2(0,0),zoomScale:.4},Va.emit(As),Va.emit(Ls),ii.play(Kn.ZOOM)}),200),e.windows[t].stateTime=0,e.windows[t].duration=3,e.windows[t].state=cl.CELEBRATING,e.effectStates.characterTransitions.push({time:0,duration:3,windowIndex:t}),e.confettis.push({time:0,total:20*Math.random()+30,spawnedAmount:0,items:[],spawn:{x:i.boundary.x+i.boundary.width/2,y:i.boundary.y+i.boundary.height/2}});var o="left"===i.site?1:-1,l=i.boundary.x+i.boundary.width/2+.65*i.boundary.width*o,u=i.boundary.y+i.boundary.height/2;e.effectStates.scoreTransitions.push({time:0,score:r,opacity:1,position:new as.Vector2(l,u),source:new as.Vector2(l,u),target:new as.Vector2(l,u-ls.SCORE_TARGET_OFFSET_Y)}),r<50?ii.play(Kn.HIT_LOW_SCORE):ii.play(Kn.HIT_HIGH_SCORE)}},r=0;r<this.windows.length;r++)i(r)}}}]),n}(Us.xP),bl=Gs(_l.prototype,"windows",[fl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xl=Gs(_l.prototype,"effectStates",[dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wl=Gs(_l.prototype,"flyingLuckyMoneys",[pl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kl=Gs(_l.prototype,"confettis",[vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ml=Gs(_l.prototype,"gameState",[ml],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tl=Gs(_l.prototype,"gameTimers",[gl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sl=Gs(_l.prototype,"timeKeeper",[yl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_l),xc=(Dl=(0,Us.tB)("batch"),jl=(0,Us.tB)("assetManager"),Ul=(0,Us.tB)("windows"),Vl=(0,Us.tB)("effectStates"),Gl=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"polygonBatch",zl,wt(e)),Vs(e,"assetManager",Wl,wt(e)),Vs(e,"windows",Hl,wt(e)),Vs(e,"effectStates",Yl,wt(e)),e.windowTextures=[],e}return mt(n,[{key:"initialized",value:function(){var e=this,t=this.assetManager.getAtlas("game_assets_atlas"),n=this.windows.map((function(e,t){return us[t]}));t&&n.forEach((function(n){e.windowTextures.push(t.findRegion(n,-1))}))}},{key:"process",value:function(){var e=this;this.polygonBatch.begin(),this.polygonBatch.setColor(as.Color.WHITE);for(var t=function(t){if(e.windowTextures[t]&&e.windows[t].state===cl.CLOSED){var n,i=ls.WINDOW_CLOSE_TRANSITION_OFFSET_Y,r=e.effectStates.windowCloseTransitions.find((function(e){return e.windowIndex===t}));i=r?ho(i,ls.WINDOW_CLOSE_TRANSITION_TARGET_OFFSET_Y,il.Elastic.Out(r.time/r.duration)):0,null===(n=e.windowTextures[t])||void 0===n||n.draw(e.polygonBatch,e.windows[t].boundary.x,e.windows[t].boundary.y+i,e.windows[t].boundary.width,e.windows[t].boundary.height)}},n=0;n<this.windowTextures.length;n++)t(n);for(var i=0;i<this.effectStates.windowOpenTransitions.length;i++){var r=this.effectStates.windowOpenTransitions[i],a=this.windows[r.windowIndex],s=this.windowTextures[r.windowIndex];if(a&&s){var o=ho(1,.01,il.Quadratic.Out(r.time/r.duration));this.polygonBatch.color.set(1,1,1,o),s.draw(this.polygonBatch,a.boundary.x,a.boundary.y,a.boundary.width,a.boundary.height),this.polygonBatch.color.set(1,1,1,1)}}this.polygonBatch.end()}}]),n}(Us.xP),zl=Gs(Gl.prototype,"polygonBatch",[Dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wl=Gs(Gl.prototype,"assetManager",[jl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hl=Gs(Gl.prototype,"windows",[Ul],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yl=Gs(Gl.prototype,"effectStates",[Vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gl),wc=(Xl=(0,Us.tB)("batch"),ql=(0,Us.tB)("assetManager"),$l=(0,Us.tB)("skeletonRenderer"),Kl=(0,Us.tB)("windows"),Ql=(0,Us.tB)("characterSpines"),Zl=(0,Us.tB)("effectStates"),Jl=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"polygonBatch",eu,wt(e)),Vs(e,"assetManager",tu,wt(e)),Vs(e,"skeletonRenderer",nu,wt(e)),Vs(e,"windows",iu,wt(e)),Vs(e,"characterSpines",ru,wt(e)),Vs(e,"effectStates",au,wt(e)),e.waitCharaterTexture=void 0,e}return mt(n,[{key:"renderCharacterAnimation",value:function(e,t,n,i,r){var a=this.characterSpines[e];a&&(a.animationState.update(this.world.delta),a.animationState.apply(a.skeleton),a.skeleton.x=t.x,a.skeleton.y=t.y+r,a.skeleton.scaleX=.3*n*i,a.skeleton.scaleY=-.3*n,a.skeleton.updateWorldTransform(),this.polygonBatch.begin(),this.skeletonRenderer.draw(this.polygonBatch,a.skeleton),this.polygonBatch.end())}},{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.waitCharaterTexture=e.findRegion("character_waiting",-1),this.waitCharaterTexture&&(ls.CHARACTER_HEIGHT=ls.CHARACTER_WIDTH*this.waitCharaterTexture.height/this.waitCharaterTexture.width))}},{key:"process",value:function(){for(var e=this,t=function(t){var n=e.windows[t];if(n.state===cl.WAITING||n.state===cl.CELEBRATING){var i=_s[n.characterType]||0,r=ys[n.characterType],a=r,s=e.effectStates.characterShowTransitions.find((function(e){return e.windowIndex===t}));s&&(a=ho(0,r,il.Elastic.Out(s.time/s.duration))),e.renderCharacterAnimation(t,n.characterPosition,a,n.characterScaleXMulti,i)}},n=0;n<this.windows.length;n++)t(n);for(var i=0;i<this.effectStates.characterHideTransitions.length;i++){var r=this.effectStates.characterHideTransitions[i],a=this.windows[r.windowIndex];if(a&&r){var s=_s[a.characterType]||0,o=ys[a.characterType],l=ho(o,0,il.Quadratic.Out(r.time/r.duration));this.renderCharacterAnimation(r.windowIndex,a.characterPosition,l,a.characterScaleXMulti,s)}}}}]),n}(Us.xP),eu=Gs(Jl.prototype,"polygonBatch",[Xl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tu=Gs(Jl.prototype,"assetManager",[ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nu=Gs(Jl.prototype,"skeletonRenderer",[$l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iu=Gs(Jl.prototype,"windows",[Kl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ru=Gs(Jl.prototype,"characterSpines",[Ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),au=Gs(Jl.prototype,"effectStates",[Zl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jl),kc=(su=(0,Us.tB)("timeKeeper"),ou=(0,Us.tB)("gameState"),lu=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"timeKeeper",uu,wt(e)),Vs(e,"gameState",cu,wt(e)),e}return mt(n,[{key:"process",value:function(){this.timeKeeper.paused||(this.timeKeeper.gameTime+=this.world.delta,this.timeKeeper.gameTime>=30&&(this.timeKeeper.paused=!0,Va.emit(Ms,{gameState:this.gameState})))}}]),n}(Us.xP),uu=Gs(lu.prototype,"timeKeeper",[su],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cu=Gs(lu.prototype,"gameState",[ou],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lu),Mc=function(e){return e[Math.floor(Math.random()*e.length)]},Tc=(hu=(0,Us.tB)("timeKeeper"),fu=(0,Us.tB)("windows"),du=(0,Us.tB)("scenarioStates"),pu=(0,Us.tB)("effectStates"),vu=(0,Us.tB)("characterSpines"),mu=(0,Us.tB)("spineAssetManager"),gu=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"timeKeeper",yu,wt(e)),Vs(e,"windows",_u,wt(e)),Vs(e,"scenarioStates",bu,wt(e)),Vs(e,"effectStates",xu,wt(e)),Vs(e,"characterSpines",wu,wt(e)),Vs(e,"spineAssetManager",ku,wt(e)),e}return mt(n,[{key:"process",value:function(){for(var e=this.scenarioStates.scenarios.length-1;e>=0;e--){var t=this.scenarioStates.scenarios[e];!t.isProcessed&&t.startTime<=this.timeKeeper.gameTime&&(t.isProcessed=!0,this.processScenario(t))}this.processSpawnList()}},{key:"processSpawnList",value:function(){for(var e=this.scenarioStates.spawnList.length-1;e>=0;e--){var t=this.scenarioStates.spawnList[e];if(!(t.time>this.timeKeeper.gameTime)){var n=this.windows[t.windowIndex];if(n.state===cl.CLOSED){var i=Mc(Object.values(Ha)),r=2*Math.round(Math.random())-1,a=new js.AtlasAttachmentLoader(this.spineAssetManager.get("".concat(i,".atlas"))),s=new js.SkeletonJson(a).readSkeletonData(this.spineAssetManager.get("".concat(i,".json"))),o=new js.Skeleton(s),l=new js.AnimationState(new js.AnimationStateData(s));l.setAnimation(0,ps,!0),this.characterSpines[t.windowIndex]&&(this.characterSpines[t.windowIndex].skeleton=o,this.characterSpines[t.windowIndex].animationState=l),n.state=cl.WAITING,n.stateTime=0,n.duration=t.duration,n.characterScaleXMulti=r,n.characterType=i,this.effectStates.windowOpenTransitions.push({time:0,duration:.5,windowIndex:t.windowIndex}),this.effectStates.characterShowTransitions.push({time:0,duration:.4,windowIndex:t.windowIndex}),this.scenarioStates.spawnList.splice(e,1)}}}}},{key:"processScenario",value:function(e){for(var t=0;t<e.count;t++){var n=(i=e.startTime,r=e.endTime,Math.random()*(r-i)+i);this.scenarioStates.spawnList.push({windowIndex:e.windowIndex,duration:e.duration,time:n})}var i,r}}]),n}(Us.xP),yu=Gs(gu.prototype,"timeKeeper",[hu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_u=Gs(gu.prototype,"windows",[fu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bu=Gs(gu.prototype,"scenarioStates",[du],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xu=Gs(gu.prototype,"effectStates",[pu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wu=Gs(gu.prototype,"characterSpines",[vu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ku=Gs(gu.prototype,"spineAssetManager",[mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gu),Sc=(Mu=(0,Us.tB)("windows"),Tu=(0,Us.tB)("effectStates"),Su=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"windows",Au,wt(e)),Vs(e,"effectStates",Eu,wt(e)),e}return mt(n,[{key:"process",value:function(){for(var e=0;e<this.windows.length;e++)this.processWindowState(e,this.windows[e],this.world.delta)}},{key:"processWindowState",value:function(e,t,n){return t.stateTime+=n,t.state===cl.WAITING&&t.stateTime>=t.duration||t.state===cl.CELEBRATING&&t.stateTime>=3?(t.stateTime=0,t.state=cl.CLOSED,this.effectStates.windowCloseTransitions.push({time:0,duration:.5,windowIndex:e}),void this.effectStates.characterHideTransitions.push({time:0,duration:.2,windowIndex:e})):void 0}}]),n}(Us.xP),Au=Gs(Su.prototype,"windows",[Mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eu=Gs(Su.prototype,"effectStates",[Tu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Su),Ac=(Lu=(0,Us.tB)("effectStates"),Cu=(0,Us.tB)("characterSpines"),Ou=(0,Us.tB)("catSpine"),Pu=(0,Us.tB)("windows"),Iu=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"effectStates",Nu,wt(e)),Vs(e,"characterSpines",Ru,wt(e)),Vs(e,"catSpine",Fu,wt(e)),Vs(e,"windows",Bu,wt(e)),e}return mt(n,[{key:"process",value:function(){for(var e=this.effectStates.characterTransitions.length-1;e>=0;e--){var t,n,i=this.effectStates.characterTransitions[e];i.time+=this.world.delta;var r=this.characterSpines[i.windowIndex],a=r.animationState.getCurrent(0);a&&(null===(t=a)||void 0===t||null===(n=t.animation)||void 0===n?void 0:n.name)!==ps||(r.animationState.clearTracks(),a=r.animationState.setAnimation(0,vs,!0));var s=this.windows[i.windowIndex];i.time>=i.duration&&(null===s||void 0===s?void 0:s.state)===cl.CLOSED&&(a=r.animationState.setAnimation(0,ps,!0),this.effectStates.characterTransitions.splice(e,1))}if(this.effectStates.catThrowAnimation){var o,l;this.effectStates.catThrowAnimation.time+=this.world.delta;var u=this.catSpine.animationState.getCurrent(0);if(u&&(null===(o=u)||void 0===o||null===(l=o.animation)||void 0===l?void 0:l.name)!==ms||(this.catSpine.animationState.clearTracks(),(u=this.catSpine.animationState.setAnimation(0,gs)).mixDuration=.2,u.animation&&(u.timeScale=u.animation.duration/this.effectStates.catThrowAnimation.duration)),this.effectStates.catThrowAnimation.time>=this.effectStates.catThrowAnimation.duration)this.catSpine.animationState.setAnimation(0,ms,!0).mixDuration=.2,this.effectStates.catThrowAnimation=void 0}for(var c=this.effectStates.windowCloseTransitions.length-1;c>=0;c--){var h=this.effectStates.windowCloseTransitions[c];h.time+=this.world.delta,h.time>=h.duration&&this.effectStates.windowCloseTransitions.splice(c,1)}for(var f=this.effectStates.windowOpenTransitions.length-1;f>=0;f--){var d=this.effectStates.windowOpenTransitions[f];d.time+=this.world.delta,d.time>=d.duration&&this.effectStates.windowOpenTransitions.splice(f,1)}for(var p=this.effectStates.characterShowTransitions.length-1;p>=0;p--){var v=this.effectStates.characterShowTransitions[p];v.time+=this.world.delta,v.time>=v.duration&&this.effectStates.characterShowTransitions.splice(p,1)}for(var m=this.effectStates.characterHideTransitions.length-1;m>=0;m--){var g=this.effectStates.characterHideTransitions[m];g.time+=this.world.delta,g.time>=g.duration&&this.effectStates.characterHideTransitions.splice(m,1)}}}]),n}(Us.xP),Nu=Gs(Iu.prototype,"effectStates",[Lu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ru=Gs(Iu.prototype,"characterSpines",[Cu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fu=Gs(Iu.prototype,"catSpine",[Ou],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bu=Gs(Iu.prototype,"windows",[Pu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iu),Ec=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;pt(this,e),this.value=void 0,this.onComplete=void 0,this.value=t,this.onComplete=n}return mt(e,[{key:"update",value:function(e){this.value>0&&(this.value-=e,this.value<=0&&(this.value=0,this.onComplete&&this.onComplete()))}},{key:"clear",value:function(){this.value=0}}]),e}(),Lc=(Du=(0,Us.tB)("arrowState"),ju=(0,Us.tB)("gameTimers"),Uu=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"arrowState",Vu,wt(e)),Vs(e,"gameTimers",Gu,wt(e)),e}return mt(n,[{key:"handleAfterDelay",value:function(){this.arrowState.throwable=!0}},{key:"process",value:function(){var e=this;this.gameTimers.throwDelayTimer.onComplete||(this.gameTimers.throwDelayTimer.onComplete=function(){return e.handleAfterDelay()}),this.gameTimers.throwDelayTimer.update(this.world.delta)}}]),n}(Us.xP),Vu=Gs(Uu.prototype,"arrowState",[Du],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gu=Gs(Uu.prototype,"gameTimers",[ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uu),Cc=(zu=(0,Us.tB)("arrowState"),Wu=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"arrowState",Hu,wt(e)),e}return mt(n,[{key:"process",value:function(){this.arrowState.throwable&&(this.arrowState.rotation>=this.arrowState.maxAngle?(this.arrowState.rotation=this.arrowState.maxAngle,this.arrowState.movingRight=!1):this.arrowState.rotation<=this.arrowState.minAngle&&(this.arrowState.rotation=this.arrowState.minAngle,this.arrowState.movingRight=!0),this.arrowState.movingRight?this.arrowState.rotation+=this.arrowState.rotateSpeed*this.world.delta:this.arrowState.rotation-=this.arrowState.rotateSpeed*this.world.delta)}}]),n}(Us.xP),Hu=Gs(Wu.prototype,"arrowState",[zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wu),Oc=(Yu=(0,Us.tB)("confettis"),Xu=(0,Us.tB)("assetManager"),qu=(0,Us.tB)("batch"),$u=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"confettis",Ku,wt(e)),Vs(e,"assetManager",Qu,wt(e)),Vs(e,"polygonBatch",Zu,wt(e)),e.gravity=.5*ls.WORLD_HEIGHT,e.spawnOffsetX=.005*ls.WORLD_WIDTH,e.spawnOffsetY=.001*ls.WORLD_HEIGHT,e.maxRotateSpeed=Math.PI/3,e.minRotateSpeed=Math.PI/5,e.scaleSpeed=.8,e.maxSize=.02*ls.WORLD_WIDTH,e.minSize=.01*ls.WORLD_WIDTH,e.maxSpeedX=.2*ls.WORLD_WIDTH,e.minSpeedX=0*ls.WORLD_WIDTH,e.maxSpeedY=.3*ls.WORLD_HEIGHT,e.minSpeedY=.1*ls.WORLD_HEIGHT,e.delay=.01,e.fadeOutTime=.4,e.existTime=.5,e.confettiTextures=[],e}return mt(n,[{key:"processState",value:function(){for(var e=0;e<this.confettis.length;e++){var t=this.confettis[e];if(t.spawnedAmount<t.total)for(var n=0;n<t.total;n++){t.spawnedAmount++;var i=2*Math.round(Math.random())-1;t.items.push({time:0,fadeOutTime:0,texture:Mc(this.confettiTextures),opacity:1,rotation:Math.random()*Math.PI,rotationSpeed:i*(Math.random()*(this.maxRotateSpeed-this.minRotateSpeed)+this.minRotateSpeed),scale:1,size:Math.random()*(this.maxSize-this.minSize)+this.minSize,xSpeed:i*(Math.random()*(this.maxSpeedX-this.minSpeedX)+this.minSpeedX),ySpeed:-(Math.random()*(this.maxSpeedY-this.minSpeedY)+this.minSpeedY),position:new as.Vector2(t.spawn.x+Math.random()*this.spawnOffsetX*i,t.spawn.y+Math.random()*this.spawnOffsetX*i)})}for(var r=0;r<this.confettis[e].items.length;r++){var a=this.confettis[e].items[r];a.time+=this.world.delta,a.time>this.existTime&&(a.fadeOutTime+=this.world.delta,a.opacity=ho(1,.01,Math.min(1,a.fadeOutTime/this.fadeOutTime))),a.ySpeed+=this.gravity*this.world.delta,a.position.y+=a.ySpeed*this.world.delta,a.position.x+=a.xSpeed*this.world.delta,a.rotation+=a.rotationSpeed*this.world.delta,a.scale+=this.scaleSpeed*this.world.delta}for(var s=this.confettis[e].items.length-1;s>=0;s--){this.confettis[e].items[s].fadeOutTime>this.fadeOutTime&&this.confettis[e].items.splice(e,1)}}for(var o=this.confettis.length-1;o>=0;o--){var l=this.confettis[o];l.spawnedAmount>=l.total&&l.items.length<=0&&this.confettis.splice(o,1)}}},{key:"renderConffetis",value:function(){this.polygonBatch.begin();for(var e=0;e<this.confettis.length;e++)for(var t=this.confettis[e],n=0;n<t.items.length;n++){var i=t.items[n];i.texture&&(this.polygonBatch.color.set(1,1,1,i.opacity),i.texture.draw(this.polygonBatch,i.position.x-i.size/2,i.position.y-i.size/2,i.size,i.size,i.size/2,i.size/2,i.rotation,i.scale,i.scale),this.polygonBatch.color.set(1,1,1,1))}this.polygonBatch.end()}},{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.confettiTextures=e.findRegions("confetti"))}},{key:"process",value:function(){this.processState(),this.renderConffetis()}}]),n}(Us.xP),Ku=Gs($u.prototype,"confettis",[Yu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qu=Gs($u.prototype,"assetManager",[Xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zu=Gs($u.prototype,"polygonBatch",[qu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$u),Pc=(Ju=(0,Us.tB)("viewport"),ec=(0,Us.tB)("windows"),tc=(0,Us.tB)("camera"),nc=(0,Us.tB)("effectStates"),ic=(0,Us.tB)("timeKeeper"),rc=(0,Us.tB)("gameTimers"),ac=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"viewport",sc,wt(e)),Vs(e,"windows",oc,wt(e)),Vs(e,"camera",lc,wt(e)),Vs(e,"effectStates",uc,wt(e)),Vs(e,"timeKeeper",cc,wt(e)),Vs(e,"gameTimers",hc,wt(e)),e.opacity=0,e.centerPoint=new as.Vector2(ls.WORLD_WIDTH/2,ls.WORLD_HEIGHT/2),e}return mt(n,[{key:"handleAfterDelay",value:function(){this.timeKeeper.paused=!1,this.effectStates.zoomTransition=void 0,this.camera.setPosition(ls.WORLD_WIDTH/2,ls.WORLD_HEIGHT/2),this.camera.update(),Va.emit(Es),Va.emit(Cs)}},{key:"initialized",value:function(){}},{key:"process",value:function(){var e=this,t=this.camera,n=this.effectStates.zoomTransition;this.gameTimers.zoomDelayTimer.onComplete||(this.gameTimers.zoomDelayTimer.onComplete=function(){return e.handleAfterDelay()}),this.gameTimers.zoomDelayTimer.update(this.world.delta),n&&(n.time+=this.world.delta,n.state===hl.ZOOM_IN&&(t.zoom=ho(1,n.zoomScale,il.Quadratic.Out(n.time/cs)),this.opacity=ho(0,.6,il.Quadratic.Out(n.time/cs)),uo(n.zoomCenterPosition,this.centerPoint,n.zoomAtPoint,il.Quadratic.Out(n.time/cs)),t.setPosition(n.zoomCenterPosition.x,n.zoomCenterPosition.y),t.update(),n.time>=cs&&(n.time=0,n.state=hl.SHOWING)),n.state===hl.SHOWING&&n.time>=2&&(n.time=0,n.state=hl.ZOOM_OUT,Va.emit(Cs)),n.state===hl.ZOOM_OUT&&(t.zoom=ho(n.zoomScale,1,il.Quadratic.Out(n.time/cs)),this.opacity=ho(.6,.01,il.Quadratic.Out(n.time/cs)),uo(n.zoomCenterPosition,n.zoomAtPoint,this.centerPoint,il.Quadratic.Out(n.time/cs)),t.setPosition(n.zoomCenterPosition.x,n.zoomCenterPosition.y),t.update(),n.time>=cs&&(n.time=0)))}},{key:"dispose",value:function(){}}]),n}(Us.xP),sc=Gs(ac.prototype,"viewport",[Ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oc=Gs(ac.prototype,"windows",[ec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lc=Gs(ac.prototype,"camera",[tc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uc=Gs(ac.prototype,"effectStates",[nc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cc=Gs(ac.prototype,"timeKeeper",[ic],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hc=Gs(ac.prototype,"gameTimers",[rc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac);!function(e){e.HARD="hard",e.NORMAL="normal",e.EASY="easy"}(fc||(fc={}));var Ic,Nc,Rc,Fc,Bc,Dc,jc,Uc,Vc,Gc,zc,Wc,Hc,Yc,Xc,qc,$c,Kc=(dc=(0,Us.tB)("batch"),pc=(0,Us.tB)("effectStates"),vc=(0,Us.tB)("assetManager"),mc=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"polygonBatch",gc,wt(e)),Vs(e,"effectStates",yc,wt(e)),Vs(e,"assetManager",_c,wt(e)),e.scoreTextures={},e}return mt(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.scoreTextures[xs[fc.EASY]]=e.findRegion("green_circle",-1),this.scoreTextures[xs[fc.NORMAL]]=e.findRegion("blue_circle",-1),this.scoreTextures[xs[fc.HARD]]=e.findRegion("red_circle",-1))}},{key:"process",value:function(){for(var e=0;e<this.effectStates.scoreTransitions.length;e++){var t=this.effectStates.scoreTransitions[e];t.time+=this.world.delta,uo(t.position,t.source,t.target,il.Quadratic.Out(t.time/1)),t.opacity=ho(.2,1,il.Quadratic.Out(t.time/.8))}for(var n=this.effectStates.scoreTransitions.length-1;n>=0;n--){this.effectStates.scoreTransitions[n].time>1&&this.effectStates.scoreTransitions.splice(n,1)}this.polygonBatch.begin();for(var i=0;i<this.effectStates.scoreTransitions.length;i++){var r,a=this.effectStates.scoreTransitions[i];if(this.scoreTextures[a.score])this.polygonBatch.color.set(1,1,1,a.opacity),null===(r=this.scoreTextures[a.score])||void 0===r||r.draw(this.polygonBatch,a.position.x,a.position.y,ls.SCORE_BADGE_WIDTH,ls.SCORE_BADGE_HEIGHT),this.polygonBatch.color.set(1,1,1,1)}this.polygonBatch.end()}}]),n}(Us.xP),gc=Gs(mc.prototype,"polygonBatch",[dc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yc=Gs(mc.prototype,"effectStates",[pc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_c=Gs(mc.prototype,"assetManager",[vc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mc),Qc=(Ic=(0,Us.tB)("batch"),Nc=(0,Us.tB)("assetManager"),Rc=function(e){yt(n,e);var t=Mt(n);function n(e){var i;return pt(this,n),Vs(i=t.call(this),"polygonBatch",Fc,wt(i)),Vs(i,"assetManager",Bc,wt(i)),i.isFront=!1,i.flower1Texture=void 0,i.flower2Texture=void 0,i.bottomOverlay=void 0,i.decorB3=void 0,i.decorB4=void 0,i.decorC1=void 0,i.decorC2=void 0,i.decorE2=void 0,i.decorE5=void 0,i.isFront=e,i}return mt(n,[{key:"initialized",value:function(){var e=this.assetManager.getAtlas("game_assets_atlas");e&&(this.flower1Texture=e.findRegion("hoa_dao",-1),this.flower2Texture=e.findRegion("hoa_mai",-1),this.bottomOverlay=e.findRegion("bottom_overlay",-1),this.decorB3=e.findRegion("decor_B3",-1),this.decorB4=e.findRegion("decor_B4",-1),this.decorC1=e.findRegion("decor_C1",-1),this.decorC2=e.findRegion("decor_C2",-1),this.decorE2=e.findRegion("decor_E2",-1),this.decorE5=e.findRegion("decor_E5",-1))}},{key:"process",value:function(){this.polygonBatch.begin(),this.isFront&&(this.flower1Texture&&(this.polygonBatch.color.set(1,1,1,1),this.flower1Texture.draw(this.polygonBatch,ls.FLOWER1_X,ls.FLOWER1_Y,ls.FLOWER1_WIDTH,ls.FLOWER1_HEIGHT)),this.flower2Texture&&(this.polygonBatch.color.set(1,1,1,1),this.flower2Texture.draw(this.polygonBatch,ls.FLOWER2_X,ls.FLOWER2_Y,ls.FLOWER2_WIDTH,ls.FLOWER2_HEIGHT)),this.bottomOverlay&&(this.polygonBatch.color.set(1,1,1,.6),this.bottomOverlay.draw(this.polygonBatch,ls.BOTTOM_OVERLAY_X,ls.BOTTOM_OVERLAY_Y,ls.BOTTOM_OVERLAY_WIDTH,ls.BOTTOM_OVERLAY_HEIGHT),this.polygonBatch.color.set(1,1,1,1)),this.decorB3&&this.decorB3.draw(this.polygonBatch,40,440,130,130*this.decorB3.originalHeight/this.decorB3.originalWidth),this.decorB4&&this.decorB4.draw(this.polygonBatch,15,620,155,155*this.decorB4.originalHeight/this.decorB4.originalWidth),this.decorE5&&this.decorE5.draw(this.polygonBatch,300,700,170,170*this.decorE5.originalHeight/this.decorE5.originalWidth)),this.isFront||(this.decorE2&&this.decorE2.draw(this.polygonBatch,315,482,165,165*this.decorE2.originalHeight/this.decorE2.originalWidth),this.decorC1&&this.decorC1.draw(this.polygonBatch,154,310,50,50*this.decorC1.originalHeight/this.decorC1.originalWidth),this.decorC2&&this.decorC2.draw(this.polygonBatch,155,352,68,68*this.decorC2.originalHeight/this.decorC2.originalWidth)),this.polygonBatch.end()}}]),n}(Us.xP),Fc=Gs(Rc.prototype,"polygonBatch",[Ic],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bc=Gs(Rc.prototype,"assetManager",[Nc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rc),Zc=(Dc=(0,Us.tB)("effectStates"),jc=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"effectStates",Uc,wt(e)),e}return mt(n,[{key:"process",value:function(){this.effectStates.catSound.time+=this.world.delta,this.effectStates.catSound.time>this.effectStates.catSound.meowAt&&(this.effectStates.catSound.meowAt=5*Math.random()+5,this.effectStates.catSound.time=0,ii.play(Kn.MEOW))}}]),n}(Us.xP),Uc=Gs(jc.prototype,"effectStates",[Dc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jc),Jc=(Vc=(0,Us.tB)("batch"),Gc=(0,Us.tB)("shapeRenderer"),zc=(0,Us.tB)("spineAssetManager"),Wc=(0,Us.tB)("skeletonRenderer"),Hc=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Vs(e=t.call.apply(t,[this].concat(r)),"polygonBatch",Yc,wt(e)),Vs(e,"shapeRenderer",Xc,wt(e)),Vs(e,"spineAssetManager",qc,wt(e)),Vs(e,"skeletonRenderer",$c,wt(e)),e.opened=!0,e.spine=void 0,e.handleStartAnimation=function(t){var n=t.chest,i=null;if(n===Ya.AM_NO&&(i=Xa.AM_NO),n===Ya.SUNG_TUC&&(i=Xa.SUNG_TUC),n===Ya.THINH_VUONG&&(i=Xa.THINH_VUONG),i){e.opened=!1;var r=new js.AtlasAttachmentLoader(e.spineAssetManager.get("".concat(i,".atlas"))),a=new js.SkeletonJson(r).readSkeletonData(e.spineAssetManager.get("".concat(i,".json"))),s=new js.Skeleton(a),o=new js.AnimationState(new js.AnimationStateData(a));o.setAnimation(0,"animation",!1).listener={complete:function(){e.opened=!0,Va.emit(Bs)}},e.spine={skeleton:s,animationState:o}}else Va.emit(Ns)},e}return mt(n,[{key:"initialized",value:function(){Va.addListener(Fs,this.handleStartAnimation)}},{key:"process",value:function(){this.spine&&!this.opened&&(this.shapeRenderer.begin(),this.shapeRenderer.setColorWith(0,0,0,.8),this.shapeRenderer.rect(!0,ls.BG_OFFSET_X,ls.BG_OFFSET_Y,ls.BG_WIDTH,ls.BG_HEIGHT),this.shapeRenderer.setColorWith(1,1,1,1),this.shapeRenderer.end(),this.spine.animationState.update(this.world.delta),this.spine.animationState.apply(this.spine.skeleton),this.spine.skeleton.x=.5*ls.WORLD_WIDTH,this.spine.skeleton.y=.7*ls.WORLD_HEIGHT,this.spine.skeleton.scaleX=.5,this.spine.skeleton.scaleY=-.5,this.spine.skeleton.updateWorldTransform(),this.polygonBatch.begin(),this.skeletonRenderer.draw(this.polygonBatch,this.spine.skeleton),this.polygonBatch.end()),this.opened&&(this.spine=void 0)}},{key:"dispose",value:function(){Va.removeListener(Fs,this.handleStartAnimation)}}]),n}(Us.xP),Yc=Gs(Hc.prototype,"polygonBatch",[Vc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xc=Gs(Hc.prototype,"shapeRenderer",[Gc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qc=Gs(Hc.prototype,"spineAssetManager",[zc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$c=Gs(Hc.prototype,"skeletonRenderer",[Wc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hc),eh=function(e,t,n,i,r){var a=e.getContext(),s=e.getCamera(),o=new Fl,u=new as.PolygonBatch(a),c=new as.ShapeRenderer(a),h=new js.SkeletonRenderer(a,!0),f=new as.ViewportInputHandler(e);s.setYDown(!0),u.setYDown(!0);for(var d=[],p=[],v={score:0,currentChest:Ya.NULL,shotTimes:0,uiState:zs.READY_TO_PLAY},m={scenarios:[],spawnList:[]},g={throwable:!0,movingRight:!0,rotation:0,rotateSpeed:ls.ARROW_ROTATE_SPEED,maxAngle:ls.ARROW_MAX_ANGLE,minAngle:ls.ARROW_MIN_ANGLE},y={gameTime:0,paused:!0},_={catSound:{time:0,meowAt:5*Math.random()+5},characterTransitions:[],scoreTransitions:[],windowOpenTransitions:[],windowCloseTransitions:[],characterHideTransitions:[],characterShowTransitions:[]},b={throwDelayTimer:new Ec,zoomDelayTimer:new Ec},x=[],w=[],k=function(){!function(){v.currentChest=Ya.NULL,v.score=0,v.shotTimes=0,v.uiState=zs.READY_TO_PLAY,m.spawnList.length=0,m.scenarios.length=0;for(var e=Mc(r),t=0;t<e.length;t++){var n=e[t];m.scenarios.push(l(l({},n),{},{isProcessed:!1}))}g.throwable=!0,g.movingRight=!0,g.rotation=0,y.gameTime=0,y.paused=!0,_.catSound={time:0,meowAt:5*Math.random()+5},_.characterTransitions.length=0,_.scoreTransitions.length=0,_.windowCloseTransitions.length=0,_.windowOpenTransitions.length=0,_.characterHideTransitions.length=0,_.characterShowTransitions.length=0,b.throwDelayTimer=new Ec,b.zoomDelayTimer=new Ec,x.length=0,w.length=0;for(var i=0;i<p.length;i++){var a=p[i];o.remove(a.hitbox),p.splice(i,1)}for(var s=0;s<d.length;s++){var u=d[s];u.state=cl.CLOSED,u.stateTime=0,u.characterType=Mc(Object.values(Ha))}}(),d.forEach((function(e){var t=new js.AtlasAttachmentLoader(n.get("".concat(e.characterType,".atlas"))),i=new js.SkeletonJson(t).readSkeletonData(n.get("".concat(e.characterType,".json"))),r=new js.Skeleton(i),a=new js.AnimationState(new js.AnimationStateData(i));a.setAnimation(0,ps,!0),w.push({skeleton:r,animationState:a})}))},M=0;M<Object.keys(i.window).length;M++){var T=Object.keys(i.window)[M];if(!isNaN(parseInt(T))){var S=parseInt(T),A=i.window[S],E=i.characterSpawnPositions[S],L=2*Math.round(Math.random())-1;d.push({stateTime:0,duration:0,hitbox:o.createPolygon(A.boundary.x,A.boundary.y,dt(A.hitbox.map((function(e){return[e.x,e.y]})))),boundary:A.boundary,difficulty:A.difficulty,site:A.direction,state:cl.CLOSED,characterPosition:E,characterScaleXMulti:L,characterType:Mc(Object.values(Ha))})}}var C=new js.AtlasAttachmentLoader(n.get("".concat(hs,".atlas"))),O=new js.SkeletonJson(C).readSkeletonData(n.get("".concat(hs,".json"))),P=new js.Skeleton(O),I=new js.AnimationState(new js.AnimationStateData(O));I.setAnimation(0,ms,!0);var N={skeleton:P,animationState:I};k();var R=new Us.q3;R.register("viewport",e),R.register("camera",s),R.register("batch",u),R.register("shapeRenderer",c),R.register("skeletonRenderer",h),R.register("assetManager",t),R.register("spineAssetManager",n),R.register("inputHandler",f),R.register("collisions",o),R.register("gameState",v),R.register("scenarioStates",m),R.register("mapData",i),R.register("arrowState",g),R.register("windows",d),R.register("scenarios",r),R.register("timeKeeper",y),R.register("characterSpines",w),R.register("catSpine",N),R.register("effectStates",_),R.register("gameTimers",b),R.register("flyingLuckyMoneys",p),R.register("confettis",x),R.addSystem(new kc,!0),R.addSystem(new Tc,!0),R.addSystem(new Sc,!0),R.addSystem(new Zo,!0),R.addSystem(new rl,!0),R.addSystem(new bc,!0),R.addSystem(new Ac,!0),R.addSystem(new Zc,!0),R.addSystem(new Lc,!0),R.addSystem(new Cc,!0),R.addSystem(new el,!1),R.addSystem(new Jo,!1),R.addSystem(new Qc(!1),!1),R.addSystem(new xc,!1),R.addSystem(new wc,!1),R.addSystem(new Oc,!1),R.addSystem(new tl,!1),R.addSystem(new Qc(!0),!1),R.addSystem(new al,!1),R.addSystem(new Kc,!1),R.addSystem(new Pc,!1),R.addSystem(new Jc,!1);var F=function(){k()},B=function(){y.paused=!1,v.uiState=zs.PLAYING,Va.emit(Ss)},D=function(){v.uiState===zs.PLAYING&&(y.paused=!0,Va.emit(As))},j=function(){v.uiState===zs.PLAYING&&(y.paused=!1,Va.emit(Es))};return Va.addListener(Ns,F),Va.addListener(ks,B),Va.addListener(Os,D),Va.addListener(Ps,j),{update:function(e){u.setProjection(s.combined),c.setProjection(s.combined),R.setDelta(e),y.paused||R.processActiveSystem(),R.processPassiveSystem()},dispose:function(){R.dispose(),u.dispose(),c.dispose(),f.cleanup(),Va.removeListener(Ns,F),Va.removeListener(ks,B),Va.removeListener(Os,D),Va.removeListener(Ps,j)}}},th=function(){var e=$n(Xn().mark((function e(t){var n,i,r,a,s,o,l,u,c,h,f,d;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},i={},e.next=4,fetch(t);case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,s=ls.BG_WIDTH/600,o=ls.BG_HEIGHT/1e3,l=a.layers.find((function(e){return"characters"===e.name})),l.objects.forEach((function(e){var t=e.x*s,i=e.y*o;n[us[e.name]]={x:t+ls.BG_OFFSET_X,y:i+ls.BG_OFFSET_Y}})),u=0,c=0,h=0,f=0,d=a.layers.find((function(e){return"windows"===e.name})),d.objects.forEach((function(e){var t=e.class.split(":")[0],n=e.class.split(":")[1],r=e.x*s,a=e.y*o,l=e.polygon.map((function(e){return e.x*s+ls.BG_OFFSET_X})),d=e.polygon.map((function(e){return e.y*o+ls.BG_OFFSET_Y}));u=Math.min.apply(Math,dt(l)),c=Math.max.apply(Math,dt(l)),h=Math.min.apply(Math,dt(d)),f=Math.max.apply(Math,dt(d));var p={x:r+u,y:a+h,width:c-u,height:f-h},v=[];e.polygon.forEach((function(e){var t=e.x*s,n=e.y*o;v.push({x:t,y:n})})),i[us[e.name]]={direction:n,difficulty:t,boundary:p,hitbox:v}})),e.abrupt("return",{window:i,characterSpawnPositions:n});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nh=function(){var e=$n(Xn().mark((function e(t,n){var i,r,a,s,o,l,u,c,h;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.getContext(),r=new as.AssetManager(i),a=new js.SpineAssetManager(i,"assets/spine/"),s=function(){var e=$n(Xn().mark((function e(){return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.loadTexture("assets/ingame/bg_general.jpg","bg_general"),r.loadAtlas("assets/atlas/vpbank_assets_30112022.atlas","game_assets_atlas"),a.loadTextureAtlas("".concat(hs,".atlas")),a.loadJson("".concat(hs,".json")),fs.forEach((function(e){a.loadTextureAtlas("".concat(e,".atlas")),a.loadJson("".concat(e,".json"))})),ds.forEach((function(e){a.loadTextureAtlas("".concat(e,".atlas")),a.loadJson("".concat(e,".json"))})),e.next=8,Promise.all([r.finishLoading(),a.loadAll()]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,s();case 6:return e.next=8,th("assets/tilesmap/bg_general_tilemap.json");case 8:return o=e.sent,l=[],e.next=12,oo("level/game_pattern_1.csv");case 12:return u=e.sent,e.next=15,oo("level/game_pattern_2.csv");case 15:return c=e.sent,l.push(u),l.push(c),as.Game.shared.setScreen(eh(n,r,a,o,l)),i.clear(i.COLOR_BUFFER_BIT),h=(0,as.createGameLoop)((function(e){i.clearColor(0,0,0,1),as.Game.shared.update(e)})),e.abrupt("return",{dispose:function(){h.stop(),as.Game.shared.currentScreen.dispose&&as.Game.shared.currentScreen.dispose(),r.disposeAll(),a.dispose()}});case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ih="gameScreen_container__oXuf9",rh="gameScreen_canvas__AJNlx",ah="ingameModal_container__Aut6t",sh="ingameModal_hide__ROaF0",oh="ingameModal_content__IWb1u";function lh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_t(e)););return e}function uh(){return uh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=lh(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},uh.apply(this,arguments)}function ch(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ut(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}var hh=Ah(),fh=function(e){return kh(e,hh)},dh=Ah();fh.write=function(e){return kh(e,dh)};var ph=Ah();fh.onStart=function(e){return kh(e,ph)};var vh=Ah();fh.onFrame=function(e){return kh(e,vh)};var mh=Ah();fh.onFinish=function(e){return kh(e,mh)};var gh=[];fh.setTimeout=function(e,t){var n=fh.now()+t,i={time:n,handler:e,cancel:function e(){var t=gh.findIndex((function(t){return t.cancel==e}));~t&&gh.splice(t,1),xh-=~t?1:0}};return gh.splice(yh(n),0,i),xh+=1,Mh(),i};var yh=function(e){return~(~gh.findIndex((function(t){return t.time>e}))||~gh.length)};fh.cancel=function(e){ph.delete(e),vh.delete(e),mh.delete(e),hh.delete(e),dh.delete(e)},fh.sync=function(e){wh=!0,fh.batchedUpdates(e),wh=!1},fh.throttle=function(e){var t;function n(){try{e.apply(void 0,dt(t))}finally{t=null}}function i(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];t=i,fh.onStart(n)}return i.handler=e,i.cancel=function(){ph.delete(n),t=null},i};var _h="undefined"!=typeof window?window.requestAnimationFrame:function(){};fh.use=function(e){return _h=e},fh.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,fh.batchedUpdates=function(e){return e()},fh.catch=console.error,fh.frameLoop="always",fh.advance=function(){"demand"!==fh.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Sh()};var bh=-1,xh=0,wh=!1;function kh(e,t){wh?(t.delete(e),e(0)):(t.add(e),Mh())}function Mh(){bh<0&&(bh=0,"demand"!==fh.frameLoop&&_h(Th))}function Th(){~bh&&(_h(Th),fh.batchedUpdates(Sh))}function Sh(){var e=bh;bh=fh.now();var t=yh(bh);t&&(Eh(gh.splice(0,t),(function(e){return e.handler()})),xh-=t),xh?(ph.flush(),hh.flush(e?Math.min(64,bh-e):16.667),vh.flush(),dh.flush(),mh.flush()):bh=-1}function Ah(){var e=new Set,t=e;return{add:function(n){xh+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return xh-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,xh-=t.size,Eh(t,(function(t){return t(n)&&e.add(t)})),xh+=e.size,t=e)}}}function Eh(e,t){e.forEach((function(e){try{t(e)}catch(n){fh.catch(n)}}))}function Lh(){}var Ch={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function Oh(e,t){if(Ch.arr(e)){if(!Ch.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Ph=function(e,t){return e.forEach(t)};function Ih(e,t,n){if(Ch.arr(e))for(var i=0;i<e.length;i++)t.call(n,e[i],"".concat(i));else for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Nh=function(e){return Ch.und(e)?[]:Ch.arr(e)?e:[e]};function Rh(e,t){if(e.size){var n=Array.from(e);e.clear(),Ph(n,t)}}var Fh,Bh,Dh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Rh(e,(function(e){return e.apply(void 0,n)}))},jh=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},Uh=null,Vh=!1,Gh=Lh,zh=function(e){e.to&&(Bh=e.to),e.now&&(fh.now=e.now),void 0!==e.colors&&(Uh=e.colors),null!=e.skipAnimation&&(Vh=e.skipAnimation),e.createStringInterpolator&&(Fh=e.createStringInterpolator),e.requestAnimationFrame&&fh.use(e.requestAnimationFrame),e.batchedUpdates&&(fh.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Gh=e.willAdvance),e.frameLoop&&(fh.frameLoop=e.frameLoop)},Wh=Object.freeze({__proto__:null,get createStringInterpolator(){return Fh},get to(){return Bh},get colors(){return Uh},get skipAnimation(){return Vh},get willAdvance(){return Gh},assign:zh}),Hh=new Set,Yh=[],Xh=[],qh=0,$h={get idle(){return!Hh.size&&!Yh.length},start:function(e){qh>e.priority?(Hh.add(e),fh.onStart(Kh)):(Qh(e),fh(Jh))},advance:Jh,sort:function(e){if(qh)fh.onFrame((function(){return $h.sort(e)}));else{var t=Yh.indexOf(e);~t&&(Yh.splice(t,1),Zh(e))}},clear:function(){Yh=[],Hh.clear()}};function Kh(){Hh.forEach(Qh),Hh.clear(),fh(Jh)}function Qh(e){Yh.includes(e)||Zh(e)}function Zh(e){Yh.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(Yh,(function(t){return t.priority>e.priority})),0,e)}function Jh(e){for(var t=Xh,n=0;n<Yh.length;n++){var i=Yh[n];qh=i.priority,i.idle||(Gh(i),i.advance(e),i.idle||t.push(i))}return qh=0,(Xh=Yh).length=0,(Yh=t).length>0}var ef="[-+]?\\d*\\.?\\d+",tf=ef+"%";function nf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var rf=new RegExp("rgb"+nf(ef,ef,ef)),af=new RegExp("rgba"+nf(ef,ef,ef,ef)),sf=new RegExp("hsl"+nf(ef,tf,tf)),of=new RegExp("hsla"+nf(ef,tf,tf,ef)),lf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,uf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,cf=/^#([0-9a-fA-F]{6})$/,hf=/^#([0-9a-fA-F]{8})$/;function ff(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function df(e,t,n){var i=n<.5?n*(1+t):n+t-n*t,r=2*n-i,a=ff(r,i,e+1/3),s=ff(r,i,e),o=ff(r,i,e-1/3);return Math.round(255*a)<<24|Math.round(255*s)<<16|Math.round(255*o)<<8}function pf(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function vf(e){return(parseFloat(e)%360+360)%360/360}function mf(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function gf(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function yf(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=cf.exec(e))?parseInt(t[1]+"ff",16)>>>0:Uh&&void 0!==Uh[e]?Uh[e]:(t=rf.exec(e))?(pf(t[1])<<24|pf(t[2])<<16|pf(t[3])<<8|255)>>>0:(t=af.exec(e))?(pf(t[1])<<24|pf(t[2])<<16|pf(t[3])<<8|mf(t[4]))>>>0:(t=lf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=hf.exec(e))?parseInt(t[1],16)>>>0:(t=uf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=sf.exec(e))?(255|df(vf(t[1]),gf(t[2]),gf(t[3])))>>>0:(t=of.exec(e))?(df(vf(t[1]),gf(t[2]),gf(t[3]))|mf(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,i=(65280&t)>>>8,r=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(i,", ").concat(r,")")}var _f=function e(t,n,i){if(Ch.fun(t))return t;if(Ch.arr(t))return e({range:t,output:n,extrapolate:i});if(Ch.str(t.output[0]))return Fh(t);var r=t,a=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,s);return function(e,t,n,i,r,a,s,o,l){var u=l?l(e):e;if(u<t){if("identity"===s)return u;"clamp"===s&&(u=t)}if(u>n){if("identity"===o)return u;"clamp"===o&&(u=n)}if(i===r)return i;if(t===n)return e<=t?i:r;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=a(u),i===-1/0?u=-u:r===1/0?u+=i:u=u*(r-i)+i;return u}(e,s[t],s[t+1],a[t],a[t+1],u,o,l,r.map)}};function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bf.apply(this,arguments)}var xf=Symbol.for("FluidValue.get"),wf=Symbol.for("FluidValue.observers"),kf=function(e){return Boolean(e&&e[xf])},Mf=function(e){return e&&e[xf]?e[xf]():e},Tf=function(e){return e[wf]||null};function Sf(e,t){var n=e[wf];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Af=mt((function e(t){if(pt(this,e),this[xf]=void 0,this[wf]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Ef(this,t)})),Ef=function(e,t){return Pf(e,xf,t)};function Lf(e,t){if(e[xf]){var n=e[wf];n||Pf(e,wf,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Cf(e,t){var n=e[wf];if(n&&n.has(t)){var i=n.size-1;i?n.delete(t):e[wf]=null,e.observerRemoved&&e.observerRemoved(i,t)}}var Of,Pf=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},If=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Nf=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Rf=new RegExp("(".concat(If.source,")(%|[a-z]+)"),"i"),Ff=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Bf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Df=function e(t){var n=ht(jf(t),2),i=n[0],r=n[1];if(!i||jh())return t;var a=window.getComputedStyle(document.documentElement).getPropertyValue(i);if(a)return a.trim();if(r&&r.startsWith("--")){var s=window.getComputedStyle(document.documentElement).getPropertyValue(r);return s||t}return r&&Bf.test(r)?e(r):r||t},jf=function(e){var t=Bf.exec(e);if(!t)return[,];var n=ht(t,3);return[n[1],n[2]]},Uf=function(e,t,n,i,r){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(i),", ").concat(r,")")},Vf=function(e){Of||(Of=Uh?new RegExp("(".concat(Object.keys(Uh).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return Mf(e).replace(Bf,Df).replace(Nf,yf).replace(Of,yf)})),n=t.map((function(e){return e.match(If).map(Number)})),i=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})),r=i.map((function(t){return _f(bf({},e,{output:t}))}));return function(e){var n,i=!Rf.test(t[0])&&(null==(n=t.find((function(e){return Rf.test(e)})))?void 0:n.replace(If,"")),a=0;return t[0].replace(If,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(Ff,Uf)}},Gf="react-spring: ",zf=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(Gf,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},Wf=zf(console.warn);function Hf(){Wf("".concat(Gf,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var Yf=zf(console.warn);function Xf(e){return Ch.str(e)&&("#"==e[0]||/\d/.test(e)||!jh()&&Bf.test(e)||e in(Uh||{}))}var qf=jh()?r.useEffect:r.useLayoutEffect;function $f(){var e=(0,r.useState)()[1],t=function(){var e=(0,r.useRef)(!1);return qf((function(){return e.current=!0,function(){e.current=!1}}),[]),e}();return function(){t.current&&e(Math.random())}}var Kf=function(e){return(0,r.useEffect)(e,Qf)},Qf=[];function Zf(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}var Jf=Symbol.for("Animated:node"),ed=function(e){return e&&e[Jf]},td=function(e,t){return n=e,i=Jf,r=t,Object.defineProperty(n,i,{value:r,writable:!0,configurable:!0});var n,i,r},nd=function(e){return e&&e[Jf]&&e[Jf].getPayload()},id=function(){function e(){pt(this,e),this.payload=void 0,td(this,this)}return mt(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),rd=function(e){yt(n,e);var t=Mt(n);function n(e){var i;return pt(this,n),(i=t.call(this)).done=!0,i.elapsedTime=void 0,i.lastPosition=void 0,i.lastVelocity=void 0,i.v0=void 0,i.durationProgress=0,i._value=e,Ch.num(i._value)&&(i.lastPosition=i._value),i}return mt(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return Ch.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,Ch.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(id),ad=function(e){yt(n,e);var t=Mt(n);function n(e){var i;return pt(this,n),(i=t.call(this,0))._string=null,i._toString=void 0,i._toString=_f({output:[e,e]}),i}return mt(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(Ch.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!uh(_t(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=_f({output:[this.getValue(),e]})),this._value=0,uh(_t(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(rd),sd={dependencies:null},od=function(e){yt(n,e);var t=Mt(n);function n(e){var i;return pt(this,n),(i=t.call(this)).source=e,i.setValue(e),i}return mt(n,[{key:"getValue",value:function(e){var t={};return Ih(this.source,(function(n,i){var r;(r=n)&&r[Jf]===r?t[i]=n.getValue(e):kf(n)?t[i]=Mf(n):e||(t[i]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Ph(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Ih(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;sd.dependencies&&kf(e)&&sd.dependencies.add(e);var n=nd(e);n&&Ph(n,(function(e){return t.add(e)}))}}]),n}(id),ld=function(e){yt(n,e);var t=Mt(n);function n(e){return pt(this,n),t.call(this,e)}return mt(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(uh(_t(n.prototype),"setValue",this).call(this,e.map(ud)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(od);function ud(e){return(Xf(e)?ad:rd).create(e)}function cd(e){var t=ed(e);return t?t.constructor:Ch.arr(e)?ld:Xf(e)?ad:rd}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hd.apply(this,arguments)}var fd=function(e,t){var n=!Ch.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,r.forwardRef)((function(i,a){var s=(0,r.useRef)(null),o=n&&(0,r.useCallback)((function(e){s.current=function(e,t){e&&(Ch.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),l=function(e,t){var n=new Set;sd.dependencies=n,e.style&&(e=hd({},e,{style:t.createAnimatedStyle(e.style)}));return e=new od(e),sd.dependencies=null,[e,n]}(i,t),u=ht(l,2),c=u[0],h=u[1],f=$f(),d=function(){var e=s.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,c.getValue(!0)))&&f()},p=new dd(d,h),v=(0,r.useRef)();qf((function(){return v.current=p,Ph(h,(function(e){return Lf(e,p)})),function(){v.current&&(Ph(v.current.deps,(function(e){return Cf(e,v.current)})),fh.cancel(v.current.update))}})),(0,r.useEffect)(d,[]),Kf((function(){return function(){var e=v.current;Ph(e.deps,(function(t){return Cf(t,e)}))}}));var m=t.getComponentProps(c.getValue());return r.createElement(e,hd({},m,{ref:o}))}))},dd=function(){function e(t,n){pt(this,e),this.update=t,this.deps=n}return mt(e,[{key:"eventObserved",value:function(e){"change"==e.type&&fh.write(this.update)}}]),e}();var pd=Symbol.for("AnimatedComponent"),vd=function(e){return Ch.str(e)?e:e&&Ch.str(e.displayName)?e.displayName:Ch.fun(e)&&e.name||null};function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},md.apply(this,arguments)}function gd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Ch.fun(e)?e.apply(void 0,n):e}var yd=function(e,t){return!0===e||!!(t&&e&&(Ch.fun(e)?e(t):Nh(e).includes(t)))},_d=function(e,t){return Ch.obj(e)?t&&e[t]:e},bd=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},xd=function(e){return e},wd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xd,n=kd;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var i,r={},a=ch(n);try{for(a.s();!(i=a.n()).done;){var s=i.value,o=t(e[s],s);Ch.und(o)||(r[s]=o)}}catch(l){a.e(l)}finally{a.f()}return r},kd=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Md={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Td(e){var t=function(e){var t={},n=0;if(Ih(e,(function(e,i){Md[i]||(t[i]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Ih(e,(function(e,i){return i in t||(n[i]=e)})),n}return md({},e)}function Sd(e){return e=Mf(e),Ch.arr(e)?e.map(Sd):Xf(e)?Wh.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Ad(e){for(var t in e)return!0;return!1}function Ed(e){return Ch.fun(e)||Ch.arr(e)&&Ch.obj(e[0])}function Ld(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function Cd(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var Od=1.70158,Pd=1.525*Od,Id=Od+1,Nd=2*Math.PI/3,Rd=2*Math.PI/4.5,Fd=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Bd={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return Id*e*e*e-Od*e*e},easeOutBack:function(e){return 1+Id*Math.pow(e-1,3)+Od*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-Pd)/2:(Math.pow(2*e-2,2)*((Pd+1)*(2*e-2)+Pd)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Nd)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Nd)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Rd)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Rd)/2+1},easeInBounce:function(e){return 1-Fd(1-e)},easeOutBounce:Fd,easeInOutBounce:function(e){return e<.5?(1-Fd(1-2*e))/2:(1+Fd(2*e-1))/2}},Dd=md({},{tension:170,friction:26},{mass:1,damping:1,easing:Bd.linear,clamp:!1}),jd=mt((function e(){pt(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Dd)}));function Ud(e,t){if(Ch.und(t.decay)){var n=!Ch.und(t.tension)||!Ch.und(t.friction);!n&&Ch.und(t.frequency)&&Ch.und(t.damping)&&Ch.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Vd=[],Gd=mt((function e(){pt(this,e),this.changed=!1,this.values=Vd,this.toValues=null,this.fromValues=Vd,this.to=void 0,this.from=void 0,this.config=new jd,this.immediate=!1}));function zd(e,t){var n=t.key,i=t.props,r=t.defaultProps,a=t.state,s=t.actions;return new Promise((function(t,o){var l,u,c,h=yd(null!=(l=i.cancel)?l:null==r?void 0:r.cancel,n);if(h)v();else{Ch.und(i.pause)||(a.paused=yd(i.pause,n));var f=null==r?void 0:r.pause;!0!==f&&(f=a.paused||yd(f,n)),u=gd(i.delay||0,n),f?(a.resumeQueue.add(p),s.pause()):(s.resume(),p())}function d(){a.resumeQueue.add(p),a.timeouts.delete(c),c.cancel(),u=c.time-fh.now()}function p(){u>0&&!Wh.skipAnimation?(a.delayed=!0,c=fh.setTimeout(v,u),a.pauseQueue.add(d),a.timeouts.add(c)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(d),a.timeouts.delete(c),e<=(a.cancelId||0)&&(h=!0);try{s.start(md({},i,{callId:e,cancel:h}),t)}catch(n){o(n)}}}))}var Wd=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?Xd(e.get()):t.every((function(e){return e.noop}))?Hd(e.get()):Yd(e.get(),t.every((function(e){return e.finished})))},Hd=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},Yd=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},Xd=function(e){return{value:e,cancelled:!0,finished:!1}};function qd(e,t,n,i){var r=t.callId,a=t.parentId,s=t.onRest,o=n.asyncTo,l=n.promise;return a||e!==o||t.reset?n.promise=$n(Xn().mark((function u(){var c,h,f,d,p,v,m,g;return Xn().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(n.asyncId=r,n.asyncTo=e,c=wd(t,(function(e,t){return"onRest"===t?void 0:e})),d=new Promise((function(e,t){return h=e,f=t})),p=function(e){var t=r<=(n.cancelId||0)&&Xd(i)||r!==n.asyncId&&Yd(i,!1);if(t)throw e.result=t,f(e),e},v=function(e,t){var a=new Kd,s=new Qd;return $n(Xn().mark((function o(){var l,u;return Xn().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!Wh.skipAnimation){o.next=5;break}throw $d(n),s.result=Yd(i,!1),f(s),s;case 5:return p(a),(l=Ch.obj(e)?md({},e):md({},t,{to:e})).parentId=r,Ih(c,(function(e,t){Ch.und(l[t])&&(l[t]=e)})),o.next=11,i.start(l);case 11:if(u=o.sent,p(a),!n.paused){o.next=16;break}return o.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return o.abrupt("return",u);case 17:case"end":return o.stop()}}),o)})))()},!Wh.skipAnimation){u.next=9;break}return $d(n),u.abrupt("return",Yd(i,!1));case 9:return u.prev=9,g=Ch.arr(e)?function(){var e=$n(Xn().mark((function e(t){var n,i,r;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ch(t),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=9;break}return r=i.value,e.next=7,v(r);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(v,i.stop.bind(i))),u.next=13,Promise.all([g.then(h),d]);case 13:m=Yd(i.get(),!0,!1),u.next=27;break;case 16:if(u.prev=16,u.t0=u.catch(9),!(u.t0 instanceof Kd)){u.next=22;break}m=u.t0.result,u.next=27;break;case 22:if(!(u.t0 instanceof Qd)){u.next=26;break}m=u.t0.result,u.next=27;break;case 26:throw u.t0;case 27:return u.prev=27,r==n.asyncId&&(n.asyncId=a,n.asyncTo=a?o:void 0,n.promise=a?l:void 0),u.finish(27);case 30:return Ch.fun(s)&&fh.batchedUpdates((function(){s(m,i,i.item)})),u.abrupt("return",m);case 32:case"end":return u.stop()}}),u,null,[[9,16,27,30]])})))():l}function $d(e,t){Rh(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Kd=function(e){yt(n,e);var t=Mt(n);function n(){var e;return pt(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return mt(n)}(St(Error)),Qd=function(e){yt(n,e);var t=Mt(n);function n(){var e;return pt(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return mt(n)}(St(Error)),Zd=function(e){return e instanceof ep},Jd=1,ep=function(e){yt(n,e);var t=Mt(n);function n(){var e;pt(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).id=Jd++,e.key=void 0,e._priority=0,e}return mt(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=ed(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Wh.to(this,t)}},{key:"interpolate",value:function(){Hf();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Wh.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Sf(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||$h.sort(this),Sf(this,{type:"priority",parent:this,priority:e})}}]),n}(Af),tp=Symbol.for("SpringPhase"),np=function(e){return(1&e[tp])>0},ip=function(e){return(2&e[tp])>0},rp=function(e){return(4&e[tp])>0},ap=function(e,t){return t?e[tp]|=3:e[tp]&=-3},sp=function(e,t){return t?e[tp]|=4:e[tp]&=-5},op=function(e){yt(n,e);var t=Mt(n);function n(e,i){var r;if(pt(this,n),(r=t.call(this)).key=void 0,r.animation=new Gd,r.queue=void 0,r.defaultProps={},r._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},r._pendingCalls=new Set,r._lastCallId=0,r._lastToId=0,r._memoizedDuration=0,!Ch.und(e)||!Ch.und(i)){var a=Ch.obj(e)?md({},e):md({},i,{from:e});Ch.und(a.default)&&(a.default=!0),r.start(a)}return r}return mt(n,[{key:"idle",get:function(){return!(ip(this)||this._state.asyncTo)||rp(this)}},{key:"goal",get:function(){return Mf(this.animation.to)}},{key:"velocity",get:function(){var e=ed(this);return e instanceof rd?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return np(this)}},{key:"isAnimating",get:function(){return ip(this)}},{key:"isPaused",get:function(){return rp(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,i=!1,r=this.animation,a=r.config,s=r.toValues,o=nd(r.to);!o&&kf(r.to)&&(s=Nh(Mf(r.to))),r.values.forEach((function(l,u){if(!l.done){var c=l.constructor==ad?1:o?o[u].lastPosition:s[u],h=r.immediate,f=c;if(!h){if(f=l.lastPosition,a.tension<=0)return void(l.done=!0);var d,p=l.elapsedTime+=e,v=r.fromValues[u],m=null!=l.v0?l.v0:l.v0=Ch.arr(a.velocity)?a.velocity[u]:a.velocity,g=a.precision||(v==c?.005:Math.min(1,.001*Math.abs(c-v)));if(Ch.und(a.duration))if(a.decay){var y=!0===a.decay?.998:a.decay,_=Math.exp(-(1-y)*p);f=v+m/(1-y)*(1-_),h=Math.abs(l.lastPosition-f)<=g,d=m*_}else{d=null==l.lastVelocity?m:l.lastVelocity;for(var b=a.restVelocity||g/10,x=a.clamp?0:a.bounce,w=!Ch.und(x),k=v==c?l.v0>0:v<c,M=Math.ceil(e/1),T=0;T<M&&(Math.abs(d)>b||!(h=Math.abs(c-f)<=g));++T){w&&(f==c||f>c==k)&&(d=-d*x,f=c),f+=1*(d+=1*((1e-6*-a.tension*(f-c)+.001*-a.friction*d)/a.mass))}}else{var S=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,l.durationProgress>0&&(l.elapsedTime=a.duration*l.durationProgress,p=l.elapsedTime+=e)),S=(S=(a.progress||0)+p/t._memoizedDuration)>1?1:S<0?0:S,l.durationProgress=S),d=((f=v+a.easing(S)*(c-v))-l.lastPosition)/e,h=1==S}l.lastVelocity=d,Number.isNaN(f)&&(console.warn("Got NaN while animating:",t),h=!0)}o&&!o[u].done&&(h=!1),h?l.done=!0:n=!1,l.setValue(f,a.round)&&(i=!0)}}));var l=ed(this),u=l.getValue();if(n){var c=Mf(r.to);u===c&&!i||a.decay?i&&a.decay&&this._onChange(u):(l.setValue(c),this._onChange(c)),this._stop()}else i&&this._onChange(u)}},{key:"set",value:function(e){var t=this;return fh.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(ip(this)){var t=this.animation,n=t.to,i=t.config;fh.batchedUpdates((function(){e._onStart(),i.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,i=this;return Ch.und(e)?(n=this.queue||[],this.queue=[]):n=[Ch.obj(e)?e:md({},t,{to:e})],Promise.all(n.map((function(e){return i._update(e)}))).then((function(e){return Wd(i,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),$d(this._state,e&&this._lastCallId),fh.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,i=e.from;(null==(n=Ch.obj(n)?n[t]:n)||Ed(n))&&(n=void 0),null==(i=Ch.obj(i)?i[t]:i)&&(i=void 0);var r={to:n,from:i};if(!np(this)){if(e.reverse){var a=[i,n];n=a[0],i=a[1]}i=Mf(i),Ch.und(i)?ed(this)||this._set(n):this._set(i)}return r}},{key:"_update",value:function(e,t){var n=this,i=md({},e),r=this.key,a=this.defaultProps;i.default&&Object.assign(a,wd(i,(function(e,t){return/^on/.test(t)?_d(e,r):e}))),dp(this,i,"onProps"),pp(this,"onProps",i,this);var s=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var o=this._state;return zd(++this._lastCallId,{key:r,props:i,defaultProps:a,state:o,actions:{pause:function(){rp(n)||(sp(n,!0),Dh(o.pauseQueue),pp(n,"onPause",Yd(n,lp(n,n.animation.to)),n))},resume:function(){rp(n)&&(sp(n,!1),ip(n)&&n._resume(),Dh(o.resumeQueue),pp(n,"onResume",Yd(n,lp(n,n.animation.to)),n))},start:this._merge.bind(this,s)}}).then((function(e){if(i.loop&&e.finished&&(!t||!e.noop)){var r=up(i);if(r)return n._update(r,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var i=this;if(t.cancel)return this.stop(!0),n(Xd(this));var r=!Ch.und(e.to),a=!Ch.und(e.from);if(r||a){if(!(t.callId>this._lastToId))return n(Xd(this));this._lastToId=t.callId}var s=this.key,o=this.defaultProps,l=this.animation,u=l.to,c=l.from,h=e.to,f=void 0===h?u:h,d=e.from,p=void 0===d?c:d;if(!a||r||t.default&&!Ch.und(f)||(f=p),t.reverse){var v=[p,f];f=v[0],p=v[1]}var m=!Oh(p,c);m&&(l.from=p),p=Mf(p);var g=!Oh(f,u);g&&this._focus(f);var y=Ed(t.to),_=l.config,b=_.decay,x=_.velocity;(r||a)&&(_.velocity=0),t.config&&!y&&function(e,t,n){for(var i in n&&(Ud(n=md({},n),t),t=md({},n,t)),Ud(e,t),Object.assign(e,t),Dd)null==e[i]&&(e[i]=Dd[i]);var r=e.mass,a=e.frequency,s=e.damping;Ch.und(a)||(a<.01&&(a=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/a,2)*r,e.friction=4*Math.PI*s*r/a)}(_,gd(t.config,s),t.config!==o.config?gd(o.config,s):void 0);var w=ed(this);if(!w||Ch.und(f))return n(Yd(this,!0));var k=Ch.und(t.reset)?a&&!t.default:!Ch.und(p)&&yd(t.reset,s),M=k?p:this.get(),T=Sd(f),S=Ch.num(T)||Ch.arr(T)||Xf(T),A=!y&&(!S||yd(o.immediate||t.immediate,s));if(g){var E=cd(f);if(E!==w.constructor){if(!A)throw Error("Cannot animate between ".concat(w.constructor.name," and ").concat(E.name,', as the "to" prop suggests'));w=this._set(T)}}var L=w.constructor,C=kf(f),O=!1;if(!C){var P=k||!np(this)&&m;(g||P)&&(C=!(O=Oh(Sd(M),T))),(Oh(l.immediate,A)||A)&&Oh(_.decay,b)&&Oh(_.velocity,x)||(C=!0)}if(O&&ip(this)&&(l.changed&&!k?C=!0:C||this._stop(u)),!y&&((C||kf(u))&&(l.values=w.getPayload(),l.toValues=kf(f)?null:L==ad?[1]:Nh(T)),l.immediate!=A&&(l.immediate=A,A||k||this._set(u)),C)){var I=l.onRest;Ph(fp,(function(e){return dp(i,t,e)}));var N=Yd(this,lp(this,u));Dh(this._pendingCalls,N),this._pendingCalls.add(n),l.changed&&fh.batchedUpdates((function(){l.changed=!k,null==I||I(N,i),k?gd(o.onRest,N):null==l.onStart||l.onStart(N,i)}))}k&&this._set(M),y?n(qd(t.to,t,this._state,this)):C?this._start():ip(this)&&!g?this._pendingCalls.add(n):n(Hd(M))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(Tf(this)&&this._detach(),t.to=e,Tf(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;kf(t)&&(Lf(t,this),Zd(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;kf(e)&&Cf(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=Mf(e);if(!Ch.und(i)){var r=ed(this);if(!r||!Oh(i,r.getValue())){var a=cd(i);r&&r.constructor==a?r.setValue(i):td(this,a.create(i)),r&&fh.batchedUpdates((function(){t._onChange(i,n)}))}}return ed(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,pp(this,"onStart",Yd(this,lp(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),gd(this.animation.onChange,e,this)),gd(this.defaultProps.onChange,e,this),uh(_t(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;ed(this).reset(Mf(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),ip(this)||(ap(this,!0),rp(this)||this._resume())}},{key:"_resume",value:function(){Wh.skipAnimation?this.finish():$h.start(this)}},{key:"_stop",value:function(e,t){if(ip(this)){ap(this,!1);var n=this.animation;Ph(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Sf(this,{type:"idle",parent:this});var i=t?Xd(this.get()):Yd(this.get(),lp(this,null!=e?e:n.to));Dh(this._pendingCalls,i),n.changed&&(n.changed=!1,pp(this,"onRest",i,this))}}}]),n}(ep);function lp(e,t){var n=Sd(t);return Oh(Sd(e.get()),n)}function up(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,i=gd(t);if(i){var r=!0!==i&&Td(i),a=(r||e).reverse,s=!r||r.reset;return cp(md({},e,{loop:t,default:!1,pause:void 0,to:!a||Ed(n)?n:void 0,from:s?e.from:void 0,reset:s},r))}}function cp(e){var t=e=Td(e),n=t.to,i=t.from,r=new Set;return Ch.obj(n)&&hp(n,r),Ch.obj(i)&&hp(i,r),e.keys=r.size?Array.from(r):null,e}function hp(e,t){Ih(e,(function(e,n){return null!=e&&t.add(n)}))}var fp=["onStart","onRest","onChange","onPause","onResume"];function dp(e,t,n){e.animation[n]=t[n]!==bd(t,n)?_d(t[n],e.key):void 0}function pp(e,t){for(var n,i,r,a,s,o,l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];null==(r=(a=e.animation)[t])||(n=r).call.apply(n,[a].concat(u)),null==(s=(o=e.defaultProps)[t])||(i=s).call.apply(i,[o].concat(u))}var vp=["onStart","onChange","onRest"],mp=1,gp=function(){function e(t,n){pt(this,e),this.id=mp++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(md({default:!0},t))}return mt(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];Ch.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(cp(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Nh(e).map(cp):this.queue=[],this._flush?this._flush(this,t):(Tp(this,t),yp(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Ph(Nh(t),(function(t){return n[t].stop(!!e)}))}else $d(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(Ch.und(e))this.start({pause:!0});else{var t=this.springs;Ph(Nh(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(Ch.und(e))this.start({pause:!1});else{var t=this.springs;Ph(Nh(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Ih(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,i=t.onChange,r=t.onRest,a=this._active.size>0,s=this._changed.size>0;(a&&!this._started||s&&!this._started)&&(this._started=!0,Rh(n,(function(t){var n=ht(t,2),i=n[0],r=n[1];r.value=e.get(),i(r,e,e._item)})));var o=!a&&this._started,l=s||o&&r.size?this.get():null;s&&i.size&&Rh(i,(function(t){var n=ht(t,2),i=n[0],r=n[1];r.value=l,i(r,e,e._item)})),o&&(this._started=!1,Rh(r,(function(t){var n=ht(t,2),i=n[0],r=n[1];r.value=l,i(r,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}fh.onFrame(this._onFrame)}}]),e}();function yp(e,t){return Promise.all(t.map((function(t){return _p(e,t)}))).then((function(t){return Wd(e,t)}))}function _p(e,t,n){return bp.apply(this,arguments)}function bp(){return bp=$n(Xn().mark((function e(t,n,i){var r,a,s,o,l,u,c,h,f,d,p,v,m;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.keys,a=n.to,s=n.from,o=n.loop,l=n.onRest,u=n.onResolve,c=Ch.obj(n.default)&&n.default,o&&(n.loop=!1),!1===a&&(n.to=null),!1===s&&(n.from=null),(h=Ch.arr(a)||Ch.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):Ph(vp,(function(e){var i=n[e];if(Ch.fun(i)){var r=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=r.get(i);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):r.set(i,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[e]=n[e])}})),f=t._state,n.pause===!f.paused?(f.paused=n.pause,Dh(n.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(n.pause=!0),d=(r||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===bd(n,"cancel"),(h||p&&f.asyncId)&&d.push(zd(++t._lastAsyncId,{props:n,state:f,actions:{pause:Lh,resume:Lh,start:function(e,n){p?($d(f,t._lastAsyncId),n(Xd(t))):(e.onRest=l,n(qd(h,e,f,t)))}}})),!f.paused){e.next=15;break}return e.next=15,new Promise((function(e){f.resumeQueue.add(e)}));case 15:return e.t0=Wd,e.t1=t,e.next=19,Promise.all(d);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!o||!v.finished||i&&v.noop){e.next=26;break}if(!(m=up(n,o,a))){e.next=26;break}return Tp(t,[m]),e.abrupt("return",_p(t,m,!0));case 26:return u&&fh.batchedUpdates((function(){return u(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)}))),bp.apply(this,arguments)}function xp(e,t){var n=md({},e.springs);return t&&Ph(Nh(t),(function(e){Ch.und(e.keys)&&(e=cp(e)),Ch.obj(e.to)||(e=md({},e,{to:void 0})),Mp(n,e,(function(e){return kp(e)}))})),wp(e,n),n}function wp(e,t){Ih(t,(function(t,n){e.springs[n]||(e.springs[n]=t,Lf(t,e))}))}function kp(e,t){var n=new op;return n.key=e,t&&Lf(n,t),n}function Mp(e,t,n){t.keys&&Ph(t.keys,(function(i){(e[i]||(e[i]=n(i)))._prepareNode(t)}))}function Tp(e,t){Ph(t,(function(t){Mp(e.springs,t,(function(t){return kp(t,e)}))}))}function Sp(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var Ap=["children"],Ep=function(e){var t=e.children,n=Sp(e,Ap),i=(0,r.useContext)(Lp),a=n.pause||!!i.pause,s=n.immediate||!!i.immediate;n=function(e,t){var n=ht((0,r.useState)((function(){return{inputs:t,result:e()}})),1)[0],i=(0,r.useRef)(),a=i.current,s=a;if(s){var o=Boolean(t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.inputs));o||(s={inputs:t,result:e()})}else s=n;return(0,r.useEffect)((function(){i.current=s,a==n&&(n.inputs=n.result=void 0)}),[s]),s.result}((function(){return{pause:a,immediate:s}}),[a,s]);var o=Lp.Provider;return r.createElement(o,{value:n},t)},Lp=function(e,t){return Object.assign(e,r.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}(Ep,{});Ep.Provider=Lp.Provider,Ep.Consumer=Lp.Consumer;var Cp=function(){var e=[],t=function(t){Yf("".concat(Gf,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var i=[];return Ph(e,(function(e,r){if(Ch.und(t))i.push(e.start());else{var a=n(t,e,r);a&&i.push(e.start(a))}})),i};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return Ph(e,(function(e){return e.pause.apply(e,dt(t))})),this},t.resume=function(){var t=arguments;return Ph(e,(function(e){return e.resume.apply(e,dt(t))})),this},t.set=function(t){Ph(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,i=[];return Ph(e,(function(e,r){if(Ch.und(t))i.push(e.start());else{var a=n._getProps(t,e,r);a&&i.push(e.start(a))}})),i},t.stop=function(){var t=arguments;return Ph(e,(function(e){return e.stop.apply(e,dt(t))})),this},t.update=function(t){var n=this;return Ph(e,(function(e,i){return e.update(n._getProps(t,e,i))})),this};var n=function(e,t,n){return Ch.fun(e)?e(n,t):e};return t._getProps=n,t};var Op;function Pp(e,t,n){var i=arguments,a=Ch.fun(t)&&t,s=a?a():t,o=s.reset,l=s.sort,u=s.trail,c=void 0===u?0:u,h=s.expires,f=void 0===h||h,d=s.exitBeforeEnter,p=void 0!==d&&d,v=s.onDestroyed,m=s.ref,g=s.config,y=(0,r.useMemo)((function(){return a||3==i.length?Cp():void 0}),[]),_=Nh(e),b=[],x=(0,r.useRef)(null),w=o?null:x.current;qf((function(){x.current=b})),Kf((function(){return Ph(b,(function(e){null==y||y.add(e.ctrl),e.ctrl.ref=y})),function(){Ph(x.current,(function(e){e.expired&&clearTimeout(e.expirationId),Ld(e.ctrl,y),e.ctrl.stop(!0)}))}}));var k=Np(_,a?a():t,w),M=o&&x.current||[];qf((function(){return Ph(M,(function(e){var t=e.ctrl,n=e.item,i=e.key;Ld(t,y),gd(v,n,i)}))}));var T=[];if(w&&Ph(w,(function(e,t){e.expired?(clearTimeout(e.expirationId),M.push(e)):~(t=T[t]=k.indexOf(e.key))&&(b[t]=e)})),Ph(_,(function(e,t){b[t]||(b[t]={key:k[t],item:e,phase:Op.MOUNT,ctrl:new gp},b[t].ctrl.item=e)})),T.length){var S=-1,A=a?a():t,E=A.leave;Ph(T,(function(e,t){var n=w[t];~e?(S=b.indexOf(n),b[S]=md({},n,{item:_[e]})):E&&b.splice(++S,0,n)}))}Ch.fun(l)&&b.sort((function(e,t){return l(e.item,t.item)}));var L=-c,C=$f(),O=wd(t),P=new Map,I=(0,r.useRef)(new Map),N=(0,r.useRef)(!1);Ph(b,(function(e,n){var i,r,s=e.key,o=e.phase,l=a?a():t,u=gd(l.delay||0,s);if(o==Op.MOUNT)i=l.enter,r=Op.ENTER;else{var h=k.indexOf(s)<0;if(o!=Op.LEAVE)if(h)i=l.leave,r=Op.LEAVE;else{if(!(i=l.update))return;r=Op.UPDATE}else{if(h)return;i=l.enter,r=Op.ENTER}}if(i=gd(i,e.item,n),!(i=Ch.obj(i)?Td(i):{to:i}).config){var d=g||O.config;i.config=gd(d,e.item,n,r)}var v=md({},O,{delay:u+(L+=c),ref:m,immediate:l.immediate,reset:!1},i);if(r==Op.ENTER&&Ch.und(v.from)){var y=a?a():t,_=Ch.und(y.initial)||w?y.from:y.initial;v.from=gd(_,e.item,n)}var b=v.onResolve;v.onResolve=function(e){gd(b,e);var t=x.current,n=t.find((function(e){return e.key===s}));if(n&&(!e.cancelled||n.phase==Op.UPDATE)&&n.ctrl.idle){var i=t.every((function(e){return e.ctrl.idle}));if(n.phase==Op.LEAVE){var r=gd(f,n.item);if(!1!==r){var a=!0===r?0:r;if(n.expired=!0,!i&&a>0)return void(a<=2147483647&&(n.expirationId=setTimeout(C,a)))}}i&&t.some((function(e){return e.expired}))&&(I.current.delete(n),p&&(N.current=!0),C())}};var M=xp(e.ctrl,v);r===Op.LEAVE&&p?I.current.set(e,{phase:r,springs:M,payload:v}):P.set(e,{phase:r,springs:M,payload:v})}));var R=(0,r.useContext)(Ep),F=Zf(R),B=R!==F&&Ad(R);qf((function(){B&&Ph(b,(function(e){e.ctrl.start({default:R})}))}),[R]),Ph(P,(function(e,t){if(I.current.size){var n=b.findIndex((function(e){return e.key===t.key}));b.splice(n,1)}})),qf((function(){Ph(I.current.size?I.current:P,(function(e,t){var n=e.phase,i=e.payload,r=t.ctrl;t.phase=n,null==y||y.add(r),B&&n==Op.ENTER&&r.start({default:R}),i&&(Cd(r,i.ref),!r.ref&&!y||N.current?(r.start(i),N.current&&(N.current=!1)):r.update(i))}))}),o?void 0:n);var D=function(e){return r.createElement(r.Fragment,null,b.map((function(t,n){var i=(P.get(t)||t.ctrl).springs,a=e(md({},i),t.item,t,n);return a&&a.type?r.createElement(a.type,md({},a.props,{key:Ch.str(t.key)||Ch.num(t.key)?t.key:t.ctrl.id,ref:a.ref})):a})))};return y?[D,y]:D}!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Op||(Op={}));var Ip=1;function Np(e,t,n){var i=t.key,r=t.keys,a=void 0===r?i:r;if(null===a){var s=new Set;return e.map((function(e){var t=n&&n.find((function(t){return t.item===e&&t.phase!==Op.LEAVE&&!s.has(t)}));return t?(s.add(t),t.key):Ip++}))}return Ch.und(a)?e:Ch.fun(a)?e.map(a):Nh(a)}var Rp=function(e){yt(n,e);var t=Mt(n);function n(e,i){var r;pt(this,n),(r=t.call(this)).key=void 0,r.idle=!0,r.calc=void 0,r._active=new Set,r.source=e,r.calc=_f.apply(void 0,dt(i));var a=r._get(),s=cd(a);return td(wt(r),s.create(a)),r}return mt(n,[{key:"advance",value:function(e){var t=this._get();Oh(t,this.get())||(ed(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Bp(this._active)&&Dp(this)}},{key:"_get",value:function(){var e=Ch.arr(this.source)?this.source.map(Mf):Nh(Mf(this.source));return this.calc.apply(this,dt(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Bp(this._active)&&(this.idle=!1,Ph(nd(this),(function(e){e.done=!1})),Wh.skipAnimation?(fh.batchedUpdates((function(){return e.advance()})),Dp(this)):$h.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Ph(Nh(this.source),(function(n){kf(n)&&Lf(n,e),Zd(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Ph(Nh(this.source),(function(t){kf(t)&&Cf(t,e)})),this._active.clear(),Dp(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Nh(this.source).reduce((function(e,t){return Math.max(e,(Zd(t)?t.priority:0)+1)}),0))}}]),n}(ep);function Fp(e){return!1!==e.idle}function Bp(e){return!e.size||Array.from(e).every(Fp)}function Dp(e){e.idle||(e.idle=!0,Ph(nd(e),(function(e){e.done=!0})),Sf(e,{type:"idle",parent:e}))}Wh.assign({createStringInterpolator:Vf,to:function(e,t){return new Rp(e,t)}});$h.advance;function jp(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var Up=["style","children","scrollTop","scrollLeft"],Vp=/^--/;function Gp(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||Vp.test(e)||Wp.hasOwnProperty(e)&&Wp[e]?(""+t).trim():t+"px"}var zp={};var Wp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hp=["Webkit","Ms","Moz","O"];Wp=Object.keys(Wp).reduce((function(e,t){return Hp.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),Wp);var Yp=["x","y","z"],Xp=/^(matrix|translate|scale|rotate|skew)/,qp=/^(translate)/,$p=/^(rotate|skew)/,Kp=function(e,t){return Ch.num(e)&&0!==e?e+t:e},Qp=function e(t,n){return Ch.arr(t)?t.every((function(t){return e(t,n)})):Ch.num(t)?t===n:parseFloat(t)===n},Zp=function(e){yt(n,e);var t=Mt(n);function n(e){pt(this,n);var i=e.x,r=e.y,a=e.z,s=jp(e,Yp),o=[],l=[];return(i||r||a)&&(o.push([i||0,r||0,a||0]),l.push((function(e){return["translate3d(".concat(e.map((function(e){return Kp(e,"px")})).join(","),")"),Qp(e,0)]}))),Ih(s,(function(e,t){if("transform"===t)o.push([e||""]),l.push((function(e){return[e,""===e]}));else if(Xp.test(t)){if(delete s[t],Ch.und(e))return;var n=qp.test(t)?"px":$p.test(t)?"deg":"";o.push(Nh(e)),l.push("rotate3d"===t?function(e){var t=ht(e,4),i=t[0],r=t[1],a=t[2],s=t[3];return["rotate3d(".concat(i,",").concat(r,",").concat(a,",").concat(Kp(s,n),")"),Qp(s,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return Kp(e,n)})).join(","),")"),Qp(e,t.startsWith("scale")?1:0)]})}})),o.length&&(s.transform=new Jp(o,l)),t.call(this,s)}return mt(n)}(od),Jp=function(e){yt(n,e);var t=Mt(n);function n(e,i){var r;return pt(this,n),(r=t.call(this))._value=null,r.inputs=e,r.transforms=i,r}return mt(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Ph(this.inputs,(function(i,r){var a=Mf(i[0]),s=ht(e.transforms[r](Ch.arr(a)?a:i.map(Mf)),2),o=s[0],l=s[1];t+=" "+o,n=n&&l})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&Ph(this.inputs,(function(e){return Ph(e,(function(e){return kf(e)&&Lf(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&Ph(this.inputs,(function(e){return Ph(e,(function(e){return kf(e)&&Cf(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),Sf(this,e)}}]),n}(Af),ev=["scrollTop","scrollLeft"];Wh.assign({batchedUpdates:si.unstable_batchedUpdates,createStringInterpolator:Vf,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var tv,nv,iv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,i=void 0===n?function(){return!1}:n,r=t.createAnimatedStyle,a=void 0===r?function(e){return new od(e)}:r,s=t.getComponentProps,o=void 0===s?function(e){return e}:s,l={applyAnimatedValues:i,createAnimatedStyle:a,getComponentProps:o},u=function e(t){var n=vd(t)||"Anonymous";return(t=Ch.str(t)?e[t]||(e[t]=fd(t,l)):t[pd]||(t[pd]=fd(t,l))).displayName="Animated(".concat(n,")"),t};return Ih(e,(function(t,n){Ch.arr(e)&&(n=vd(t)),u[n]=u(t)})),{animated:u}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,i=t,r=i.style,a=i.children,s=i.scrollTop,o=i.scrollLeft,l=jp(i,Up),u=Object.values(l),c=Object.keys(l).map((function(t){return n||e.hasAttribute(t)?t:zp[t]||(zp[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var h in void 0!==a&&(e.textContent=a),r)if(r.hasOwnProperty(h)){var f=Gp(h,r[h]);Vp.test(h)?e.style.setProperty(h,f):e.style[h]=f}c.forEach((function(t,n){e.setAttribute(t,u[n])})),void 0!==s&&(e.scrollTop=s),void 0!==o&&(e.scrollLeft=o)},createAnimatedStyle:function(e){return new Zp(e)},getComponentProps:function(e){return jp(e,ev)}}),rv=iv.animated,av=n(4384),sv=n.n(av),ov="topBar_container__8pk2x",lv="topBar_contentWrapper__sGpq4",uv="topBar_content__uzje9",cv="topBar_timer__KH6R1",hv="topBar_scoreWrapper__UhYfq",fv="topBar_score__lywmF",dv="topBar_scoreProgress__OUMqV",pv="topBar_progressMilestones__WeQJF",vv="topBar_milestone__lNOVN",mv="topBar_progressBarWrapper__CdivR",gv="topBar_progressBar__YBi+p",yv="topBar_chestWrapper__dn1pU",_v=function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.round(e%60);return[t,n>9?n:"0"+n,i>9?i:"0"+i].filter(Boolean).join(":")},bv=function(e){var t=e.duration,n=ht((0,r.useState)({isPaused:!0,timeLeft:t,elapsed:t}),2),i=n[0],a=n[1],s=ht((0,r.useState)(),2),o=s[0],u=s[1],c=(0,r.useCallback)((function(){var e=setInterval((function(){a((function(t){var n,i=l({},t);return i.isPaused||(i.timeLeft=Math.max(0,i.timeLeft-1),i.timeLeft<10&&(null===(n=ii.loadedSounds[Kn.TIME_LEFT_10S])||void 0===n||!n.playing())&&ii.play(Kn.TIME_LEFT_10S),i.timeLeft<=0&&(ii.stop(Kn.TIME_LEFT_10S),clearInterval(e))),i}))}),1e3);return e}),[]);return(0,r.useEffect)((function(){return function(){ii.stop(Kn.TIME_LEFT_10S),o&&clearInterval(o)}}),[o]),(0,r.useEffect)((function(){u(c())}),[c]),(0,r.useEffect)((function(){var e=function(){a((function(e){var t=l({},e);return t.isPaused=!1,t}))},n=function(){a((function(e){var t=l({},e);return t.isPaused=!0,t.elapsed=t.timeLeft,t}))},i=function(){a((function(e){var t=l({},e);return t.isPaused=!1,t.timeLeft=t.elapsed,t}))},r=function(){a((function(e){var n=l({},e);return n.isPaused=!0,n.timeLeft=t,n.elapsed=t,n})),u((function(e){return ii.stop(Kn.TIME_LEFT_10S),clearInterval(e),c()}))};return Va.addListener(Ss,e),Va.addListener(As,n),Va.addListener(Es,i),Va.addListener(Ns,r),function(){Va.removeListener(Ss,e),Va.removeListener(As,n),Va.removeListener(Es,i),Va.removeListener(Ns,r)}}),[t,c]),(0,ri.jsx)("span",{children:_v(i.timeLeft)})},xv=(0,r.memo)(bv),wv=sv()(.61,.16,.24,1.53),kv=function(e){var t=e.chest,n=e.score,i=(e.started,Pp(t,{config:{duration:400,easing:function(e){return wv(e)}},from:{opacity:.2,transform:"scaleX(0.3) scaleY(0.3)"},enter:{opacity:1,transform:"scaleX(1) scaleY(1)"}}));return(0,ri.jsx)("div",{className:ov,children:(0,ri.jsx)("div",{className:lv,children:(0,ri.jsxs)("div",{className:uv,style:{backgroundImage:"url(".concat(Mv(t),")")},children:[(0,ri.jsx)("div",{className:cv,style:{backgroundImage:"url(".concat("assets/ingame-ui/timer_bd.png",")")},children:(0,ri.jsx)(xv,{duration:30})}),(0,ri.jsxs)("div",{className:hv,children:[(0,ri.jsxs)("div",{className:Vn()(fv,"sg-regular"),children:["\u0110i\u1ec3m c\u1ee7a b\u1ea1n: ",(0,ri.jsx)("span",{className:"sg-bold",children:n})]}),(0,ri.jsxs)("div",{className:dv,children:[(0,ri.jsx)("div",{className:pv,children:bs.map((function(e,t){return(0,ri.jsx)("div",{className:Vn()(vv,"sg-bold"),style:{left:"calc(var(--progress-bar-width) * ".concat(Math.min(1,e/bs[bs.length-1]),")")},children:e},"score_ms_".concat(t))}))}),(0,ri.jsx)("div",{className:mv,style:{backgroundColor:Sv(t)},children:(0,ri.jsx)("div",{className:gv,style:{backgroundColor:Av(t),width:"calc(var(--progress-bar-width) * ".concat(Math.min(1,n/bs[bs.length-1]),")")}})})]})]}),t!==Ya.NULL&&i((function(e,n){return n?(0,ri.jsxs)(rv.div,{className:yv,style:e,children:[(0,ri.jsx)("img",{src:Tv(t),alt:""}),(0,ri.jsxs)("span",{className:"sg-bold",style:{color:Av(t)},children:["R\u01b0\u01a1ng",(0,ri.jsx)("br",{}),Ds[t]]})]}):null}))]})})})},Mv=function(e){switch(e){case Ya.NULL:return"assets/ingame-ui/null_banner.png";case Ya.AM_NO:return"assets/ingame-ui/amno_banner.png";case Ya.SUNG_TUC:return"assets/ingame-ui/sungtuc_banner.png";case Ya.THINH_VUONG:return"assets/ingame-ui/thinhvuong_banner.png"}},Tv=function(e){switch(e){case Ya.AM_NO:return"assets/ingame-ui/amno_chest.png";case Ya.SUNG_TUC:return"assets/ingame-ui/sungtuc_chest.png";case Ya.THINH_VUONG:return"assets/ingame-ui/thinhvuong_chest.png"}},Sv=function(e){return e===Ya.SUNG_TUC?"#158A5A":e===Ya.THINH_VUONG?"#B1141A":"#7FA5B8"},Av=function(e){return e===Ya.THINH_VUONG?"#FFFFFF":"#000072"},Ev="bottomBar_container__jZrRp",Lv="bottomBar_contentWrapper__Xy+ja",Cv="bottomBar_content__wtu-N",Ov="bottomBar_homeButton__Zbq8r",Pv="bottomBar_homeButtonPlaceholder__NojUm",Iv="bottomBar_turnWrapper__tbvYi",Nv=function(e){var t=e.uiState,n=wn(),i=ht(Za(),1)[0],a=(0,r.useCallback)((function(){n("/home",{replace:!0})}),[n]);return(0,ri.jsx)("div",{className:Ev,children:(0,ri.jsx)("div",{className:Lv,children:(0,ri.jsxs)("div",{className:Cv,children:[t===zs.READY_TO_PLAY?(0,ri.jsx)(ai,{title:"Home",onClick:a,children:(0,ri.jsx)("div",{className:Ov,style:{backgroundImage:"url(".concat("assets/ingame-ui/home_button.png",")")}})}):(0,ri.jsx)("div",{className:Pv}),(0,ri.jsxs)("div",{className:Iv,children:[(0,ri.jsx)("img",{src:"assets/ingame-ui/ticket.png",alt:""}),(0,ri.jsxs)("span",{className:"sg-bold",children:[(null===i||void 0===i?void 0:i.ticketCount)||0," ",(0,ri.jsx)("span",{className:"sg-regular",children:"Th\u1ebb M\xe8o"})]})]})]})})})},Rv="zoomOverlay_container__A7MLa",Fv="zoomOverlay_hide__0CQOM",Bv="zoomOverlay_show__MuSqG",Dv="zoomOverlay_quote__Tdb-u",jv=function(){var e=ht((0,r.useState)(!1),2),t=e[0],n=e[1],i=ht((0,r.useState)(!1),2),a=i[0],s=i[1],o=Pp(a,{config:{duration:300},from:{opacity:0},enter:{opacity:1}});return(0,r.useEffect)((function(){var e=function(){n(!0),setTimeout((function(){s(!0)}),100)},t=function(){n(!1),s(!1)};return Va.addListener(Ls,e),Va.addListener(Cs,t),function(){Va.removeListener(Ls,e),Va.removeListener(Cs,t)}}),[]),(0,ri.jsx)("div",{className:Vn()(Rv,!t&&Fv,t&&Bv),children:o((function(e,t){return t?(0,ri.jsxs)(rv.div,{className:Vn()(Dv,"sg-bold"),style:e,children:["Ch\xfac b\u1ea1n ti\u1ec1n v\xe0o c\u1eeda tr\u01b0\u1edbc,",(0,ri.jsx)("br",{}),"ti\u1ec1n l\u1ebbn c\u1eeda sau, hai c\xe1i va v\xe0o",(0,ri.jsx)("br",{}),"nhau bay v\xe0o k\xe9t s\u1eaft!"]}):null}))})},Uv="ingameFtueModal_container__oR12z",Vv="ingameFtueModal_hide__Fi+iJ",Gv="ingameFtueModal_show__Ew7HW",zv="ingameFtueModal_content__b9j4r",Wv="ingameFtueModal_quote1__gwKJU",Hv="ingameFtueModal_demoCat__C-mqw",Yv="ingameFtueModal_demoTopBar__UIvun",Xv="ingameFtueModal_quote2__k+YQ+",qv="ingameFtueModal_page3Container__6Ea2O",$v="ingameFtueModal_page3Content__oT3tp",Kv="ingameFtueModal_quote3__9RzSZ",Qv="ingameFtueModal_vplogo__j-iPK",Zv="ingameFtueModal_actionButton__IeSAJ",Jv="ingameFtueModal_exitButton__GVW7j",em="ingameFtueModal_continueButton__OFUxb",tm=function(){var e=ht((0,r.useState)(!1),2),t=e[0],n=e[1],i=ht((0,r.useState)(0),2),a=i[0],s=i[1],o=ht((0,r.useState)(!0),2),l=o[0],u=o[1];(0,r.useEffect)((function(){var e=function(e){var t=e.showActionButton;n(!0),u(t)};return Va.addListener(Os,e),function(){Va.removeListener(Os,e)}}),[]);var c=(0,r.useCallback)((function(){s(0),n(!1),u(!0),Va.emit(Ps)}),[]),h=(0,r.useCallback)((function(){}),[]),f=(0,r.useMemo)((function(){return 0===a?(0,ri.jsxs)("div",{className:zv,children:[(0,ri.jsxs)("div",{className:Vn()(Wv,"sg-regular"),onClick:function(){return s((function(e){return e+1}))},children:[(0,ri.jsxs)("span",{children:["Tay c\u1ee7a M\xe8o Fast L\u1ed9c s\u1ebd ch\u1ec9 h\u01b0\u1edbng b\u1eafn",(0,ri.jsx)("br",{}),"l\xec x\xec cho b\u1ea1n. Khi b\u1eafn l\xec x\xec tr\xfang m\u1ee5c ti\xeau,",(0,ri.jsx)("br",{}),"b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c c\u1ed9ng \u0111i\u1ec3m"]}),(0,ri.jsx)("span",{className:"sg-bold",children:"Ch\u1ea1m v\xe0o \u0111\u1ec3 ti\u1ebfp t\u1ee5c"})]}),(0,ri.jsx)("img",{className:Hv,src:"assets/ingame-ui/demo_cat.png",alt:""})]}):1===a?(0,ri.jsxs)("div",{className:zv,children:[(0,ri.jsx)("img",{className:Yv,src:"assets/ingame-ui/demo_topbar.png",alt:""}),(0,ri.jsxs)("div",{className:Vn()(Xv,"sg-regular"),onClick:function(){return s((function(e){return e+1}))},children:[(0,ri.jsxs)("span",{children:["\u0110i\u1ec3m \u0111\u01b0\u1ee3c t\xednh khi ph\xe1t l\xec x\xec th\xe0nh c\xf4ng.",(0,ri.jsx)("br",{}),"C\xe1c m\u1ee9c \u0111i\u1ec3m g\u1ed3m ",(0,ri.jsx)("span",{className:"sg-bold",children:"10 \u0111i\u1ec3m"}),","," ",(0,ri.jsx)("span",{className:"sg-bold",children:"30 \u0111i\u1ec3m"})," v\xe0",(0,ri.jsx)("br",{}),(0,ri.jsx)("span",{className:"sg-bold",children:"50 \u0111i\u1ec3m"})," tu\u1ef3 theo v\u1ecb tr\xed xa - g\u1ea7n c\u1ee7a t\u1eebng",(0,ri.jsx)("br",{}),"nh\xe2n v\u1eadt \u0111\u01b0\u1ee3c nh\u1eadn l\xec x\xec.",(0,ri.jsx)("br",{}),"T\xedch lu\u1ef9 \u0111i\u1ec3m c\xe0ng cao s\u1ebd nh\u1eadn r\u01b0\u01a1ng qu\xe0",(0,ri.jsx)("br",{}),"c\xe0ng gi\xe1 tr\u1ecb."]}),(0,ri.jsx)("span",{className:"sg-bold",children:"Ch\u1ea1m v\xe0o \u0111\u1ec3 ti\u1ebfp t\u1ee5c"})]})]}):2===a?(0,ri.jsx)("div",{className:zv,children:(0,ri.jsx)("div",{className:qv,children:(0,ri.jsxs)("div",{className:$v,children:[(0,ri.jsx)("div",{className:Vn()(Kv,"sg-regular"),children:(0,ri.jsxs)("span",{children:["Khi tham gia ph\xe1t l\xec x\xec c\xf9ng M\xe8o Fast L\u1ed9c,",(0,ri.jsx)("br",{}),"h\xe3y s\u01b0u t\u1ea7m c\xe1c m\u1ea3nh gh\xe9p c\u1ee7a hoa",(0,ri.jsx)("br",{}),"Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t \u0111\u1ec3 c\xf3 c\u01a1 h\u1ed9i s\u1edf h\u1eefu s\u1ed5",(0,ri.jsx)("br",{}),"ti\u1ebft ki\u1ec7m tr\u1ecb gi\xe1 ",(0,ri.jsx)("span",{children:"123,456,789 VN\u0110."})]})}),(0,ri.jsx)("img",{className:Qv,src:"assets/ingame-ui/demo_vplogo.png",alt:""}),l&&(0,ri.jsx)(ai,{title:"explorer",customStyle:{marginTop:"6%"},onClick:h,children:(0,ri.jsx)("div",{className:Zv,style:{backgroundImage:"url(".concat("assets/ingame-ui/explorer_button.png",")")}})}),l&&(0,ri.jsx)(ai,{title:"playnow",customStyle:{marginTop:"2%"},onClick:c,children:(0,ri.jsx)("div",{className:Zv,style:{backgroundImage:"url(".concat("assets/ingame-ui/playnow_button.png",")")}})}),!l&&(0,ri.jsx)(ai,{title:"continue",customStyle:{marginTop:"20%"},onClick:c,children:(0,ri.jsx)("div",{className:Vn()(em,"sg-bold"),style:{backgroundImage:"url(".concat("assets/ui/primary_btn.png",")")},children:"Ti\u1ebfp t\u1ee5c"})}),(0,ri.jsx)(ai,{title:"exit",customStyle:{position:"absolute",bottom:"-18%"},onClick:c,children:(0,ri.jsx)("div",{className:Jv,style:{backgroundImage:"url(".concat("assets/ui/exit_button.png",")")}})})]})})}):null}),[c,h,a]);return(0,ri.jsx)("div",{className:Vn()(Uv,!t&&Vv,t&&Gv),children:f})},nm="questionButton_button__DpxcA",im=function(){var e=(0,r.useCallback)((function(){Va.emit(Os,{showActionButton:!1})}),[]);return(0,ri.jsx)(ai,{title:"question",onClick:e,customStyle:{position:"absolute",left:"calc(var(--ingame-width) - var(--ingame-width) * 0.1)",top:"calc(var(--ingame-width) * 0.23)"},children:(0,ri.jsx)("div",{className:nm,style:{backgroundImage:"url(".concat("assets/ingame-ui/question_button.png",")")}})})},rm="remindModal_container__I2Bgv",am="remindModal_hide__k3Kyt",sm="remindModal_show__4vEGa",om=function(){var e=ht((0,r.useState)(!0),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){n(!1)};return Va.addListener(Is,e),function(){Va.removeListener(Is,e)}}),[]),(0,ri.jsxs)("div",{className:Vn()(rm,!t&&am,t&&sm,"sg-medium"),style:{backgroundImage:"url(".concat("assets/ingame-ui/remind_bd.png",")")},children:["Click v\xe0o m\xecnh v\xe0",(0,ri.jsx)("br",{}),"ph\xe1t l\xec x\xec cho \xedt nh\u1ea5t",(0,ri.jsx)("br",{}),"1 ng\u01b0\u1eddi \u0111\u1ec3 nh\u1eadn",(0,ri.jsx)("br",{}),"\u0111\u01b0\u1ee3c qu\xe0 nh\xe9"]})},lm=(s(tv={},Ya.NULL,{name:"R\u01b0\u01a1ng",chestImage:"",theme:""}),s(tv,Ya.AM_NO,{name:"R\u01b0\u01a1ng \u1ea4m No",chestImage:"assets/ingame-ui/amno_chest.png",theme:"#9FD1D8"}),s(tv,Ya.SUNG_TUC,{name:"R\u01b0\u01a1ng Sung T\xfac",chestImage:"assets/ingame-ui/sungtuc_chest.png",theme:"#00AF4C"}),s(tv,Ya.THINH_VUONG,{name:"R\u01b0\u01a1ng Th\u1ecbnh V\u01b0\u1ee3ng",chestImage:"assets/ingame-ui/thinhvuong_chest.png",theme:"#F83A41"}),tv),um="chestModal_container__ZehqM",cm="chestModal_hide__f0DM2",hm="chestModal_content__SdF6e",fm="chestModal_text1__tY2XG",dm="chestModal_text2__EKGMj",pm="chestModal_text3__xiUBJ",vm="chestModal_chestWrapper__a1Ztz",mm="chestModal_chestGlow__K5oP+",gm="chestModal_chest__cCavi",ym="chestModal_text4__ND8nx",_m=function(e){var t=e.visible,n=e.chestInfo,i=e.onDimiss,a=ht((0,r.useState)(),2),s=a[0],o=a[1],l=ht((0,r.useState)(0),2),u=l[0],c=l[1];(0,r.useEffect)((function(){t||(c(0),o(void 0))}),[t]),(0,r.useEffect)((function(){return function(){ii.stop(Kn.SHOW_CHEST),s&&clearInterval(s)}}),[s]),(0,r.useEffect)((function(){n.score>0&&o((function(e){ii.play(Kn.SHOW_CHEST),e&&clearInterval(e);var t=setInterval((function(){c((function(e){var i=e+n.score/200;return i>=n.score&&(i=n.score,clearInterval(t),ii.stop(Kn.SHOW_CHEST)),i}))}),n.score/2e3);return t}))}),[n]);var h=Pp(t,{config:{duration:200},from:{opacity:.2,transform:"scaleX(0.2) scaleY(0.2)"},enter:{opacity:1,transform:"scaleX(1) scaleY(1)"}}),f=(0,r.useCallback)((function(){n.chestType!==Ya.NULL?Va.emit(Fs,{chest:n.chestType}):Va.emit(Ns),i()}),[n.chestType,i]);return(0,ri.jsx)("div",{className:Vn()(um,!t&&cm),children:h((function(e,t){return t?(0,ri.jsxs)(rv.div,{className:Vn()(hm,"sg-bold"),style:e,children:[(0,ri.jsx)("div",{className:fm,children:"\u0110i\u1ec3m c\u1ee7a b\u1ea1n"}),(0,ri.jsx)("div",{className:dm,children:(i=Math.round(u),i.toString().replace(/./g,(function(e,t,n){return t>0&&"."!==e&&(n.length-t)%3===0?","+e:e})))}),(0,ri.jsxs)("div",{className:pm,children:["Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 nh\u1eadn",(0,ri.jsx)("br",{}),"\u0111\u01b0\u1ee3c 1 ",lm[n.chestType].name]}),(0,ri.jsxs)("div",{className:vm,onClick:f,children:[(0,ri.jsx)("img",{src:"assets/ingame-ui/chest_glow.png",alt:"",className:mm}),(0,ri.jsx)("img",{src:lm[n.chestType].chestImage,alt:"",className:gm})]}),(0,ri.jsxs)("div",{className:ym,style:{color:lm[n.chestType].theme},children:["Ch\u1ea1m \u0111\u1ec3 m\u1edf qu\xe0 c\u1ee7a",(0,ri.jsx)("br",{}),"M\xe8o Fast L\u1ed9c n\xe0o!"]})]}):null;var i}))})},bm=function(e){var t=e.uiState,n=e.gameStarted,i=e.viewport,a=function(){var e=ht((0,r.useState)({width:0,height:0}),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){var e=window.innerWidth,t=window.innerHeight;n({width:e,height:t})};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]),[t]}(),s=ht(a,1)[0],o=ht((0,r.useState)(Ya.NULL),2),l=o[0],u=o[1],c=ht((0,r.useState)(0),2),h=c[0],f=c[1],d=ht((0,r.useState)({visible:!1,chestInfo:{chestType:Ya.NULL,score:0}}),2),p=d[0],v=d[1];(0,r.useEffect)((function(){var e=function(e){var t=e.score,n=e.chest;f(t),u(n)},t=function(){f(0),u(Ya.NULL)};return Va.addListener(Ns,t),Va.addListener(Ts,e),function(){Va.removeListener(Ns,t),Va.removeListener(Ts,e)}}),[]),(0,r.useEffect)((function(){var e=function(){v({visible:!0,chestInfo:{score:h,chestType:l}})};return Va.addListener(Rs,e),function(){Va.removeListener(Rs,e)}}),[l,h]);var m=(0,r.useMemo)((function(){var e=null===i||void 0===i?void 0:i.getViewportInfo();if(e){var t,n,r=ls.WORLD_WIDTH/ls.WORLD_HEIGHT;r<e.width/e.height?(n=e.height,t=e.height*r):(t=e.width,n=e.width/r);var a=(e.width-t)/2,s=(e.height-n)/2,o=Math.min(2,window.devicePixelRatio)||window.devicePixelRatio||1;return{x:a/o,y:s/o}}return{x:0,y:0}}),[i,s]),g={marginLeft:m.x,marginTop:m.y};return(0,ri.jsxs)("div",{className:Vn()(ah,"noselect"),children:[(0,ri.jsxs)("div",{className:Vn()(oh,t===zs.LOADING&&sh),style:g,children:[t!==zs.ENDED&&(0,ri.jsx)(kv,{started:n,chest:l,score:h}),t!==zs.ENDED&&(0,ri.jsx)(im,{}),t===zs.PLAYING&&(0,ri.jsx)(om,{}),t!==zs.ENDED&&(0,ri.jsx)(Nv,{uiState:t})]}),(0,ri.jsx)(jv,{}),(0,ri.jsx)(tm,{}),(0,ri.jsx)(_m,{visible:p.visible,chestInfo:p.chestInfo,onDimiss:function(){v((function(e){return{visible:!1,chestInfo:{score:0,chestType:Ya.NULL}}}))}})]})},xm=[{text1:"Tadaa b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c m\u1ed9t l\u1eddi ch\xfac",text2:"Ch\xfac b\u1ea1n 12 th\xe1ng ph\xfa qu\xfd,\n365 ng\xe0y ph\xe1t t\xe0i, 8.760 gi\u1edd sung t\xfac,\n525.600 ph\xfat th\xe0nh c\xf4ng\nv\xe0 31.536.000 gi\xe2y h\u1ea1nh ph\xfac."},{text1:"Nh\xe2n d\u1ecbp n\u0103m c\u1ee7a m\xecnh,\nM\xe8o L\u1ed9c Fast t\u1eb7ng b\u1ea1n c\xe2u ch\xfac",text2:"Ch\xfac b\u1ea1n B\u1ea7u tr\u1eddi S\u1ee9c kh\u1ecfe,\nBi\u1ec3n c\u1ea3 T\xecnh th\u01b0\u01a1ng,\n\u0110\u1ea1i d\u01b0\u01a1ng T\xecnh b\u1ea1n."},{text1:"T\u1ebft t\u1ebft t\u1ebft t\u1ebft \u0111\u1ebfn r\u1ed3i, ch\xfac m\u1eebng\nb\u1ea1n \u0111\xe3 nh\u1eadn \u0111\u01b0\u1ee3c m\u1ed9t l\u1eddi ch\xfac\nn\u0103m m\u1edbi",text2:"N\u0103m h\u1ebft T\u1ebft \u0111\u1ebfn,\n\u0110\u1ea1i l\u1ed9c x\u1ed3ng x\u1ed9c v\xe0o nh\xe0"},{text1:"Meow...meow...\nT\u1ebft \u0111\u1ebfn xu\xe2n v\u1ec1, M\xe8o Fast L\u1ed9c\nm\u1ebfn ch\xfac",text2:"Ch\xfac b\u1ea1n Ph\xe1t T\xe0i,\nSum V\u1ea7y H\u1ea1nh Ph\xfac"},{text1:"\xda o\xe0, qu\xe0 t\u1eb7ng c\u1ee7a b\u1ea1n l\xe0 m\u1ed9t\nl\u1eddi ch\xfac",text2:"N\u0103m c\u0169 qua \u0111i\nN\u0103m m\u1edbi \u0111\xe3 t\u1edbi\nS\u1ef1 nghi\u1ec7p s\xe1ng ng\u1eddi\nGia \u0111\xecnh Th\u1ecbnh V\u01b0\u1ee3ng"},{text1:"Th\u1eadt b\u1ea5t ng\u1edd, trong r\u01b0\u01a1ng n\xe0y\nc\xf3 m\u1ed9t l\u1eddi ch\xfac",text2:"Ch\xfac b\u1ea1n V\xe0ng B\u1ea1c \u0110\u1ea7y T\u1ee7,\nC\u1ea3 N\u0103m No \u0110\u1ee7"}],wm="luckyWishModal_container__Qn55n",km="luckyWishModal_headerImage__snu7L",Mm="luckyWishModal_info__17hFz",Tm="luckyWishModal_text1__1IedW",Sm="luckyWishModal_text2__65l-s",Am="luckyWishModal_actionRow__Ml5J6",Em="luckyWishModal_actionButton__lTj2L",Lm="luckyWishModal_exitButton__wC0xD",Cm=function(e){var t=e.chest,n=e.visible,i=e.onDismiss,a=ht((0,r.useState)(""),2),s=a[0],o=a[1],l=ht((0,r.useState)(""),2),u=l[0],c=l[1];(0,r.useEffect)((function(){if(n){var e=Mc(xm);o(e.text1),c(e.text2),setTimeout((function(){ii.play(Kn.LUCKY_WISH)}),100)}}),[n]);var h=(0,r.useCallback)((function(){i(),Va.emit(Ns)}),[i]);return(0,ri.jsx)(Si,{visible:n,onDismiss:h,children:(0,ri.jsxs)("div",{className:wm,style:{backgroundImage:"url(".concat("assets/ui/lucky_wish_bd.png",")")},children:[(0,ri.jsx)("img",{src:Om[t],alt:"",className:km}),(0,ri.jsxs)("div",{className:Mm,children:[(0,ri.jsx)("div",{className:Vn()(Tm,"sg-regular"),children:s}),(0,ri.jsx)("div",{className:Vn()(Sm,"sg-semibold"),children:u})]}),(0,ri.jsx)("div",{className:Am,children:(0,ri.jsx)(ai,{title:"mission",onClick:h,customStyle:{position:"absolute",bottom:"20%"},children:(0,ri.jsx)("div",{className:Vn()(Em,"sg-bold"),style:{backgroundImage:"url(".concat("assets/ui/primary_btn.png",")")},children:"Ch\u01a1i ti\u1ebfp"})})}),(0,ri.jsx)(ai,{title:"exit",customStyle:{position:"absolute",bottom:"-10%"},onClick:h,children:(0,ri.jsx)("div",{className:Lm,style:{backgroundImage:"url(".concat("assets/ui/exit_button.png",")")}})})]})})},Om=(s(nv={},Ya.NULL,"assets/ui/blue_chest_deco.png"),s(nv,Ya.AM_NO,"assets/ui/blue_chest_deco.png"),s(nv,Ya.SUNG_TUC,"assets/ui/green_chest_deco.png"),s(nv,Ya.THINH_VUONG,"assets/ui/red_chest_deco.png"),nv),Pm="outOfTicketModal_container__5ZXY9",Im="outOfTicketModal_info__VtKla",Nm="outOfTicketModal_title__uNkKn",Rm="outOfTicketModal_subTitle__W2Ttx",Fm="outOfTicketModal_banner__YUyGH",Bm="outOfTicketModal_actionRow__PB96W",Dm="outOfTicketModal_actionButton__NaYqu",jm="outOfTicketModal_exitButton__reGVp",Um=function(e){var t=e.visible,n=e.onDismiss,i=wn();return(0,ri.jsx)(Si,{visible:t,onDismiss:n,children:(0,ri.jsxs)("div",{className:Pm,style:{backgroundImage:"url(".concat("assets/ui/modal_bd_1.png",")")},children:[(0,ri.jsxs)("div",{className:Im,children:[(0,ri.jsx)("div",{className:Vn()(Nm,"sg-bold"),children:"\u1ed0 \u1ed3, b\u1ea1n \u0111\xe3 h\u1ebft l\u01b0\u1ee3t ch\u01a1i r\u1ed3i!"}),(0,ri.jsxs)("div",{className:Vn()(Rm,"sg-regular"),children:["C\xf9ng m\xecnh l\xe0m nhi\u1ec7m v\u1ee5 \u0111\u1ec3 c\xf3 th\xeam",(0,ri.jsx)("br",{}),"nhi\u1ec1u l\u01b0\u1ee3t n\u1eefa n\xe0o!"]}),(0,ri.jsx)("img",{className:Fm,src:"assets/ui/banner_deco_2.png",alt:""})]}),(0,ri.jsxs)("div",{className:Bm,children:[(0,ri.jsx)(ai,{title:"home",onClick:function(){i("/home",{replace:!0})},children:(0,ri.jsx)("div",{className:Vn()(Dm,"sg-bold"),style:{backgroundImage:"url(".concat("assets/ui/blue_button.png",")")},children:"Home"})}),(0,ri.jsx)(ai,{title:"mission",onClick:function(){i("/mission",{replace:!0})},children:(0,ri.jsx)("div",{className:Vn()(Dm,"sg-bold"),style:{backgroundImage:"url(".concat("assets/ui/primary_btn.png",")")},children:"Nhi\u1ec7m v\u1ee5"})})]}),(0,ri.jsx)(ai,{title:"exit",customStyle:{position:"absolute",bottom:"-12%"},onClick:n,children:(0,ri.jsx)("div",{className:jm,style:{backgroundImage:"url(".concat("assets/ui/exit_button.png",")")}})})]})})},Vm="rewardModal_container__7lAFd",Gm="rewardModal_headerImage__-Rtt5",zm="rewardModal_content__TIrG3",Wm="rewardModal_info__od+hd",Hm="rewardModal_actionRow__7YCqO",Ym="rewardModal_actionButton__CE2s+",Xm="rewardModal_exitButton__dhObj",qm="rewardModal_contentWrapper__kIQTm",$m="rewardModal_logoWrapper__GXt8I",Km="rewardModal_rewardText__BcZbH",Qm="rewardModal_subText__0N8Gb",Zm="rewardModal_contentWrapper2__zZLpl",Jm="rewardModal_logoWrapper2__jnUWc",eg="rewardModal_vpPieces__C9yu5",tg="rewardModal_vpPieces2__khVF5",ng="rewardModal_piece__hl0UZ",ig="rewardModal_rewardText2__kocM+",rg="assets/ui/top_right_piece_2.png",ag="assets/ui/bottom_left_peace_2.png",sg="assets/ui/top_left_piece_2.png",og="assets/ui/bottom_right_piece_2.png",lg=function(e){var t=e.visible,n=e.reward,i=e.onDismiss,a=wn(),s=(0,r.useMemo)((function(){return!(!n||"phat-4"!==n.type)}),[n]),o=(0,r.useCallback)((function(){i(),Va.emit(Ns)}),[i]),l=(0,r.useCallback)((function(){a("/basket",{replace:!0,state:{tab:s?2:1}})}),[s,a]),u=(0,r.useMemo)((function(){return s?"\u0110\u1ed5i qu\xe0 ngay":"Xem gi\u1ecf qu\xe0"}),[s]),c=(0,r.useCallback)((function(e){if(e.startsWith("cash-")){var t=e.substring(5,e.length).replaceAll("k","000");if(!isNaN(parseInt(t)))return parseInt(t)}return 0}),[]),h=(0,r.useMemo)((function(){if(!n)return null;if(n.type.startsWith("cash-")){var e=function(e){return e.toString().replace(/./g,(function(e,t,n){return t>0&&","!==e&&(n.length-t)%3===0?"."+e:e}))}(c(n.type));return(0,ri.jsxs)("div",{className:qm,children:[(0,ri.jsxs)("div",{className:$m,children:[(0,ri.jsx)("img",{src:"assets/ui/gift_cash.png",alt:"",className:"logo"}),(0,ri.jsxs)("span",{className:"sg-bold",children:[e," VN\u0110"]})]}),(0,ri.jsxs)("div",{className:Vn()(Km,"sg-bold"),children:["L\xec x\xec may m\u1eafn ",e," VN\u0110"]}),(0,ri.jsxs)("div",{className:Qm,children:["Tadaaa! Th\u1ea7n t\xe0i \u0111\u1ebfn nh\xe0, t\u1eb7ng b\u1ea1n l\xec x\xec",(0,ri.jsx)("br",{}),"may m\u1eafn ",e," VN\u0110."]})]})}return n.type.startsWith("phat-")?s?(0,ri.jsxs)("div",{className:Zm,children:[(0,ri.jsxs)("div",{className:Jm,children:[(0,ri.jsx)("img",{alt:"",src:"assets/ui/vpb_pieces_2.png",className:tg}),"phat-1"===n.type&&(0,ri.jsx)("img",{alt:"",src:sg,className:ng}),"phat-2"===n.type&&(0,ri.jsx)("img",{alt:"",src:rg,className:ng}),"phat-3"===n.type&&(0,ri.jsx)("img",{alt:"",src:ag,className:ng}),"phat-4"===n.type&&(0,ri.jsx)("img",{alt:"",src:og,className:ng})]}),(0,ri.jsxs)("div",{className:Vn()(ig,"sg-bold"),children:["X\u1eddi, tuy\u1ec7t v\u1eddi!",(0,ri.jsx)("br",{}),"B\u1ea1n \u0111\xe3 nh\u1eadn \u0111\u01b0\u1ee3c m\u1ea3nh gh\xe9p",(0,ri.jsx)("br",{}),"cu\u1ed1i c\xf9ng c\u1ee7a Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t"]}),(0,ri.jsxs)("div",{className:Qm,children:["Ch\xfang ta x\u1ee9ng \u0111\xe1ng c\xf3 m\u1ed9t s\u1ed5 ti\u1ebft ki\u1ec7m nhi\u1ec1u ti\u1ec1n",(0,ri.jsx)("br",{}),"h\u01a1n! VPBank s\u1ebd l\xe0 ng\u01b0\u1eddi l\xe0m \u0111i\u1ec1u \u0111\xf3 cho b\u1ea1n.",(0,ri.jsx)("br",{}),"T\u1eb7ng b\u1ea1n s\u1ed5 ti\u1ebft ki\u1ec7m tr\u1ecb gi\xe1 123.456.789 VN\u0110."]})]}):(0,ri.jsxs)("div",{className:Zm,children:[(0,ri.jsxs)("div",{className:Jm,children:[(0,ri.jsx)("img",{alt:"",src:"assets/ui/vpb_pieces.png",className:eg}),"phat-1"===n.type&&(0,ri.jsx)("img",{alt:"",src:sg,className:ng}),"phat-2"===n.type&&(0,ri.jsx)("img",{alt:"",src:rg,className:ng}),"phat-3"===n.type&&(0,ri.jsx)("img",{alt:"",src:ag,className:ng}),"phat-4"===n.type&&(0,ri.jsx)("img",{alt:"",src:og,className:ng})]}),(0,ri.jsxs)("div",{className:Vn()(Km,"sg-bold"),children:["M\u1ea3nh gh\xe9p",(0,ri.jsx)("br",{}),"hoa Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t"]}),(0,ri.jsxs)("div",{className:Qm,children:["Ulatroi! B\u1ea1n v\u1eeba nh\u1eadn \u0111\u01b0\u1ee3c 1 m\u1ea3nh gh\xe9p hoa",(0,ri.jsx)("br",{}),"Th\u1ecbnh V\u01b0\u1ee3ng- Ph\xe1t (s\u01b0u t\u1ea7m c\xe1c m\u1ea3nh c\xf2n l\u1ea1i \u0111\u1ec3",(0,ri.jsx)("br",{}),"s\u1edf h\u1eefu s\u1ed5 ti\u1ebft ki\u1ec7m gi\xe1 tr\u1ecb nh\xe9)."]})]}):"lynkid"===n.type?(0,ri.jsxs)("div",{className:qm,children:[(0,ri.jsx)("div",{className:$m,children:(0,ri.jsx)("img",{src:"assets/ui/gift_lid.png",alt:"",className:"logo"})}),(0,ri.jsx)("div",{className:Vn()(Km,"sg-bold"),children:"LynkID Voucher"}),(0,ri.jsxs)("div",{className:Qm,children:["V\u1ea1n k\u1ebft n\u1ed1i - v\xf4 v\xe0n qu\xe0 t\u1eb7ng.",(0,ri.jsx)("br",{}),"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 tr\xfang",(0,ri.jsx)("br",{}),"combo eVoucher LynkiD.",(0,ri.jsx)("br",{}),"Tha h\u1ed3 s\u1eafm T\u1ebft th\u1ea3 ga n\xe0o!"]})]}):"tai"===n.type?(0,ri.jsxs)("div",{className:qm,children:[(0,ri.jsx)("div",{className:$m,children:(0,ri.jsx)("img",{src:"assets/ui/gift_tvt.png",alt:"",className:"logo"})}),(0,ri.jsx)("div",{className:Vn()(Km,"sg-bold"),children:"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - T\xe0i"}),(0,ri.jsxs)("div",{className:Qm,children:["T\xe0i T\xe0i T\xe0i T\xe0i \u0111\u1ebfn r\u1ed3i!",(0,ri.jsx)("br",{}),"T\u1eb7ng b\u1ea1n l\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - T\xe0i tr\u1ecb gi\xe1",(0,ri.jsx)("br",{}),"6.666.666 VN\u0110 v\xe0o t\xe0i kho\u1ea3n VPBank."]})]}):"loc"===n.type?(0,ri.jsxs)("div",{className:qm,children:[(0,ri.jsx)("div",{className:$m,children:(0,ri.jsx)("img",{src:"assets/ui/gift_tvl.png",alt:"",className:"logo"})}),(0,ri.jsx)("div",{className:Vn()(Km,"sg-bold"),children:"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c"}),(0,ri.jsxs)("div",{className:Qm,children:["M\xf9a xu\xe2n \u0111\xe3 \u0111\u1ebfn tr\u0103m hoa \u0111ua n\u1edf, c\xe2y c\u1ed1i",(0,ri.jsx)("br",{}),"\u0111\xe2m tr\u1ed3i, L\xec x\xec n\u1ea3y \u201cL\u1ed9c\u201d. Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3",(0,ri.jsx)("br",{}),"tr\xfang l\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c tr\u1ecb gi\xe1 8.888.888",(0,ri.jsx)("br",{}),"VN\u0110 v\xe0o t\xe0i kho\u1ea3n VPBank"]})]}):null}),[c,s,n]);return(0,ri.jsx)(Si,{visible:t,onDismiss:o,children:(0,ri.jsxs)("div",{className:Vm,children:[(0,ri.jsx)("img",{src:"assets/ui/reward_popup_header.png",alt:"",className:Gm}),(0,ri.jsxs)("div",{className:zm,children:[(0,ri.jsx)("div",{className:Wm,children:h}),(0,ri.jsxs)("div",{className:Hm,children:[(0,ri.jsx)(ai,{title:"play",onClick:o,children:(0,ri.jsx)("div",{className:Vn()(Ym,"sg-bold"),style:{backgroundImage:"url(".concat("assets/ui/primary_btn.png",")")},children:"Ch\u01a1i ti\u1ebfp"})}),(0,ri.jsx)(ai,{title:"view",onClick:l,children:(0,ri.jsx)("div",{className:Vn()(Ym,"sg-bold"),style:{backgroundImage:"url(".concat("assets/ui/blue_button.png",")")},children:u})})]}),(0,ri.jsx)(ai,{title:"exit",customStyle:{position:"absolute",bottom:"-12%"},onClick:o,children:(0,ri.jsx)("div",{className:Xm,style:{backgroundImage:"url(".concat("assets/ui/exit_button.png",")")}})})]})]})})},ug="zeroScoreModal_container__QoXQz",cg="zeroScoreModal_info__lXuAA",hg="zeroScoreModal_title__4uFwC",fg="zeroScoreModal_banner__cfNLG",dg="zeroScoreModal_actionRow__c-Uoq",pg="zeroScoreModal_actionButton__Cj6tD",vg="zeroScoreModal_exitButton__9JxkH",mg=function(e){var t=e.visible,n=e.onDismiss;(0,r.useEffect)((function(){t&&setTimeout((function(){ii.play(Kn.BETTER_NEXT_TIME)}),100)}),[t]);var i=(0,r.useCallback)((function(){n(),Va.emit(Ns)}),[n]);return(0,ri.jsx)(Si,{visible:t,onDismiss:i,children:(0,ri.jsxs)("div",{className:ug,style:{backgroundImage:"url(".concat("assets/ui/modal_bd_1.png",")")},children:[(0,ri.jsxs)("div",{className:cg,children:[(0,ri.jsxs)("div",{className:Vn()(hg,"sg-bold"),children:["D\u1eabu bi\u1ebft b\u1ea1n \u0111\xe3 ph\xe1t l\xec x\xec ch\u01b0a",(0,ri.jsx)("br",{}),"th\xe0nh c\xf4ng nh\u01b0ng M\xe8o Fast L\u1ed9c v\u1eabn",(0,ri.jsx)("br",{}),"\u0111\u1ee9ng n\u01a1i \u0111\xe2y v\xe0 ch\u1edd b\u1ea1n.",(0,ri.jsx)("br",{}),"Ph\xe1t tr\xfang \xedt nh\u1ea5t 01 ng\u01b0\u1eddi \u0111\u1ec3 rinh",(0,ri.jsx)("br",{}),"qu\xe0 v\u1ec1 nh\xe0 nh\xe9!"]}),(0,ri.jsx)("img",{className:fg,src:"assets/ui/banner_deco_1.png",alt:""})]}),(0,ri.jsx)("div",{className:dg,children:(0,ri.jsx)(ai,{title:"retry",onClick:i,customStyle:{position:"absolute",bottom:"7%"},children:(0,ri.jsx)("div",{className:Vn()(pg,"sg-bold"),style:{backgroundImage:"url(".concat("assets/ui/primary_btn.png",")")},children:"Ch\u01a1i l\u1ea1i"})})}),(0,ri.jsx)(ai,{title:"exit",customStyle:{position:"absolute",bottom:"-12%"},onClick:i,children:(0,ri.jsx)("div",{className:vg,style:{backgroundImage:"url(".concat("assets/ui/exit_button.png",")")}})})]})})},gg=function(){var e,t=xn(),n=ht((0,r.useState)(!1),2),i=n[0],a=n[1],s=ht((0,r.useState)(),2),o=s[0],l=s[1],u=ht((0,r.useState)(),2),c=u[0],h=u[1],f=ht((0,r.useState)(),2),d=f[0],p=f[1],v=ht((0,r.useState)(!1),2),m=v[0],g=v[1],y=ht((0,r.useState)(zs.LOADING),2),_=y[0],b=y[1],x=ht((0,r.useState)(!1),2),w=x[0],k=x[1],M=ht((0,r.useState)(),2),T=M[0],S=M[1],A=ht((0,r.useState)({score:0,chest:Ya.NULL}),2),E=A[0],L=A[1],C=ht((0,r.useState)(!1),2),O=C[0],P=C[1],I=ht((0,r.useState)(!1),2),N=I[0],R=I[1],F=ht((0,r.useState)(!1),2),B=F[0],D=F[1],j=function(){var e=(0,r.useCallback)($n(Xn().mark((function e(){var t;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa.post("/api/game/start");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),[]),t=(0,r.useCallback)(function(){var e=$n(Xn().mark((function e(t,n){var i;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa.post("/api/game/end",{score:t,gameData:n});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);return[e,t]}(),U=ht(j,2),V=U[0],G=U[1],z=ht(Za(),2)[1];(0,r.useEffect)((function(){var e;d&&((null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.firstPlay)&&Va.emit(Os,{showActionButton:!0}))}),[d,null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.firstPlay]),(0,r.useEffect)((function(){return function(){d&&d.dispose()}}),[d]),(0,r.useEffect)((function(){var e=function(){var e=$n(Xn().mark((function e(){var t,n,i;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a(!0),g(!0),b(zs.PLAYING),Va.emit(ks)}catch(r){(i=null===r||void 0===r||null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)&&"No more ticket"===i&&P(!0)}finally{a(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=$n(Xn().mark((function e(t){var n,i,r,s,o,l,u;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.gameState;try{L({score:n.score,chest:n.currentChest}),b(zs.ENDED),a(!0),"Try harder"===(null===(r={data:{type:"loc"}})||void 0===r?void 0:r.message)&&R(!0),null!==r&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.type&&("gl"!==r.data.type&&S({type:r.data.type}),Va.emit(Rs))}catch(c){Va.emit(Ns),null!==c&&void 0!==c&&null!==(s=c.response)&&void 0!==s&&null!==(o=s.data)&&void 0!==o&&o.message&&za(null===c||void 0===c||null===(l=c.response)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.message)}finally{a(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){L({score:0,chest:Ya.NULL}),b(zs.READY_TO_PLAY)};return Va.addListener(Ns,n),Va.addListener(ws,e),Va.addListener(Ms,t),function(){Va.removeListener(Ns,n),Va.removeListener(ws,e),Va.removeListener(Ms,t)}}),[G,z,V]),(0,r.useEffect)((function(){var e=function(){T?(T.type.includes("cash")||T.type.includes("lynkid")?setTimeout((function(){ii.play(Kn.REWARD_NORMAL)}),200):(T.type.includes("phat-")||T.type.includes("tai")||T.type.includes("loc"))&&setTimeout((function(){ii.play(Kn.REWARD_SPECIAL)}),200),k(!0)):D(!0)};return Va.addListener(Bs,e),function(){Va.removeListener(Bs,e)}}),[T]);var W=function(e){if(e&&!o){var t=(0,as.createViewport)(e,ls.WORLD_WIDTH,ls.WORLD_HEIGHT,{autoUpdate:!0,crop:!1,pixelRatio:Math.min(2,window.devicePixelRatio),contextOption:{antialias:!1}});l(t),h(e)}};(0,r.useEffect)((function(){c&&o&&!d&&$n(Xn().mark((function e(){var t;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,nh(c,o);case 4:t=e.sent,p(t),b(zs.READY_TO_PLAY),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,a(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}),[c,o,d]);var H=(0,r.useMemo)((function(){return(0,ri.jsx)("canvas",{className:rh,ref:W})}),[]);return(0,ri.jsxs)("div",{className:ih,children:[H,(0,ri.jsx)(bm,{uiState:_,viewport:o,gameStarted:m}),(0,ri.jsx)(lg,{visible:w,onDismiss:function(){S(void 0),k(!1)},reward:T}),(0,ri.jsx)(Um,{visible:O,onDismiss:function(){return P(!1)}}),(0,ri.jsx)(mg,{visible:N,onDismiss:function(){return R(!1)}}),(0,ri.jsx)(Cm,{chest:E.chest,visible:B,onDismiss:function(){return D(!1)}}),(0,ri.jsx)(os,{visible:i})]})},yg=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_g={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},bg=function(e){return _g[e]};var xg,wg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(yg,bg)}},kg=(0,r.createContext)();function Mg(){return wg}var Tg=function(){function e(){pt(this,e),this.usedNamespaces={}}return mt(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Sg(){return xg}function Ag(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var Eg={};function Lg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&Eg[t[0]]||("string"===typeof t[0]&&(Eg[t[0]]=new Date),Ag.apply(void 0,t))}function Cg(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function Og(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.languages[0],r=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;var s=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(i,e)||(!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!s(i,e)||r&&!s(a,e))))}function Pg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return Lg("i18n.languages were undefined or empty",t.languages),!0;var i=void 0!==t.options.ignoreJSONStructure;return i?t.hasLoadedNamespace(e,{precheck:function(t,i){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):Og(e,t,n)}function Ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ng(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ig(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ig(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rg=function(e,t){var n=(0,r.useRef)();return(0,r.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};function Fg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=(0,r.useContext)(kg)||{},a=i.i18n,s=i.defaultNS,o=n||a||Sg();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Tg),!o){Lg("You will need to pass in an i18next instance by using initReactI18next");var l=function(e){return Array.isArray(e)?e[e.length-1]:e},u=[l,{},!1];return u.t=l,u.i18n={},u.ready=!1,u}o.options.react&&void 0!==o.options.react.wait&&Lg("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=Ng(Ng(Ng({},Mg()),o.options.react),t),h=c.useSuspense,f=c.keyPrefix,d=e||s||o.options&&o.options.defaultNS;d="string"===typeof d?[d]:d||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(d);var p=(o.isInitialized||o.initializedStoreOnce)&&d.every((function(e){return Pg(e,o,c)}));function v(){return o.getFixedT(null,"fallback"===c.nsMode?d:d[0],f)}var m=(0,r.useState)(v),g=ht(m,2),y=g[0],_=g[1],b=d.join(),x=Rg(b),w=(0,r.useRef)(!0);(0,r.useEffect)((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){w.current&&_(v)}return w.current=!0,p||h||Cg(o,d,(function(){w.current&&_(v)})),p&&x&&x!==b&&w.current&&_(v),e&&o&&o.on(e,n),t&&o&&o.store.on(t,n),function(){w.current=!1,e&&o&&e.split(" ").forEach((function(e){return o.off(e,n)})),t&&o&&t.split(" ").forEach((function(e){return o.store.off(e,n)}))}}),[o,b]);var k=(0,r.useRef)(!0);(0,r.useEffect)((function(){w.current&&!k.current&&_(v),k.current=!1}),[o,f]);var M=[y,o,p];if(M.t=y,M.i18n=o,M.ready=p,p)return M;if(!p&&!h)return M;throw new Promise((function(e){Cg(o,d,(function(){e()}))}))}var Bg=at({userInfo:null,setUserInfo:Ee((function(e,t){e.userInfo=t}))}),Dg="__sdk_debug_overlay",jg="__sdk_debug_container",Ug=!1,Vg=[],Gg=function(e){var t=document.createElement("p");t.innerHTML=e,t.style.fontSize="16px",t.style.color="white";var n=document.getElementById(jg);null===n||void 0===n||n.appendChild(t),Vg.push(e)},zg=function(e){console.log("Unhandled Message",JSON.stringify(e,null,2))};window.addEventListener("message",(function(e){try{var t=JSON.parse(e.data);"ADD_DEBUG_MESSAGE"===(null===t||void 0===t?void 0:t.eventType)?Gg(JSON.stringify(e.data)):"TOGGLE_DEBUG_SCREEN"===(null===t||void 0===t?void 0:t.eventType)?function(){if(Ug){Ug=!1;var e=document.getElementById(Dg);e&&document.body.removeChild(e)}else{var t=document.createElement("div");t.id=Dg,t.style.backgroundColor="rgba(0,0,0,0.5)",t.style.position="fixed",t.style.top="0",t.style.bottom="0",t.style.left="0",t.style.right="0",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.zIndex="9999";var n=document.createElement("div");n.id=jg,n.style.overflow="auto",n.style.width="100%",n.style.height="100%",n.style.paddingTop="40px",t.appendChild(n),document.body.appendChild(t),Vg.length&&Vg.forEach((function(e){Gg(e)})),Ug=!0}}():zg(t)}catch(n){}}),!1);var Wg={registerHandler:function(e){zg=e},postMessage:function(e){var t,n;if(e){var i=Bg.getState().userInfo;i&&(e.fullName=i.fullName,e.userId=i.id)}window.GameFoxSDK&&window.GameFoxSDK.onMessage(JSON.stringify(e)),null!==(t=window.webkit)&&void 0!==t&&null!==(n=t.messageHandlers)&&void 0!==n&&n.GameFoxSDK&&window.webkit.messageHandlers.GameFoxSDK.postMessage(JSON.stringify(e))},addDebugMessage:Gg},Hg="loading_container__VBeU+",Yg="loading_background__2gi5E",Xg="loading_loadingWrapper__j8boN",qg="loading_loadingBar__Ba1Un",$g="loading_text__hA3Uv",Kg="loadingBar_container__2QMQI",Qg="loadingBar_progress__7pdsc",Zg=["/atlas/vpbank_assets_30112022.png","/spine/catvp.png","/spine/char1.png","/spine/char2.png","/spine/char3.png","/spine/char4.png","/spine/char5.png","/spine/vpchest.png","/spine/vpchest2.png","/spine/vpchest3.png","/ingame-ui/amno_banner.png","/ingame-ui/amno_chest.png","/ingame-ui/chest_glow.png","/ingame-ui/demo_cat.png","/ingame-ui/demo_topbar.png","/ingame-ui/demo_vplogo.png","/ingame-ui/explorer_button.png","/ingame-ui/home_button.png","/ingame-ui/null_banner.png","/ingame-ui/playnow_button.png","/ingame-ui/question_button.png","/ingame-ui/remind_bd.png","/ingame-ui/sungtuc_banner.png","/ingame-ui/sungtuc_chest.png","/ingame-ui/thinhvuong_banner.png","/ingame-ui/thinhvuong_chest.png","/ingame-ui/ticket.png","/ingame-ui/timer_bd.png","/ui/active_card.png","/ui/active_tab.png","/ui/back_btn.png","/ui/banner_deco_1.png","/ui/banner_deco_2.png","/ui/basket_bg.png","/ui/blue_btn.png","/ui/blue_button.png","/ui/blue_chest_deco.png","/ui/bottom_left_peace.png","/ui/bottom_left_peace_2.png","/ui/bottom_right_piece.png","/ui/bottom_right_piece_2.png","/ui/card.png","/ui/cat-story.png","/ui/close.png","/ui/disabledBtn.png","/ui/done_btn.png","/ui/exit_button.png","/ui/gift_card.png","/ui/gift_cash.png","/ui/gift_lid.png","/ui/gift_phat_1.png","/ui/gift_phat_2.png","/ui/gift_phat_3.png","/ui/gift_phat_4.png","/ui/gift_top_bg.png","/ui/gift_tvl.png","/ui/gift_tvp.png","/ui/gift_tvt.png","/ui/green_chest_deco.png","/ui/home_bg.png","/ui/home_primary_btn.png","/ui/home_secondary_btn.png","/ui/inactive_tab.png","/ui/kim_bai_heo.png","/ui/lixi.png","/ui/lixi20.png","/ui/lixi50.png","/ui/loading_bg.png","/ui/lucky_wish_bd.png","/ui/main_bg.png","/ui/mission_bg.png","/ui/mission_bg_btn.png","/ui/moc.png","/ui/modal_bd_1.png","/ui/mute_disable.png","/ui/mute_enable.png","/ui/pieces_bg.png","/ui/primary_btn.png","/ui/red_chest_deco.png","/ui/reward_popup_header.png","/ui/settings.png","/ui/settings_btn.png","/ui/settings_popup.png","/ui/sound_disable.png","/ui/sound_enable.png","/ui/speacial_card.png","/ui/text.png","/ui/top_left_piece.png","/ui/top_left_piece_2.png","/ui/top_right_piece.png","/ui/top_right_piece_2.png","/ui/treasure_bg.png","/ui/unmute_disable.png","/ui/unmute_enable.png","/ui/vpb_pieces.png","/ui/vpb_pieces_2.png"],Jg=["all"],ey=1/(Zg.length+Jg.length),ty=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){t(n)},n.src=e}))},ny=function(e){var t=e.onComplete,n=ht((0,r.useState)(0),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){i>=.99&&t()}),[t,i]),(0,r.useEffect)((function(){var e=function(){var e=$n(Xn().mark((function e(){var t,n,i,r,s;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ch(Jg),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=10;break}return n.value,e.next=7,ii.initSounds("assets/sounds/");case 7:a((function(e){return e+ey}));case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:i=ch(Zg);try{for(i.s();!(r=i.n()).done;)s=r.value,ty("assets"+s).then((function(){a((function(e){return e+ey}))}))}catch(o){i.e(o)}finally{i.f()}case 20:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}();$n(Xn().mark((function t(){return Xn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e().catch(console.log);case 2:case"end":return t.stop()}}),t)})))()}),[]),(0,ri.jsx)("div",{className:Kg,children:(0,ri.jsx)("div",{className:Qg,style:{width:"80%"}})})},iy=function(){var e=wn(),t=Fg().t,n=ht((0,r.useState)(!1),2),i=n[0],a=(n[1],ht(Za(),2)[1]),s=ht((0,r.useState)(),2),o=s[0],l=s[1],u=ht((0,r.useState)(!1),2),c=(u[0],u[1],(0,r.useCallback)($n(Xn().mark((function e(){var t,n,i;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.location.search)||!t.includes("data=")){e.next=21;break}if("default_token"!==(n=new URL(window.location.href).searchParams.get("data"))){e.next=5;break}return e.abrupt("return");case 5:if(n&&Ii(n),!(n=Pi())){e.next=20;break}return e.prev=8,e.next=11,a();case 11:i=e.sent,l({firstTime:i.user.firstTime}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),Wg.addDebugMessage(e.t0.response?e.t0.response.data:e.t0.message);case 18:e.next=21;break;case 20:za("Kh\xf4ng t\xecm th\u1ea5y token!");case 21:case"end":return e.stop()}}),e,null,[[8,15]])}))),[a]));return(0,r.useEffect)((function(){}),[e,a]),(0,r.useEffect)((function(){i&&o&&e("/home",{replace:!0})}),[i,o,e]),(0,r.useEffect)((function(){}),[c]),(0,ri.jsxs)("div",{className:Hg,children:[(0,ri.jsx)("img",{src:"assets/ui/loading_bg.png",alt:"",className:Yg}),(0,ri.jsx)("img",{src:"assets/ui/text.png",alt:"",className:$g}),(0,ri.jsxs)("div",{className:Xg,children:[(0,ri.jsx)("span",{className:"pn-bold sg-semibold",children:t("loading.wait")}),(0,ri.jsx)("div",{className:qg,children:(0,ri.jsx)(ny,{onComplete:function(){e("/home",{replace:!0})}})})]})]})};function ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sy={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},oy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};pt(this,e),this.init(t,n)}return mt(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||sy,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,ay(ay({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),ly=new oy,uy=function(){function e(){pt(this,e),this.observers={}}return mt(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function cy(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function hy(e){return null==e?"":""+e}function fy(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function dy(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"===typeof e}for(var a="string"!==typeof t?[].concat(t):t.split(".");a.length>1;){if(r())return{};var s=i(a.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return r()?{}:{obj:e,k:i(a.shift())}}function py(e,t,n){var i=dy(e,t,Object);i.obj[i.k]=n}function vy(e,t){var n=dy(e,t),i=n.obj,r=n.k;if(i)return i[r]}function my(e,t,n){var i=vy(e,n);return void 0!==i?i:vy(t,n)}function gy(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"===typeof e[i]||e[i]instanceof String||"string"===typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):gy(e[i],t[i],n):e[i]=t[i]);return e}function yy(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function by(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return _y[e]})):e}var xy="undefined"!==typeof window&&window.navigator&&"undefined"===typeof window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,wy=[" ",",","?","!",";"];function ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ky(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ty(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_t(e);if(t){var r=_t(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return kt(this,n)}}function Sy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),r=e,a=0;a<i.length;++a){if(!r)return;if("string"===typeof r[i[a]]&&a+1<i.length)return;if(void 0===r[i[a]]){for(var s=2,o=i.slice(a,a+s).join(n),l=r[o];void 0===l&&i.length>a+s;)s++,l=r[o=i.slice(a,a+s).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(o)){if("string"===typeof l)return l;if(o&&"string"===typeof l[o])return l[o]}var u=i.slice(a+s).join(n);return u?Sy(l,u,n):void 0}r=r[i[a]]}return r}}var Ay=function(e){yt(n,e);var t=Ty(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return pt(this,n),i=t.call(this),xy&&uy.call(wt(i)),i.data=e||{},i.options=r,void 0===i.options.keySeparator&&(i.options.keySeparator="."),void 0===i.options.ignoreJSONStructure&&(i.options.ignoreJSONStructure=!0),i}return mt(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[e,t];n&&"string"!==typeof n&&(s=s.concat(n)),n&&"string"===typeof n&&(s=s.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(s=e.split("."));var o=vy(this.data,s);return o||!a||"string"!==typeof n?o:Sy(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var s=[e,t];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(i=t,t=(s=e.split("."))[1]),this.addNamespaces(t),py(this.data,s,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!==typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var o=vy(this.data,s)||{};i?gy(o,n,r):o=My(My({},o),n),py(this.data,s,o),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?My(My({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(uy),Ey={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,i,r))})),t}};function Ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ly(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_t(e);if(t){var r=_t(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return kt(this,n)}}var Py={},Iy=function(e){yt(n,e);var t=Oy(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pt(this,n),i=t.call(this),xy&&uy.call(wt(i)),fy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,wt(i)),i.options=r,void 0===i.options.keySeparator&&(i.options.keySeparator="."),i.logger=ly.create("translator"),i}return mt(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var i=wy.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===i.length)return!0;var r=new RegExp("(".concat(i.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!r.test(e);if(!a){var s=e.indexOf(n);s>0&&!r.test(e.substring(0,s))&&(a=!0)}return a}(e,n,i);if(a&&!s){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:r};var l=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(i)}return"string"===typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t,i){var r=this;if("object"!==xt(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=this.extractFromKey(e[e.length-1],t),l=o.key,u=o.namespaces,c=u[u.length-1],h=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(f){var d=t.nsSeparator||this.options.nsSeparator;return a?(p.res="".concat(c).concat(d).concat(l),p):"".concat(c).concat(d).concat(l)}return a?(p.res=l,p):l}var p=this.resolve(e,t),v=p&&p.res,m=p&&p.usedKey||l,g=p&&p.exactUsedKey||l,y=Object.prototype.toString.apply(v),_=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!==typeof v&&"boolean"!==typeof v&&"number"!==typeof v;if(x&&v&&w&&_.indexOf(y)<0&&("string"!==typeof b||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,Cy(Cy({},t),{},{ns:u})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return a?(p.res=k,p):k}if(s){var M="[object Array]"===y,T=M?[]:{},S=M?g:m;for(var A in v)if(Object.prototype.hasOwnProperty.call(v,A)){var E="".concat(S).concat(s).concat(A);T[A]=this.translate(E,Cy(Cy({},t),{joinArrays:!1,ns:u})),T[A]===E&&(T[A]=v[A])}v=T}}else if(x&&"string"===typeof b&&"[object Array]"===y)(v=v.join(b))&&(v=this.extendTranslation(v,e,t,i));else{var L=!1,C=!1,O=void 0!==t.count&&"string"!==typeof t.count,P=n.hasDefaultValue(t),I=O?this.pluralResolver.getSuffix(h,t.count,t):"",N=t["defaultValue".concat(I)]||t.defaultValue;!this.isValidLookup(v)&&P&&(L=!0,v=N),this.isValidLookup(v)||(C=!0,v=l);var R=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,F=R&&C?void 0:v,B=P&&N!==v&&this.options.updateMissing;if(C||L||B){if(this.logger.log(B?"updateKey":"missingKey",h,c,l,B?N:v),s){var D=this.resolve(l,Cy(Cy({},t),{},{keySeparator:!1}));D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var j=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var V=0;V<U.length;V++)j.push(U[V]);else"all"===this.options.saveMissingTo?j=this.languageUtils.toResolveHierarchy(t.lng||this.language):j.push(t.lng||this.language);var G=function(e,n,i){var a=P&&i!==v?i:F;r.options.missingKeyHandler?r.options.missingKeyHandler(e,c,n,a,B,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,c,n,a,B,t),r.emit("missingKey",e,c,n,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?j.forEach((function(e){r.pluralResolver.getSuffixes(e,t).forEach((function(n){G([e],l+n,t["defaultValue".concat(n)]||N)}))})):G(j,l,N))}v=this.extendTranslation(v,e,t,p,i),C&&v===l&&this.options.appendNamespaceToMissingKey&&(v="".concat(c,":").concat(l)),(C||L)&&this.options.parseMissingKeyHandler&&(v="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(l):l,L?v:void 0):this.options.parseMissingKeyHandler(v))}return a?(p.res=v,p):v}},{key:"extendTranslation",value:function(e,t,n,i,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Cy(Cy({},this.options.interpolation.defaultVariables),n),i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Cy(Cy({},n),{interpolation:Cy(Cy({},this.options.interpolation),n.interpolation)}));var s,o="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(o){var l=e.match(this.interpolator.nestingRegexp);s=l&&l.length}var u=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=Cy(Cy({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),o){var c=e.match(this.interpolator.nestingRegexp);s<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return r&&r[0]===i[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):a.translate.apply(a,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,f="string"===typeof h?[h]:h;return void 0!==e&&null!==e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=Ey.handle(f,e,t,this.options&&this.options.postProcessPassResolved?Cy({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,a,s=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var l=s.extractFromKey(e,o),u=l.key;n=u;var c=l.namespaces;s.options.fallbackNS&&(c=c.concat(s.options.fallbackNS));var h=void 0!==o.count&&"string"!==typeof o.count,f=h&&!o.ordinal&&0===o.count&&s.pluralResolver.shouldUseIntlApi(),d=void 0!==o.context&&("string"===typeof o.context||"number"===typeof o.context)&&""!==o.context,p=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);c.forEach((function(e){s.isValidLookup(t)||(a=e,!Py["".concat(p[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(a)&&(Py["".concat(p[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!s.isValidLookup(t)){r=n;var a,l=[u];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(l,u,n,e,o);else{var c;h&&(c=s.pluralResolver.getSuffix(n,o.count,o));var p="".concat(s.options.pluralSeparator,"zero");if(h&&(l.push(u+c),f&&l.push(u+p)),d){var v="".concat(u).concat(s.options.contextSeparator).concat(o.context);l.push(v),h&&(l.push(v+c),f&&l.push(v+p))}}for(;a=l.pop();)s.isValidLookup(t)||(i=a,t=s.getResource(n,e,a,o))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:a}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(uy);function Ny(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ry=function(){function e(t){pt(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ly.create("languageUtils")}return mt(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ny(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ny(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ny(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],a=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"===typeof e&&a(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&a(n.formatLanguageCode(e))})),r}}]),e}(),Fy=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],By={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Dy=["v1","v2","v3"],jy={zero:0,one:1,two:2,few:3,many:4,other:5};function Uy(){var e={};return Fy.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:By[t.fc]}}))})),e}var Vy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};pt(this,e),this.languageUtils=t,this.options=n,this.logger=ly.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Uy()}return mt(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((function(e,t){return jy[e]-jy[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):i.numbers.map((function(i){return t.getSuffix(e,i,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(t)):this.getSuffixRetroCompatible(i,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var a=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"===typeof r?"_plural_".concat(r.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!Dy.includes(this.options.compatibilityJSON)}}]),e}();function Gy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gy(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pt(this,e),this.logger=ly.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return mt(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:by,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?yy(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?yy(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?yy(t.nestingPrefix):t.nestingPrefixEscaped||yy("$t("),this.nestingSuffix=t.nestingSuffix?yy(t.nestingSuffix):t.nestingSuffixEscaped||yy(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,a,s,o=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(o.formatSeparator)<0){var r=my(t,l,e);return o.alwaysFormat?o.format(r,void 0,n,zy(zy(zy({},i),t),{},{interpolationkey:e})):r}var a=e.split(o.formatSeparator),s=a.shift().trim(),u=a.join(o.formatSeparator).trim();return o.format(my(t,l,s),u,n,zy(zy(zy({},i),t),{},{interpolationkey:s}))};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return o.escapeValue?u(o.escape(e)):u(e)}}].forEach((function(t){for(s=0;r=t.regex.exec(e);){var n=r[1].trim();if(void 0===(a=c(n)))if("function"===typeof h){var l=h(e,r,i);a="string"===typeof l?l:""}else if(i&&i.hasOwnProperty(n))a="";else{if(f){a=r[0];continue}o.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"===typeof a||o.useRawValueToEscape||(a=hy(a));var u=t.safeValue(a);if(e=e.replace(r[0],u),f?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++s>=o.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=zy({},a);function o(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0];var a=(r=this.interpolate(r,s)).match(/'/g),o=r.match(/"/g);(a&&a.length%2===0&&!o||o.length%2!==0)&&(r=r.replace(/'/g,'"'));try{s=JSON.parse(r),t&&(s=zy(zy({},t),s))}catch(l){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),l),"".concat(e).concat(n).concat(r)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0}if((i=t(o.call(this,n[1].trim(),s),s))&&n[0]===e&&"string"!==typeof i)return i;"string"!==typeof i&&(i=hy(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),u&&(i=l.reduce((function(e,t){return r.format(e,t,a.lng,zy(zy({},a),{},{interpolationkey:n[1].trim()}))}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Yy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hy(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xy(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var r=i[1].substring(0,i[1].length-1);if("currency"===t&&r.indexOf(":")<0)n.currency||(n.currency=r.trim());else if("relativetime"===t&&r.indexOf(":")<0)n.range||(n.range=r.trim());else{r.split(";").forEach((function(e){if(e){var t,i=e.split(":"),r=ot(t=i)||ft(t)||ut(t)||ct(),a=r[0],s=r.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=s),"false"===s&&(n[a.trim()]=!1),"true"===s&&(n[a.trim()]=!0),isNaN(s)||(n[a.trim()]=parseInt(s,10))}}))}}return{formatName:t,formatOptions:n}}function qy(e){var t={};return function(n,i,r){var a=i+JSON.stringify(r),s=t[a];return s||(s=e(i,r),t[a]=s),s(n)}}var $y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pt(this,e),this.logger=ly.create("formatter"),this.options=t,this.formats={number:qy((function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}})),currency:qy((function(e,t){var n=new Intl.NumberFormat(e,Yy(Yy({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:qy((function(e,t){var n=new Intl.DateTimeFormat(e,Yy({},t));return function(e){return n.format(e)}})),relativetime:qy((function(e,t){var n=new Intl.RelativeTimeFormat(e,Yy({},t));return function(e){return n.format(e,t.range||"day")}})),list:qy((function(e,t){var n=new Intl.ListFormat(e,Yy({},t));return function(e){return n.format(e)}}))},this.init(t)}return mt(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=qy(t)}},{key:"format",value:function(e,t,n,i){var r=this,a=t.split(this.formatSeparator).reduce((function(e,t){var a=Xy(t),s=a.formatName,o=a.formatOptions;if(r.formats[s]){var l=e;try{var u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},c=u.locale||u.lng||i.locale||i.lng||n;l=r.formats[s](e,c,Yy(Yy(Yy({},o),i),u))}catch(h){r.logger.warn(h)}return l}return r.logger.warn("there was no format function for ".concat(s)),e}),e);return a}}]),e}();function Ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ky(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_t(e);if(t){var r=_t(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return kt(this,n)}}var Jy=function(e){yt(n,e);var t=Zy(n);function n(e,i,r){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return pt(this,n),a=t.call(this),xy&&uy.call(wt(a)),a.backend=e,a.store=i,a.services=r,a.languageUtils=r.languageUtils,a.options=s,a.logger=ly.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=s.maxParallelReads||10,a.readingCalls=0,a.maxRetries=s.maxRetries>=0?s.maxRetries:5,a.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(r,s.backend,s),a}return mt(n,[{key:"queueLoad",value:function(e,t,n,i){var r=this,a={},s={},o={},l={};return e.forEach((function(e){var i=!0;t.forEach((function(t){var o="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[o]=2:r.state[o]<0||(1===r.state[o]?void 0===s[o]&&(s[o]=!0):(r.state[o]=1,i=!1,void 0===s[o]&&(s[o]=!0),void 0===a[o]&&(a[o]=!0),void 0===l[t]&&(l[t]=!0)))})),i||(o[e]=!0)})),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],a=i[1];t&&this.emit("failedLoading",r,a,t),n&&this.store.addResourceBundle(r,a,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){!function(e,t,n,i){var r=dy(e,t,Object),a=r.obj,s=r.k;a[s]=a[s]||[],i&&(a[s]=a[s].concat(n)),i||a[s].push(n)}(n.loaded,[r],a),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:a,callback:s}):(this.readingCalls++,this.backend[n](e,t,(function(o,l){if(i.readingCalls--,i.waitingReads.length>0){var u=i.waitingReads.shift();i.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}o&&l&&r<i.maxRetries?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*a,s)}),a):s(o,l)}))):s(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var a=this.queueLoad(e,t,i,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],a=i[1];this.read(r,a,"read",void 0,void 0,(function(i,s){i&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(r," failed"),i),!i&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(r),s),t.loaded(e,i,s)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,Qy(Qy({},a),{},{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),n}(uy);function e_(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===xt(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===xt(e[2])||"object"===xt(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function t_(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function i_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n_(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r_(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_t(e);if(t){var r=_t(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return kt(this,n)}}function a_(){}function s_(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"===typeof e[t]&&(e[t]=e[t].bind(e))}))}var o_=function(e){yt(n,e);var t=r_(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(pt(this,n),e=t.call(this),xy&&uy.call(wt(e)),e.options=t_(i),e.services={},e.logger=ly,e.modules={external:[]},s_(wt(e)),r&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,r),kt(e,wt(e));setTimeout((function(){e.init(i,r)}),0)}return e}return mt(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var i=e_();function r(e){return e?"function"===typeof e?new e:e:null}if(this.options=i_(i_(i_({},i),this.options),t_(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=i_(i_({},i.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?ly.init(r(this.modules.logger),this.options):ly.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!==typeof Intl&&(a=$y);var s=new Ry(this.options);this.store=new Ay(this.options.resources,this.options);var o=this.services;o.logger=ly,o.resourceStore=this.store,o.languageUtils=s,o.pluralResolver=new Vy(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(o.formatter=r(a),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new Wy(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new Jy(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new Iy(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=a_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var h=cy(),f=function(){var t=function(t,i){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),h.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),h}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a_,i=n,r="string"===typeof e?e:this.language;if("function"===typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return i();var a=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};if(r)s(r);else{var o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(a,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),i(e)}))}else i(null)}},{key:"reloadResources",value:function(e,t,n){var i=cy();return e||(e=this.languages),t||(t=this.options.ns),n||(n=a_),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Ey.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=cy();this.emit("languageChanging",e);var r=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var s="string"===typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);s&&(n.language||r(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,a){a?(r(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,n){var i=this,r=function e(t,r){var a;if("object"!==xt(r)){for(var s=arguments.length,o=new Array(s>2?s-2:0),l=2;l<s;l++)o[l-2]=arguments[l];a=i.options.overloadTranslationOptionHandler([t,r].concat(o))}else a=i_({},r);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var u=i.options.keySeparator||".",c=a.keyPrefix?"".concat(a.keyPrefix).concat(u).concat(t):t;return i.t(c,a)};return"string"===typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var s=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var o=n.precheck(this,s);if(void 0!==o)return o}return!!this.hasResourceBundle(i,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(i,e)||r&&!s(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=cy();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=cy();"string"===typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a_,r=i_(i_(i_({},this.options),t),{isClone:!0}),a=new n(r);void 0===t.debug&&void 0===t.prefix||(a.logger=a.logger.clone(t));var s=["store","services","language"];return s.forEach((function(t){a[t]=e[t]})),a.services=i_({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new Iy(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.emit.apply(a,[e].concat(n))})),a.init(r,i),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(uy);s(o_,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new o_(e,t)}));var l_=o_.createInstance();l_.createInstance=o_.createInstance;l_.createInstance,l_.init,l_.loadResources,l_.reloadResources,l_.use,l_.changeLanguage,l_.getFixedT,l_.t,l_.exists,l_.setDefaultNamespace,l_.hasLoadedNamespace,l_.loadNamespaces,l_.loadLanguages;var u_=l_,c_=JSON.parse('{"loading":{"wait":"Meow...Meow...S\u1eafp xong r\xf9i!"},"home":{"hello":"Xin ch\xe0o {{username}}","play":"Ch\u01a1i ngay","mission":"Th\u1eed th\xe1ch","basket":"Gi\u1ecf qu\xe0 c\u1ee7a b\u1ea1n","treasure":"C\u01a1 c\u1ea5u gi\u1ea3i th\u01b0\u1edfng","guide":"H\u01b0\u1edbng d\u1eabn ch\u01a1i game","turns":"L\u01b0\u1ee3t ch\u01a1i c\xf2n l\u1ea1i: {{turns}}","catStoryPre":"B\u1ea1n uiiii,\\nnghe M\xe8o Fast L\u1ed9c\\nk\u1ec3 chuy\u1ec7n nh\xe9!","rule":"Th\u1ec3 l\u1ec7 ch\u01b0\u01a1ng tr\xecnh"},"rule":{"home":"Home","title":"Th\u1ec3 l\u1ec7 ch\u01b0\u01a1ng tr\xecnh"},"treasure":{"title":"C\u01a0 C\u1ea4U GI\u1ea2I TH\u01af\u1edeNG","count":"S\u1ed1 l\u01b0\u1ee3ng: ","voucher":"Voucher tr\xean LynkID","value":"Tr\u1ecb gi\xe1 {{value}} VN\u0110","otherGifts":"H\xe0ng ng\xe0n gi\u1ea3i th\u01b0\u1edfng ti\u1ec1n m\u1eb7t tr\u1ecb gi\xe1 868 VN\u0110, 2.023 VN\u0110, 6.868 VN\u0110, 10.000 VN\u0110, 20.000 VN\u0110, 50.000 VN\u0110, 100.000 VN\u0110"},"mission":{"title":"DANH S\xc1CH NHI\u1ec6M V\u1ee4","depositsTab":"Ti\u1ec1n g\u1eedi & Vay tr\u1ef1c tuy\u1ebfn","transferTab":"Chuy\u1ec3n kho\u1ea3n & thanh to\xe1n","newAccountTab":"T\xe0i kho\u1ea3n m\u1edbi & h\u1ed9i vi\xean","action":"Th\u1ef1c hi\u1ec7n ngay","catCard":"+{{count}} Th\u1ebb M\xe8o","limit":"Gi\u1edbi h\u1ea1n: {{count}}/{{limit}}","now":"Nh\u1eadn l\u01b0\u1ee3t ngay l\u1eadp t\u1ee9c","2weeks":"Nh\u1eadn l\u01b0\u1ee3t sau 2 tu\u1ea7n","more":"T\xecm hi\u1ec3u th\xeam","done":"\u0110\xe3 ho\xe0n th\xe0nh","saveMoneyOnline":"Ti\u1ec1n g\u1eedi Online","onlineLoans":"Vay Online"},"basket":{"title":"GI\u1ece QU\xc0 C\u1ee6A B\u1ea0N","gifts":"Ph\u1ea7n th\u01b0\u1edfng","puzzlePieces":"M\u1ea3nh gh\xe9p","notReceivedTitle":"Ch\u01b0a nh\u1eadn","receivedTitle":"\u0110\xe3 nh\u1eadn","detail":"Chi ti\u1ebft","rewardedAt":"Ng\xe0y tr\xfang gi\u1ea3i: ","collection":"S\u01b0u t\u1eadp ngay 4 c\xe1nh hoa Th\u1ecbnh V\u01b0\u1ee3ng \u0111\u1ec3 c\xf3 c\u01a1 h\u1ed9i s\u1edf h\u1eefu s\u1ed5 ti\u1ebft ki\u1ec7m tr\u1ecb gi\xe1 <b>123.456.789 VN\u0110</b> t\u1eeb VPBank","tvp":"Th\u1ecbnh v\u01b0\u1ee3ng - Ph\xe1t","tvpValue":"123.456.789 VN\u0110","graft":"Gh\xe9p","noGift":"Hi\u1ec7n t\u1ea1i b\u1ea1n ch\u01b0a c\xf3 qu\xe0 n\xe0o, ti\u1ebfp t\u1ee5c ch\u01a1i game b\u1ea1n nh\xe9","date":"Ng\xe0y tr\xfang gi\u1ea3i: {{date}}","gift":{"868":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","2023":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","6868":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","10k":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","20k":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","50k":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","100k":"Ch\xfac m\u1eebng! L\xec x\xec 868 VN\u0110 \u0111\xe3 \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank c\u1ee7a b\u1ea1n.","phat1":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nM\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","phat2":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nM\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","phat3":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nM\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","phat4":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nM\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","lynkid":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang gi\u1ea3i Voucher LynkID, qu\xe0 t\u1eb7ng s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o v\xed LynkID sau 3 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y tr\xfang gi\u1ea3i. \u0110\u0103ng nh\u1eadp \u1ee9ng d\u1ee5ng LynkID \u0111\u1ec3 nh\u1eadn qu\xe0!","tai":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nTh\u1ecbnh V\u01b0\u1ee3ng - T\xe0i tr\u1ecb gi\xe1 6.666.666 VN\u0110, qu\xe0 t\u1eb7ng s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank NEO trong 5 ng\xe0y l\xe0m vi\u1ec7c.","loc":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nTh\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c tr\u1ecb gi\xe1 8.888.888 VN\u0110, qu\xe0 t\u1eb7ng s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o t\xe0i kho\u1ea3n VPBank NEO trong 5 ng\xe0y l\xe0m vi\u1ec7c. ","tvp":"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\xfang qu\xe0 t\u1eb7ng\\nS\u1ed5 ti\u1ebft ki\u1ec7m tr\u1ecb gi\xe1 123.456.789 VN\u0110\\nVPBank s\u1ebd ch\u1ee7 \u0111\u1ed9ng li\xean h\u1ec7 v\xe0 h\u01b0\u1edbng d\u1eabn c\xe1ch th\u1ee9c nh\u1eadn gi\u1ea3i th\u01b0\u1edfng"}},"gift":{"tvp":"Th\u1ecbnh v\u01b0\u1ee3ng - Ph\xe1t","tvl":"Th\u1ecbnh v\u01b0\u1ee3ng - L\u1ed9c","tvt":"Th\u1ecbnh v\u01b0\u1ee3ng - T\xe0i","lid":"Qu\xe0 LynkID","name":{"TVP":"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","TVT":"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - T\xe0i","LIXI50":"L\xec x\xec 50.000 VN\u0110","LIXI20":"L\xec x\xec 20.000 VN\u0110","TVL":"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c"}},"modal":{"gift":{"cash":"L\xec x\xec may m\u1eafn","lynkid":"LynkID\\nVoucher","tai":"L\xec X\xec\\nTh\u1ecbnh V\u01b0\u1ee3ng - T\xe0i","loc":"L\xec X\xec\\nTh\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c","tvp":"S\u1ed5 ti\u1ebft ki\u1ec7m\\nTh\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t","phat1":"M\u1ea3nh gh\xe9p\\nmay m\u1eafn","phat2":"M\u1ea3nh gh\xe9p\\nmay m\u1eafn","phat3":"M\u1ea3nh gh\xe9p\\nmay m\u1eafn","phat4":"M\u1ea3nh gh\xe9p\\nmay m\u1eafn"}}}');u_.init({lng:"vi",resources:{en:{translation:{}},vi:{translation:c_}}});var h_=u_;function f_(e){var t=e.i18n,n=e.defaultNS,i=e.children,a=(0,r.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return(0,r.createElement)(kg.Provider,{value:a},i)}var d_="home_container__gc+Y2",p_="home_background__RNuQu",v_="home_content__2EyLi",m_="home_btn__Bu7v-",g_="home_btn_title__20sKZ",y_="home_btn_bg__J8ios",__="home_turns__TAo+-",b_="home_bottom__cKzWK",x_="home_catStory__YEIAg",w_="home_mrTop__aLdC5",k_="home_catStoryImg__GTDJF",M_="home_catStoryBox__zJaZl",T_="home_rule__xBd9X",S_="assets/ui/home_secondary_btn.png",A_=function(){var e=wn(),t=Fg().t,n=ht(Za(),1)[0],i=ht((0,r.useState)(!1),2);i[0],i[1];return(0,ri.jsxs)("div",{draggable:!1,className:d_,children:[(0,ri.jsx)("img",{draggable:"false",src:"assets/ui/home_bg.png",alt:"",className:Vn()(p_,"img")}),(0,ri.jsxs)("div",{className:v_,children:[(0,ri.jsx)("div",{className:Vn()(__,"sg-regular"),children:t("home.turns",{turns:null===n||void 0===n?void 0:n.ticketCount})}),(0,ri.jsxs)(ai,{onClick:function(){return e("/game",{state:{firstPlay:null===n||void 0===n?void 0:n.firstPlay}})},title:"",className:m_,children:[(0,ri.jsx)("img",{src:"assets/ui/home_primary_btn.png",className:y_,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(g_,"sg-bold"),children:[t("home.play")," "]})]}),(0,ri.jsxs)(ai,{onClick:function(){return e("/mission")},title:"",className:m_,children:[(0,ri.jsx)("img",{src:S_,className:y_,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(g_,"sg-bold"),children:[t("home.mission")," "]})]}),(0,ri.jsxs)(ai,{onClick:function(){return e("/basket")},title:"",className:m_,children:[(0,ri.jsx)("img",{src:S_,className:y_,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(g_,"sg-bold"),children:[t("home.basket")," "]})]}),(0,ri.jsxs)(ai,{onClick:function(){return e("/treasure")},title:"",className:m_,children:[(0,ri.jsx)("img",{src:S_,className:y_,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(g_,"sg-bold"),children:[t("home.treasure")," "]})]}),(0,ri.jsxs)(ai,{onClick:function(){return e("/game",{state:{firstPlay:!0}})},title:"",className:m_,children:[(0,ri.jsx)("img",{src:S_,className:y_,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(g_,"sg-bold"),children:[t("home.guide")," "]})]})]}),(0,ri.jsxs)("div",{className:b_,children:[(0,ri.jsxs)(ai,{title:"",className:Vn()(M_,"row"),children:[(0,ri.jsx)("div",{children:(0,ri.jsx)("div",{className:Vn()(x_,w_,"sg-regular"),children:t("home.catStoryPre")})}),(0,ri.jsx)("img",{src:"assets/ui/cat-story.png",alt:"cat-story",className:k_})]}),(0,ri.jsx)(ai,{title:"",onClick:function(){return e("/rule")},children:(0,ri.jsx)("div",{className:Vn()(T_,"sg-regular"),children:t("home.rule")})})]})]})},E_="mission_container__sGFAW",L_="mission_background__hZ63k",C_="mission_btn__3t64F",O_="mission_btn_title__uC16G",P_="mission_btn_bg__2e-e2",I_="mission_bottom__a+frT",N_="mission_title__XROrP",R_="mission_content__oOpX4",F_="mission_tabs__gT6T5",B_="mission_tab_btn__IMCsA",D_="mission_tab_btn_title__kp9NO",j_="mission_moc1__dhWhc",U_="mission_moc2__j+nsy",V_="mission_turn__cabVx",G_="mission_the_meo__NC7xJ",z_="mission_the_meo_title__TM-86",W_={container:"mainTab_container__lKhPf",main_content:"mainTab_main_content__QaJqf",mission:"mainTab_mission__dOwmu",second:"mainTab_second__RfLPc",bg:"mainTab_bg__k-3Gr",content:"mainTab_content__rLDKM",text:"mainTab_text__bMBM8",longText:"mainTab_longText__vyznb",btn:"mainTab_btn__rUe88",btn_title:"mainTab_btn_title__jjH8u",done_btn_title:"mainTab_done_btn_title__d7cVU",btn_bg:"mainTab_btn_bg__Sm23-",title:"mainTab_title__9YSvs",description:"mainTab_description__1uLRW",bottom:"mainTab_bottom__ib-RI",bottom2:"mainTab_bottom2__BGJ4i",catCard:"mainTab_catCard__MNSp2",ticketGain:"mainTab_ticketGain__r1aYY",limit:"mainTab_limit__YJ4hq",realtime:"mainTab_realtime__JE-Ec",more:"mainTab_more__hoSYm",main_title:"mainTab_main_title__4SGP7",main_title_2:"mainTab_main_title_2__r2RmM",main_limit_container:"mainTab_main_limit_container__Kw6e6",center:"mainTab_center__EDMED",specialBottom:"mainTab_specialBottom__3S1R2",specialCenter:"mainTab_specialCenter__oLqwK"},H_="assets/ui/mission_bg_btn.png",Y_="assets/ui/active_card.png",X_="assets/ui/card.png",q_="assets/ui/kim_bai_heo.png",$_="assets/ui/done_btn.png",K_=function(e){var t,n,i,r=e.missions,a=e.showRealTime,s=e.showGuide,o=e.secondMissions,l=e.title,u=e.mainLimit,c=e.activeTab,h=e.specialMissions,f=Fg().t;return(0,ri.jsxs)("div",{className:W_.container,children:[(0,ri.jsxs)("div",{className:W_.main_content,children:[l&&(0,ri.jsx)("div",{className:Vn()(W_.main_title,"sg-bold"),children:l}),u&&(0,ri.jsxs)("div",{className:Vn()(W_.main_limit_container,"sg-medium","row"),children:[(0,ri.jsx)("div",{className:W_.main_limit,children:f("mission.limit",{limit:u,count:1})}),(0,ri.jsx)("div",{className:W_.center,children:"|"}),(0,ri.jsx)("div",{className:W_.main_real_time,children:f("mission.now")})]}),r.map((function(e){var t,n;return(0,ri.jsxs)("div",{className:W_.mission,children:[(0,ri.jsx)("img",{alt:"card",src:e.ticketCount===(null===(t=e.limit)||void 0===t?void 0:t.times)?Y_:X_,className:W_.bg}),(0,ri.jsxs)("div",{className:W_.content,children:[(0,ri.jsxs)("div",{className:e.hiddenActionBtn?W_.longText:W_.text,children:[(0,ri.jsx)("div",{className:Vn()(W_.title,"sg-semibold"),children:e.name}),(0,ri.jsx)("div",{className:Vn()(W_.description,"sg-regular"),dangerouslySetInnerHTML:{__html:e.description}})]}),e.hiddenActionBtn?null:e.ticketCount===(null===(n=e.limit)||void 0===n?void 0:n.times)?(0,ri.jsxs)(ai,{onClick:function(){},title:"",className:W_.btn,children:[(0,ri.jsx)("img",{src:$_,className:W_.btn_bg,alt:"back_btn"}),(0,ri.jsx)("div",{className:Vn()(W_.done_btn_title,"sg-bold"),children:f("mission.done")})]}):(0,ri.jsxs)(ai,{onClick:function(){},title:"",className:W_.btn,children:[(0,ri.jsx)("img",{src:H_,className:W_.btn_bg,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(W_.btn_title,"sg-bold"),children:[f("mission.action")," "]})]})]}),s.includes(e.code)&&(0,ri.jsx)(ai,{title:"",customStyle:{zIndex:3,position:"relative"},children:(0,ri.jsx)("div",{className:Vn()(W_.more,"sg-regular"),children:f("mission.more")})}),(0,ri.jsxs)("div",{className:a?W_.bottom:W_.bottom2,children:[(0,ri.jsxs)("div",{className:"row",style:{alignItems:"flex-end"},children:[(0,ri.jsx)("img",{src:q_,alt:"kim_bai_heo",className:W_.catCard}),(0,ri.jsx)("div",{className:Vn()(W_.ticketGain,"sg-bold"),children:f("mission.catCard",{count:e.ticketGain})})]}),a&&(0,ri.jsx)("div",{children:"|"}),a&&e.limit&&e.limit.times&&(0,ri.jsx)("div",{className:Vn()(W_.limit,"sg-regular"),children:f("mission.limit",{limit:e.limit.times,count:e.ticketCount})}),a&&(0,ri.jsx)("div",{children:"|"}),a&&(0,ri.jsx)("div",{className:Vn()(W_.realtime,"sg-regular"),children:e.realtime?f("mission.now"):f("mission.2weeks")})]})]},e.code)})),3===c&&(0,ri.jsxs)("div",{className:W_.mission,children:[(0,ri.jsx)("img",{alt:"card",src:h[0].ticketCount===(null===(t=h[0].limit)||void 0===t?void 0:t.times)?Y_:X_,className:W_.bg}),(0,ri.jsxs)("div",{className:W_.content,children:[(0,ri.jsxs)("div",{className:h[0].hiddenActionBtn?W_.longText:W_.text,children:[(0,ri.jsx)("div",{className:Vn()(W_.title,"sg-semibold"),children:h[0].name}),(0,ri.jsx)("div",{className:Vn()(W_.description,"sg-regular"),dangerouslySetInnerHTML:{__html:h[0].description}})]}),h[0].hiddenActionBtn?null:h[0].ticketCount===(null===(n=h[0].limit)||void 0===n?void 0:n.times)?(0,ri.jsxs)(ai,{onClick:function(){},title:"",className:W_.btn,children:[(0,ri.jsx)("img",{src:$_,className:W_.btn_bg,alt:"back_btn"}),(0,ri.jsx)("div",{className:Vn()(W_.done_btn_title,"sg-bold"),children:f("mission.done")})]}):(0,ri.jsxs)(ai,{onClick:function(){},title:"",className:W_.btn,children:[(0,ri.jsx)("img",{src:H_,className:W_.btn_bg,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(W_.btn_title,"sg-bold"),children:[f("mission.action")," "]})]})]}),s.includes(h[0].code)&&(0,ri.jsx)(ai,{title:"",customStyle:{zIndex:3,position:"relative"},children:(0,ri.jsx)("div",{className:Vn()(W_.more,"sg-regular"),children:f("mission.more")})}),(0,ri.jsxs)("div",{className:W_.bottom,children:[(0,ri.jsxs)("div",{className:"row",style:{alignItems:"flex-end"},children:[(0,ri.jsx)("img",{src:q_,alt:"kim_bai_heo",className:W_.catCard}),(0,ri.jsx)("div",{className:Vn()(W_.ticketGain,"sg-bold"),children:f("mission.catCard",{count:h[0].ticketGain})})]}),a&&(0,ri.jsx)("div",{children:"|"}),a&&h[0].limit&&h[0].limit.times&&(0,ri.jsx)("div",{className:Vn()(W_.limit,"sg-regular"),children:f("mission.limit",{limit:h[0].limit.times,count:h[0].ticketCount})}),a&&(0,ri.jsx)("div",{children:"|"}),a&&(0,ri.jsx)("div",{className:Vn()(W_.realtime,"sg-regular"),children:h[0].realtime?f("mission.now"):f("mission.2weeks")})]}),(0,ri.jsx)("div",{className:W_.specialCenter}),(0,ri.jsxs)("div",{className:W_.content,children:[(0,ri.jsx)("div",{className:h[1].hiddenActionBtn?W_.longText:W_.text,children:(0,ri.jsx)("div",{className:Vn()(W_.description,"sg-regular",W_.specialBottom),dangerouslySetInnerHTML:{__html:h[1].description}})}),h[1].hiddenActionBtn?null:h[1].ticketCount===(null===(i=h[1].limit)||void 0===i?void 0:i.times)?(0,ri.jsxs)(ai,{onClick:function(){},title:"",className:W_.btn,children:[(0,ri.jsx)("img",{src:$_,className:W_.btn_bg,alt:"back_btn"}),(0,ri.jsx)("div",{className:Vn()(W_.done_btn_title,"sg-bold"),children:f("mission.done")})]}):(0,ri.jsxs)(ai,{onClick:function(){},title:"",className:W_.btn,children:[(0,ri.jsx)("img",{src:H_,className:W_.btn_bg,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(W_.btn_title,"sg-bold"),children:[f("mission.action")," "]})]})]}),(0,ri.jsxs)("div",{className:W_.bottom,children:[(0,ri.jsxs)("div",{className:"row",style:{alignItems:"flex-end"},children:[(0,ri.jsx)("img",{src:q_,alt:"kim_bai_heo",className:W_.catCard}),(0,ri.jsx)("div",{className:Vn()(W_.ticketGain,"sg-bold"),children:f("mission.catCard",{count:h[0].ticketGain})})]}),a&&(0,ri.jsx)("div",{children:"|"}),a&&h[1].limit&&h[1].limit.times&&(0,ri.jsx)("div",{className:Vn()(W_.limit,"sg-regular"),children:f("mission.limit",{limit:h[1].limit.times,count:h[1].ticketCount})}),a&&(0,ri.jsx)("div",{children:"|"}),a&&(0,ri.jsx)("div",{className:Vn()(W_.realtime,"sg-regular"),children:h[0].realtime?f("mission.now"):f("mission.2weeks")})]})]},h[0].code)]}),o.length>0&&(0,ri.jsxs)("div",{className:Vn()(W_.main_content,W_.second),children:[l&&(0,ri.jsx)("div",{className:Vn()(W_.main_title_2,"sg-bold"),children:f("mission.onlineLoans")}),o.map((function(e){var t,n;return(0,ri.jsxs)("div",{className:W_.mission,children:[(0,ri.jsx)("img",{alt:"card",src:e.ticketCount===(null===(t=e.limit)||void 0===t?void 0:t.times)?Y_:X_,className:W_.bg}),(0,ri.jsxs)("div",{className:W_.content,children:[(0,ri.jsxs)("div",{className:e.hiddenActionBtn?W_.longText:W_.text,children:[(0,ri.jsx)("div",{className:Vn()(W_.title,"sg-semibold"),children:e.name}),(0,ri.jsx)("div",{className:Vn()(W_.description,"sg-regular"),dangerouslySetInnerHTML:{__html:e.description}})]}),e.hiddenActionBtn?null:e.ticketCount===(null===(n=e.limit)||void 0===n?void 0:n.times)?(0,ri.jsxs)(ai,{onClick:function(){},title:"",className:W_.btn,children:[(0,ri.jsx)("img",{src:$_,className:W_.btn_bg,alt:"back_btn"}),(0,ri.jsx)("div",{className:Vn()(W_.done_btn_title,"sg-bold"),children:f("mission.done")})]}):(0,ri.jsxs)(ai,{onClick:function(){},title:"",className:W_.btn,children:[(0,ri.jsx)("img",{src:H_,className:W_.btn_bg,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(W_.btn_title,"sg-bold"),children:[f("mission.action")," "]})]})]}),s.includes(e.code)&&(0,ri.jsx)(ai,{title:"",customStyle:{zIndex:3,position:"relative"},children:(0,ri.jsx)("div",{className:Vn()(W_.more,"sg-regular"),children:f("mission.more")})}),(0,ri.jsxs)("div",{className:W_.bottom,children:[(0,ri.jsxs)("div",{className:"row",style:{alignItems:"flex-end"},children:[(0,ri.jsx)("img",{src:q_,alt:"kim_bai_heo",className:W_.catCard}),(0,ri.jsx)("div",{className:Vn()(W_.ticketGain,"sg-bold"),children:f("mission.catCard",{count:e.ticketGain})})]}),(0,ri.jsx)("div",{children:"|"}),e.limit&&e.limit.times&&(0,ri.jsx)("div",{className:Vn()(W_.limit,"sg-regular"),children:f("mission.limit",{limit:e.limit.times,count:e.ticketCount})}),(0,ri.jsx)("div",{children:"|"}),(0,ri.jsx)("div",{className:Vn()(W_.realtime,"sg-regular"),children:e.realtime?f("mission.now"):f("mission.2weeks")})]})]},e.code)}))]})]})},Q_={depositsTab:[{code:"O1",name:"M\u1edf ti\u1ec1n g\u1eedi < 100.000.000 VN\u0110",description:"M\u1edf m\u1edbi ti\u1ec1n g\u1eedi Online d\u01b0\u1edbi 100.000.00 VN\u0110 c\xf3 k\u1ef3 h\u1ea1n t\u1eeb 1 th\xe1ng tr\u1edf l\xean tr\xean VPBank NEO",ticketGain:3,limit:{},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O2",name:"M\u1edf ti\u1ec1n g\u1eedi \u2265 100.000.000 VN\u0110",description:"M\u1edf m\u1edbi ti\u1ec1n g\u1eedi Online t\u1eeb 100.000.00 VN\u0110 c\xf3 k\u1ef3 h\u1ea1n t\u1eeb 1 th\xe1ng tr\u1edf l\xean tr\xean VPBank NEO",ticketGain:10,limit:{},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O3",name:"V\u1ed1n s\u01b0\u01a1ng s\u01b0\u01a1ng",description:"M\u1edf m\u1edbi kho\u1ea3n vay h\u1ea1n m\u1ee9c th\u1ea5u chi Online d\u01b0\u1edbi 30.000.000 VN\u0110",ticketGain:2,limit:{times:1},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O4",name:"V\u1ed1n \u0111\u1ea7y v\xed",description:"M\u1edf m\u1edbi kho\u1ea3n vay h\u1ea1n m\u1ee9c th\u1ea5u chi Online t\u1eeb 30.000.000 VN\u0110 t\u1edbi 50.000.000 VN\u0110",ticketGain:3,limit:{times:1},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O5",name:"V\u1ed1n d\u1ed3i d\xe0o",description:"M\u1edf m\u1edbi kho\u1ea3n vay h\u1ea1n m\u1ee9c th\u1ea5u chi Online t\u1eeb 50.000.000 VN\u0110 tr\u1edf l\xean",ticketGain:5,limit:{times:1},realtime:!1,hiddenActionBtn:!1,ticketCount:0},{code:"O6",name:"V\u1ed1n si\xeau t\u1ed1c",description:"Gi\u1ea3i ng\xe2n kho\u1ea3n vay t\xedn ch\u1ea5p th\xe0nh c\xf4ng tr\xean VPBank NEO",ticketGain:2,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0}],transferTab:[{code:"T1",name:"Chuy\u1ec3n kho\u1ea3n th\u1ea7n t\u1ed1c",description:"Th\u1ef1c hi\u1ec7n chuy\u1ec3n ti\u1ec1n t\u1edbi t\xe0i kho\u1ea3n ng\u01b0\u1eddi nh\u1eadn kh\xe1c gi\xe1 tr\u1ecb t\u1eeb 50.000 VN\u0110 tr\u1edf l\xean tr\xean VPBank NEO",ticketGain:1,limit:{times:45,duration:{amount:1,unit:"months"}},realtime:!0,hiddenActionBtn:!1,ticketCount:0},{code:"T2",name:"Chuy\u1ec3n ti\u1ec1n t\u1edbi VNPOST",description:'S\u1eed d\u1ee5ng t\xednh n\u0103ng chuy\u1ec3n ti\u1ec1n "T\u1edbi ng\u01b0\u1eddi nh\u1eadn t\u1ea1i VNPOST',ticketGain:1,limit:{times:5},realtime:!0,hiddenActionBtn:!1,ticketCount:0},{code:"T3",name:"Thanh to\xe1n nhanh g\u1ecdn",description:"Thanh to\xe1n h\xf3a \u0111\u01a1n t\u1eeb 50.000 VN\u0110 tr\u1edf l\xean (\u0111i\u1ec7n, n\u01b0\u1edbc, truy\u1ec1n h\xecnh, h\u1ecdc ph\xed, n\u1ea1p ti\u1ec1n ch\u1ee9ng kho\xe1n,...) tr\xean VPBank NEO",ticketGain:1,limit:{times:20},realtime:!0,hiddenActionBtn:!1,ticketCount:0},{code:"T4",name:"N\u1ea1p ti\u1ec1n d\u1ebf y\xeau",description:"N\u1ea1p ti\u1ec1n \u0111i\u1ec7n tho\u1ea1i: Tr\u1ea3 tr\u01b0\u1edbc, tr\u1ea3 sau, mua m\xe3 th\u1ebb c\xe0o.\nMua g\xf3i c\u01b0\u1edbc data: N\u1ea1p ti\u1ec1n, mua m\xe3 th\u1ebb c\xe0o\nGi\xe1 tr\u1ecb t\u1eeb 50.000 VN\u0110 tr\u1edf l\xean",ticketGain:1,limit:{times:20},realtime:!0,hiddenActionBtn:!1,ticketCount:0},{code:"T5",name:"S\u1eafm T\u1ebft th\u1ea3 ga v\u1edbi th\u1ebb t\xedn d\u1ee5ng",description:"S\u1edf h\u1eefu t\xe0i kho\u1ea3n thanh to\xe1n t\u1ea1i VPBank v\xe0 chi ti\xeau v\u1edbi th\u1ebb t\xedn d\u1ee5ng t\u1eeb 5.000.000 VN\u0110",ticketGain:1,limit:{times:20},realtime:!1,hiddenActionBtn:!1,ticketCount:0}],newAccountTab:[{code:"N4",name:"V\u1ecb th\u1ebf quy\u1ec1n n\u0103ng",description:"\u0110\u1ecbnh danh l\xe0 H\u1ed9i vi\xean VPBank Diamond th\xe0nh c\xf4ng trong th\u1eddi gian di\u1ec5n ra ch\u01b0\u01a1ng tr\xecnh",ticketGain:40,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0},{code:"N3",name:"B\u1ee9t ph\xe1 s\xe0nh \u0111i\u1ec7u",description:"\u0110\u1ecbnh danh l\xe0 H\u1ed9i vi\xean VPBank Prime th\xe0nh c\xf4ng trong th\u1eddi gian di\u1ec5n ra ch\u01b0\u01a1ng tr\xecnh",ticketGain:1,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0},{code:"N1",name:"M\u1edf t\xe0i kho\u1ea3n VPBank NEO",description:"\u0110\u1ecbnh danh l\xe0 H\u1ed9i vi\xean VPBank Prime th\xe0nh c\xf4ng trong th\u1eddi gian di\u1ec5n ra ch\u01b0\u01a1ng tr\xecnh",ticketGain:5,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0},{code:"N2",name:"",description:"Duy tr\xec s\u1ed1 d\u01b0 b\xecnh qu\xe2n t\xe0i kho\u1ea3n thanh to\xe1n t\u1eeb 500.000 VN\u0110 tr\u1edf l\xean",ticketGain:5,limit:{times:1},realtime:!1,hiddenActionBtn:!0,ticketCount:0}]},Z_="assets/ui/moc.png",J_=["depositsTab","transferTab","newAccountTab"],eb=function(){var e=Fg().t,t=wn(),n=ht((0,r.useState)(1),2),i=n[0],a=n[1],s=ht((0,r.useState)([]),2),o=s[0],u=s[1],c=ht(Za(),1)[0],h=(0,r.useCallback)($n(Xn().mark((function e(){var t,n;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa.get("/api/tickets/list");case 2:(t=e.sent).data&&u((null===(n=t.data)||void 0===n?void 0:n.tickets)||{});case 4:case"end":return e.stop()}}),e)}))),[]);return(0,r.useEffect)((function(){h()}),[h]),(0,ri.jsxs)("div",{className:E_,children:[(0,ri.jsx)("img",{src:"assets/ui/mission_bg.png",alt:"",className:L_}),(0,ri.jsx)("div",{className:Vn()(N_,"sg-bold"),children:e("mission.title")}),(0,ri.jsxs)("div",{className:V_,style:{paddingLeft:30+3*((null===c||void 0===c?void 0:c.ticketCount)||0).toString.length},children:[(0,ri.jsx)("img",{src:"assets/ui/kim_bai_heo.png",alt:"the_meo",className:G_}),(0,ri.jsxs)("div",{className:Vn()(z_,"sg-regular"),children:[(0,ri.jsx)("b",{children:null===c||void 0===c?void 0:c.ticketCount})," Th\u1ebb m\xe8o"]})]}),(0,ri.jsxs)("div",{className:R_,children:[(0,ri.jsx)("div",{className:F_,children:[1,2,3].map((function(t){return(0,ri.jsxs)(ai,{onClick:function(){return a(t)},title:"",className:B_,children:[(0,ri.jsx)("img",{src:i===t?"assets/ui/active_tab.png":"assets/ui/inactive_tab.png",className:P_,alt:"activeTab"}),(0,ri.jsx)("div",{className:i===t?Vn()(D_,"sg-bold"):Vn()(D_,"sg-regular"),children:e("mission.".concat(J_[t-1]))}),i===t&&(0,ri.jsx)("img",{className:j_,src:Z_,alt:"moc"}),i===t&&(0,ri.jsx)("img",{className:U_,src:Z_,alt:"moc"})]},t)}))}),1===i&&(0,ri.jsx)(K_,{showGuide:["POWERFULL_POSITION","STYLIST_BREAKOUT"],showRealTime:!1,missions:Q_[J_[i-1]].slice(0,2).map((function(e){return o[e.code]&&o[e.code]>0?l(l({},e),{},{ticketCount:o[e.code]}):e})),secondMissions:Q_[J_[i-1]].slice(2,6).map((function(e){return o[e.code]&&o[e.code]>0?l(l({},e),{},{ticketCount:o[e.code]}):e})),specialMissions:"",mainLimit:100,title:e("mission.saveMoneyOnline"),activeTab:i}),2===i&&(0,ri.jsx)(K_,{secondMissions:[],showGuide:["POWERFULL_POSITION","STYLIST_BREAKOUT"],showRealTime:!0,missions:Q_[J_[1]].map((function(e){return o[e.code]&&o[e.code]>0?l(l({},e),{},{ticketCount:o[e.code]}):e})),specialMissions:"",title:"",mainLimit:"",activeTab:i}),3===i&&(0,ri.jsx)(K_,{secondMissions:[],showGuide:["POWERFULL_POSITION","STYLIST_BREAKOUT"],showRealTime:!0,missions:Q_[J_[2]].slice(0,2).map((function(e){return o[e.code]&&o[e.code]>0?l(l({},e),{},{ticketCount:o[e.code]}):e})),specialMissions:Q_[J_[2]].slice(2,4).map((function(e){return o[e.code]&&o[e.code]>0?l(l({},e),{},{ticketCount:o[e.code]}):e})),title:"",mainLimit:"",activeTab:i})]}),(0,ri.jsx)("div",{className:I_,children:(0,ri.jsxs)(ai,{onClick:function(){return t("/home")},title:"",className:C_,children:[(0,ri.jsx)("img",{src:"assets/ui/primary_btn.png",className:P_,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(O_,"sg-bold"),children:[e("rule.home")," "]})]})})]})},tb="basket_container__f0S-6",nb="basket_background__8QY9r",ib="basket_btn__B521C",rb="basket_btn_title__sWzq8",ab="basket_btn_bg__I5O7u",sb="basket_bottom__vpCSG",ob="basket_title__Jd2nr",lb="basket_content__AOqqJ",ub="basket_tabs__0ZBld",cb="basket_tab_btn__qwxLJ",hb="basket_tab_btn_title__bKw9a",fb="basket_moc1__tSZiy",db="basket_moc2__TmyNJ",pb="gift_container__WPXr-",vb="gift_main_content__e-oC2",mb="gift_gift_content__x9VPq",gb="gift_second__89Wav",yb="gift_bg__R8PqX",_b="gift_content__FM6IU",bb="gift_giftBtn__Lhaq3",xb="gift_text__lJJZw",wb="gift_title__21AhX",kb="gift_description__3Xlxw",Mb="gift_detail__Wu+oH",Tb="gift_main_title__2L1eg",Sb="gift_moc1__giBfs",Ab="gift_moc2__He+dv",Eb="gift_gift__ovG0b",Lb="gift_giftContainer__VaOon",Cb="gift_money__JiUsZ",Ob="gift_value__J+a21",Pb="gift_vnd__AYnIp",Ib=n(658),Nb=n.n(Ib),Rb="giftModal_container__Rjn7E",Fb="giftModal_closeButton__kcseN",Bb="giftModal_header__v1hUv",Db="giftModal_custom__0FxjJ",jb="giftModal_taiLocTitle__P8-GG",Ub="giftModal_gift__n-zIM",Vb="giftModal_moc1__cRsvM",Gb="giftModal_moc2__3DLd3",zb="giftModal_bottom__DoxLd",Wb="giftModal_date__HnM8E",Hb="giftModal_congrat__Usscg",Yb="giftModal_money__0RxZr",Xb="giftModal_giftContainer__kRjbW",qb="giftModal_value__dP3VW",$b="assets/ui/moc.png",Kb={position:"absolute",bottom:"-10%"},Qb=function(e){var t=e.visible,n=e.onDismiss,i=e.gift,r=Fg().t;return(0,ri.jsx)(Si,{visible:t,onDismiss:n,children:(0,ri.jsxs)("div",{children:[(0,ri.jsxs)("div",{className:Rb,style:{backgroundImage:"url(".concat("assets/ui/gift_top_bg.png",")")},children:[(0,ri.jsx)("div",{className:Bb,children:(0,ri.jsx)("div",{className:Vn()(i.type.includes("cash")?Db:jb,"sg-bold"),children:r("modal.gift.".concat(i.type.includes("cash")?"cash":i.key))})}),i.type.includes("cash")?(0,ri.jsxs)("div",{className:Xb,children:[(0,ri.jsx)("img",{alt:"gift",src:i.url,className:Ub}),(0,ri.jsx)("div",{className:Yb,children:(0,ri.jsx)("div",{className:Vn()(qb,"sg-semibold"),children:"".concat(i.value," VN\u0110")})})]}):(0,ri.jsx)("img",{alt:"gift",src:i.url,className:Ub}),(0,ri.jsx)("img",{className:Vb,src:$b,alt:"moc"}),(0,ri.jsx)("img",{className:Gb,src:$b,alt:"moc"})]}),(0,ri.jsxs)("div",{className:zb,children:[(0,ri.jsx)("div",{className:Vn()(Wb,"sg-medium"),children:"".concat(r("basket.rewardedAt")).concat(Nb()(i.rewardedAt).format("DD/M/YYYY"))}),(0,ri.jsx)("div",{className:Vn()(Hb,"sg-regular"),children:r("basket.gift.".concat(i.key))}),(0,ri.jsx)(ai,{title:"close",onClick:n,customStyle:Kb,children:(0,ri.jsx)("div",{className:Fb,style:{backgroundImage:"url(".concat("assets/ui/close.png",")")}})})]})]})})},Zb="assets/ui/gift_card.png",Jb="assets/ui/moc.png",ex=function(e){var t=e.rewards,n=Fg().t,i=ht((0,r.useState)([]),2),a=i[0],s=i[1],o=ht((0,r.useState)([]),2),l=o[0],u=o[1],c=ht((0,r.useState)(),2),h=c[0],f=c[1],d=ht((0,r.useState)(!1),2),p=d[0],v=d[1],m=(0,r.useCallback)((function(e){f(e),v(!0)}),[]);return(0,r.useEffect)((function(){t&&t.length>0&&(s(t.filter((function(e){return!!e.issued}))),u(t.filter((function(e){return!e.issued}))))}),[t]),(0,ri.jsxs)("div",{className:pb,children:[h&&(0,ri.jsx)(Qb,{gift:h,visible:p,onDismiss:function(){return v(!1)}}),(0,ri.jsxs)("div",{className:vb,children:[(0,ri.jsx)("div",{className:Vn()(Tb,"sg-bold"),children:0===l.length&&0===a.length?n("basket.noGift"):n("basket.notReceivedTitle")}),l.map((function(e){return(0,ri.jsx)(ai,{className:bb,title:"",onClick:function(){return m(e)},children:(0,ri.jsxs)("div",{className:mb,children:[(0,ri.jsx)("img",{alt:"card",src:Zb,className:yb}),(0,ri.jsxs)("div",{className:_b,children:[e.type.includes("cash")?(0,ri.jsxs)("div",{className:Lb,children:[(0,ri.jsx)("img",{alt:"gift",src:e.url,className:Eb}),(0,ri.jsxs)("div",{className:Cb,children:[(0,ri.jsx)("div",{className:Vn()(Ob,"sg-semibold"),children:e.value}),(0,ri.jsx)("div",{className:Vn()(Pb,"sg-semibold"),children:"VN\u0110"})]})]}):(0,ri.jsx)("img",{alt:"gift",src:e.url,className:Eb}),(0,ri.jsxs)("div",{className:xb,children:[(0,ri.jsx)("div",{className:Vn()(wb,"sg-semibold"),children:e.name}),(0,ri.jsx)("div",{className:Vn()(kb,"sg-regular"),children:"".concat(n("basket.rewardedAt")).concat(Nb()(e.rewardedAt).format("DD/M/YYYY"))})]}),(0,ri.jsxs)("div",{className:Vn()(Mb,"sg-semibold"),children:[n("basket.detail")," "]})]})]})},e._id)}))]}),a&&a.length>0&&(0,ri.jsxs)("div",{className:Vn()(vb,gb),children:[(0,ri.jsx)("div",{className:Vn()(Tb,"sg-bold"),children:n("basket.receivedTitle")}),(0,ri.jsx)("img",{className:Sb,src:Jb,alt:"moc"}),(0,ri.jsx)("img",{className:Ab,src:Jb,alt:"moc"}),a.map((function(e){return(0,ri.jsx)(ai,{className:bb,title:"",onClick:function(){return m(e)},children:(0,ri.jsxs)("div",{className:mb,children:[(0,ri.jsx)("img",{alt:"card",src:Zb,className:yb}),(0,ri.jsxs)("div",{className:_b,children:[e.type.includes("cash")?(0,ri.jsxs)("div",{className:Lb,children:[(0,ri.jsx)("img",{alt:"gift",src:e.url,className:Eb}),(0,ri.jsxs)("div",{className:Cb,children:[(0,ri.jsx)("div",{className:Vn()(Ob,"sg-semibold"),children:e.value}),(0,ri.jsx)("div",{className:Vn()(Pb,"sg-semibold"),children:"VN\u0110"})]})]}):(0,ri.jsx)("img",{alt:"gift",src:e.url,className:Eb}),(0,ri.jsxs)("div",{className:xb,children:[(0,ri.jsx)("div",{className:Vn()(wb,"sg-semibold"),children:e.name}),(0,ri.jsx)("div",{className:Vn()(kb,"sg-regular"),children:"".concat(n("basket.rewardedAt")).concat(Nb()(e.rewardedAt).format("DD/M/YYYY"))})]}),(0,ri.jsxs)("div",{className:Vn()(Mb,"sg-semibold"),children:[n("basket.detail")," "]})]})]})},e._id)}))]})]})},tx=[{_id:"1",type:"cash-868",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!1,combined:!1},{_id:"2",type:"cash-2023",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!0,combined:!1},{_id:"3",type:"cash-6868",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!1,combined:!1},{_id:"4",type:"cash-10k",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!0,combined:!1},{_id:"5",type:"cash-20k",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!1,combined:!1},{_id:"6",type:"cash-50k",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!0,combined:!1},{_id:"7",type:"cash-100k",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!1,combined:!1},{_id:"8",type:"phat-1",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!0,combined:!1},{_id:"9",type:"phat-2",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!0,combined:!1},{_id:"10",type:"phat-3",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!0,combined:!1},{_id:"11",type:"phat-4",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!0,combined:!0},{_id:"12",type:"lynkid",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!1,combined:!1},{_id:"13",type:"tai",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!0,combined:!1},{_id:"14",type:"loc",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!1,combined:!1},{_id:"14",type:"loc",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!1,combined:!1}],nx={_id:"",type:"tvp",rewardedAt:new Date("2022-12-04T20:03:14.662Z"),issued:!1,combined:!1},ix="pieces_container__20Yc7",rx="pieces_main_content__AuCw1",ax="pieces_main_title__YL+de",sx="pieces_pieces__hHu3K",ox="pieces_piecesBg__yM-4d",lx="pieces_content__mVKHE",ux="pieces_top_left_piece__FKk0E",cx="pieces_phat1__c-Zc4",hx="pieces_top_right_piece__za-Br",fx="pieces_phat2__Qc7-i",dx="pieces_bottom_left_peace__lg2Pc",px="pieces_phat3__33nnn",vx="pieces_bottom_right_piece__PMidp",mx="pieces_phat4__Rugm6",gx="pieces_vp_pieces__jBg8n",yx="pieces_tvp__Kl5Vx",_x="pieces_tvpValue__hlbLx",bx="pieces_btn__VUN0p",xx="pieces_btn_title__Xw9CT",wx="pieces_btn_bg__sLY6A",kx="pieces_piecesCount__+TraX",Mx="combine_container__v6lAg",Tx="combine_closeButton__ycL+C",Sx="combine_header__nAwop",Ax="combine_custom__Nmfo3",Ex="combine_gift__+nQTg",Lx="combine_bottom__IDsqL",Cx="combine_btn__SaI8X",Ox="combine_btn_title__HMrbu",Px="combine_btn_bg__L+OrP",Ix="combine_btns__xQ9QM",Nx="combine_done__Deiuw",Rx="combine_tvp__Dnfgi",Fx={position:"absolute",bottom:"-10%"},Bx=function(e){var t=e.visible,n=e.onDismiss,i=Fg().t,r=wn();return(0,ri.jsx)(Si,{visible:t,onDismiss:n,children:(0,ri.jsxs)("div",{children:[(0,ri.jsxs)("div",{className:Mx,style:{backgroundImage:"url(".concat("assets/ui/gift_top_bg.png",")")},children:[(0,ri.jsx)("div",{className:Sx,children:(0,ri.jsx)("div",{className:Vn()(Ax,"sg-bold"),children:"Ch\xfac m\u1eebng!"})}),(0,ri.jsx)("img",{alt:"gift",src:"assets/ui/gift_tvp.png",className:Ex}),(0,ri.jsx)("div",{className:Vn()(Nx,"sg-regular"),children:"B\u1ea1n \u0111\xe3 gh\xe9p th\xe0nh c\xf4ng"}),(0,ri.jsx)("div",{className:Vn()(Rx,"sg-bold"),children:"hoa Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t!"}),(0,ri.jsxs)("div",{className:Ix,children:[(0,ri.jsxs)(ai,{onClick:function(){return r("/home")},title:"",className:Cx,children:[(0,ri.jsx)("img",{src:"assets/ui/primary_btn.png",className:Px,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(Ox,"sg-bold"),children:[i("rule.home")," "]})]}),(0,ri.jsxs)(ai,{onClick:function(){return r("/basket")},title:"",className:Cx,children:[(0,ri.jsx)("img",{src:"assets/ui/blue_btn.png",className:Px,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(Ox,"sg-bold"),children:[i("rule.home")," "]})]})]})]}),(0,ri.jsx)("div",{className:Lx,children:(0,ri.jsx)(ai,{title:"close",onClick:n,customStyle:Fx,children:(0,ri.jsx)("div",{className:Tx,style:{backgroundImage:"url(".concat("assets/ui/close.png",")")}})})})]})})},Dx=function(e){var t=e.rewards,n=Fg().t,i=ht((0,r.useState)(!1),2),a=i[0],s=i[1],o=ht((0,r.useState)(!1),2),l=o[0],u=o[1],c=(0,r.useMemo)((function(){var e=t.filter((function(e){return!!e.issued}));return{phat1:e.filter((function(e){return"phat1"===e.key})).length,phat2:e.filter((function(e){return"phat2"===e.key})).length,phat3:e.filter((function(e){return"phat3"===e.key})).length,phat4:e.filter((function(e){return"phat4"===e.key})).length}}),[t]),h=(0,r.useMemo)((function(){return!c.phat1||!c.phat2||!c.phat3||!c.phat4}),[c]),f=(0,r.useCallback)($n(Xn().mark((function e(){var t;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,Qa.post("/api/rewards/combine");case 4:(t=e.sent).data.ok?(u(!1),s(!0)):(u(!1),za(t.data.message)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),u(!1),za(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]);return(0,ri.jsxs)("div",{className:ix,children:[(0,ri.jsxs)("div",{className:rx,children:[(0,ri.jsx)("div",{className:Vn()(ax,"sg-regular"),dangerouslySetInnerHTML:{__html:n("basket.collection")}}),(0,ri.jsxs)("div",{className:sx,children:[(0,ri.jsx)("img",{alt:"pieces",src:"assets/ui/pieces_bg.png",className:ox}),(0,ri.jsxs)("div",{className:lx,children:[(0,ri.jsx)("img",{alt:"vp_pieces",src:"assets/ui/vpb_pieces.png",className:gx}),c.phat1>0&&(0,ri.jsxs)("div",{children:[(0,ri.jsx)("img",{alt:"top_left_piece",src:"assets/ui/top_left_piece.png",className:ux}),(0,ri.jsx)("div",{className:Vn()(kx,"sg-bold",cx),children:"X".concat(c.phat1)})]}),c.phat2>0&&(0,ri.jsxs)("div",{children:[(0,ri.jsx)("img",{alt:"top_right_piece",src:"assets/ui/top_right_piece.png",className:hx}),(0,ri.jsx)("div",{className:Vn()(kx,"sg-bold",fx),children:"X".concat(c.phat2)})]}),c.phat3>0&&(0,ri.jsxs)("div",{children:[(0,ri.jsx)("img",{alt:"bottom_left_peace",src:"assets/ui/bottom_left_peace.png",className:dx}),(0,ri.jsx)("div",{className:Vn()(kx,"sg-bold",px),children:"X".concat(c.phat3)})]}),c.phat4>0&&(0,ri.jsxs)("div",{children:[(0,ri.jsx)("img",{alt:"bottom_right_piece",src:"assets/ui/bottom_right_piece.png",className:vx}),(0,ri.jsx)("div",{className:Vn()(kx,"sg-bold",mx),children:"X".concat(c.phat4)})]}),(0,ri.jsx)("div",{className:Vn()(yx,"sg-bold"),children:n("gift.tvp")}),(0,ri.jsx)("div",{className:Vn()(_x,"sg-semibold"),children:n("basket.tvpValue")})]}),(0,ri.jsxs)(ai,{disabled:h,onClick:function(){return f()},title:"",className:bx,children:[(0,ri.jsx)("img",{src:h?"assets/ui/disabledBtn.png":"assets/ui/primary_btn.png",className:wx,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(xx,"sg-bold"),children:[n("basket.graft")," "]})]})]})]}),(0,ri.jsx)(Bx,{visible:a,onDismiss:function(){return s(!1)}}),(0,ri.jsx)(os,{visible:l})]})},jx={TVP:{url:"assets/ui/gift_tvp.png",name:"tvp",value:"123.456.789",treasureTextColor:"#D81C23",treasureBottomBgColor:"linear-gradient(180deg, #D81C23 0%, #9B030A 100%)"},TVL:{url:"assets/ui/gift_tvl.png",name:"tvl",value:"8.888.888",treasureTextColor:"#158A5A",treasureBottomBgColor:"linear-gradient(180deg, #24E076 0%, #128946 100%)"},TVT:{url:"assets/ui/gift_tvt.png",name:"tvt",value:"6.666.666",treasureTextColor:"#3CAE9C",treasureBottomBgColor:"linear-gradient(180deg, #49B6A4 0%, #2D8A7A 100%)"},LID:{url:"assets/ui/gift_lid.png",name:"lid",value:"2.023.000",treasureTextColor:"#700B9F",treasureBottomBgColor:"linear-gradient(180deg, #A36FCC 0%, #7A29C8 100%)"}},Ux=[{key:"868",type:"cash-868",name:"L\xec x\xec 868 VN\u0110",url:"assets/ui/gift_cash.png",value:"868"},{key:"2023",type:"cash-2023",name:"L\xec x\xec 2.023 VN\u0110",url:"assets/ui/gift_cash.png",value:"2.023"},{key:"6868",type:"cash-6868",name:"L\xec x\xec 6.868 VN\u0110",url:"assets/ui/gift_cash.png",value:"6.868"},{key:"10k",type:"cash-10k",name:"L\xec x\xec 10.000 VN\u0110",url:"assets/ui/gift_cash.png",value:"10.000"},{key:"20k",type:"cash-20k",name:"L\xec x\xec 20.000 VN\u0110",url:"assets/ui/gift_cash.png",value:"20.000"},{key:"50k",type:"cash-50k",name:"L\xec x\xec 50.000 VN\u0110",url:"assets/ui/gift_cash.png",value:"50.000"},{key:"100k",type:"cash-100k",name:"L\xec x\xec 100.000 VN\u0110",url:"assets/ui/gift_cash.png",value:"100.000"},{key:"phat1",type:"phat-1",name:"M\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t",url:"assets/ui/gift_phat_1.png"},{key:"phat2",type:"phat-2",name:"M\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t",url:"assets/ui/gift_phat_2.png"},{key:"phat3",type:"phat-3",name:"M\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t",url:"assets/ui/gift_phat_3.png"},{key:"phat4",type:"phat-4",name:"M\u1ea3nh gh\xe9p Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t",url:"assets/ui/gift_phat_4.png"},{key:"lynkid",type:"lynkid",name:"Voucher LynkID",url:"assets/ui/gift_lid.png"},{key:"tai",type:"tai",name:"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - T\xe0i",url:"assets/ui/gift_tvt.png"},{key:"loc",type:"loc",name:"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - L\u1ed9c",url:"assets/ui/gift_tvl.png"},{key:"tvp",type:"tvp",name:"L\xec x\xec Th\u1ecbnh V\u01b0\u1ee3ng - Ph\xe1t",url:"assets/ui/gift_tvp.png"}],Vx="assets/ui/moc.png",Gx=["gifts","puzzlePieces"],zx=function(){var e=Fg().t,t=wn(),n=ht((0,r.useState)(1),2),i=n[0],a=n[1],s=xn(),o=ht((0,r.useState)([]),2),u=o[0],c=o[1],h=ht((0,r.useState)([]),2),f=h[0],d=h[1],p=(0,r.useCallback)($n(Xn().mark((function e(){var t;return Xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa.get("/api/rewards/");case 2:(t=e.sent).data&&t.data.rewards&&(c(t.data.rewards.map((function(e){var t,n,i,r,a,s,o,u;return"phat-4"===e.type&&e.combined?l(l({},nx),{},{_id:Date.now(),name:null===(a=Ux.find((function(e){return"tvp"===e.type})))||void 0===a?void 0:a.name,url:null===(s=Ux.find((function(e){return"tvp"===e.type})))||void 0===s?void 0:s.url,key:null===(o=Ux.find((function(e){return"tvp"===e.type})))||void 0===o?void 0:o.key,value:null===(u=Ux.find((function(e){return"tvp"===e.type})))||void 0===u?void 0:u.value,type:"tvp",issued:!1}):l(l({},e),{},{name:null===(t=Ux.find((function(t){return t.type===e.type})))||void 0===t?void 0:t.name,url:null===(n=Ux.find((function(t){return t.type===e.type})))||void 0===n?void 0:n.url,key:null===(i=Ux.find((function(t){return t.type===e.type})))||void 0===i?void 0:i.key,value:null===(r=Ux.find((function(t){return t.type===e.type})))||void 0===r?void 0:r.value})})).filter((function(e){return!["phat1","phat2","phat3","phat4"].includes(e.key)}))),d(tx.map((function(e){var t,n,i,r,a,s,o,u;return"phat-4"===e.type&&e.combined?l(l({},nx),{},{_id:"1212",name:null===(a=Ux.find((function(e){return"tvp"===e.type})))||void 0===a?void 0:a.name,url:null===(s=Ux.find((function(e){return"tvp"===e.type})))||void 0===s?void 0:s.url,key:null===(o=Ux.find((function(e){return"tvp"===e.type})))||void 0===o?void 0:o.key,value:null===(u=Ux.find((function(e){return"tvp"===e.type})))||void 0===u?void 0:u.value,type:"tvp",issued:!1}):l(l({},e),{},{name:null===(t=Ux.find((function(t){return t.type===e.type})))||void 0===t?void 0:t.name,url:null===(n=Ux.find((function(t){return t.type===e.type})))||void 0===n?void 0:n.url,key:null===(i=Ux.find((function(t){return t.type===e.type})))||void 0===i?void 0:i.key,value:null===(r=Ux.find((function(t){return t.type===e.type})))||void 0===r?void 0:r.value})})).filter((function(e){return["phat1","phat2","phat3","phat4"].includes(e.key)&&!e.combined}))));case 4:case"end":return e.stop()}}),e)}))),[]);return(0,r.useEffect)((function(){p()}),[p]),(0,r.useEffect)((function(){var e,t=null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.tab;"number"===typeof t&&a(t)}),[s.state]),(0,ri.jsxs)("div",{className:tb,children:[(0,ri.jsx)("img",{src:"assets/ui/basket_bg.png",alt:"",className:nb}),(0,ri.jsx)("div",{className:Vn()(ob,"sg-bold"),children:e("basket.title")}),(0,ri.jsxs)("div",{className:lb,children:[(0,ri.jsx)("div",{className:ub,children:[1,2].map((function(t){return(0,ri.jsxs)(ai,{onClick:function(){return a(t)},title:"",className:cb,children:[(0,ri.jsx)("img",{src:i===t?"assets/ui/active_tab.png":"assets/ui/inactive_tab.png",className:ab,alt:"activeTab"}),(0,ri.jsx)("div",{className:i===t?Vn()(hb,"sg-bold"):Vn()(hb,"sg-regular"),children:e("basket.".concat(Gx[t-1]))}),i===t&&(0,ri.jsx)("img",{className:fb,src:Vx,alt:"moc"}),i===t&&(0,ri.jsx)("img",{className:db,src:Vx,alt:"moc"})]},t)}))}),1===i&&(0,ri.jsx)(ex,{rewards:u}),2===i&&(0,ri.jsx)(Dx,{rewards:f})]}),(0,ri.jsx)("div",{className:sb,children:(0,ri.jsxs)(ai,{onClick:function(){return t("/home")},title:"",className:ib,children:[(0,ri.jsx)("img",{src:"assets/ui/primary_btn.png",className:ab,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(rb,"sg-bold"),children:[e("rule.home")," "]})]})})]})},Wx="treasure_container__HWb+n",Hx="treasure_background__xcjnB",Yx="treasure_btn__nUYXe",Xx="treasure_btn_title__SCLVU",qx="treasure_btn_bg__KvOa9",$x="treasure_bottom__Duzp9",Kx="treasure_title__A9lL0",Qx="treasure_content__1YrlB",Zx="treasure_gifts__1nYzx",Jx="treasure_otherGift__ibbRi",ew="treasure_lixi__9LIsu",tw="treasure_otherRewards__iHXt8",nw="giftItem_itemContainer__1LTOE",iw="giftItem_giftImg__Qh4Ss",rw="giftItem_bigGiftImg__wHPeM",aw="giftItem_bottom__6CI6g",sw="giftItem_content__Jdzzf",ow="giftItem_value__Z-aEO",lw="giftItem_count__A-cPy",uw="giftItem_name__K7Fb2",cw="giftItem_text__IbTEp",hw=function(e){var t=e.code,n=e.count,i=e.url,r=e.name,a=e.value,s=e.t,o=e.treasureTextColor,l=e.treasureBottomBgColor;return(0,ri.jsxs)("div",{className:nw,children:[(0,ri.jsxs)("div",{className:sw,children:[(0,ri.jsx)("img",{src:i,alt:"gift_".concat(r),className:"TVP"===t?rw:iw}),(0,ri.jsxs)("div",{className:cw,children:[(0,ri.jsx)("div",{className:Vn()(uw,"sg-bold"),style:{color:o},children:s("gift.".concat(r))}),"LID"===t&&(0,ri.jsx)("div",{className:Vn()(ow,"sg-regular"),children:s("treasure.voucher")}),(0,ri.jsx)("div",{className:Vn()(ow,"sg-regular"),children:s("treasure.value",{value:a})})]})]}),(0,ri.jsx)("div",{className:Vn()(aw),style:{background:l},children:(0,ri.jsxs)("div",{className:Vn()(lw,"sg-regular"),children:[(0,ri.jsx)("div",{children:s("treasure.count")}),(0,ri.jsx)("div",{className:"sg-semibold",style:{marginLeft:3},children:n<10?"0".concat(n):n})]})})]})},fw=[{code:"TVP",count:3},{code:"TVL",count:6},{code:"TVT",count:8},{code:"LID",count:300}],dw=function(){var e=Fg().t,t=wn();return(0,ri.jsxs)("div",{className:Wx,children:[(0,ri.jsx)("img",{src:"assets/ui/treasure_bg.png",alt:"",className:Hx}),(0,ri.jsx)("div",{className:Vn()(Kx,"sg-bold"),children:e("treasure.title")}),(0,ri.jsxs)("div",{className:Qx,children:[(0,ri.jsx)("div",{className:Zx,children:fw.map((function(t){return(0,ri.jsx)(hw,l({code:t.code,count:t.count,t:e},jx[t.code]),t.code)}))}),(0,ri.jsxs)("div",{className:Jx,children:[(0,ri.jsx)("img",{alt:"lixi",src:"assets/ui/lixi.png",className:ew}),(0,ri.jsx)("div",{className:Vn()(tw,"sg-medium"),children:e("treasure.otherGifts")})]})]}),(0,ri.jsx)("div",{className:$x,children:(0,ri.jsxs)(ai,{onClick:function(){return t("/home")},title:"",className:Yx,children:[(0,ri.jsx)("img",{src:"assets/ui/primary_btn.png",className:qx,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(Xx,"sg-semibold"),children:[e("rule.home")," "]})]})})]})},pw="rule_container__OUnGJ",vw="rule_background__kYXVF",mw="rule_btn__C8tiw",gw="rule_btn_title__iD0lV",yw="rule_btn_bg__uhSrv",_w="rule_content__rBVbU",bw="rule_bottom__vlkiZ",xw="rule_ruleContent__vHshx",ww="rule_title__Bo48o",kw=function(){var e=Fg().t,t=wn();return(0,ri.jsxs)("div",{className:pw,children:[(0,ri.jsx)("img",{src:"assets/ui/main_bg.png",alt:"",className:vw}),(0,ri.jsx)("div",{className:Vn()(ww,"sg-bold"),children:e("rule.title")}),(0,ri.jsx)("div",{className:_w,children:(0,ri.jsx)("div",{className:Vn()(xw,"sg-regular"),children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever sinc Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever sinc Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged."})}),(0,ri.jsx)("div",{className:bw,children:(0,ri.jsxs)(ai,{onClick:function(){return t("/home")},title:"",className:mw,children:[(0,ri.jsx)("img",{src:"assets/ui/primary_btn.png",className:yw,alt:"back_btn"}),(0,ri.jsxs)("div",{className:Vn()(gw,"sg-bold"),children:[e("rule.home")," "]})]})})]})},Mw="noticeModal_container__oWpwM",Tw="noticeModal_closeButton__iyAgv",Sw="noticeModal_title__FzOeW",Aw={position:"absolute",bottom:"-20%"},Ew=function(e){var t=e.visible,n=e.onDismiss,i=e.notice;e.closeable;return(0,ri.jsx)(Si,{visible:t,onDismiss:n,zIndex:1e9,children:(0,ri.jsxs)("div",{className:Mw,style:{backgroundImage:"url(".concat("assets/ui/settings_popup.png",")")},children:[(0,ri.jsx)(ai,{title:"close",onClick:n,customStyle:Aw,children:(0,ri.jsx)("div",{className:Tw,style:{backgroundImage:"url(".concat("assets/ui/close.png",")")}})}),(0,ri.jsx)("div",{className:Vn()(Sw,"sg-semibold"),children:i})]})})},Lw=(0,r.createContext)({state:{visible:!1,notice:"",closeable:!0},setState:function(){}}),Cw=function(e){var t=e.children,n=ht((0,r.useState)({visible:!1,notice:"",closeable:!0}),2),i=n[0],a=n[1],s=(0,r.useMemo)((function(){return{state:i,setState:a}}),[i]);return(0,r.useEffect)((function(){var e=function(e){a(l({},e))};return Va.addListener(Wn,e),function(){Va.removeListener(Wn,e)}}),[]),(0,ri.jsxs)(Lw.Provider,{value:s,children:[t,(0,ri.jsx)(Ew,{visible:i.visible,notice:i.notice,closeable:i.closeable,onDismiss:function(){i.closeable&&a((function(e){return l(l({},e),{},{visible:!1,notice:""})}))}})]})};function Ow(){return(0,r.useEffect)((function(){var e=Ei();ii.setMusicEnable(e),ii.mute(Zn.MUSIC,!e);var t=Oi();ii.setSoundFxEnable(t),ii.mute(Zn.SOUND_FX,!t)}),[]),(0,r.useEffect)((function(){var e=function(){"visible"===document.visibilityState?(ii.setIsFocus(!0),ii.muteAll(!1)):(ii.setIsFocus(!1),ii.muteAll(!0))};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),(0,ri.jsx)(Bn,{children:(0,ri.jsx)(f_,{i18n:h_,children:(0,ri.jsx)(rs,{children:(0,ri.jsxs)(Nn,{children:[(0,ri.jsx)(Pn,{path:"*",element:(0,ri.jsx)(On,{to:"/"})}),(0,ri.jsx)(Pn,{path:"/game",element:(0,ri.jsx)(gg,{})}),(0,ri.jsx)(Pn,{path:"/",element:(0,ri.jsx)(iy,{})}),(0,ri.jsx)(Pn,{path:"/home",element:(0,ri.jsx)(A_,{})}),(0,ri.jsx)(Pn,{path:"/mission",element:(0,ri.jsx)(eb,{})}),(0,ri.jsx)(Pn,{path:"/basket",element:(0,ri.jsx)(zx,{})}),(0,ri.jsx)(Pn,{path:"/treasure",element:(0,ri.jsx)(dw,{})}),(0,ri.jsx)(Pn,{path:"/rule",element:(0,ri.jsx)(kw,{})})]})})})})}var Pw=function(){return(0,ri.jsx)(st,{store:Bg,children:(0,ri.jsx)(Cw,{children:(0,ri.jsx)(Ow,{})})})},Iw=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Nw(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}Yn(),window.addEventListener("resize",(function(){Yn()})),e.createRoot(document.getElementById("root")).render((0,ri.jsx)(Pw,{})),t(),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");console.log(t),Iw?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Nw(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Nw(t,e)}))}}()}()}();